
;
;
/*! jquery-1.8.2.min.js */ 
;
;
/*! jQuery v1.8.2 jquery.com | jquery.org/license */
(function(a,b){function G(a){var b=F[a]={};return p.each(a.split(s),function(a,c){b[c]=!0}),b}function J(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(I,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:+d+""===d?+d:H.test(d)?p.parseJSON(d):d}catch(f){}p.data(a,c,d)}else d=b}return d}function K(a){var b;for(b in a){if(b==="data"&&p.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function ba(){return!1}function bb(){return!0}function bh(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function bi(a,b){do a=a[b];while(a&&a.nodeType!==1);return a}function bj(a,b,c){b=b||0;if(p.isFunction(b))return p.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return p.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=p.grep(a,function(a){return a.nodeType===1});if(be.test(b))return p.filter(b,d,!c);b=p.filter(b,d)}return p.grep(a,function(a,d){return p.inArray(a,b)>=0===c})}function bk(a){var b=bl.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function bC(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function bD(a,b){if(b.nodeType!==1||!p.hasData(a))return;var c,d,e,f=p._data(a),g=p._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;d<e;d++)p.event.add(b,c,h[c][d])}g.data&&(g.data=p.extend({},g.data))}function bE(a,b){var c;if(b.nodeType!==1)return;b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?(b.parentNode&&(b.outerHTML=a.outerHTML),p.support.html5Clone&&a.innerHTML&&!p.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):c==="input"&&bv.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text),b.removeAttribute(p.expando)}function bF(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bG(a){bv.test(a.type)&&(a.defaultChecked=a.checked)}function bY(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=bW.length;while(e--){b=bW[e]+c;if(b in a)return b}return d}function bZ(a,b){return a=b||a,p.css(a,"display")==="none"||!p.contains(a.ownerDocument,a)}function b$(a,b){var c,d,e=[],f=0,g=a.length;for(;f<g;f++){c=a[f];if(!c.style)continue;e[f]=p._data(c,"olddisplay"),b?(!e[f]&&c.style.display==="none"&&(c.style.display=""),c.style.display===""&&bZ(c)&&(e[f]=p._data(c,"olddisplay",cc(c.nodeName)))):(d=bH(c,"display"),!e[f]&&d!=="none"&&p._data(c,"olddisplay",d))}for(f=0;f<g;f++){c=a[f];if(!c.style)continue;if(!b||c.style.display==="none"||c.style.display==="")c.style.display=b?e[f]||"":"none"}return a}function b_(a,b,c){var d=bP.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function ca(a,b,c,d){var e=c===(d?"border":"content")?4:b==="width"?1:0,f=0;for(;e<4;e+=2)c==="margin"&&(f+=p.css(a,c+bV[e],!0)),d?(c==="content"&&(f-=parseFloat(bH(a,"padding"+bV[e]))||0),c!=="margin"&&(f-=parseFloat(bH(a,"border"+bV[e]+"Width"))||0)):(f+=parseFloat(bH(a,"padding"+bV[e]))||0,c!=="padding"&&(f+=parseFloat(bH(a,"border"+bV[e]+"Width"))||0));return f}function cb(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=!0,f=p.support.boxSizing&&p.css(a,"boxSizing")==="border-box";if(d<=0||d==null){d=bH(a,b);if(d<0||d==null)d=a.style[b];if(bQ.test(d))return d;e=f&&(p.support.boxSizingReliable||d===a.style[b]),d=parseFloat(d)||0}return d+ca(a,b,c||(f?"border":"content"),e)+"px"}function cc(a){if(bS[a])return bS[a];var b=p("<"+a+">").appendTo(e.body),c=b.css("display");b.remove();if(c==="none"||c===""){bI=e.body.appendChild(bI||p.extend(e.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!bJ||!bI.createElement)bJ=(bI.contentWindow||bI.contentDocument).document,bJ.write("<!doctype html><html><body>"),bJ.close();b=bJ.body.appendChild(bJ.createElement(a)),c=bH(b,"display"),e.body.removeChild(bI)}return bS[a]=c,c}function ci(a,b,c,d){var e;if(p.isArray(b))p.each(b,function(b,e){c||ce.test(a)?d(a,e):ci(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&p.type(b)==="object")for(e in b)ci(a+"["+e+"]",b[e],c,d);else d(a,b)}function cz(a){return function(b,c){typeof b!="string"&&(c=b,b="*");var d,e,f,g=b.toLowerCase().split(s),h=0,i=g.length;if(p.isFunction(c))for(;h<i;h++)d=g[h],f=/^\+/.test(d),f&&(d=d.substr(1)||"*"),e=a[d]=a[d]||[],e[f?"unshift":"push"](c)}}function cA(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h,i=a[f],j=0,k=i?i.length:0,l=a===cv;for(;j<k&&(l||!h);j++)h=i[j](c,d,e),typeof h=="string"&&(!l||g[h]?h=b:(c.dataTypes.unshift(h),h=cA(a,c,d,e,h,g)));return(l||!h)&&!g["*"]&&(h=cA(a,c,d,e,"*",g)),h}function cB(a,c){var d,e,f=p.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((f[d]?a:e||(e={}))[d]=c[d]);e&&p.extend(!0,a,e)}function cC(a,c,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(f in k)f in d&&(c[k[f]]=d[f]);while(j[0]==="*")j.shift(),e===b&&(e=a.mimeType||c.getResponseHeader("content-type"));if(e)for(f in i)if(i[f]&&i[f].test(e)){j.unshift(f);break}if(j[0]in d)g=j[0];else{for(f in d){if(!j[0]||a.converters[f+" "+j[0]]){g=f;break}h||(h=f)}g=g||h}if(g)return g!==j[0]&&j.unshift(g),d[g]}function cD(a,b){var c,d,e,f,g=a.dataTypes.slice(),h=g[0],i={},j=0;a.dataFilter&&(b=a.dataFilter(b,a.dataType));if(g[1])for(c in a.converters)i[c.toLowerCase()]=a.converters[c];for(;e=g[++j];)if(e!=="*"){if(h!=="*"&&h!==e){c=i[h+" "+e]||i["* "+e];if(!c)for(d in i){f=d.split(" ");if(f[1]===e){c=i[h+" "+f[0]]||i["* "+f[0]];if(c){c===!0?c=i[d]:i[d]!==!0&&(e=f[0],g.splice(j--,0,e));break}}}if(c!==!0)if(c&&a["throws"])b=c(b);else try{b=c(b)}catch(k){return{state:"parsererror",error:c?k:"No conversion from "+h+" to "+e}}}h=e}return{state:"success",data:b}}function cL(){try{return new a.XMLHttpRequest}catch(b){}}function cM(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function cU(){return setTimeout(function(){cN=b},0),cN=p.now()}function cV(a,b){p.each(b,function(b,c){var d=(cT[b]||[]).concat(cT["*"]),e=0,f=d.length;for(;e<f;e++)if(d[e].call(a,b,c))return})}function cW(a,b,c){var d,e=0,f=0,g=cS.length,h=p.Deferred().always(function(){delete i.elem}),i=function(){var b=cN||cU(),c=Math.max(0,j.startTime+j.duration-b),d=1-(c/j.duration||0),e=0,f=j.tweens.length;for(;e<f;e++)j.tweens[e].run(d);return h.notifyWith(a,[j,d,c]),d<1&&f?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:p.extend({},b),opts:p.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:cN||cU(),duration:c.duration,tweens:[],createTween:function(b,c,d){var e=p.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(e),e},stop:function(b){var c=0,d=b?j.tweens.length:0;for(;c<d;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;cX(k,j.opts.specialEasing);for(;e<g;e++){d=cS[e].call(j,a,k,j.opts);if(d)return d}return cV(j,k),p.isFunction(j.opts.start)&&j.opts.start.call(a,j),p.fx.timer(p.extend(i,{anim:j,queue:j.opts.queue,elem:a})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function cX(a,b){var c,d,e,f,g;for(c in a){d=p.camelCase(c),e=b[d],f=a[c],p.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=p.cssHooks[d];if(g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}}function cY(a,b,c){var d,e,f,g,h,i,j,k,l=this,m=a.style,n={},o=[],q=a.nodeType&&bZ(a);c.queue||(j=p._queueHooks(a,"fx"),j.unqueued==null&&(j.unqueued=0,k=j.empty.fire,j.empty.fire=function(){j.unqueued||k()}),j.unqueued++,l.always(function(){l.always(function(){j.unqueued--,p.queue(a,"fx").length||j.empty.fire()})})),a.nodeType===1&&("height"in b||"width"in b)&&(c.overflow=[m.overflow,m.overflowX,m.overflowY],p.css(a,"display")==="inline"&&p.css(a,"float")==="none"&&(!p.support.inlineBlockNeedsLayout||cc(a.nodeName)==="inline"?m.display="inline-block":m.zoom=1)),c.overflow&&(m.overflow="hidden",p.support.shrinkWrapBlocks||l.done(function(){m.overflow=c.overflow[0],m.overflowX=c.overflow[1],m.overflowY=c.overflow[2]}));for(d in b){f=b[d];if(cP.exec(f)){delete b[d];if(f===(q?"hide":"show"))continue;o.push(d)}}g=o.length;if(g){h=p._data(a,"fxshow")||p._data(a,"fxshow",{}),q?p(a).show():l.done(function(){p(a).hide()}),l.done(function(){var b;p.removeData(a,"fxshow",!0);for(b in n)p.style(a,b,n[b])});for(d=0;d<g;d++)e=o[d],i=l.createTween(e,q?h[e]:0),n[e]=h[e]||p.style(a,e),e in h||(h[e]=i.start,q&&(i.end=i.start,i.start=e==="width"||e==="height"?1:0))}}function cZ(a,b,c,d,e){return new cZ.prototype.init(a,b,c,d,e)}function c$(a,b){var c,d={height:a},e=0;b=b?1:0;for(;e<4;e+=2-b)c=bV[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function da(a){return p.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}var c,d,e=a.document,f=a.location,g=a.navigator,h=a.jQuery,i=a.$,j=Array.prototype.push,k=Array.prototype.slice,l=Array.prototype.indexOf,m=Object.prototype.toString,n=Object.prototype.hasOwnProperty,o=String.prototype.trim,p=function(a,b){return new p.fn.init(a,b,c)},q=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,r=/\S/,s=/\s+/,t=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,x=/(?:^|:|,)(?:\s*\[)+/g,y=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,z=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,A=/^-ms-/,B=/-([\da-z])/gi,C=function(a,b){return(b+"").toUpperCase()},D=function(){e.addEventListener?(e.removeEventListener("DOMContentLoaded",D,!1),p.ready()):e.readyState==="complete"&&(e.detachEvent("onreadystatechange",D),p.ready())},E={};p.fn=p.prototype={constructor:p,init:function(a,c,d){var f,g,h,i;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(typeof a=="string"){a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?f=[null,a,null]:f=u.exec(a);if(f&&(f[1]||!c)){if(f[1])return c=c instanceof p?c[0]:c,i=c&&c.nodeType?c.ownerDocument||c:e,a=p.parseHTML(f[1],i,!0),v.test(f[1])&&p.isPlainObject(c)&&this.attr.call(a,c,!0),p.merge(this,a);g=e.getElementById(f[2]);if(g&&g.parentNode){if(g.id!==f[2])return d.find(a);this.length=1,this[0]=g}return this.context=e,this.selector=a,this}return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a)}return p.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),p.makeArray(a,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return k.call(this)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=p.merge(this.constructor(),a);return d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")"),d},each:function(a,b){return p.each(this,a,b)},ready:function(a){return p.ready.promise().done(a),this},eq:function(a){return a=+a,a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(k.apply(this,arguments),"slice",k.call(arguments).join(","))},map:function(a){return this.pushStack(p.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:j,sort:[].sort,splice:[].splice},p.fn.init.prototype=p.fn,p.extend=p.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;typeof h=="boolean"&&(k=h,h=arguments[1]||{},i=2),typeof h!="object"&&!p.isFunction(h)&&(h={}),j===i&&(h=this,--i);for(;i<j;i++)if((a=arguments[i])!=null)for(c in a){d=h[c],e=a[c];if(h===e)continue;k&&e&&(p.isPlainObject(e)||(f=p.isArray(e)))?(f?(f=!1,g=d&&p.isArray(d)?d:[]):g=d&&p.isPlainObject(d)?d:{},h[c]=p.extend(k,g,e)):e!==b&&(h[c]=e)}return h},p.extend({noConflict:function(b){return a.$===p&&(a.$=i),b&&a.jQuery===p&&(a.jQuery=h),p},isReady:!1,readyWait:1,holdReady:function(a){a?p.readyWait++:p.ready(!0)},ready:function(a){if(a===!0?--p.readyWait:p.isReady)return;if(!e.body)return setTimeout(p.ready,1);p.isReady=!0;if(a!==!0&&--p.readyWait>0)return;d.resolveWith(e,[p]),p.fn.trigger&&p(e).trigger("ready").off("ready")},isFunction:function(a){return p.type(a)==="function"},isArray:Array.isArray||function(a){return p.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):E[m.call(a)]||"object"},isPlainObject:function(a){if(!a||p.type(a)!=="object"||a.nodeType||p.isWindow(a))return!1;try{if(a.constructor&&!n.call(a,"constructor")&&!n.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||n.call(a,d)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){var d;return!a||typeof a!="string"?null:(typeof b=="boolean"&&(c=b,b=0),b=b||e,(d=v.exec(a))?[b.createElement(d[1])]:(d=p.buildFragment([a],b,c?null:[]),p.merge([],(d.cacheable?p.clone(d.fragment):d.fragment).childNodes)))},parseJSON:function(b){if(!b||typeof b!="string")return null;b=p.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(w.test(b.replace(y,"@").replace(z,"]").replace(x,"")))return(new Function("return "+b))();p.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||typeof c!="string")return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&p.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&r.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(A,"ms-").replace(B,C)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,c,d){var e,f=0,g=a.length,h=g===b||p.isFunction(a);if(d){if(h){for(e in a)if(c.apply(a[e],d)===!1)break}else for(;f<g;)if(c.apply(a[f++],d)===!1)break}else if(h){for(e in a)if(c.call(a[e],e,a[e])===!1)break}else for(;f<g;)if(c.call(a[f],f,a[f++])===!1)break;return a},trim:o&&!o.call("﻿ ")?function(a){return a==null?"":o.call(a)}:function(a){return a==null?"":(a+"").replace(t,"")},makeArray:function(a,b){var c,d=b||[];return a!=null&&(c=p.type(a),a.length==null||c==="string"||c==="function"||c==="regexp"||p.isWindow(a)?j.call(d,a):p.merge(d,a)),d},inArray:function(a,b,c){var d;if(b){if(l)return l.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if(typeof d=="number")for(;f<d;f++)a[e++]=c[f];else while(c[f]!==b)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;c=!!c;for(;f<g;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,c,d){var e,f,g=[],h=0,i=a.length,j=a instanceof p||i!==b&&typeof i=="number"&&(i>0&&a[0]&&a[i-1]||i===0||p.isArray(a));if(j)for(;h<i;h++)e=c(a[h],h,d),e!=null&&(g[g.length]=e);else for(f in a)e=c(a[f],f,d),e!=null&&(g[g.length]=e);return g.concat.apply([],g)},guid:1,proxy:function(a,c){var d,e,f;return typeof c=="string"&&(d=a[c],c=a,a=d),p.isFunction(a)?(e=k.call(arguments,2),f=function(){return a.apply(c,e.concat(k.call(arguments)))},f.guid=a.guid=a.guid||p.guid++,f):b},access:function(a,c,d,e,f,g,h){var i,j=d==null,k=0,l=a.length;if(d&&typeof d=="object"){for(k in d)p.access(a,c,k,d[k],1,g,e);f=1}else if(e!==b){i=h===b&&p.isFunction(e),j&&(i?(i=c,c=function(a,b,c){return i.call(p(a),c)}):(c.call(a,e),c=null));if(c)for(;k<l;k++)c(a[k],d,i?e.call(a[k],k,c(a[k],d)):e,h);f=1}return f?a:j?c.call(a):l?c(a[0],d):g},now:function(){return(new Date).getTime()}}),p.ready.promise=function(b){if(!d){d=p.Deferred();if(e.readyState==="complete")setTimeout(p.ready,1);else if(e.addEventListener)e.addEventListener("DOMContentLoaded",D,!1),a.addEventListener("load",p.ready,!1);else{e.attachEvent("onreadystatechange",D),a.attachEvent("onload",p.ready);var c=!1;try{c=a.frameElement==null&&e.documentElement}catch(f){}c&&c.doScroll&&function g(){if(!p.isReady){try{c.doScroll("left")}catch(a){return setTimeout(g,50)}p.ready()}}()}}return d.promise(b)},p.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){E["[object "+b+"]"]=b.toLowerCase()}),c=p(e);var F={};p.Callbacks=function(a){a=typeof a=="string"?F[a]||G(a):p.extend({},a);var c,d,e,f,g,h,i=[],j=!a.once&&[],k=function(b){c=a.memory&&b,d=!0,h=f||0,f=0,g=i.length,e=!0;for(;i&&h<g;h++)if(i[h].apply(b[0],b[1])===!1&&a.stopOnFalse){c=!1;break}e=!1,i&&(j?j.length&&k(j.shift()):c?i=[]:l.disable())},l={add:function(){if(i){var b=i.length;(function d(b){p.each(b,function(b,c){var e=p.type(c);e==="function"&&(!a.unique||!l.has(c))?i.push(c):c&&c.length&&e!=="string"&&d(c)})})(arguments),e?g=i.length:c&&(f=b,k(c))}return this},remove:function(){return i&&p.each(arguments,function(a,b){var c;while((c=p.inArray(b,i,c))>-1)i.splice(c,1),e&&(c<=g&&g--,c<=h&&h--)}),this},has:function(a){return p.inArray(a,i)>-1},empty:function(){return i=[],this},disable:function(){return i=j=c=b,this},disabled:function(){return!i},lock:function(){return j=b,c||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return b=b||[],b=[a,b.slice?b.slice():b],i&&(!d||j)&&(e?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},p.extend({Deferred:function(a){var b=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return p.Deferred(function(c){p.each(b,function(b,d){var f=d[0],g=a[b];e[d[1]](p.isFunction(g)?function(){var a=g.apply(this,arguments);a&&p.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f+"With"](this===e?c:this,[a])}:c[f])}),a=null}).promise()},promise:function(a){return a!=null?p.extend(a,d):d}},e={};return d.pipe=d.then,p.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[a^1][2].disable,b[2][2].lock),e[f[0]]=g.fire,e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=k.call(arguments),d=c.length,e=d!==1||a&&p.isFunction(a.promise)?d:0,f=e===1?a:p.Deferred(),g=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?k.call(arguments):d,c===h?f.notifyWith(b,c):--e||f.resolveWith(b,c)}},h,i,j;if(d>1){h=new Array(d),i=new Array(d),j=new Array(d);for(;b<d;b++)c[b]&&p.isFunction(c[b].promise)?c[b].promise().done(g(b,j,c)).fail(f.reject).progress(g(b,i,h)):--e}return e||f.resolveWith(j,c),f.promise()}}),p.support=function(){var b,c,d,f,g,h,i,j,k,l,m,n=e.createElement("div");n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=n.getElementsByTagName("*"),d=n.getElementsByTagName("a")[0],d.style.cssText="top:1px;float:left;opacity:.5";if(!c||!c.length)return{};f=e.createElement("select"),g=f.appendChild(e.createElement("option")),h=n.getElementsByTagName("input")[0],b={leadingWhitespace:n.firstChild.nodeType===3,tbody:!n.getElementsByTagName("tbody").length,htmlSerialize:!!n.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:h.value==="on",optSelected:g.selected,getSetAttribute:n.className!=="t",enctype:!!e.createElement("form").enctype,html5Clone:e.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",boxModel:e.compatMode==="CSS1Compat",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},h.checked=!0,b.noCloneChecked=h.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!g.disabled;try{delete n.test}catch(o){b.deleteExpando=!1}!n.addEventListener&&n.attachEvent&&n.fireEvent&&(n.attachEvent("onclick",m=function(){b.noCloneEvent=!1}),n.cloneNode(!0).fireEvent("onclick"),n.detachEvent("onclick",m)),h=e.createElement("input"),h.value="t",h.setAttribute("type","radio"),b.radioValue=h.value==="t",h.setAttribute("checked","checked"),h.setAttribute("name","t"),n.appendChild(h),i=e.createDocumentFragment(),i.appendChild(n.lastChild),b.checkClone=i.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=h.checked,i.removeChild(h),i.appendChild(n);if(n.attachEvent)for(k in{submit:!0,change:!0,focusin:!0})j="on"+k,l=j in n,l||(n.setAttribute(j,"return;"),l=typeof n[j]=="function"),b[k+"Bubbles"]=l;return p(function(){var c,d,f,g,h="padding:0;margin:0;border:0;display:block;overflow:hidden;",i=e.getElementsByTagName("body")[0];if(!i)return;c=e.createElement("div"),c.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",i.insertBefore(c,i.firstChild),d=e.createElement("div"),c.appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=d.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",l=f[0].offsetHeight===0,f[0].style.display="",f[1].style.display="none",b.reliableHiddenOffsets=l&&f[0].offsetHeight===0,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=d.offsetWidth===4,b.doesNotIncludeMarginInBodyOffset=i.offsetTop!==1,a.getComputedStyle&&(b.pixelPosition=(a.getComputedStyle(d,null)||{}).top!=="1%",b.boxSizingReliable=(a.getComputedStyle(d,null)||{width:"4px"}).width==="4px",g=e.createElement("div"),g.style.cssText=d.style.cssText=h,g.style.marginRight=g.style.width="0",d.style.width="1px",d.appendChild(g),b.reliableMarginRight=!parseFloat((a.getComputedStyle(g,null)||{}).marginRight)),typeof d.style.zoom!="undefined"&&(d.innerHTML="",d.style.cssText=h+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=d.offsetWidth===3,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div></div>",d.firstChild.style.width="5px",b.shrinkWrapBlocks=d.offsetWidth!==3,c.style.zoom=1),i.removeChild(c),c=d=f=g=null}),i.removeChild(n),c=d=f=g=h=i=n=null,b}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,I=/([A-Z])/g;p.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(p.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?p.cache[a[p.expando]]:a[p.expando],!!a&&!K(a)},data:function(a,c,d,e){if(!p.acceptData(a))return;var f,g,h=p.expando,i=typeof c=="string",j=a.nodeType,k=j?p.cache:a,l=j?a[h]:a[h]&&h;if((!l||!k[l]||!e&&!k[l].data)&&i&&d===b)return;l||(j?a[h]=l=p.deletedIds.pop()||p.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=p.noop));if(typeof c=="object"||typeof c=="function")e?k[l]=p.extend(k[l],c):k[l].data=p.extend(k[l].data,c);return f=k[l],e||(f.data||(f.data={}),f=f.data),d!==b&&(f[p.camelCase(c)]=d),i?(g=f[c],g==null&&(g=f[p.camelCase(c)])):g=f,g},removeData:function(a,b,c){if(!p.acceptData(a))return;var d,e,f,g=a.nodeType,h=g?p.cache:a,i=g?a[p.expando]:p.expando;if(!h[i])return;if(b){d=c?h[i]:h[i].data;if(d){p.isArray(b)||(b in d?b=[b]:(b=p.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,f=b.length;e<f;e++)delete d[b[e]];if(!(c?K:p.isEmptyObject)(d))return}}if(!c){delete h[i].data;if(!K(h[i]))return}g?p.cleanData([a],!0):p.support.deleteExpando||h!=h.window?delete h[i]:h[i]=null},_data:function(a,b,c){return p.data(a,b,c,!0)},acceptData:function(a){var b=a.nodeName&&p.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),p.fn.extend({data:function(a,c){var d,e,f,g,h,i=this[0],j=0,k=null;if(a===b){if(this.length){k=p.data(i);if(i.nodeType===1&&!p._data(i,"parsedAttrs")){f=i.attributes;for(h=f.length;j<h;j++)g=f[j].name,g.indexOf("data-")||(g=p.camelCase(g.substring(5)),J(i,g,k[g]));p._data(i,"parsedAttrs",!0)}}return k}return typeof a=="object"?this.each(function(){p.data(this,a)}):(d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!",p.access(this,function(c){if(c===b)return k=this.triggerHandler("getData"+e,[d[0]]),k===b&&i&&(k=p.data(i,a),k=J(i,a,k)),k===b&&d[1]?this.data(d[0]):k;d[1]=c,this.each(function(){var b=p(this);b.triggerHandler("setData"+e,d),p.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1))},removeData:function(a){return this.each(function(){p.removeData(this,a)})}}),p.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=p._data(a,b),c&&(!d||p.isArray(c)?d=p._data(a,b,p.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=p.queue(a,b),d=c.length,e=c.shift(),f=p._queueHooks(a,b),g=function(){p.dequeue(a,b)};e==="inprogress"&&(e=c.shift(),d--),e&&(b==="fx"&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return p._data(a,c)||p._data(a,c,{empty:p.Callbacks("once memory").add(function(){p.removeData(a,b+"queue",!0),p.removeData(a,c,!0)})})}}),p.fn.extend({queue:function(a,c){var d=2;return typeof a!="string"&&(c=a,a="fx",d--),arguments.length<d?p.queue(this[0],a):c===b?this:this.each(function(){var b=p.queue(this,a,c);p._queueHooks(this,a),a==="fx"&&b[0]!=="inprogress"&&p.dequeue(this,a)})},dequeue:function(a){return this.each(function(){p.dequeue(this,a)})},delay:function(a,b){return a=p.fx?p.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=p.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};typeof a!="string"&&(c=a,a=b),a=a||"fx";while(h--)d=p._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var L,M,N,O=/[\t\r\n]/g,P=/\r/g,Q=/^(?:button|input)$/i,R=/^(?:button|input|object|select|textarea)$/i,S=/^a(?:rea|)$/i,T=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,U=p.support.getSetAttribute;p.fn.extend({attr:function(a,b){return p.access(this,p.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){p.removeAttr(this,a)})},prop:function(a,b){return p.access(this,p.prop,a,b,arguments.length>1)},removeProp:function(a){return a=p.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g,h;if(p.isFunction(a))return this.each(function(b){p(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(s);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{f=" "+e.className+" ";for(g=0,h=b.length;g<h;g++)f.indexOf(" "+b[g]+" ")<0&&(f+=b[g]+" ");e.className=p.trim(f)}}}return this},removeClass:function(a){var c,d,e,f,g,h,i;if(p.isFunction(a))return this.each(function(b){p(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(s);for(h=0,i=this.length;h<i;h++){e=this[h];if(e.nodeType===1&&e.className){d=(" "+e.className+" ").replace(O," ");for(f=0,g=c.length;f<g;f++)while(d.indexOf(" "+c[f]+" ")>=0)d=d.replace(" "+c[f]+" "," ");e.className=a?p.trim(d):""}}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";return p.isFunction(a)?this.each(function(c){p(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string"){var e,f=0,g=p(this),h=b,i=a.split(s);while(e=i[f++])h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&p._data(this,"__className__",this.className),this.className=this.className||a===!1?"":p._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(O," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];if(!arguments.length){if(f)return c=p.valHooks[f.type]||p.valHooks[f.nodeName.toLowerCase()],c&&"get"in c&&(d=c.get(f,"value"))!==b?d:(d=f.value,typeof d=="string"?d.replace(P,""):d==null?"":d);return}return e=p.isFunction(a),this.each(function(d){var f,g=p(this);if(this.nodeType!==1)return;e?f=a.call(this,d,g.val()):f=a,f==null?f="":typeof f=="number"?f+="":p.isArray(f)&&(f=p.map(f,function(a){return a==null?"":a+""})),c=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,f,"value")===b)this.value=f})}}),p.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,f=a.selectedIndex,g=[],h=a.options,i=a.type==="select-one";if(f<0)return null;c=i?f:0,d=i?f+1:h.length;for(;c<d;c++){e=h[c];if(e.selected&&(p.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!p.nodeName(e.parentNode,"optgroup"))){b=p(e).val();if(i)return b;g.push(b)}}return i&&!g.length&&h.length?p(h[f]).val():g},set:function(a,b){var c=p.makeArray(b);return p(a).find("option").each(function(){this.selected=p.inArray(p(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attrFn:{},attr:function(a,c,d,e){var f,g,h,i=a.nodeType;if(!a||i===3||i===8||i===2)return;if(e&&p.isFunction(p.fn[c]))return p(a)[c](d);if(typeof a.getAttribute=="undefined")return p.prop(a,c,d);h=i!==1||!p.isXMLDoc(a),h&&(c=c.toLowerCase(),g=p.attrHooks[c]||(T.test(c)?M:L));if(d!==b){if(d===null){p.removeAttr(a,c);return}return g&&"set"in g&&h&&(f=g.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d)}return g&&"get"in g&&h&&(f=g.get(a,c))!==null?f:(f=a.getAttribute(c),f===null?b:f)},removeAttr:function(a,b){var c,d,e,f,g=0;if(b&&a.nodeType===1){d=b.split(s);for(;g<d.length;g++)e=d[g],e&&(c=p.propFix[e]||e,f=T.test(e),f||p.attr(a,e,""),a.removeAttribute(U?e:c),f&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(Q.test(a.nodeName)&&a.parentNode)p.error("type property can't be changed");else if(!p.support.radioValue&&b==="radio"&&p.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}},value:{get:function(a,b){return L&&p.nodeName(a,"button")?L.get(a,b):b in a?a.value:null},set:function(a,b,c){if(L&&p.nodeName(a,"button"))return L.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(!a||h===3||h===8||h===2)return;return g=h!==1||!p.isXMLDoc(a),g&&(c=p.propFix[c]||c,f=p.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&(e=f.get(a,c))!==null?e:a[c]},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):R.test(a.nodeName)||S.test(a.nodeName)&&a.href?0:b}}}}),M={get:function(a,c){var d,e=p.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;return b===!1?p.removeAttr(a,c):(d=p.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase())),c}},U||(N={name:!0,id:!0,coords:!0},L=p.valHooks.button={get:function(a,c){var d;return d=a.getAttributeNode(c),d&&(N[c]?d.value!=="":d.specified)?d.value:b},set:function(a,b,c){var d=a.getAttributeNode(c);return d||(d=e.createAttribute(c),a.setAttributeNode(d)),d.value=b+""}},p.each(["width","height"],function(a,b){p.attrHooks[b]=p.extend(p.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})}),p.attrHooks.contenteditable={get:L.get,set:function(a,b,c){b===""&&(b="false"),L.set(a,b,c)}}),p.support.hrefNormalized||p.each(["href","src","width","height"],function(a,c){p.attrHooks[c]=p.extend(p.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),p.support.style||(p.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=b+""}}),p.support.optSelected||(p.propHooks.selected=p.extend(p.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),p.support.enctype||(p.propFix.enctype="encoding"),p.support.checkOn||p.each(["radio","checkbox"],function(){p.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]=p.extend(p.valHooks[this],{set:function(a,b){if(p.isArray(b))return a.checked=p.inArray(p(a).val(),b)>=0}})});var V=/^(?:textarea|input|select)$/i,W=/^([^\.]*|)(?:\.(.+)|)$/,X=/(?:^|\s)hover(\.\S+|)\b/,Y=/^key/,Z=/^(?:mouse|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=function(a){return p.event.special.hover?a:a.replace(X,"mouseenter$1 mouseleave$1")};p.event={add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,q,r;if(a.nodeType===3||a.nodeType===8||!c||!d||!(g=p._data(a)))return;d.handler&&(o=d,d=o.handler,f=o.selector),d.guid||(d.guid=p.guid++),i=g.events,i||(g.events=i={}),h=g.handle,h||(g.handle=h=function(a){return typeof p!="undefined"&&(!a||p.event.triggered!==a.type)?p.event.dispatch.apply(h.elem,arguments):b},h.elem=a),c=p.trim(_(c)).split(" ");for(j=0;j<c.length;j++){k=W.exec(c[j])||[],l=k[1],m=(k[2]||"").split(".").sort(),r=p.event.special[l]||{},l=(f?r.delegateType:r.bindType)||l,r=p.event.special[l]||{},n=p.extend({type:l,origType:k[1],data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&p.expr.match.needsContext.test(f),namespace:m.join(".")},o),q=i[l];if(!q){q=i[l]=[],q.delegateCount=0;if(!r.setup||r.setup.call(a,e,m,h)===!1)a.addEventListener?a.addEventListener(l,h,!1):a.attachEvent&&a.attachEvent("on"+l,h)}r.add&&(r.add.call(a,n),n.handler.guid||(n.handler.guid=d.guid)),f?q.splice(q.delegateCount++,0,n):q.push(n),p.event.global[l]=!0}a=null},global:{},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,q,r=p.hasData(a)&&p._data(a);if(!r||!(m=r.events))return;b=p.trim(_(b||"")).split(" ");for(f=0;f<b.length;f++){g=W.exec(b[f])||[],h=i=g[1],j=g[2];if(!h){for(h in m)p.event.remove(a,h+b[f],c,d,!0);continue}n=p.event.special[h]||{},h=(d?n.delegateType:n.bindType)||h,o=m[h]||[],k=o.length,j=j?new RegExp("(^|\\.)"+j.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(l=0;l<o.length;l++)q=o[l],(e||i===q.origType)&&(!c||c.guid===q.guid)&&(!j||j.test(q.namespace))&&(!d||d===q.selector||d==="**"&&q.selector)&&(o.splice(l--,1),q.selector&&o.delegateCount--,n.remove&&n.remove.call(a,q));o.length===0&&k!==o.length&&((!n.teardown||n.teardown.call(a,j,r.handle)===!1)&&p.removeEvent(a,h,r.handle),delete m[h])}p.isEmptyObject(m)&&(delete r.handle,p.removeData(a,"events",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,f,g){if(!f||f.nodeType!==3&&f.nodeType!==8){var h,i,j,k,l,m,n,o,q,r,s=c.type||c,t=[];if($.test(s+p.event.triggered))return;s.indexOf("!")>=0&&(s=s.slice(0,-1),i=!0),s.indexOf(".")>=0&&(t=s.split("."),s=t.shift(),t.sort());if((!f||p.event.customEvent[s])&&!p.event.global[s])return;c=typeof c=="object"?c[p.expando]?c:new p.Event(s,c):new p.Event(s),c.type=s,c.isTrigger=!0,c.exclusive=i,c.namespace=t.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+t.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=s.indexOf(":")<0?"on"+s:"";if(!f){h=p.cache;for(j in h)h[j].events&&h[j].events[s]&&p.event.trigger(c,d,h[j].handle.elem,!0);return}c.result=b,c.target||(c.target=f),d=d!=null?p.makeArray(d):[],d.unshift(c),n=p.event.special[s]||{};if(n.trigger&&n.trigger.apply(f,d)===!1)return;q=[[f,n.bindType||s]];if(!g&&!n.noBubble&&!p.isWindow(f)){r=n.delegateType||s,k=$.test(r+s)?f:f.parentNode;for(l=f;k;k=k.parentNode)q.push([k,r]),l=k;l===(f.ownerDocument||e)&&q.push([l.defaultView||l.parentWindow||a,r])}for(j=0;j<q.length&&!c.isPropagationStopped();j++)k=q[j][0],c.type=q[j][1],o=(p._data(k,"events")||{})[c.type]&&p._data(k,"handle"),o&&o.apply(k,d),o=m&&k[m],o&&p.acceptData(k)&&o.apply&&o.apply(k,d)===!1&&c.preventDefault();return c.type=s,!g&&!c.isDefaultPrevented()&&(!n._default||n._default.apply(f.ownerDocument,d)===!1)&&(s!=="click"||!p.nodeName(f,"a"))&&p.acceptData(f)&&m&&f[s]&&(s!=="focus"&&s!=="blur"||c.target.offsetWidth!==0)&&!p.isWindow(f)&&(l=f[m],l&&(f[m]=null),p.event.triggered=s,f[s](),p.event.triggered=b,l&&(f[m]=l)),c.result}return},dispatch:function(c){c=p.event.fix(c||a.event);var d,e,f,g,h,i,j,l,m,n,o=(p._data(this,"events")||{})[c.type]||[],q=o.delegateCount,r=k.call(arguments),s=!c.exclusive&&!c.namespace,t=p.event.special[c.type]||{},u=[];r[0]=c,c.delegateTarget=this;if(t.preDispatch&&t.preDispatch.call(this,c)===!1)return;if(q&&(!c.button||c.type!=="click"))for(f=c.target;f!=this;f=f.parentNode||this)if(f.disabled!==!0||c.type!=="click"){h={},j=[];for(d=0;d<q;d++)l=o[d],m=l.selector,h[m]===b&&(h[m]=l.needsContext?p(m,this).index(f)>=0:p.find(m,this,null,[f]).length),h[m]&&j.push(l);j.length&&u.push({elem:f,matches:j})}o.length>q&&u.push({elem:this,matches:o.slice(q)});for(d=0;d<u.length&&!c.isPropagationStopped();d++){i=u[d],c.currentTarget=i.elem;for(e=0;e<i.matches.length&&!c.isImmediatePropagationStopped();e++){l=i.matches[e];if(s||!c.namespace&&!l.namespace||c.namespace_re&&c.namespace_re.test(l.namespace))c.data=l.data,c.handleObj=l,g=((p.event.special[l.origType]||{}).handle||l.handler).apply(i.elem,r),g!==b&&(c.result=g,g===!1&&(c.preventDefault(),c.stopPropagation()))}}return t.postDispatch&&t.postDispatch.call(this,c),c.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,f,g,h=c.button,i=c.fromElement;return a.pageX==null&&c.clientX!=null&&(d=a.target.ownerDocument||e,f=d.documentElement,g=d.body,a.pageX=c.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?c.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0),a}},fix:function(a){if(a[p.expando])return a;var b,c,d=a,f=p.event.fixHooks[a.type]||{},g=f.props?this.props.concat(f.props):this.props;a=p.Event(d);for(b=g.length;b;)c=g[--b],a[c]=d[c];return a.target||(a.target=d.srcElement||e),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,f.filter?f.filter(a,d):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){p.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=p.extend(new p.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?p.event.trigger(e,null,b):p.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},p.event.handle=p.event.dispatch,p.removeEvent=e.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]=="undefined"&&(a[d]=null),a.detachEvent(d,c))},p.Event=function(a,b){if(this instanceof p.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?bb:ba):this.type=a,b&&p.extend(this,b),this.timeStamp=a&&a.timeStamp||p.now(),this[p.expando]=!0;else return new p.Event(a,b)},p.Event.prototype={preventDefault:function(){this.isDefaultPrevented=bb;var a=this.originalEvent;if(!a)return;a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=bb;var a=this.originalEvent;if(!a)return;a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()},isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba},p.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){p.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj,g=f.selector;if(!e||e!==d&&!p.contains(d,e))a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b;return c}}}),p.support.submitBubbles||(p.event.special.submit={setup:function(){if(p.nodeName(this,"form"))return!1;p.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=p.nodeName(c,"input")||p.nodeName(c,"button")?c.form:b;d&&!p._data(d,"_submit_attached")&&(p.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),p._data(d,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&p.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(p.nodeName(this,"form"))return!1;p.event.remove(this,"._submit")}}),p.support.changeBubbles||(p.event.special.change={setup:function(){if(V.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")p.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),p.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),p.event.simulate("change",this,a,!0)});return!1}p.event.add(this,"beforeactivate._change",function(a){var b=a.target;V.test(b.nodeName)&&!p._data(b,"_change_attached")&&(p.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&p.event.simulate("change",this.parentNode,a,!0)}),p._data(b,"_change_attached",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){return p.event.remove(this,"._change"),!V.test(this.nodeName)}}),p.support.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){p.event.simulate(b,a.target,p.event.fix(a),!0)};p.event.special[b]={setup:function(){c++===0&&e.addEventListener(a,d,!0)},teardown:function(){--c===0&&e.removeEventListener(a,d,!0)}}}),p.fn.extend({on:function(a,c,d,e,f){var g,h;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(h in a)this.on(h,c,d,a[h],f);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=ba;else if(!e)return this;return f===1&&(g=e,e=function(a){return p().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=p.guid++)),this.each(function(){p.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,p(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if(typeof a=="object"){for(f in a)this.off(f,c,a[f]);return this}if(c===!1||typeof c=="function")d=c,c=b;return d===!1&&(d=ba),this.each(function(){p.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){return p(this.context).on(a,this.selector,b,c),this},die:function(a,b){return p(this.context).off(a,this.selector||"**",b),this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length===1?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){p.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return p.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||p.guid++,d=0,e=function(c){var e=(p._data(this,"lastToggle"+a.guid)||0)%d;return p._data(this,"lastToggle"+a.guid,e+1),c.preventDefault(),b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){p.fn[b]=function(a,c){return c==null&&(c=a,a=null),arguments.length>0?this.on(b,null,a,c):this.trigger(b)},Y.test(b)&&(p.event.fixHooks[b]=p.event.keyHooks),Z.test(b)&&(p.event.fixHooks[b]=p.event.mouseHooks)}),function(a,b){function bc(a,b,c,d){c=c||[],b=b||r;var e,f,i,j,k=b.nodeType;if(!a||typeof a!="string")return c;if(k!==1&&k!==9)return[];i=g(b);if(!i&&!d)if(e=P.exec(a))if(j=e[1]){if(k===9){f=b.getElementById(j);if(!f||!f.parentNode)return c;if(f.id===j)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(j))&&h(b,f)&&f.id===j)return c.push(f),c}else{if(e[2])return w.apply(c,x.call(b.getElementsByTagName(a),0)),c;if((j=e[3])&&_&&b.getElementsByClassName)return w.apply(c,x.call(b.getElementsByClassName(j),0)),c}return bp(a.replace(L,"$1"),b,c,d,i)}function bd(a){return function(b){var c=b.nodeName.toLowerCase();return c==="input"&&b.type===a}}function be(a){return function(b){var c=b.nodeName.toLowerCase();return(c==="input"||c==="button")&&b.type===a}}function bf(a){return z(function(b){return b=+b,z(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function bg(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}function bh(a,b){var c,d,f,g,h,i,j,k=C[o][a];if(k)return b?0:k.slice(0);h=a,i=[],j=e.preFilter;while(h){if(!c||(d=M.exec(h)))d&&(h=h.slice(d[0].length)),i.push(f=[]);c=!1;if(d=N.exec(h))f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=d[0].replace(L," ");for(g in e.filter)(d=W[g].exec(h))&&(!j[g]||(d=j[g](d,r,!0)))&&(f.push(c=new q(d.shift())),h=h.slice(c.length),c.type=g,c.matches=d);if(!c)break}return b?h.length:h?bc.error(a):C(a,i).slice(0)}function bi(a,b,d){var e=b.dir,f=d&&b.dir==="parentNode",g=u++;return b.first?function(b,c,d){while(b=b[e])if(f||b.nodeType===1)return a(b,c,d)}:function(b,d,h){if(!h){var i,j=t+" "+g+" ",k=j+c;while(b=b[e])if(f||b.nodeType===1){if((i=b[o])===k)return b.sizset;if(typeof i=="string"&&i.indexOf(j)===0){if(b.sizset)return b}else{b[o]=k;if(a(b,d,h))return b.sizset=!0,b;b.sizset=!1}}}else while(b=b[e])if(f||b.nodeType===1)if(a(b,d,h))return b}}function bj(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function bk(a,b,c,d,e){var f,g=[],h=0,i=a.length,j=b!=null;for(;h<i;h++)if(f=a[h])if(!c||c(f,d,e))g.push(f),j&&b.push(h);return g}function bl(a,b,c,d,e,f){return d&&!d[o]&&(d=bl(d)),e&&!e[o]&&(e=bl(e,f)),z(function(f,g,h,i){if(f&&e)return;var j,k,l,m=[],n=[],o=g.length,p=f||bo(b||"*",h.nodeType?[h]:h,[],f),q=a&&(f||!b)?bk(p,m,a,h,i):p,r=c?e||(f?a:o||d)?[]:g:q;c&&c(q,r,h,i);if(d){l=bk(r,n),d(l,[],h,i),j=l.length;while(j--)if(k=l[j])r[n[j]]=!(q[n[j]]=k)}if(f){j=a&&r.length;while(j--)if(k=r[j])f[m[j]]=!(g[m[j]]=k)}else r=bk(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):w.apply(g,r)})}function bm(a){var b,c,d,f=a.length,g=e.relative[a[0].type],h=g||e.relative[" "],i=g?1:0,j=bi(function(a){return a===b},h,!0),k=bi(function(a){return y.call(b,a)>-1},h,!0),m=[function(a,c,d){return!g&&(d||c!==l)||((b=c).nodeType?j(a,c,d):k(a,c,d))}];for(;i<f;i++)if(c=e.relative[a[i].type])m=[bi(bj(m),c)];else{c=e.filter[a[i].type].apply(null,a[i].matches);if(c[o]){d=++i;for(;d<f;d++)if(e.relative[a[d].type])break;return bl(i>1&&bj(m),i>1&&a.slice(0,i-1).join("").replace(L,"$1"),c,i<d&&bm(a.slice(i,d)),d<f&&bm(a=a.slice(d)),d<f&&a.join(""))}m.push(c)}return bj(m)}function bn(a,b){var d=b.length>0,f=a.length>0,g=function(h,i,j,k,m){var n,o,p,q=[],s=0,u="0",x=h&&[],y=m!=null,z=l,A=h||f&&e.find.TAG("*",m&&i.parentNode||i),B=t+=z==null?1:Math.E;y&&(l=i!==r&&i,c=g.el);for(;(n=A[u])!=null;u++){if(f&&n){for(o=0;p=a[o];o++)if(p(n,i,j)){k.push(n);break}y&&(t=B,c=++g.el)}d&&((n=!p&&n)&&s--,h&&x.push(n))}s+=u;if(d&&u!==s){for(o=0;p=b[o];o++)p(x,q,i,j);if(h){if(s>0)while(u--)!x[u]&&!q[u]&&(q[u]=v.call(k));q=bk(q)}w.apply(k,q),y&&!h&&q.length>0&&s+b.length>1&&bc.uniqueSort(k)}return y&&(t=B,l=z),x};return g.el=0,d?z(g):g}function bo(a,b,c,d){var e=0,f=b.length;for(;e<f;e++)bc(a,b[e],c,d);return c}function bp(a,b,c,d,f){var g,h,j,k,l,m=bh(a),n=m.length;if(!d&&m.length===1){h=m[0]=m[0].slice(0);if(h.length>2&&(j=h[0]).type==="ID"&&b.nodeType===9&&!f&&e.relative[h[1].type]){b=e.find.ID(j.matches[0].replace(V,""),b,f)[0];if(!b)return c;a=a.slice(h.shift().length)}for(g=W.POS.test(a)?-1:h.length-1;g>=0;g--){j=h[g];if(e.relative[k=j.type])break;if(l=e.find[k])if(d=l(j.matches[0].replace(V,""),R.test(h[0].type)&&b.parentNode||b,f)){h.splice(g,1),a=d.length&&h.join("");if(!a)return w.apply(c,x.call(d,0)),c;break}}}return i(a,m)(d,b,f,c,R.test(a)),c}function bq(){}var c,d,e,f,g,h,i,j,k,l,m=!0,n="undefined",o=("sizcache"+Math.random()).replace(".",""),q=String,r=a.document,s=r.documentElement,t=0,u=0,v=[].pop,w=[].push,x=[].slice,y=[].indexOf||function(a){var b=0,c=this.length;for(;b<c;b++)if(this[b]===a)return b;return-1},z=function(a,b){return a[o]=b==null||b,a},A=function(){var a={},b=[];return z(function(c,d){return b.push(c)>e.cacheLength&&delete a[b.shift()],a[c]=d},a)},B=A(),C=A(),D=A(),E="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",G=F.replace("w","w#"),H="([*^$|!~]?=)",I="\\["+E+"*("+F+")"+E+"*(?:"+H+E+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+G+")|)|)"+E+"*\\]",J=":("+F+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+I+")|[^:]|\\\\.)*|.*))\\)|)",K=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+E+"*((?:-\\d)?\\d*)"+E+"*\\)|)(?=[^-]|$)",L=new RegExp("^"+E+"+|((?:^|[^\\\\])(?:\\\\.)*)"+E+"+$","g"),M=new RegExp("^"+E+"*,"+E+"*"),N=new RegExp("^"+E+"*([\\x20\\t\\r\\n\\f>+~])"+E+"*"),O=new RegExp(J),P=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,Q=/^:not/,R=/[\x20\t\r\n\f]*[+~]/,S=/:not\($/,T=/h\d/i,U=/input|select|textarea|button/i,V=/\\(?!\\)/g,W={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),NAME:new RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+J),POS:new RegExp(K,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+E+"*(even|odd|(([+-]|)(\\d*)n|)"+E+"*(?:([+-]|)"+E+"*(\\d+)|))"+E+"*\\)|)","i"),needsContext:new RegExp("^"+E+"*[>+~]|"+K,"i")},X=function(a){var b=r.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}},Y=X(function(a){return a.appendChild(r.createComment("")),!a.getElementsByTagName("*").length}),Z=X(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==n&&a.firstChild.getAttribute("href")==="#"}),$=X(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return b!=="boolean"&&b!=="string"}),_=X(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",a.getElementsByClassName("e").length===2)}),ba=X(function(a){a.id=o+0,a.innerHTML="<a name='"+o+"'></a><div name='"+o+"'></div>",s.insertBefore(a,s.firstChild);var b=r.getElementsByName&&r.getElementsByName(o).length===2+r.getElementsByName(o+0).length;return d=!r.getElementById(o),s.removeChild(a),b});try{x.call(s.childNodes,0)[0].nodeType}catch(bb){x=function(a){var b,c=[];for(;b=this[a];a++)c.push(b);return c}}bc.matches=function(a,b){return bc(a,null,null,b)},bc.matchesSelector=function(a,b){return bc(b,null,null,[a]).length>0},f=bc.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(e===1||e===9||e===11){if(typeof a.textContent=="string")return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=f(a)}else if(e===3||e===4)return a.nodeValue}else for(;b=a[d];d++)c+=f(b);return c},g=bc.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?b.nodeName!=="HTML":!1},h=bc.contains=s.contains?function(a,b){var c=a.nodeType===9?a.documentElement:a,d=b&&b.parentNode;return a===d||!!(d&&d.nodeType===1&&c.contains&&c.contains(d))}:s.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){while(b=b.parentNode)if(b===a)return!0;return!1},bc.attr=function(a,b){var c,d=g(a);return d||(b=b.toLowerCase()),(c=e.attrHandle[b])?c(a):d||$?a.getAttribute(b):(c=a.getAttributeNode(b),c?typeof a[b]=="boolean"?a[b]?b:null:c.specified?c.value:null:null)},e=bc.selectors={cacheLength:50,createPseudo:z,match:W,attrHandle:Z?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:d?function(a,b,c){if(typeof b.getElementById!==n&&!c){var d=b.getElementById(a);return d&&d.parentNode?[d]:[]}}:function(a,c,d){if(typeof c.getElementById!==n&&!d){var e=c.getElementById(a);return e?e.id===a||typeof e.getAttributeNode!==n&&e.getAttributeNode("id").value===a?[e]:b:[]}},TAG:Y?function(a,b){if(typeof b.getElementsByTagName!==n)return b.getElementsByTagName(a)}:function(a,b){var c=b.getElementsByTagName(a);if(a==="*"){var d,e=[],f=0;for(;d=c[f];f++)d.nodeType===1&&e.push(d);return e}return c},NAME:ba&&function(a,b){if(typeof b.getElementsByName!==n)return b.getElementsByName(name)},CLASS:_&&function(a,b,c){if(typeof b.getElementsByClassName!==n&&!c)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(V,""),a[3]=(a[4]||a[5]||"").replace(V,""),a[2]==="~="&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),a[1]==="nth"?(a[2]||bc.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):2*(a[2]==="even"||a[2]==="odd")),a[4]=+(a[6]+a[7]||a[2]==="odd")):a[2]&&bc.error(a[0]),a},PSEUDO:function(a){var b,c;if(W.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])O.test(b)&&(c=bh(b,!0))&&(c=b.indexOf(")",b.length-c)-b.length)&&(b=b.slice(0,c),a[0]=a[0].slice(0,c)),a[2]=b;return a.slice(0,3)}},filter:{ID:d?function(a){return a=a.replace(V,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(V,""),function(b){var c=typeof b.getAttributeNode!==n&&b.getAttributeNode("id");return c&&c.value===a}},TAG:function(a){return a==="*"?function(){return!0}:(a=a.replace(V,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=B[o][a];return b||(b=B(a,new RegExp("(^|"+E+")"+a+"("+E+"|$)"))),function(a){return b.test(a.className||typeof a.getAttribute!==n&&a.getAttribute("class")||"")}},ATTR:function(a,b,c){return function(d,e){var f=bc.attr(d,a);return f==null?b==="!=":b?(f+="",b==="="?f===c:b==="!="?f!==c:b==="^="?c&&f.indexOf(c)===0:b==="*="?c&&f.indexOf(c)>-1:b==="$="?c&&f.substr(f.length-c.length)===c:b==="~="?(" "+f+" ").indexOf(c)>-1:b==="|="?f===c||f.substr(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d){return a==="nth"?function(a){var b,e,f=a.parentNode;if(c===1&&d===0)return!0;if(f){e=0;for(b=f.firstChild;b;b=b.nextSibling)if(b.nodeType===1){e++;if(a===b)break}}return e-=d,e===c||e%c===0&&e/c>=0}:function(b){var c=b;switch(a){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(a==="first")return!0;c=b;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0}}},PSEUDO:function(a,b){var c,d=e.pseudos[a]||e.setFilters[a.toLowerCase()]||bc.error("unsupported pseudo: "+a);return d[o]?d(b):d.length>1?(c=[a,a,"",b],e.setFilters.hasOwnProperty(a.toLowerCase())?z(function(a,c){var e,f=d(a,b),g=f.length;while(g--)e=y.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:z(function(a){var b=[],c=[],d=i(a.replace(L,"$1"));return d[o]?z(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)if(f=g[h])a[h]=!(b[h]=f)}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:z(function(a){return function(b){return bc(a,b).length>0}}),contains:z(function(a){return function(b){return(b.textContent||b.innerText||f(b)).indexOf(a)>-1}}),enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&!!a.checked||b==="option"&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},parent:function(a){return!e.pseudos.empty(a)},empty:function(a){var b;a=a.firstChild;while(a){if(a.nodeName>"@"||(b=a.nodeType)===3||b===4)return!1;a=a.nextSibling}return!0},header:function(a){return T.test(a.nodeName)},text:function(a){var b,c;return a.nodeName.toLowerCase()==="input"&&(b=a.type)==="text"&&((c=a.getAttribute("type"))==null||c.toLowerCase()===b)},radio:bd("radio"),checkbox:bd("checkbox"),file:bd("file"),password:bd("password"),image:bd("image"),submit:be("submit"),reset:be("reset"),button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&a.type==="button"||b==="button"},input:function(a){return U.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:bf(function(a,b,c){return[0]}),last:bf(function(a,b,c){return[b-1]}),eq:bf(function(a,b,c){return[c<0?c+b:c]}),even:bf(function(a,b,c){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:bf(function(a,b,c){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:bf(function(a,b,c){for(var d=c<0?c+b:c;--d>=0;)a.push(d);return a}),gt:bf(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},j=s.compareDocumentPosition?function(a,b){return a===b?(k=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return k=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,h=b.parentNode,i=g;if(g===h)return bg(a,b);if(!g)return-1;if(!h)return 1;while(i)e.unshift(i),i=i.parentNode;i=h;while(i)f.unshift(i),i=i.parentNode;c=e.length,d=f.length;for(var j=0;j<c&&j<d;j++)if(e[j]!==f[j])return bg(e[j],f[j]);return j===c?bg(a,f[j],-1):bg(e[j],b,1)},[0,0].sort(j),m=!k,bc.uniqueSort=function(a){var b,c=1;k=m,a.sort(j);if(k)for(;b=a[c];c++)b===a[c-1]&&a.splice(c--,1);return a},bc.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},i=bc.compile=function(a,b){var c,d=[],e=[],f=D[o][a];if(!f){b||(b=bh(a)),c=b.length;while(c--)f=bm(b[c]),f[o]?d.push(f):e.push(f);f=D(a,bn(e,d))}return f},r.querySelectorAll&&function(){var a,b=bp,c=/'|\\/g,d=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,e=[":focus"],f=[":active",":focus"],h=s.matchesSelector||s.mozMatchesSelector||s.webkitMatchesSelector||s.oMatchesSelector||s.msMatchesSelector;X(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||e.push("\\["+E+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||e.push(":checked")}),X(function(a){a.innerHTML="<p test=''></p>",a.querySelectorAll("[test^='']").length&&e.push("[*^$]="+E+"*(?:\"\"|'')"),a.innerHTML="<input type='hidden'/>",a.querySelectorAll(":enabled").length||e.push(":enabled",":disabled")}),e=new RegExp(e.join("|")),bp=function(a,d,f,g,h){if(!g&&!h&&(!e||!e.test(a))){var i,j,k=!0,l=o,m=d,n=d.nodeType===9&&a;if(d.nodeType===1&&d.nodeName.toLowerCase()!=="object"){i=bh(a),(k=d.getAttribute("id"))?l=k.replace(c,"\\$&"):d.setAttribute("id",l),l="[id='"+l+"'] ",j=i.length;while(j--)i[j]=l+i[j].join("");m=R.test(a)&&d.parentNode||d,n=i.join(",")}if(n)try{return w.apply(f,x.call(m.querySelectorAll(n),0)),f}catch(p){}finally{k||d.removeAttribute("id")}}return b(a,d,f,g,h)},h&&(X(function(b){a=h.call(b,"div");try{h.call(b,"[test!='']:sizzle"),f.push("!=",J)}catch(c){}}),f=new RegExp(f.join("|")),bc.matchesSelector=function(b,c){c=c.replace(d,"='$1']");if(!g(b)&&!f.test(c)&&(!e||!e.test(c)))try{var i=h.call(b,c);if(i||a||b.document&&b.document.nodeType!==11)return i}catch(j){}return bc(c,null,null,[b]).length>0})}(),e.pseudos.nth=e.pseudos.eq,e.filters=bq.prototype=e.pseudos,e.setFilters=new bq,bc.attr=p.attr,p.find=bc,p.expr=bc.selectors,p.expr[":"]=p.expr.pseudos,p.unique=bc.uniqueSort,p.text=bc.getText,p.isXMLDoc=bc.isXML,p.contains=bc.contains}(a);var bc=/Until$/,bd=/^(?:parents|prev(?:Until|All))/,be=/^.[^:#\[\.,]*$/,bf=p.expr.match.needsContext,bg={children:!0,contents:!0,next:!0,prev:!0};p.fn.extend({find:function(a){var b,c,d,e,f,g,h=this;if(typeof a!="string")return p(a).filter(function(){for(b=0,c=h.length;b<c;b++)if(p.contains(h[b],this))return!0});g=this.pushStack("","find",a);for(b=0,c=this.length;b<c;b++){d=g.length,p.find(a,this[b],g);if(b>0)for(e=d;e<g.length;e++)for(f=0;f<d;f++)if(g[f]===g[e]){g.splice(e--,1);break}}return g},has:function(a){var b,c=p(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(p.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(bj(this,a,!1),"not",a)},filter:function(a){return this.pushStack(bj(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?bf.test(a)?p(a,this.context).index(this[0])>=0:p.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c,d=0,e=this.length,f=[],g=bf.test(a)||typeof a!="string"?p(a,b||this.context):0;for(;d<e;d++){c=this[d];while(c&&c.ownerDocument&&c!==b&&c.nodeType!==11){if(g?g.index(c)>-1:p.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}}return f=f.length>1?p.unique(f):f,this.pushStack(f,"closest",a)},index:function(a){return a?typeof a=="string"?p.inArray(this[0],p(a)):p.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var c=typeof a=="string"?p(a,b):p.makeArray(a&&a.nodeType?[a]:a),d=p.merge(this.get(),c);return this.pushStack(bh(c[0])||bh(d[0])?d:p.unique(d))},addBack:function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}}),p.fn.andSelf=p.fn.addBack,p.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return p.dir(a,"parentNode")},parentsUntil:function(a,b,c){return p.dir(a,"parentNode",c)},next:function(a){return bi(a,"nextSibling")},prev:function(a){return bi(a,"previousSibling")},nextAll:function(a){return p.dir(a,"nextSibling")},prevAll:function(a){return p.dir(a,"previousSibling")},nextUntil:function(a,b,c){return p.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return p.dir(a,"previousSibling",c)},siblings:function(a){return p.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return p.sibling(a.firstChild)},contents:function(a){return p.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:p.merge([],a.childNodes)}},function(a,b){p.fn[a]=function(c,d){var e=p.map(this,b,c);return bc.test(a)||(d=c),d&&typeof d=="string"&&(e=p.filter(d,e)),e=this.length>1&&!bg[a]?p.unique(e):e,this.length>1&&bd.test(a)&&(e=e.reverse()),this.pushStack(e,a,k.call(arguments).join(","))}}),p.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),b.length===1?p.find.matchesSelector(b[0],a)?[b[0]]:[]:p.find.matches(a,b)},dir:function(a,c,d){var e=[],f=a[c];while(f&&f.nodeType!==9&&(d===b||f.nodeType!==1||!p(f).is(d)))f.nodeType===1&&e.push(f),f=f[c];return e},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var bl="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",bm=/ jQuery\d+="(?:null|\d+)"/g,bn=/^\s+/,bo=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bp=/<([\w:]+)/,bq=/<tbody/i,br=/<|&#?\w+;/,bs=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,bu=new RegExp("<(?:"+bl+")[\\s/>]","i"),bv=/^(?:checkbox|radio)$/,bw=/checked\s*(?:[^=]|=\s*.checked.)/i,bx=/\/(java|ecma)script/i,by=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,bz={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bA=bk(e),bB=bA.appendChild(e.createElement("div"));bz.optgroup=bz.option,bz.tbody=bz.tfoot=bz.colgroup=bz.caption=bz.thead,bz.th=bz.td,p.support.htmlSerialize||(bz._default=[1,"X<div>","</div>"]),p.fn.extend({text:function(a){return p.access(this,function(a){return a===b?p.text(this):this.empty().append((this[0]&&this[0].ownerDocument||e).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(p.isFunction(a))return this.each(function(b){p(this).wrapAll(a.call(this,b))});if(this[0]){var b=p(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return p.isFunction(a)?this.each(function(b){p(this).wrapInner(a.call(this,b))}):this.each(function(){var b=p(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=p.isFunction(a);return this.each(function(c){p(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(a,this),"before",this.selector)}},after:function(){if(!bh(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=p.clean(arguments);return this.pushStack(p.merge(this,a),"after",this.selector)}},remove:function(a,b){var c,d=0;for(;(c=this[d])!=null;d++)if(!a||p.filter(a,[c]).length)!b&&c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),p.cleanData([c])),c.parentNode&&c.parentNode.removeChild(c);return this},empty:function(){var a,b=0;for(;(a=this[b])!=null;b++){a.nodeType===1&&p.cleanData(a.getElementsByTagName("*"));while(a.firstChild)a.removeChild(a.firstChild)}return this},clone:function(a,b){return a=a==null?!1:a,b=b==null?a:b,this.map(function(){return p.clone(this,a,b)})},html:function(a){return p.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(bm,""):b;if(typeof a=="string"&&!bs.test(a)&&(p.support.htmlSerialize||!bu.test(a))&&(p.support.leadingWhitespace||!bn.test(a))&&!bz[(bp.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(bo,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(p.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return bh(this[0])?this.length?this.pushStack(p(p.isFunction(a)?a():a),"replaceWith",a):this:p.isFunction(a)?this.each(function(b){var c=p(this),d=c.html();c.replaceWith(a.call(this,b,d))}):(typeof a!="string"&&(a=p(a).detach()),this.each(function(){var b=this.nextSibling,c=this.parentNode;p(this).remove(),b?p(b).before(a):p(c).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){a=[].concat.apply([],a);var e,f,g,h,i=0,j=a[0],k=[],l=this.length;if(!p.support.checkClone&&l>1&&typeof j=="string"&&bw.test(j))return this.each(function(){p(this).domManip(a,c,d)});if(p.isFunction(j))return this.each(function(e){var f=p(this);a[0]=j.call(this,e,c?f.html():b),f.domManip(a,c,d)});if(this[0]){e=p.buildFragment(a,this,k),g=e.fragment,f=g.firstChild,g.childNodes.length===1&&(g=f);if(f){c=c&&p.nodeName(f,"tr");for(h=e.cacheable||l-1;i<l;i++)d.call(c&&p.nodeName(this[i],"table")?bC(this[i],"tbody"):this[i],i===h?g:p.clone(g,!0,!0))}g=f=null,k.length&&p.each(k,function(a,b){b.src?p.ajax?p.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):p.error("no ajax"):p.globalEval((b.text||b.textContent||b.innerHTML||"").replace(by,"")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),p.buildFragment=function(a,c,d){var f,g,h,i=a[0];return c=c||e,c=!c.nodeType&&c[0]||c,c=c.ownerDocument||c,a.length===1&&typeof i=="string"&&i.length<512&&c===e&&i.charAt(0)==="<"&&!bt.test(i)&&(p.support.checkClone||!bw.test(i))&&(p.support.html5Clone||!bu.test(i))&&(g=!0,f=p.fragments[i],h=f!==b),f||(f=c.createDocumentFragment(),p.clean(a,c,f,d),g&&(p.fragments[i]=h&&f)),{fragment:f,cacheable:g}},p.fragments={},p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){p.fn[a]=function(c){var d,e=0,f=[],g=p(c),h=g.length,i=this.length===1&&this[0].parentNode;if((i==null||i&&i.nodeType===11&&i.childNodes.length===1)&&h===1)return g[b](this[0]),this;for(;e<h;e++)d=(e>0?this.clone(!0):this).get(),p(g[e])[b](d),f=f.concat(d);return this.pushStack(f,a,g.selector)}}),p.extend({clone:function(a,b,c){var d,e,f,g;p.support.html5Clone||p.isXMLDoc(a)||!bu.test("<"+a.nodeName+">")?g=a.cloneNode(!0):(bB.innerHTML=a.outerHTML,bB.removeChild(g=bB.firstChild));if((!p.support.noCloneEvent||!p.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!p.isXMLDoc(a)){bE(a,g),d=bF(a),e=bF(g);for(f=0;d[f];++f)e[f]&&bE(d[f],e[f])}if(b){bD(a,g);if(c){d=bF(a),e=bF(g);for(f=0;d[f];++f)bD(d[f],e[f])}}return d=e=null,g},clean:function(a,b,c,d){var f,g,h,i,j,k,l,m,n,o,q,r,s=b===e&&bA,t=[];if(!b||typeof b.createDocumentFragment=="undefined")b=e;for(f=0;(h=a[f])!=null;f++){typeof h=="number"&&(h+="");if(!h)continue;if(typeof h=="string")if(!br.test(h))h=b.createTextNode(h);else{s=s||bk(b),l=b.createElement("div"),s.appendChild(l),h=h.replace(bo,"<$1></$2>"),i=(bp.exec(h)||["",""])[1].toLowerCase(),j=bz[i]||bz._default,k=j[0],l.innerHTML=j[1]+h+j[2];while(k--)l=l.lastChild;if(!p.support.tbody){m=bq.test(h),n=i==="table"&&!m?l.firstChild&&l.firstChild.childNodes:j[1]==="<table>"&&!m?l.childNodes:[];for(g=n.length-1;g>=0;--g)p.nodeName(n[g],"tbody")&&!n[g].childNodes.length&&n[g].parentNode.removeChild(n[g])}!p.support.leadingWhitespace&&bn.test(h)&&l.insertBefore(b.createTextNode(bn.exec(h)[0]),l.firstChild),h=l.childNodes,l.parentNode.removeChild(l)}h.nodeType?t.push(h):p.merge(t,h)}l&&(h=l=s=null);if(!p.support.appendChecked)for(f=0;(h=t[f])!=null;f++)p.nodeName(h,"input")?bG(h):typeof h.getElementsByTagName!="undefined"&&p.grep(h.getElementsByTagName("input"),bG);if(c){q=function(a){if(!a.type||bx.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):c.appendChild(a)};for(f=0;(h=t[f])!=null;f++)if(!p.nodeName(h,"script")||!q(h))c.appendChild(h),typeof h.getElementsByTagName!="undefined"&&(r=p.grep(p.merge([],h.getElementsByTagName("script")),q),t.splice.apply(t,[f+1,0].concat(r)),f+=r.length)}return t},cleanData:function(a,b){var c,d,e,f,g=0,h=p.expando,i=p.cache,j=p.support.deleteExpando,k=p.event.special;for(;(e=a[g])!=null;g++)if(b||p.acceptData(e)){d=e[h],c=d&&i[d];if(c){if(c.events)for(f in c.events)k[f]?p.event.remove(e,f):p.removeEvent(e,f,c.handle);i[d]&&(delete i[d],j?delete e[h]:e.removeAttribute?e.removeAttribute(h):e[h]=null,p.deletedIds.push(d))}}}}),function(){var a,b;p.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},a=p.uaMatch(g.userAgent),b={},a.browser&&(b[a.browser]=!0,b.version=a.version),b.chrome?b.webkit=!0:b.webkit&&(b.safari=!0),p.browser=b,p.sub=function(){function a(b,c){return new a.fn.init(b,c)}p.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function c(c,d){return d&&d instanceof p&&!(d instanceof a)&&(d=a(d)),p.fn.init.call(this,c,d,b)},a.fn.init.prototype=a.fn;var b=a(e);return a}}();var bH,bI,bJ,bK=/alpha\([^)]*\)/i,bL=/opacity=([^)]*)/,bM=/^(top|right|bottom|left)$/,bN=/^(none|table(?!-c[ea]).+)/,bO=/^margin/,bP=new RegExp("^("+q+")(.*)$","i"),bQ=new RegExp("^("+q+")(?!px)[a-z%]+$","i"),bR=new RegExp("^([-+])=("+q+")","i"),bS={},bT={position:"absolute",visibility:"hidden",display:"block"},bU={letterSpacing:0,fontWeight:400},bV=["Top","Right","Bottom","Left"],bW=["Webkit","O","Moz","ms"],bX=p.fn.toggle;p.fn.extend({css:function(a,c){return p.access(this,function(a,c,d){return d!==b?p.style(a,c,d):p.css(a,c)},a,c,arguments.length>1)},show:function(){return b$(this,!0)},hide:function(){return b$(this)},toggle:function(a,b){var c=typeof a=="boolean";return p.isFunction(a)&&p.isFunction(b)?bX.apply(this,arguments):this.each(function(){(c?a:bZ(this))?p(this).show():p(this).hide()})}}),p.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bH(a,"opacity");return c===""?"1":c}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":p.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!a||a.nodeType===3||a.nodeType===8||!a.style)return;var f,g,h,i=p.camelCase(c),j=a.style;c=p.cssProps[i]||(p.cssProps[i]=bY(j,i)),h=p.cssHooks[c]||p.cssHooks[i];if(d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];g=typeof d,g==="string"&&(f=bR.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(p.css(a,c)),g="number");if(d==null||g==="number"&&isNaN(d))return;g==="number"&&!p.cssNumber[i]&&(d+="px");if(!h||!("set"in h)||(d=h.set(a,d,e))!==b)try{j[c]=d}catch(k){}},css:function(a,c,d,e){var f,g,h,i=p.camelCase(c);return c=p.cssProps[i]||(p.cssProps[i]=bY(a.style,i)),h=p.cssHooks[c]||p.cssHooks[i],h&&"get"in h&&(f=h.get(a,!0,e)),f===b&&(f=bH(a,c)),f==="normal"&&c in bU&&(f=bU[c]),d||e!==b?(g=parseFloat(f),d||p.isNumeric(g)?g||0:f):f},swap:function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d}}),a.getComputedStyle?bH=function(b,c){var d,e,f,g,h=a.getComputedStyle(b,null),i=b.style;return h&&(d=h[c],d===""&&!p.contains(b.ownerDocument,b)&&(d=p.style(b,c)),bQ.test(d)&&bO.test(c)&&(e=i.width,f=i.minWidth,g=i.maxWidth,i.minWidth=i.maxWidth=i.width=d,d=h.width,i.width=e,i.minWidth=f,i.maxWidth=g)),d}:e.documentElement.currentStyle&&(bH=function(a,b){var c,d,e=a.currentStyle&&a.currentStyle[b],f=a.style;return e==null&&f&&f[b]&&(e=f[b]),bQ.test(e)&&!bM.test(b)&&(c=f.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),f.left=b==="fontSize"?"1em":e,e=f.pixelLeft+"px",f.left=c,d&&(a.runtimeStyle.left=d)),e===""?"auto":e}),p.each(["height","width"],function(a,b){p.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth===0&&bN.test(bH(a,"display"))?p.swap(a,bT,function(){return cb(a,b,d)}):cb(a,b,d)},set:function(a,c,d){return b_(a,c,d?ca(a,b,d,p.support.boxSizing&&p.css(a,"boxSizing")==="border-box"):0)}}}),p.support.opacity||(p.cssHooks.opacity={get:function(a,b){return bL.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=p.isNumeric(b)?"alpha(opacity="+b*100+")":"",f=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&p.trim(f.replace(bK,""))===""&&c.removeAttribute){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bK.test(f)?f.replace(bK,e):f+" "+e}}),p(function(){p.support.reliableMarginRight||(p.cssHooks.marginRight={get:function(a,b){return p.swap(a,{display:"inline-block"},function(){if(b)return bH(a,"marginRight")})}}),!p.support.pixelPosition&&p.fn.position&&p.each(["top","left"],function(a,b){p.cssHooks[b]={get:function(a,c){if(c){var d=bH(a,b);return bQ.test(d)?p(a).position()[b]+"px":d}}}})}),p.expr&&p.expr.filters&&(p.expr.filters.hidden=function(a){return a.offsetWidth===0&&a.offsetHeight===0||!p.support.reliableHiddenOffsets&&(a.style&&a.style.display||bH(a,"display"))==="none"},p.expr.filters.visible=function(a){return!p.expr.filters.hidden(a)}),p.each({margin:"",padding:"",border:"Width"},function(a,b){p.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bV[d]+b]=e[d]||e[d-2]||e[0];return f}},bO.test(a)||(p.cssHooks[a+b].set=b_)});var cd=/%20/g,ce=/\[\]$/,cf=/\r?\n/g,cg=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ch=/^(?:select|textarea)/i;p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?p.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||ch.test(this.nodeName)||cg.test(this.type))}).map(function(a,b){var c=p(this).val();return c==null?null:p.isArray(c)?p.map(c,function(a,c){return{name:b.name,value:a.replace(cf,"\r\n")}}):{name:b.name,value:c.replace(cf,"\r\n")}}).get()}}),p.param=function(a,c){var d,e=[],f=function(a,b){b=p.isFunction(b)?b():b==null?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=p.ajaxSettings&&p.ajaxSettings.traditional);if(p.isArray(a)||a.jquery&&!p.isPlainObject(a))p.each(a,function(){f(this.name,this.value)});else for(d in a)ci(d,a[d],c,f);return e.join("&").replace(cd,"+")};var cj,ck,cl=/#.*$/,cm=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,cn=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,co=/^(?:GET|HEAD)$/,cp=/^\/\//,cq=/\?/,cr=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cs=/([?&])_=[^&]*/,ct=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,cu=p.fn.load,cv={},cw={},cx=["*/"]+["*"];try{ck=f.href}catch(cy){ck=e.createElement("a"),ck.href="",ck=ck.href}cj=ct.exec(ck.toLowerCase())||[],p.fn.load=function(a,c,d){if(typeof a!="string"&&cu)return cu.apply(this,arguments);if(!this.length)return this;var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),p.isFunction(c)?(d=c,c=b):c&&typeof c=="object"&&(f="POST"),p.ajax({url:a,type:f,dataType:"html",data:c,complete:function(a,b){d&&h.each(d,g||[a.responseText,b,a])}}).done(function(a){g=arguments,h.html(e?p("<div>").append(a.replace(cr,"")).find(e):a)}),this},p.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){p.fn[b]=function(a){return this.on(b,a)}}),p.each(["get","post"],function(a,c){p[c]=function(a,d,e,f){return p.isFunction(d)&&(f=f||e,e=d,d=b),p.ajax({type:c,url:a,data:d,success:e,dataType:f})}}),p.extend({getScript:function(a,c){return p.get(a,b,c,"script")},getJSON:function(a,b,c){return p.get(a,b,c,"json")},ajaxSetup:function(a,b){return b?cB(a,p.ajaxSettings):(b=a,a=p.ajaxSettings),cB(a,b),a},ajaxSettings:{url:ck,isLocal:cn.test(cj[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":cx},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:cz(cv),ajaxTransport:cz(cw),ajax:function(a,c){function y(a,c,f,i){var k,s,t,u,w,y=c;if(v===2)return;v=2,h&&clearTimeout(h),g=b,e=i||"",x.readyState=a>0?4:0,f&&(u=cC(l,x,f));if(a>=200&&a<300||a===304)l.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(p.lastModified[d]=w),w=x.getResponseHeader("Etag"),w&&(p.etag[d]=w)),a===304?(y="notmodified",k=!0):(k=cD(l,u),y=k.state,s=k.data,t=k.error,k=!t);else{t=y;if(!y||a)y="error",a<0&&(a=0)}x.status=a,x.statusText=(c||y)+"",k?o.resolveWith(m,[s,y,x]):o.rejectWith(m,[x,y,t]),x.statusCode(r),r=b,j&&n.trigger("ajax"+(k?"Success":"Error"),[x,l,k?s:t]),q.fireWith(m,[x,y]),j&&(n.trigger("ajaxComplete",[x,l]),--p.active||p.event.trigger("ajaxStop"))}typeof a=="object"&&(c=a,a=b),c=c||{};var d,e,f,g,h,i,j,k,l=p.ajaxSetup({},c),m=l.context||l,n=m!==l&&(m.nodeType||m instanceof p)?p(m):p.event,o=p.Deferred(),q=p.Callbacks("once memory"),r=l.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,setRequestHeader:function(a,b){if(!v){var c=a.toLowerCase();a=u[c]=u[c]||a,t[a]=b}return this},getAllResponseHeaders:function(){return v===2?e:null},getResponseHeader:function(a){var c;if(v===2){if(!f){f={};while(c=cm.exec(e))f[c[1].toLowerCase()]=c[2]}c=f[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){return v||(l.mimeType=a),this},abort:function(a){return a=a||w,g&&g.abort(a),y(0,a),this}};o.promise(x),x.success=x.done,x.error=x.fail,x.complete=q.add,x.statusCode=function(a){if(a){var b;if(v<2)for(b in a)r[b]=[r[b],a[b]];else b=a[x.status],x.always(b)}return this},l.url=((a||l.url)+"").replace(cl,"").replace(cp,cj[1]+"//"),l.dataTypes=p.trim(l.dataType||"*").toLowerCase().split(s),l.crossDomain==null&&(i=ct.exec(l.url.toLowerCase())||!1,l.crossDomain=i&&i.join(":")+(i[3]?"":i[1]==="http:"?80:443)!==cj.join(":")+(cj[3]?"":cj[1]==="http:"?80:443)),l.data&&l.processData&&typeof l.data!="string"&&(l.data=p.param(l.data,l.traditional)),cA(cv,l,c,x);if(v===2)return x;j=l.global,l.type=l.type.toUpperCase(),l.hasContent=!co.test(l.type),j&&p.active++===0&&p.event.trigger("ajaxStart");if(!l.hasContent){l.data&&(l.url+=(cq.test(l.url)?"&":"?")+l.data,delete l.data),d=l.url;if(l.cache===!1){var z=p.now(),A=l.url.replace(cs,"$1_="+z);l.url=A+(A===l.url?(cq.test(l.url)?"&":"?")+"_="+z:"")}}(l.data&&l.hasContent&&l.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",l.contentType),l.ifModified&&(d=d||l.url,p.lastModified[d]&&x.setRequestHeader("If-Modified-Since",p.lastModified[d]),p.etag[d]&&x.setRequestHeader("If-None-Match",p.etag[d])),x.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+cx+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)x.setRequestHeader(k,l.headers[k]);if(!l.beforeSend||l.beforeSend.call(m,x,l)!==!1&&v!==2){w="abort";for(k in{success:1,error:1,complete:1})x[k](l[k]);g=cA(cw,l,c,x);if(!g)y(-1,"No Transport");else{x.readyState=1,j&&n.trigger("ajaxSend",[x,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){x.abort("timeout")},l.timeout));try{v=1,g.send(t,y)}catch(B){if(v<2)y(-1,B);else throw B}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var cE=[],cF=/\?/,cG=/(=)\?(?=&|$)|\?\?/,cH=p.now();p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=cE.pop()||p.expando+"_"+cH++;return this[a]=!0,a}}),p.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.data,j=c.url,k=c.jsonp!==!1,l=k&&cG.test(j),m=k&&!l&&typeof i=="string"&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&cG.test(i);if(c.dataTypes[0]==="jsonp"||l||m)return f=c.jsonpCallback=p.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,g=a[f],l?c.url=j.replace(cG,"$1"+f):m?c.data=i.replace(cG,"$1"+f):k&&(c.url+=(cF.test(j)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||p.error(f+" was not called"),h[0]},c.dataTypes[0]="json",a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,cE.push(f)),h&&p.isFunction(g)&&g(h[0]),h=g=b}),"script"}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return p.globalEval(a),a}}}),p.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),p.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=e.head||e.getElementsByTagName("head")[0]||e.documentElement;return{send:function(f,g){c=e.createElement("script"),c.async="async",a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||g(200,"success")},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(0,1)}}}});var cI,cJ=a.ActiveXObject?function(){for(var a in cI)cI[a](0,1)}:!1,cK=0;p.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&cL()||cM()}:cL,function(a){p.extend(p.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(p.ajaxSettings.xhr()),p.support.ajax&&p.ajaxTransport(function(c){if(!c.crossDomain||p.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async);if(c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l,m;try{if(d&&(e||i.readyState===4)){d=b,g&&(i.onreadystatechange=p.noop,cJ&&delete cI[g]);if(e)i.readyState!==4&&i.abort();else{h=i.status,k=i.getAllResponseHeaders(),l={},m=i.responseXML,m&&m.documentElement&&(l.xml=m);try{l.text=i.responseText}catch(a){}try{j=i.statusText}catch(n){j=""}!h&&c.isLocal&&!c.crossDomain?h=l.text?200:404:h===1223&&(h=204)}}}catch(o){e||f(-1,o)}l&&f(h,j,l,k)},c.async?i.readyState===4?setTimeout(d,0):(g=++cK,cJ&&(cI||(cI={},p(a).unload(cJ)),cI[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(0,1)}}}});var cN,cO,cP=/^(?:toggle|show|hide)$/,cQ=new RegExp("^(?:([-+])=|)("+q+")([a-z%]*)$","i"),cR=/queueHooks$/,cS=[cY],cT={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=cQ.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){c=+f[2],d=f[3]||(p.cssNumber[a]?"":"px");if(d!=="px"&&h){h=p.css(e.elem,a,!0)||c||1;do i=i||".5",h=h/i,p.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&i!==1&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};p.Animation=p.extend(cW,{tweener:function(a,b){p.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");var c,d=0,e=a.length;for(;d<e;d++)c=a[d],cT[c]=cT[c]||[],cT[c].unshift(b)},prefilter:function(a,b){b?cS.unshift(a):cS.push(a)}}),p.Tween=cZ,cZ.prototype={constructor:cZ,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(p.cssNumber[c]?"":"px")},cur:function(){var a=cZ.propHooks[this.prop];return a&&a.get?a.get(this):cZ.propHooks._default.get(this)},run:function(a){var b,c=cZ.propHooks[this.prop];return this.options.duration?this.pos=b=p.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):cZ.propHooks._default.set(this),this}},cZ.prototype.init.prototype=cZ.prototype,cZ.propHooks={_default:{get:function(a){var b;return a.elem[a.prop]==null||!!a.elem.style&&a.elem.style[a.prop]!=null?(b=p.css(a.elem,a.prop,!1,""),!b||b==="auto"?0:b):a.elem[a.prop]},set:function(a){p.fx.step[a.prop]?p.fx.step[a.prop](a):a.elem.style&&(a.elem.style[p.cssProps[a.prop]]!=null||p.cssHooks[a.prop])?p.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},cZ.propHooks.scrollTop=cZ.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},p.each(["toggle","show","hide"],function(a,b){var c=p.fn[b];p.fn[b]=function(d,e,f){return d==null||typeof d=="boolean"||!a&&p.isFunction(d)&&p.isFunction(e)?c.apply(this,arguments):this.animate(c$(b,!0),d,e,f)}}),p.fn.extend({fadeTo:function(a,b,c,d){return this.filter(bZ).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=p.isEmptyObject(a),f=p.speed(b,c,d),g=function(){var b=cW(this,p.extend({},a),f);e&&b.stop(!0)};return e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=a!=null&&a+"queueHooks",f=p.timers,g=p._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cR.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem===this&&(a==null||f[c].queue===a)&&(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&p.dequeue(this,a)})}}),p.each({slideDown:c$("show"),slideUp:c$("hide"),slideToggle:c$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){p.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),p.speed=function(a,b,c){var d=a&&typeof a=="object"?p.extend({},a):{complete:c||!c&&b||p.isFunction(a)&&a,duration:a,easing:c&&b||b&&!p.isFunction(b)&&b};d.duration=p.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in p.fx.speeds?p.fx.speeds[d.duration]:p.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";return d.old=d.complete,d.complete=function(){p.isFunction(d.old)&&d.old.call(this),d.queue&&p.dequeue(this,d.queue)},d},p.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},p.timers=[],p.fx=cZ.prototype.init,p.fx.tick=function(){var a,b=p.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||p.fx.stop()},p.fx.timer=function(a){a()&&p.timers.push(a)&&!cO&&(cO=setInterval(p.fx.tick,p.fx.interval))},p.fx.interval=13,p.fx.stop=function(){clearInterval(cO),cO=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fx.step={},p.expr&&p.expr.filters&&(p.expr.filters.animated=function(a){return p.grep(p.timers,function(b){return a===b.elem}).length});var c_=/^(?:body|html)$/i;p.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){p.offset.setOffset(this,a,b)});var c,d,e,f,g,h,i,j={top:0,left:0},k=this[0],l=k&&k.ownerDocument;if(!l)return;return(d=l.body)===k?p.offset.bodyOffset(k):(c=l.documentElement,p.contains(c,k)?(typeof k.getBoundingClientRect!="undefined"&&(j=k.getBoundingClientRect()),e=da(l),f=c.clientTop||d.clientTop||0,g=c.clientLeft||d.clientLeft||0,h=e.pageYOffset||c.scrollTop,i=e.pageXOffset||c.scrollLeft,{top:j.top+h-f,left:j.left+i-g}):j)},p.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;return p.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(p.css(a,"marginTop"))||0,c+=parseFloat(p.css(a,"marginLeft"))||0),{top:b,left:c}},setOffset:function(a,b,c){var d=p.css(a,"position");d==="static"&&(a.style.position="relative");var e=p(a),f=e.offset(),g=p.css(a,"top"),h=p.css(a,"left"),i=(d==="absolute"||d==="fixed")&&p.inArray("auto",[g,h])>-1,j={},k={},l,m;i?(k=e.position(),l=k.top,m=k.left):(l=parseFloat(g)||0,m=parseFloat(h)||0),p.isFunction(b)&&(b=b.call(a,c,f)),b.top!=null&&(j.top=b.top-f.top+l),b.left!=null&&(j.left=b.left-f.left+m),"using"in b?b.using.call(a,j):e.css(j)}},p.fn.extend({position:function(){if(!this[0])return;var a=this[0],b=this.offsetParent(),c=this.offset(),d=c_.test(b[0].nodeName)?{top:0,left:0}:b.offset();return c.top-=parseFloat(p.css(a,"marginTop"))||0,c.left-=parseFloat(p.css(a,"marginLeft"))||0,d.top+=parseFloat(p.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(p.css(b[0],"borderLeftWidth"))||0,{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||e.body;while(a&&!c_.test(a.nodeName)&&p.css(a,"position")==="static")a=a.offsetParent;return a||e.body})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);p.fn[a]=function(e){return p.access(this,function(a,e,f){var g=da(a);if(f===b)return g?c in g?g[c]:g.document.documentElement[e]:a[e];g?g.scrollTo(d?p(g).scrollLeft():f,d?f:p(g).scrollTop()):a[e]=f},a,e,arguments.length,null)}}),p.each({Height:"height",Width:"width"},function(a,c){p.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){p.fn[e]=function(e,f){var g=arguments.length&&(d||typeof e!="boolean"),h=d||(e===!0||f===!0?"margin":"border");return p.access(this,function(c,d,e){var f;return p.isWindow(c)?c.document.documentElement["client"+a]:c.nodeType===9?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?p.css(c,d,e,h):p.style(c,d,e,h)},c,g?e:b,g,null)}})}),a.jQuery=a.$=p,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return p})})(window);
;
;
/*! jquery-ui-1.9.1.custom.min.js */ 
;
;
/*! jQuery UI - v1.9.1 - 2012-11-05
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.draggable.js, jquery.ui.resizable.js, jquery.ui.sortable.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */
(function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().andSelf().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{};if(e.ui.version)return;e.extend(e.ui,{version:"1.9.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({_focus:e.fn.focus,focus:function(t,n){return typeof t=="number"?this.each(function(){var r=this;setTimeout(function(){e(r).focus(),n&&n.call(r)},t)}):this._focus.apply(this,arguments)},scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e(function(){var t=document.body,n=t.appendChild(n=document.createElement("div"));n.offsetHeight,e.extend(n.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),e.support.minHeight=n.offsetHeight===100,e.support.selectstart="onselectstart"in n,t.removeChild(n).style.display="none"}),function(){var t=/msie ([\w.]+)/.exec(navigator.userAgent.toLowerCase())||[];e.ui.ie=t.length?!0:!1,e.ui.ie6=parseFloat(t[1],10)===6}(),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},contains:e.contains,hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},isOverAxis:function(e,t,n){return e>t&&e<t+n},isOver:function(t,n,r,i,s,o){return e.ui.isOverAxis(t,r,s)&&e.ui.isOverAxis(n,i,o)}})})(jQuery);(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a=t.split(".")[0];t=t.split(".")[1],i=a+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[a]=e[a]||{},s=e[a][t],o=e[a][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,i){e.isFunction(i)&&(r[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=r,s=i.apply(this,arguments),this._super=t,this._superApply=n,s}}())}),o.prototype=e.widget.extend(u,{widgetEventPrefix:u.widgetEventPrefix||t},r,{constructor:o,namespace:a,widgetName:t,widgetBaseClass:i,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():new i(o,this)}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetName,this),e.data(r,this.widgetFullName,this),this._on(this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n){var r,i=this;n?(t=r=e(t),this.bindings=this.bindings.add(t)):(n=t,t=this.element,r=this.widget()),e.each(n,function(n,s){function o(){if(i.options.disabled===!0||e(this).hasClass("ui-state-disabled"))return;return(typeof s=="string"?i[s]:s).apply(i,arguments)}typeof s!="string"&&(o.guid=s.guid=s.guid||o.guid||e.guid++);var u=n.match(/^(\w+)\s*(.*)$/),a=u[1]+i.eventNamespace,f=u[2];f?r.delegate(f,a,o):t.bind(a,o)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&(e.effects.effect[u]||e.uiBackCompat!==!1&&e.effects[u])?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}}),e.uiBackCompat!==!1&&(e.Widget.prototype._getCreateOptions=function(){return e.metadata&&e.metadata.get(this.element[0])[this.widgetName]})})(jQuery);(function(e,t){var n=!1;e(document).mouseup(function(e){n=!1}),e.widget("ui.mouse",{version:"1.9.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return!e.ui.ie||document.documentMode>=9||!!t.button?this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted):this._mouseUp(t)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(e){return this.mouseDelayMet},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return!0}})})(jQuery);(function(e,t){function h(e,t,n){return[parseInt(e[0],10)*(l.test(e[0])?t/100:1),parseInt(e[1],10)*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow?"":t.element.css("overflow-x"),r=t.isWindow?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:i?e.position.scrollbarWidth():0,height:s?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]);return{element:n,isWindow:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,d,v,m,g=e(t.of),y=e.position.getWithinInfo(t.within),b=e.position.getScrollInfo(y),w=g[0],E=(t.collision||"flip").split(" "),S={};return w.nodeType===9?(l=g.width(),d=g.height(),v={top:0,left:0}):e.isWindow(w)?(l=g.width(),d=g.height(),v={top:g.scrollTop(),left:g.scrollLeft()}):w.preventDefault?(t.at="left top",l=d=0,v={top:w.pageY,left:w.pageX}):(l=g.outerWidth(),d=g.outerHeight(),v=g.offset()),m=e.extend({},v),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),S[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),E.length===1&&(E[1]=E[0]),t.at[0]==="right"?m.left+=l:t.at[0]==="center"&&(m.left+=l/2),t.at[1]==="bottom"?m.top+=d:t.at[1]==="center"&&(m.top+=d/2),n=h(S.at,l,d),m.left+=n[0],m.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),w=p(this,"marginLeft"),x=p(this,"marginTop"),T=f+w+p(this,"marginRight")+b.width,N=c+x+p(this,"marginBottom")+b.height,C=e.extend({},m),k=h(S.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:w,marginTop:x},e.each(["left","top"],function(r,i){e.ui.position[E[r]]&&e.ui.position[E[r]][i](C,{targetWidth:l,targetHeight:d,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:y,elem:a})}),e.fn.bgiframe&&a.bgiframe(),t.using&&(u=function(e){var n=v.left-C.left,s=n+l-f,o=v.top-C.top,u=o+d-c,h={target:{element:g,left:v.left,top:v.top,width:l,height:d},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),d<c&&i(o+u)<d&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}(),e.uiBackCompat!==!1&&function(e){var n=e.fn.position;e.fn.position=function(r){if(!r||!r.offset)return n.call(this,r);var i=r.offset.split(" "),s=r.at.split(" ");return i.length===1&&(i[1]=i[0]),/^\d/.test(i[0])&&(i[0]="+"+i[0]),/^\d/.test(i[1])&&(i[1]="+"+i[1]),s.length===1&&(/left|center|right/.test(s[0])?s[1]="center":(s[1]=s[0],s[0]="center")),n.call(this,e.extend(r,{at:s[0]+i[0]+" "+s[1]+i[1],offset:t}))}}(jQuery)})(jQuery);(function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).is(".ui-resizable-handle")?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),n.containment&&this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=!1;e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1);var r=this.element[0],i=!1;while(r&&(r=r.parentNode))r==document&&(i=!0);if(!i&&this.options.helper==="original")return!1;if(this.options.revert=="invalid"&&!n||this.options.revert=="valid"&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)){var s=this;e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",t)!==!1&&s._clear()})}else this._trigger("stop",t)!==!1&&this._clear();return!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){var n=!this.options.handle||!e(this.options.handle,this.element).length?!0:!1;return e(this.options.handle,this.element).find("*").andSelf().each(function(){this==t.target&&(n=!0)}),n},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper=="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo=="parent"?this.element[0].parentNode:n.appendTo),r[0]!=this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[t.containment=="document"?0:e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t.containment=="document"?0:e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(t.containment=="document"?0:e(window).scrollLeft())+e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(t.containment=="document"?0:e(window).scrollTop())+(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)&&t.containment.constructor!=Array){var n=e(t.containment),r=n[0];if(!r)return;var i=n.offset(),s=e(r).css("overflow")!="hidden";this.containment=[(parseInt(e(r).css("borderLeftWidth"),10)||0)+(parseInt(e(r).css("paddingLeft"),10)||0),(parseInt(e(r).css("borderTopWidth"),10)||0)+(parseInt(e(r).css("paddingTop"),10)||0),(s?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(e(r).css("borderLeftWidth"),10)||0)-(parseInt(e(r).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(s?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(e(r).css("borderTopWidth"),10)||0)-(parseInt(e(r).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n}else t.containment.constructor==Array&&(this.containment=t.containment)},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName),s=t.pageX,o=t.pageY;if(this.originalPosition){var u;if(this.containment){if(this.relative_container){var a=this.relative_container.offset();u=[this.containment[0]+a.left,this.containment[1]+a.top,this.containment[2]+a.left,this.containment[3]+a.top]}else u=this.containment;t.pageX-this.offset.click.left<u[0]&&(s=u[0]+this.offset.click.left),t.pageY-this.offset.click.top<u[1]&&(o=u[1]+this.offset.click.top),t.pageX-this.offset.click.left>u[2]&&(s=u[2]+this.offset.click.left),t.pageY-this.offset.click.top>u[3]&&(o=u[3]+this.offset.click.top)}if(n.grid){var f=n.grid[1]?this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY;o=u?f-this.offset.click.top<u[1]||f-this.offset.click.top>u[3]?f-this.offset.click.top<u[1]?f+n.grid[1]:f-n.grid[1]:f:f;var l=n.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX;s=u?l-this.offset.click.left<u[0]||l-this.offset.click.left>u[2]?l-this.offset.click.left<u[0]?l+n.grid[0]:l-n.grid[0]:l:l}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t=="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(e){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("draggable"),i=this,s=function(t){var n=this.offset.click.top,r=this.offset.click.left,i=this.positionAbs.top,s=this.positionAbs.left,o=t.height,u=t.width,a=t.top,f=t.left;return e.ui.isOver(i+n,s+r,a,f,o,u)};e.each(r.sortables,function(s){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!=u&&this.instance._intersectsWith(this.instance.containerCache)&&e.ui.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n){var r=e("body"),i=e(this).data("draggable").options;r.css("cursor")&&(i._cursor=r.css("cursor")),r.css("cursor",i.cursor)},stop:function(t,n){var r=e(this).data("draggable").options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,n){var r=e(this).data("draggable");r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"&&(r.overflowOffset=r.scrollParent.offset())},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=!1;if(r.scrollParent[0]!=document&&r.scrollParent[0].tagName!="HTML"){if(!i.axis||i.axis!="x")r.overflowOffset.top+r.scrollParent[0].offsetHeight-t.pageY<i.scrollSensitivity?r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(r.scrollParent[0].scrollTop=s=r.scrollParent[0].scrollTop-i.scrollSpeed);if(!i.axis||i.axis!="y")r.overflowOffset.left+r.scrollParent[0].offsetWidth-t.pageX<i.scrollSensitivity?r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(r.scrollParent[0].scrollLeft=s=r.scrollParent[0].scrollLeft-i.scrollSpeed)}else{if(!i.axis||i.axis!="x")t.pageY-e(document).scrollTop()<i.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<i.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+i.scrollSpeed));if(!i.axis||i.axis!="y")t.pageX-e(document).scrollLeft()<i.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<i.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+i.scrollSpeed))}s!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n){var r=e(this).data("draggable"),i=r.options;r.snapElements=[],e(i.snap.constructor!=String?i.snap.items||":data(draggable)":i.snap).each(function(){var t=e(this),n=t.offset();this!=r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n){var r=e(this).data("draggable"),i=r.options,s=i.snapTolerance,o=n.offset.left,u=o+r.helperProportions.width,a=n.offset.top,f=a+r.helperProportions.height;for(var l=r.snapElements.length-1;l>=0;l--){var c=r.snapElements[l].left,h=c+r.snapElements[l].width,p=r.snapElements[l].top,d=p+r.snapElements[l].height;if(!(c-s<o&&o<h+s&&p-s<a&&a<d+s||c-s<o&&o<h+s&&p-s<f&&f<d+s||c-s<u&&u<h+s&&p-s<a&&a<d+s||c-s<u&&u<h+s&&p-s<f&&f<d+s)){r.snapElements[l].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=!1;continue}if(i.snapMode!="inner"){var v=Math.abs(p-f)<=s,m=Math.abs(d-a)<=s,g=Math.abs(c-u)<=s,y=Math.abs(h-o)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p-r.helperProportions.height,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c-r.helperProportions.width}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h}).left-r.margins.left)}var b=v||m||g||y;if(i.snapMode!="outer"){var v=Math.abs(p-a)<=s,m=Math.abs(d-f)<=s,g=Math.abs(c-o)<=s,y=Math.abs(h-u)<=s;v&&(n.position.top=r._convertPositionTo("relative",{top:p,left:0}).top-r.margins.top),m&&(n.position.top=r._convertPositionTo("relative",{top:d-r.helperProportions.height,left:0}).top-r.margins.top),g&&(n.position.left=r._convertPositionTo("relative",{top:0,left:c}).left-r.margins.left),y&&(n.position.left=r._convertPositionTo("relative",{top:0,left:h-r.helperProportions.width}).left-r.margins.left)}!r.snapElements[l].snapping&&(v||m||g||y||b)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[l].item})),r.snapElements[l].snapping=v||m||g||y||b}}}),e.ui.plugin.add("draggable","stack",{start:function(t,n){var r=e(this).data("draggable").options,i=e.makeArray(e(r.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!i.length)return;var s=parseInt(i[0].style.zIndex)||0;e(i).each(function(e){this.style.zIndex=s+e}),this[0].style.zIndex=s+i.length}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})})(jQuery);(function(e,t){e.widget("ui.resizable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var t=this,n=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=n.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor==String){this.handles=="all"&&(this.handles="n,e,s,w,se,sw,ne,nw");var r=this.handles.split(",");this.handles={};for(var i=0;i<r.length;i++){var s=e.trim(r[i]),o="ui-resizable-"+s,u=e('<div class="ui-resizable-handle '+o+'"></div>');u.css({zIndex:n.zIndex}),"se"==s&&u.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(u)}}this._renderAxis=function(t){t=t||this.element;for(var n in this.handles){this.handles[n].constructor==String&&(this.handles[n]=e(this.handles[n],this.element).show());if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=e(this.handles[n],this.element),i=0;i=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth();var s=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");t.css(s,i),this._proportionallyResize()}if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!t.resizing){if(this.className)var e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);t.axis=e&&e[1]?e[1]:"se"}}),n.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(n.disabled)return;e(this).removeClass("ui-resizable-autohide"),t._handles.show()}).mouseleave(function(){if(n.disabled)return;t.resizing||(e(this).addClass("ui-resizable-autohide"),t._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var n=this.element;this.originalElement.css({position:n.css("position"),width:n.outerWidth(),height:n.outerHeight(),top:n.css("top"),left:n.css("left")}).insertAfter(n),n.remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var n=!1;for(var r in this.handles)e(this.handles[r])[0]==t.target&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(t){var r=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var o=n(this.helper.css("left")),u=n(this.helper.css("top"));r.containment&&(o+=e(r.containment).scrollLeft()||0,u+=e(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:u},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:o,top:u},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof r.aspectRatio=="number"?r.aspectRatio:this.originalSize.width/this.originalSize.height||1;var a=e(".ui-resizable-"+this.axis).css("cursor");return e("body").css("cursor",a=="auto"?this.axis+"-resize":a),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(e){var t=this.helper,n=this.options,r={},i=this,s=this.originalMousePosition,o=this.axis,u=e.pageX-s.left||0,a=e.pageY-s.top||0,f=this._change[o];if(!f)return!1;var l=f.apply(this,[e,u,a]);this._updateVirtualBoundaries(e.shiftKey);if(this._aspectRatio||e.shiftKey)l=this._updateRatio(l,e);return l=this._respectSize(l,e),this._propagate("resize",e),t.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(l),this._trigger("resize",e,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n=this.options,r=this;if(this._helper){var i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:r.sizeDiff.height,u=s?0:r.sizeDiff.width,a={width:r.helper.width()-u,height:r.helper.height()-o},f=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,l=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;n.animate||this.element.css(e.extend(a,{top:l,left:f})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper&&!n.animate&&this._proportionallyResize()}return e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t=this.options,n,i,s,o,u;u={minWidth:r(t.minWidth)?t.minWidth:0,maxWidth:r(t.maxWidth)?t.maxWidth:Infinity,minHeight:r(t.minHeight)?t.minHeight:0,maxHeight:r(t.maxHeight)?t.maxHeight:Infinity};if(this._aspectRatio||e)n=u.minHeight*this.aspectRatio,s=u.minWidth/this.aspectRatio,i=u.maxHeight*this.aspectRatio,o=u.maxWidth/this.aspectRatio,n>u.minWidth&&(u.minWidth=n),s>u.minHeight&&(u.minHeight=s),i<u.maxWidth&&(u.maxWidth=i),o<u.maxHeight&&(u.maxHeight=o);this._vBoundaries=u},_updateCache:function(e){var t=this.options;this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e,t){var n=this.options,i=this.position,s=this.size,o=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),o=="sw"&&(e.left=i.left+(s.width-e.width),e.top=null),o=="nw"&&(e.top=i.top+(s.height-e.height),e.left=i.left+(s.width-e.width)),e},_respectSize:function(e,t){var n=this.helper,i=this._vBoundaries,s=this._aspectRatio||t.shiftKey,o=this.axis,u=r(e.width)&&i.maxWidth&&i.maxWidth<e.width,a=r(e.height)&&i.maxHeight&&i.maxHeight<e.height,f=r(e.width)&&i.minWidth&&i.minWidth>e.width,l=r(e.height)&&i.minHeight&&i.minHeight>e.height;f&&(e.width=i.minWidth),l&&(e.height=i.minHeight),u&&(e.width=i.maxWidth),a&&(e.height=i.maxHeight);var c=this.originalPosition.left+this.originalSize.width,h=this.position.top+this.size.height,p=/sw|nw|w/.test(o),d=/nw|ne|n/.test(o);f&&p&&(e.left=c-i.minWidth),u&&p&&(e.left=c-i.maxWidth),l&&d&&(e.top=h-i.minHeight),a&&d&&(e.top=h-i.maxHeight);var v=!e.width&&!e.height;return v&&!e.left&&e.top?e.top=null:v&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){var t=this.options;if(!this._proportionallyResizeElements.length)return;var n=this.helper||this.element;for(var r=0;r<this._proportionallyResizeElements.length;r++){var i=this._proportionallyResizeElements[r];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],o=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=e.map(s,function(e,t){var n=parseInt(e,10)||0,r=parseInt(o[t],10)||0;return n+r})}i.css({height:n.height()-this.borderDif[0]-this.borderDif[2]||0,width:n.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var r=e.ui.ie6?1:0,i=e.ui.ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+i,height:this.element.outerHeight()+i,position:"absolute",left:this.elementOffset.left-r+"px",top:this.elementOffset.top-r+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,t,n){return{width:this.originalSize.width+t}},w:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{left:s.left+t,width:i.width-t}},n:function(e,t,n){var r=this.options,i=this.originalSize,s=this.originalPosition;return{top:s.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","alsoResize",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=function(t){e(t).each(function(){var t=e(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof i.alsoResize=="object"&&!i.alsoResize.parentNode?i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):e.each(i.alsoResize,function(e){s(e)}):s(i.alsoResize)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(t,n){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","animate",{stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),u=o&&e.ui.hasScroll(s[0],"left")?0:r.sizeDiff.height,a=o?0:r.sizeDiff.width,f={width:r.size.width-a,height:r.size.height-u},l=parseInt(r.element.css("left"),10)+(r.position.left-r.originalPosition.left)||null,c=parseInt(r.element.css("top"),10)+(r.position.top-r.originalPosition.top)||null;r.element.animate(e.extend(f,c&&l?{top:c,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(r.element.css("width"),10),height:parseInt(r.element.css("height"),10),top:parseInt(r.element.css("top"),10),left:parseInt(r.element.css("left"),10)};s&&s.length&&e(s[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(t,r){var i=e(this).data("resizable"),s=i.options,o=i.element,u=s.containment,a=u instanceof e?u.get(0):/parent/.test(u)?o.parent().get(0):u;if(!a)return;i.containerElement=e(a);if(/document/.test(u)||u==document)i.containerOffset={left:0,top:0},i.containerPosition={left:0,top:0},i.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight};else{var f=e(a),l=[];e(["Top","Right","Left","Bottom"]).each(function(e,t){l[e]=n(f.css("padding"+t))}),i.containerOffset=f.offset(),i.containerPosition=f.position(),i.containerSize={height:f.innerHeight()-l[3],width:f.innerWidth()-l[1]};var c=i.containerOffset,h=i.containerSize.height,p=i.containerSize.width,d=e.ui.hasScroll(a,"left")?a.scrollWidth:p,v=e.ui.hasScroll(a)?a.scrollHeight:h;i.parentData={element:a,left:c.left,top:c.top,width:d,height:v}}},resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.containerSize,o=r.containerOffset,u=r.size,a=r.position,f=r._aspectRatio||t.shiftKey,l={top:0,left:0},c=r.containerElement;c[0]!=document&&/static/.test(c.css("position"))&&(l=o),a.left<(r._helper?o.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-o.left:r.position.left-l.left),f&&(r.size.height=r.size.width/r.aspectRatio),r.position.left=i.helper?o.left:0),a.top<(r._helper?o.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-o.top:r.position.top),f&&(r.size.width=r.size.height*r.aspectRatio),r.position.top=r._helper?o.top:0),r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top;var h=Math.abs((r._helper?r.offset.left-l.left:r.offset.left-l.left)+r.sizeDiff.width),p=Math.abs((r._helper?r.offset.top-l.top:r.offset.top-o.top)+r.sizeDiff.height),d=r.containerElement.get(0)==r.element.parent().get(0),v=/relative|absolute/.test(r.containerElement.css("position"));d&&v&&(h-=r.parentData.left),h+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-h,f&&(r.size.height=r.size.width/r.aspectRatio)),p+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-p,f&&(r.size.width=r.size.height*r.aspectRatio))},stop:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.position,o=r.containerOffset,u=r.containerPosition,a=r.containerElement,f=e(r.helper),l=f.offset(),c=f.outerWidth()-r.sizeDiff.width,h=f.outerHeight()-r.sizeDiff.height;r._helper&&!i.animate&&/relative/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h}),r._helper&&!i.animate&&/static/.test(a.css("position"))&&e(this).css({left:l.left-u.left-o.left,width:c,height:h})}}),e.ui.plugin.add("resizable","ghost",{start:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size;r.ghost=r.originalElement.clone(),r.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof i.ghost=="string"?i.ghost:""),r.ghost.appendTo(r.helper)},resize:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.ghost.css({position:"relative",height:r.size.height,width:r.size.width})},stop:function(t,n){var r=e(this).data("resizable"),i=r.options;r.ghost&&r.helper&&r.helper.get(0).removeChild(r.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(t,n){var r=e(this).data("resizable"),i=r.options,s=r.size,o=r.originalSize,u=r.originalPosition,a=r.axis,f=i._aspectRatio||t.shiftKey;i.grid=typeof i.grid=="number"?[i.grid,i.grid]:i.grid;var l=Math.round((s.width-o.width)/(i.grid[0]||1))*(i.grid[0]||1),c=Math.round((s.height-o.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c):/^(ne)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c):/^(sw)$/.test(a)?(r.size.width=o.width+l,r.size.height=o.height+c,r.position.left=u.left-l):(r.size.width=o.width+l,r.size.height=o.height+c,r.position.top=u.top-c,r.position.left=u.left-l)}});var n=function(e){return parseInt(e,10)||0},r=function(e){return!isNaN(parseInt(e,10))}})(jQuery);(function(e,t){e.widget("ui.sortable",e.ui.mouse,{version:"1.9.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type=="static")return!1;this._refreshItems(t);var i=null,s=e(t.target).parents().each(function(){if(e.data(this,r.widgetName+"-item")==r)return i=e(this),!1});e.data(t.target,r.widgetName+"-item")==r&&(i=e(t.target));if(!i)return!1;if(this.options.handle&&!n){var o=!1;e(this.options.handle,i).find("*").andSelf().each(function(){this==t.target&&(o=!0)});if(!o)return!1}return this.currentItem=i,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),i.containment&&this._setContainment(),i.cursor&&(e("body").css("cursor")&&(this._storedCursor=e("body").css("cursor")),e("body").css("cursor",i.cursor)),i.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",i.opacity)),i.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",i.zIndex)),this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(var s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs);if(this.options.scroll){var n=this.options,r=!1;this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+n.scrollSpeed:t.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+n.scrollSpeed:t.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(t.pageY-e(document).scrollTop()<n.scrollSensitivity?r=e(document).scrollTop(e(document).scrollTop()-n.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<n.scrollSensitivity&&(r=e(document).scrollTop(e(document).scrollTop()+n.scrollSpeed)),t.pageX-e(document).scrollLeft()<n.scrollSensitivity?r=e(document).scrollLeft(e(document).scrollLeft()-n.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<n.scrollSensitivity&&(r=e(document).scrollLeft(e(document).scrollLeft()+n.scrollSpeed))),r!==!1&&e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(var i=this.items.length-1;i>=0;i--){var s=this.items[i],o=s.item[0],u=this._intersectsWithPointer(s);if(!u)continue;if(s.instance!==this.currentContainer)continue;if(o!=this.currentItem[0]&&this.placeholder[u==1?"next":"prev"]()[0]!=o&&!e.contains(this.placeholder[0],o)&&(this.options.type=="semi-dynamic"?!e.contains(this.element[0],o):!0)){this.direction=u==1?"down":"up";if(this.options.tolerance!="pointer"&&!this._intersectsWithSides(s))break;this._rearrange(t,s),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset();this.reverting=!0,e(this.helper).animate({left:i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=r+f>u&&r+f<a&&t+l>s&&t+l<o;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?c:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var n=this.options.axis==="x"||e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r=this.options.axis==="y"||e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=n&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o=="right"||s=="down"?2:1:s&&(s=="down"?2:1):!1},_intersectsWithSides:function(t){var n=e.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),r=e.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s=="right"&&r||s=="left"&&!r:i&&(i=="down"&&n||i=="up"&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!=0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!=0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor==String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n=[],r=[],i=this._connectWith();if(i&&t)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&r.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a])}}r.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var s=r.length-1;s>=0;s--)r[s][0].each(function(){n.push(this)});return e(n)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]==e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n=this.items,r=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],i=this._connectWith();if(i&&this.ready)for(var s=i.length-1;s>=0;s--){var o=e(i[s]);for(var u=o.length-1;u>=0;u--){var a=e.data(o[u],this.widgetName);a&&a!=this&&!a.options.disabled&&(r.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a))}}for(var s=r.length-1;s>=0;s--){var f=r[s][1],l=r[s][0];for(var u=0,c=l.length;u<c;u++){var h=e(l[u]);h.data(this.widgetName+"-item",f),n.push({item:h,instance:f,width:0,height:0,left:0,top:0})}}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var n=this.items.length-1;n>=0;n--){var r=this.items[n];if(r.instance!=this.currentContainer&&this.currentContainer&&r.item[0]!=this.currentItem[0])continue;var i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item;t||(r.width=i.outerWidth(),r.height=i.outerHeight());var s=i.offset();r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(var n=this.containers.length-1;n>=0;n--){var s=this.containers[n].element.offset();this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight()}return this},_createPlaceholder:function(t){t=t||this;var n=t.options;if(!n.placeholder||n.placeholder.constructor==String){var r=n.placeholder;n.placeholder={element:function(){var n=e(document.createElement(t.currentItem[0].nodeName)).addClass(r||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return r||(n.style.visibility="hidden"),n},update:function(e,i){if(r&&!n.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}}}t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var n=null,r=null;for(var i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(n&&e.contains(this.containers[i].element[0],n.element[0]))continue;n=this.containers[i],r=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!n)return;if(this.containers.length===1)this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1;else{var s=1e4,o=null,u=this.containers[r].floating?"left":"top",a=this.containers[r].floating?"width":"height",f=this.positionAbs[u]+this.offset.click[u];for(var l=this.items.length-1;l>=0;l--){if(!e.contains(this.containers[r].element[0],this.items[l].item[0]))continue;if(this.items[l].item[0]==this.currentItem[0])continue;var c=this.items[l].item.offset()[u],h=!1;Math.abs(c-f)>Math.abs(c+this.items[l][a]-f)&&(h=!0,c+=this.items[l][a]),Math.abs(c-f)<s&&(s=Math.abs(c-f),o=this.items[l],this.direction=h?"up":"down")}if(!o&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[r],o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[r].element,!0),this._trigger("change",t,this._uiHash()),this.containers[r]._trigger("change",t,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[r]._trigger("over",t,this._uiHash(this)),this.containers[r].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper=="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(r[0].style.width==""||n.forceHelperSize)&&r.width(this.currentItem.width()),(r[0].style.height==""||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t=this.options;t.containment=="parent"&&(t.containment=this.helper[0].parentNode);if(t.containment=="document"||t.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(t.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(t.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(t.containment)){var n=e(t.containment)[0],r=e(t.containment).offset(),i=e(n).css("overflow")!="hidden";this.containment=[r.left+(parseInt(e(n).css("borderLeftWidth"),10)||0)+(parseInt(e(n).css("paddingLeft"),10)||0)-this.margins.left,r.top+(parseInt(e(n).css("borderTopWidth"),10)||0)+(parseInt(e(n).css("paddingTop"),10)||0)-this.margins.top,r.left+(i?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(e(n).css("borderLeftWidth"),10)||0)-(parseInt(e(n).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,r.top+(i?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(e(n).css("borderTopWidth"),10)||0)-(parseInt(e(n).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(t,n){n||(n=this.position);var r=t=="absolute"?1:-1,i=this.options,s=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():o?0:s.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*r}},_generatePosition:function(t){var n=this.options,r=this.cssPosition!="absolute"||this.scrollParent[0]!=document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(r[0].tagName);this.cssPosition=="relative"&&(this.scrollParent[0]==document||this.scrollParent[0]==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset());var s=t.pageX,o=t.pageY;if(this.originalPosition){this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top));if(n.grid){var u=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1];o=this.containment?u-this.offset.click.top<this.containment[1]||u-this.offset.click.top>this.containment[3]?u-this.offset.click.top<this.containment[1]?u+n.grid[1]:u-n.grid[1]:u:u;var a=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0];s=this.containment?a-this.offset.click.left<this.containment[0]||a-this.offset.click.left>this.containment[2]?a-this.offset.click.left<this.containment[0]?a+n.grid[0]:a-n.grid[0]:a:a}}return{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():i?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:r.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i==this.counter&&this.refreshPositions(!r)})},_clear:function(t,n){this.reverting=!1;var r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)if(this._storedCSS[i]=="auto"||this._storedCSS[i]=="static")this._storedCSS[i]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!n&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!n&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(n||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(var i=this.containers.length-1;i>=0;i--)n||r.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);this._storedCursor&&e("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!n){this._trigger("beforeStop",t,this._uiHash());for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}n||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!n){for(var i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})})(jQuery);
;
;
/*! lodash.min.js */ 
;
;
/**
* @license
* lodash 3.9.3 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
* Build: `lodash modern -o ./lodash.js`
*
*/
;(function(){function n(n,t){if(n!==t){var r=null===n,e=n===m,u=n===n,i=null===t,o=t===m,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return s(n,r);r-=1;for(var e=n.length;++r<e;)if(n[r]===t)return r;return-1}function e(n){return typeof n=="function"||false}function u(n){return typeof n=="string"?n:null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););
return r}function o(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function f(t,r){return n(t.a,r.a)||t.b-r.b}function l(n){return Nn[n]}function a(n){return Ln[n]}function c(n){return"\\"+Mn[n]}function s(n,t,r){var e=n.length;for(t+=r?0:-1;r?t--:++t<e;){var u=n[t];if(u!==u)return t}return-1}function p(n){return!!n&&typeof n=="object"}function h(n){return 160>=n&&9<=n&&13>=n||32==n||160==n||5760==n||6158==n||8192<=n&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n);
}function _(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=L,i[++u]=r);return i}function v(n){for(var t=-1,r=n.length;++t<r&&h(n.charCodeAt(t)););return t}function g(n){for(var t=n.length;t--&&h(n.charCodeAt(t)););return t}function y(n){return zn[n]}function d(h){function Nn(n){if(p(n)&&!(Ti(n)||n instanceof Bn)){if(n instanceof zn)return n;if(ru.call(n,"__chain__")&&ru.call(n,"__wrapped__"))return Mr(n)}return new zn(n)}function Ln(){}function zn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],
this.__chain__=!!t}function Bn(n){this.__wrapped__=n,this.__actions__=null,this.__dir__=1,this.__filtered__=false,this.__iteratees__=null,this.__takeCount__=Su,this.__views__=null}function Mn(){this.__data__={}}function Pn(n){var t=n?n.length:0;for(this.data={hash:bu(null),set:new vu};t--;)this.push(n[t])}function qn(n,t){var r=n.data;return(typeof t=="string"||ve(t)?r.set.has(t):r.hash[t])?0:-1}function Dn(n,t){var r=-1,e=n.length;for(t||(t=Me(e));++r<e;)t[r]=n[r];return t}function Kn(n,t){for(var r=-1,e=n.length;++r<e&&false!==t(n[r],r,n););
return n}function Vn(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return false;return true}function Gn(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function Jn(n,t){for(var r=-1,e=n.length,u=Me(e);++r<e;)u[r]=t(n[r],r,n);return u}function Xn(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function Hn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return true;return false}function Qn(n,t){return n===m?t:n}function nt(n,t,r,e){
return n!==m&&ru.call(e,r)?n:t}function tt(n,t,r){for(var e=-1,u=Ki(t),i=u.length;++e<i;){var o=u[e],f=n[o],l=r(f,t[o],o,n,t);(l===l?l===f:f!==f)&&(f!==m||o in n)||(n[o]=l)}return n}function rt(n,t){return null==t?n:ut(t,Ki(t),n)}function et(n,t){for(var r=-1,e=null==n,u=!e&&Ir(n),i=u?n.length:0,o=t.length,f=Me(o);++r<o;){var l=t[r];f[r]=u?Er(l,i)?n[l]:m:e?m:n[l]}return f}function ut(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function it(n,t,r){var e=typeof n;return"function"==e?t===m?n:Mt(n,t,r):null==n?Fe:"object"==e?xt(n):t===m?Be(n):At(n,t);
}function ot(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==m)return f;if(!ve(n))return n;if(e=Ti(n)){if(f=jr(n),!t)return Dn(n,f)}else{var l=uu.call(n),a=l==D;if(l!=V&&l!=z&&(!a||u))return $n[l]?Or(n,l,t):u?n:{};if(f=kr(a?{}:n),!t)return rt(f,n)}for(i||(i=[]),o||(o=[]),u=i.length;u--;)if(i[u]==n)return o[u];return i.push(n),o.push(f),(e?Kn:vt)(n,function(e,u){f[u]=ot(e,t,r,u,n,i,o)}),f}function ft(n,t,r){if(typeof n!="function")throw new Je(N);return gu(function(){n.apply(m,r)},t)}function lt(n,t){
var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=br(),f=o==r,l=f&&200<=t.length?Vu(t):null,a=t.length;l&&(o=qn,f=false,t=l);n:for(;++i<e;)if(l=n[i],f&&l===l){for(var c=a;c--;)if(t[c]===l)continue n;u.push(l)}else 0>o(t,l,0)&&u.push(l);return u}function at(n,t){var r=true;return Mu(n,function(n,e,u){return r=!!t(n,e,u)}),r}function ct(n,t,r,e){var u=e,i=u;return Mu(n,function(n,o,f){o=+t(n,o,f),(r(o,u)||o===e&&o===i)&&(u=o,i=n)}),i}function st(n,t){var r=[];return Mu(n,function(n,e,u){t(n,e,u)&&r.push(n);
}),r}function pt(n,t,r,e){var u;return r(n,function(n,r,i){return t(n,r,i)?(u=e?r:n,false):void 0}),u}function ht(n,t,r){for(var e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e];if(p(f)&&Ir(f)&&(r||Ti(f)||se(f))){t&&(f=ht(f,t,r));for(var l=-1,a=f.length;++l<a;)o[++i]=f[l]}else r||(o[++i]=f)}return o}function _t(n,t){qu(n,t,ke)}function vt(n,t){return qu(n,t,Ki)}function gt(n,t){return Du(n,t,Ki)}function yt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];$i(n[o])&&(i[++u]=o)}return i}function dt(n,t,r){
if(null!=n){r!==m&&r in zr(n)&&(t=[r]),r=0;for(var e=t.length;null!=n&&r<e;)n=n[t[r++]];return r&&r==e?n:m}}function mt(n,t,r,e,u,i){if(n===t)n=true;else if(null==n||null==t||!ve(n)&&!p(t))n=n!==n&&t!==t;else n:{var o=mt,f=Ti(n),l=Ti(t),a=B,c=B;f||(a=uu.call(n),a==z?a=V:a!=V&&(f=we(n))),l||(c=uu.call(t),c==z?c=V:c!=V&&we(t));var s=a==V,l=c==V,c=a==c;if(!c||f||s){if(!e&&(a=s&&ru.call(n,"__wrapped__"),l=l&&ru.call(t,"__wrapped__"),a||l)){n=o(a?n.value():n,l?t.value():t,r,e,u,i);break n}if(c){for(u||(u=[]),
i||(i=[]),a=u.length;a--;)if(u[a]==n){n=i[a]==t;break n}u.push(n),i.push(t),n=(f?gr:dr)(n,t,o,r,e,u,i),u.pop(),i.pop()}else n=false}else n=yr(n,t,a)}return n}function wt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=zr(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return false}for(;++e<u;){var o=t[e],f=o[0],l=n[f],a=o[1];if(i&&o[2]){if(l===m&&!(f in n))return false}else if(o=r?r(l,a,f):m,o===m?!mt(a,l,r,true):!o)return false}return true}function bt(n,t){var r=-1,e=Ir(n)?Me(n.length):[];return Mu(n,function(n,u,i){
e[++r]=t(n,u,i)}),e}function xt(n){var t=xr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?false:n[r]===e&&(e!==m||r in zr(n))}}return function(n){return wt(n,t)}}function At(n,t){var r=Ti(n),e=Wr(n)&&t===t&&!ve(t),u=n+"";return n=Br(n),function(i){if(null==i)return false;var o=u;if(i=zr(i),!(!r&&e||o in i)){if(i=1==n.length?i:dt(i,Ct(n,0,-1)),null==i)return false;o=Vr(n),i=zr(i)}return i[o]===t?t!==m||o in i:mt(t,i[o],m,true)}}function jt(n,t,r,e,u){if(!ve(n))return n;var i=Ir(t)&&(Ti(t)||we(t)),o=i?null:Ki(t);
return Kn(o||t,function(f,l){if(o&&(l=f,f=t[l]),p(f)){e||(e=[]),u||(u=[]);n:{for(var a=l,c=e,s=u,h=c.length,_=t[a];h--;)if(c[h]==_){n[a]=s[h];break n}var h=n[a],v=r?r(h,_,a,n,t):m,g=v===m;g&&(v=_,Ir(_)&&(Ti(_)||we(_))?v=Ti(h)?h:Ir(h)?Dn(h):[]:Fi(_)||se(_)?v=se(h)?Ae(h):Fi(h)?h:{}:g=false),c.push(_),s.push(v),g?n[a]=jt(v,_,r,c,s):(v===v?v!==h:h===h)&&(n[a]=v)}}else a=n[l],c=r?r(a,f,l,n,t):m,(s=c===m)&&(c=f),c===m&&(!i||l in n)||!s&&(c===c?c===a:a!==a)||(n[l]=c)}),n}function kt(n){return function(t){return null==t?m:t[n];
}}function Ot(n){var t=n+"";return n=Br(n),function(r){return dt(r,n,t)}}function Rt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Er(e)){var u=e;yu.call(n,e,1)}}}function It(n,t){return n+su(Cu()*(t-n+1))}function Et(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=false,n):t(r,n,u,i)}),r}function Ct(n,t,r){var e=-1,u=n.length;for(t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===m||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0,r=Me(u);++e<u;)r[e]=n[e+t];return r}function Wt(n,t){var r;return Mu(n,function(n,e,u){
return r=t(n,e,u),!r}),!!r}function St(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].c;return n}function Tt(t,r,e){var u=mr(),i=-1;return r=Jn(r,function(n){return u(n)}),t=bt(t,function(n){return{a:Jn(r,function(t){return t(n)}),b:++i,c:n}}),St(t,function(t,r){var u;n:{u=-1;for(var i=t.a,o=r.a,f=i.length,l=e.length;++u<f;){var a=n(i[u],o[u]);if(a){u=u<l?a*(e[u]?1:-1):a;break n}}u=t.b-r.b}return u})}function Ut(n,t){var r=0;return Mu(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function $t(n,t){var e=-1,u=br(),i=n.length,o=u==r,f=o&&200<=i,l=f?Vu():null,a=[];
l?(u=qn,o=false):(f=false,l=t?[]:a);n:for(;++e<i;){var c=n[e],s=t?t(c,e,n):c;if(o&&c===c){for(var p=l.length;p--;)if(l[p]===s)continue n;t&&l.push(s),a.push(c)}else 0>u(l,s,0)&&((t||f)&&l.push(s),a.push(c))}return a}function Ft(n,t){for(var r=-1,e=t.length,u=Me(e);++r<e;)u[r]=n[t[r]];return u}function Nt(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Ct(n,e?0:i,e?i+1:u):Ct(n,e?i+1:0,e?u:i)}function Lt(n,t){var r=n;r instanceof Bn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){
var r=[r],i=t[e];_u.apply(r,i.args),r=i.func.apply(i.thisArg,r)}return r}function zt(n,t,r){var e=0,u=n?n.length:e;if(typeof t=="number"&&t===t&&u<=Uu){for(;e<u;){var i=e+u>>>1,o=n[i];(r?o<=t:o<t)&&null!==o?e=i+1:u=i}return u}return Bt(n,t,Fe,r)}function Bt(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,l=t===m;u<i;){var a=su((u+i)/2),c=r(n[a]),s=c!==m,p=c===c;(o?p||e:f?p&&s&&(e||null!=c):l?p&&(e||s):null==c?0:e?c<=t:c<t)?u=a+1:i=a}return Ou(i,Tu)}function Mt(n,t,r){if(typeof n!="function")return Fe;
if(t===m)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function Pt(n){return lu.call(n,0)}function qt(n,t,r){for(var e=r.length,u=-1,i=ku(n.length-e,0),o=-1,f=t.length,l=Me(i+f);++o<f;)l[o]=t[o];for(;++u<e;)l[r[u]]=n[u];for(;i--;)l[o++]=n[u++];return l}function Dt(n,t,r){
for(var e=-1,u=r.length,i=-1,o=ku(n.length-u,0),f=-1,l=t.length,a=Me(o+l);++i<o;)a[i]=n[i];for(o=i;++f<l;)a[o+f]=t[f];for(;++e<u;)a[o+r[e]]=n[i++];return a}function Kt(n,t){return function(r,e,u){var i=t?t():{};if(e=mr(e,u,3),Ti(r)){u=-1;for(var o=r.length;++u<o;){var f=r[u];n(i,f,e(f,u,r),r)}}else Mu(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function Vt(n){return ae(function(t,r){var e=-1,u=null==t?0:r.length,i=2<u?r[u-2]:m,o=2<u?r[2]:m,f=1<u?r[u-1]:m;for(typeof i=="function"?(i=Mt(i,f,5),
u-=2):(i=typeof f=="function"?f:m,u-=i?1:0),o&&Cr(r[0],r[1],o)&&(i=3>u?m:i,u=1);++e<u;)(o=r[e])&&n(t,o,i);return t})}function Yt(n,t){return function(r,e){var u=r?Zu(r):0;if(!Tr(u))return n(r,e);for(var i=t?u:-1,o=zr(r);(t?i--:++i<u)&&false!==e(o[i],i,o););return r}}function Zt(n){return function(t,r,e){var u=zr(t);e=e(t);for(var i=e.length,o=n?i:-1;n?o--:++o<i;){var f=e[o];if(false===r(u[f],f,u))break}return t}}function Gt(n,t){function r(){return(this&&this!==Yn&&this instanceof r?e:n).apply(t,arguments);
}var e=Xt(n);return r}function Jt(n){return function(t){var r=-1;t=Te(Ie(t));for(var e=t.length,u="";++r<e;)u=n(u,t[r],r);return u}}function Xt(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4])}var r=Bu(n.prototype),t=n.apply(r,t);return ve(t)?t:r}}function Ht(n){function t(r,e,u){return u&&Cr(r,e,u)&&(e=null),
r=vr(r,n,null,null,null,null,null,e),r.placeholder=t.placeholder,r}return t}function Qt(n,t){return function(r,e,u){if(u&&Cr(r,e,u)&&(e=null),e=mr(e,u,3),1==e.length){u=r=Lr(r);for(var i=e,o=-1,f=u.length,l=t,a=l;++o<f;){var c=u[o],s=+i(c);n(s,l)&&(l=s,a=c)}if(u=a,!r.length||u!==t)return u}return ct(r,e,n,t)}}function nr(n,r){return function(e,u,i){return u=mr(u,i,3),Ti(e)?(u=t(e,u,r),-1<u?e[u]:m):pt(e,u,n)}}function tr(n){return function(r,e,u){return r&&r.length?(e=mr(e,u,3),t(r,e,n)):-1}}function rr(n){
return function(t,r,e){return r=mr(r,e,3),pt(t,r,n,true)}}function er(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=Me(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if(typeof o!="function")throw new Je(N);!t&&zn.prototype.thru&&"wrapper"==wr(o)&&(t=new zn([]))}for(e=t?-1:r;++e<r;){var o=i[e],u=wr(o),f="wrapper"==u?Yu(o):null;t=f&&Sr(f[0])&&f[1]==(I|j|O|E)&&!f[4].length&&1==f[9]?t[wr(f[0])].apply(t,f[3]):1==o.length&&Sr(o)?t[u]():t.thru(o)}return function(){var n=arguments;if(t&&1==n.length&&Ti(n[0]))return t.plant(n[0]).value();
for(var e=0,n=r?i[e].apply(this,n):n[0];++e<r;)n=i[e].call(this,n);return n}}}function ur(n,t){return function(r,e,u){return typeof e=="function"&&u===m&&Ti(r)?n(r,e):t(r,Mt(e,u,3))}}function ir(n){return function(t,r,e){return(typeof r!="function"||e!==m)&&(r=Mt(r,e,3)),n(t,r,ke)}}function or(n){return function(t,r,e){return(typeof r!="function"||e!==m)&&(r=Mt(r,e,3)),n(t,r)}}function fr(n){return function(t,r,e){var u={};return r=mr(r,e,3),vt(t,function(t,e,i){i=r(t,e,i),e=n?i:e,t=n?t:i,u[e]=t}),
u}}function lr(n){return function(t,r,e){return t=u(t),(n?t:"")+pr(t,r,e)+(n?"":t)}}function ar(n){var t=ae(function(r,e){var u=_(e,t.placeholder);return vr(r,n,null,e,u)});return t}function cr(n,t){return function(r,e,u,i){var o=3>arguments.length;return typeof e=="function"&&i===m&&Ti(r)?n(r,e,u,o):Et(r,mr(e,i,4),u,o,t)}}function sr(n,t,r,e,u,i,o,f,l,a){function c(){for(var w=arguments.length,A=w,j=Me(w);A--;)j[A]=arguments[A];if(e&&(j=qt(j,e,u)),i&&(j=Dt(j,i,o)),v||y){var A=c.placeholder,k=_(j,A),w=w-k.length;
if(w<a){var I=f?Dn(f):null,w=ku(a-w,0),E=v?k:null,k=v?null:k,C=v?j:null,j=v?null:j;return t|=v?O:R,t&=~(v?R:O),g||(t&=~(b|x)),j=[n,t,r,C,E,j,k,I,l,w],I=sr.apply(m,j),Sr(n)&&Gu(I,j),I.placeholder=A,I}}if(A=p?r:this,I=h?A[n]:n,f)for(w=j.length,E=Ou(f.length,w),k=Dn(j);E--;)C=f[E],j[E]=Er(C,w)?k[C]:m;return s&&l<j.length&&(j.length=l),this&&this!==Yn&&this instanceof c&&(I=d||Xt(n)),I.apply(A,j)}var s=t&I,p=t&b,h=t&x,v=t&j,g=t&A,y=t&k,d=h?null:Xt(n);return c}function pr(n,t,r){return n=n.length,t=+t,
n<t&&Au(t)?(t-=n,r=null==r?" ":r+"",We(r,au(t/r.length)).slice(0,t)):""}function hr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,l=-1,a=e.length,c=Me(f+a);++l<a;)c[l]=e[l];for(;f--;)c[l++]=arguments[++t];return(this&&this!==Yn&&this instanceof u?o:n).apply(i?r:this,c)}var i=t&b,o=Xt(n);return u}function _r(n){return function(t,r,e,u){var i=mr(e);return null==e&&i===it?zt(t,r,n):Bt(t,r,i(e,u,1),n)}}function vr(n,t,r,e,u,i,o,f){var l=t&x;if(!l&&typeof n!="function")throw new Je(N);var a=e?e.length:0;
if(a||(t&=~(O|R),e=u=null),a-=u?u.length:0,t&R){var c=e,s=u;e=u=null}var p=l?null:Yu(n);return r=[n,t,r,e,u,c,s,i,o,f],p&&(e=r[1],t=p[1],f=e|t,u=t==I&&e==j||t==I&&e==E&&r[7].length<=p[8]||t==(I|E)&&e==j,(f<I||u)&&(t&b&&(r[2]=p[2],f|=e&b?0:A),(e=p[3])&&(u=r[3],r[3]=u?qt(u,e,p[4]):Dn(e),r[4]=u?_(r[3],L):Dn(p[4])),(e=p[5])&&(u=r[5],r[5]=u?Dt(u,e,p[6]):Dn(e),r[6]=u?_(r[5],L):Dn(p[6])),(e=p[7])&&(r[7]=Dn(e)),t&I&&(r[8]=null==r[8]?p[8]:Ou(r[8],p[8])),null==r[9]&&(r[9]=p[9]),r[0]=p[0],r[1]=f),t=r[1],f=r[9]),
r[9]=null==f?l?0:n.length:ku(f-a,0)||0,(p?Ku:Gu)(t==b?Gt(r[0],r[2]):t!=O&&t!=(b|O)||r[4].length?sr.apply(m,r):hr.apply(m,r),r)}function gr(n,t,r,e,u,i,o){var f=-1,l=n.length,a=t.length;if(l!=a&&(!u||a<=l))return false;for(;++f<l;){var c=n[f],a=t[f],s=e?e(u?a:c,u?c:a,f):m;if(s!==m){if(s)continue;return false}if(u){if(!Hn(t,function(n){return c===n||r(c,n,e,u,i,o)}))return false}else if(c!==a&&!r(c,a,e,u,i,o))return false}return true}function yr(n,t,r){switch(r){case M:case P:return+n==+t;case q:return n.name==t.name&&n.message==t.message;
case K:return n!=+n?t!=+t:n==+t;case Y:case Z:return n==t+""}return false}function dr(n,t,r,e,u,i,o){var f=Ki(n),l=f.length,a=Ki(t).length;if(l!=a&&!u)return false;for(a=l;a--;){var c=f[a];if(!(u?c in t:ru.call(t,c)))return false}for(var s=u;++a<l;){var c=f[a],p=n[c],h=t[c],_=e?e(u?h:p,u?p:h,c):m;if(_===m?!r(p,h,e,u,i,o):!_)return false;s||(s="constructor"==c)}return s||(r=n.constructor,e=t.constructor,!(r!=e&&"constructor"in n&&"constructor"in t)||typeof r=="function"&&r instanceof r&&typeof e=="function"&&e instanceof e)?true:false;
}function mr(n,t,r){var e=Nn.callback||Ue,e=e===Ue?it:e;return r?e(n,t,r):e}function wr(n){for(var t=n.name,r=Lu[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function br(n,t,e){var u=Nn.indexOf||Kr,u=u===Kr?r:u;return n?u(n,t,e):u}function xr(n){n=Oe(n);for(var t=n.length;t--;){var r=n[t][1];n[t][2]=r===r&&!ve(r)}return n}function Ar(n,t){var r=null==n?m:n[t];return ge(r)?r:m}function jr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&ru.call(n,"index")&&(r.index=n.index,
r.input=n.input),r}function kr(n){return n=n.constructor,typeof n=="function"&&n instanceof n||(n=Ye),new n}function Or(n,t,r){var e=n.constructor;switch(t){case G:return Pt(n);case M:case P:return new e(+n);case J:case X:case H:case Q:case nn:case tn:case rn:case en:case un:return t=n.buffer,new e(r?Pt(t):t,n.byteOffset,n.length);case K:case Z:return new e(n);case Y:var u=new e(n.source,jn.exec(n));u.lastIndex=n.lastIndex}return u}function Rr(n,t,r){return null==n||Wr(t,n)||(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),
t=Vr(t)),t=null==n?n:n[t],null==t?m:t.apply(n,r)}function Ir(n){return null!=n&&Tr(Zu(n))}function Er(n,t){return n=typeof n=="number"||Rn.test(n)?+n:-1,t=null==t?Fu:t,-1<n&&0==n%1&&n<t}function Cr(n,t,r){if(!ve(r))return false;var e=typeof t;return("number"==e?Ir(r)&&Er(t,r.length):"string"==e&&t in r)?(t=r[t],n===n?n===t:t!==t):false}function Wr(n,t){var r=typeof n;return"string"==r&&yn.test(n)||"number"==r?true:Ti(n)?false:!gn.test(n)||null!=t&&n in zr(t)}function Sr(n){var t=wr(n);return t in Bn.prototype?(t=Nn[t],
n===t?true:(t=Yu(t),!!t&&n===t[0])):false}function Tr(n){return typeof n=="number"&&-1<n&&0==n%1&&n<=Fu}function Ur(n,t){n=zr(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function $r(n,t){var r={};return _t(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function Fr(n){var t;if(!p(n)||uu.call(n)!=V||!(ru.call(n,"constructor")||(t=n.constructor,typeof t!="function"||t instanceof t)))return false;var r;return _t(n,function(n,t){r=t}),r===m||ru.call(n,r)}function Nr(n){for(var t=ke(n),r=t.length,e=r&&n.length,u=!!e&&Tr(e)&&(Ti(n)||se(n)),i=-1,o=[];++i<r;){
var f=t[i];(u&&Er(f,e)||ru.call(n,f))&&o.push(f)}return o}function Lr(n){return null==n?[]:Ir(n)?ve(n)?n:Ye(n):Re(n)}function zr(n){return ve(n)?n:Ye(n)}function Br(n){if(Ti(n))return n;var t=[];return u(n).replace(dn,function(n,r,e,u){t.push(e?u.replace(xn,"$1"):r||n)}),t}function Mr(n){return n instanceof Bn?n.clone():new zn(n.__wrapped__,n.__chain__,Dn(n.__actions__))}function Pr(n,t,r){return n&&n.length?((r?Cr(n,t,r):null==t)&&(t=1),Ct(n,0>t?0:t)):[]}function qr(n,t,r){var e=n?n.length:0;return e?((r?Cr(n,t,r):null==t)&&(t=1),
t=e-(+t||0),Ct(n,0,0>t?0:t)):[]}function Dr(n){return n?n[0]:m}function Kr(n,t,e){var u=n?n.length:0;if(!u)return-1;if(typeof e=="number")e=0>e?ku(u+e,0):e;else if(e)return e=zt(n,t),n=n[e],(t===t?t===n:n!==n)?e:-1;return r(n,t,e||0)}function Vr(n){var t=n?n.length:0;return t?n[t-1]:m}function Yr(n){return Pr(n,1)}function Zr(n,t,e,u){if(!n||!n.length)return[];null!=t&&typeof t!="boolean"&&(u=e,e=Cr(n,t,u)?null:t,t=false);var i=mr();if((null!=e||i!==it)&&(e=i(e,u,3)),t&&br()==r){t=e;var o;e=-1,u=n.length;
for(var i=-1,f=[];++e<u;){var l=n[e],a=t?t(l,e,n):l;e&&o===a||(o=a,f[++i]=l)}n=f}else n=$t(n,e);return n}function Gr(n){if(!n||!n.length)return[];var t=-1,r=0;n=Gn(n,function(n){return Ir(n)?(r=ku(n.length,r),true):void 0});for(var e=Me(r);++t<r;)e[t]=Jn(n,kt(t));return e}function Jr(n,t,r){return n&&n.length?(n=Gr(n),null==t?n:(t=Mt(t,r,4),Jn(n,function(n){return Xn(n,t,m,true)}))):[]}function Xr(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Ti(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1]);
}return u}function Hr(n){return n=Nn(n),n.__chain__=true,n}function Qr(n,t,r){return t.call(r,n)}function ne(n,t,r){var e=Ti(n)?Vn:at;return r&&Cr(n,t,r)&&(t=null),(typeof t!="function"||r!==m)&&(t=mr(t,r,3)),e(n,t)}function te(n,t,r){var e=Ti(n)?Gn:st;return t=mr(t,r,3),e(n,t)}function re(n,t,r,e){var u=n?Zu(n):0;return Tr(u)||(n=Re(n),u=n.length),u?(r=typeof r!="number"||e&&Cr(t,r,e)?0:0>r?ku(u+r,0):r||0,typeof n=="string"||!Ti(n)&&me(n)?r<u&&-1<n.indexOf(t,r):-1<br(n,t,r)):false}function ee(n,t,r){
var e=Ti(n)?Jn:bt;return t=mr(t,r,3),e(n,t)}function ue(n,t,r){if(r?Cr(n,t,r):null==t){n=Lr(n);var e=n.length;return 0<e?n[It(0,e-1)]:m}r=-1,n=xe(n);var e=n.length,u=e-1;for(t=Ou(0>t?0:+t||0,e);++r<t;){var e=It(r,u),i=n[e];n[e]=n[r],n[r]=i}return n.length=t,n}function ie(n,t,r){var e=Ti(n)?Hn:Wt;return r&&Cr(n,t,r)&&(t=null),(typeof t!="function"||r!==m)&&(t=mr(t,r,3)),e(n,t)}function oe(n,t){var r;if(typeof t!="function"){if(typeof n!="function")throw new Je(N);var e=n;n=t,t=e}return function(){
return 0<--n&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}}function fe(n,t,r){function e(){var r=t-(wi()-a);0>=r||r>t?(f&&cu(f),r=p,f=s=p=m,r&&(h=wi(),l=n.apply(c,o),s||f||(o=c=null))):s=gu(e,r)}function u(){s&&cu(s),f=s=p=m,(v||_!==t)&&(h=wi(),l=n.apply(c,o),s||f||(o=c=null))}function i(){if(o=arguments,a=wi(),c=this,p=v&&(s||!g),false===_)var r=g&&!s;else{f||g||(h=a);var i=_-(a-h),y=0>=i||i>_;y?(f&&(f=cu(f)),h=a,l=n.apply(c,o)):f||(f=gu(u,i))}return y&&s?s=cu(s):s||t===_||(s=gu(e,t)),r&&(y=true,l=n.apply(c,o)),
!y||s||f||(o=c=null),l}var o,f,l,a,c,s,p,h=0,_=false,v=true;if(typeof n!="function")throw new Je(N);if(t=0>t?0:+t||0,true===r)var g=true,v=false;else ve(r)&&(g=r.leading,_="maxWait"in r&&ku(+r.maxWait||0,t),v="trailing"in r?r.trailing:v);return i.cancel=function(){s&&cu(s),f&&cu(f),f=s=p=m},i}function le(n,t){function r(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;return i.has(u)?i.get(u):(e=n.apply(this,e),r.cache=i.set(u,e),e)}if(typeof n!="function"||t&&typeof t!="function")throw new Je(N);return r.cache=new le.Cache,
r}function ae(n,t){if(typeof n!="function")throw new Je(N);return t=ku(t===m?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=ku(r.length-t,0),i=Me(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}for(u=Me(t+1),e=-1;++e<t;)u[e]=r[e];return u[t]=i,n.apply(this,u)}}function ce(n,t){return n>t}function se(n){return p(n)&&Ir(n)&&uu.call(n)==z}function pe(n){return!!n&&1===n.nodeType&&p(n)&&-1<uu.call(n).indexOf("Element");
}function he(n,t,r,e){return e=(r=typeof r=="function"?Mt(r,e,3):m)?r(n,t):m,e===m?mt(n,t,r):!!e}function _e(n){return p(n)&&typeof n.message=="string"&&uu.call(n)==q}function ve(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function ge(n){return null==n?false:uu.call(n)==D?ou.test(tu.call(n)):p(n)&&On.test(n)}function ye(n){return typeof n=="number"||p(n)&&uu.call(n)==K}function de(n){return p(n)&&uu.call(n)==Y}function me(n){return typeof n=="string"||p(n)&&uu.call(n)==Z}function we(n){return p(n)&&Tr(n.length)&&!!Un[uu.call(n)];
}function be(n,t){return n<t}function xe(n){var t=n?Zu(n):0;return Tr(t)?t?Dn(n):[]:Re(n)}function Ae(n){return ut(n,ke(n))}function je(n){return yt(n,ke(n))}function ke(n){if(null==n)return[];ve(n)||(n=Ye(n));for(var t=n.length,t=t&&Tr(t)&&(Ti(n)||se(n))&&t||0,r=n.constructor,e=-1,r=typeof r=="function"&&r.prototype===n,u=Me(t),i=0<t;++e<t;)u[e]=e+"";for(var o in n)i&&Er(o,t)||"constructor"==o&&(r||!ru.call(n,o))||u.push(o);return u}function Oe(n){n=zr(n);for(var t=-1,r=Ki(n),e=r.length,u=Me(e);++t<e;){
var i=r[t];u[t]=[i,n[i]]}return u}function Re(n){return Ft(n,Ki(n))}function Ie(n){return(n=u(n))&&n.replace(In,l).replace(bn,"")}function Ee(n){return(n=u(n))&&wn.test(n)?n.replace(mn,"\\$&"):n}function Ce(n,t,r){return r&&Cr(n,t,r)&&(t=0),Eu(n,t)}function We(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!Au(t))return r;do t%2&&(r+=n),t=su(t/2),n+=n;while(t);return r}function Se(n,t,r){var e=n;return(n=u(n))?(r?Cr(e,t,r):null==t)?n.slice(v(n),g(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function Te(n,t,r){
return r&&Cr(n,t,r)&&(t=null),n=u(n),n.match(t||Wn)||[]}function Ue(n,t,r){return r&&Cr(n,t,r)&&(t=null),p(n)?Ne(n):it(n,t)}function $e(n){return function(){return n}}function Fe(n){return n}function Ne(n){return xt(ot(n,true))}function Le(n,t,r){if(null==r){var e=ve(t),u=e?Ki(t):null;((u=u&&u.length?yt(t,u):null)?u.length:e)||(u=false,r=t,t=n,n=this)}u||(u=yt(t,Ki(t)));var i=true,e=-1,o=$i(n),f=u.length;false===r?i=false:ve(r)&&"chain"in r&&(i=r.chain);for(;++e<f;){r=u[e];var l=t[r];n[r]=l,o&&(n.prototype[r]=function(t){
return function(){var r=this.__chain__;if(i||r){var e=n(this.__wrapped__);return(e.__actions__=Dn(this.__actions__)).push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return r=[this.value()],_u.apply(r,arguments),t.apply(n,r)}}(l))}return n}function ze(){}function Be(n){return Wr(n)?kt(n):Ot(n)}h=h?Zn.defaults(Yn.Object(),h,Zn.pick(Yn,Tn)):Yn;var Me=h.Array,Pe=h.Date,qe=h.Error,De=h.Function,Ke=h.Math,Ve=h.Number,Ye=h.Object,Ze=h.RegExp,Ge=h.String,Je=h.TypeError,Xe=Me.prototype,He=Ye.prototype,Qe=Ge.prototype,nu=(nu=h.window)?nu.document:null,tu=De.prototype.toString,ru=He.hasOwnProperty,eu=0,uu=He.toString,iu=h._,ou=Ze("^"+Ee(tu.call(ru)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fu=Ar(h,"ArrayBuffer"),lu=Ar(fu&&new fu(0),"slice"),au=Ke.ceil,cu=h.clearTimeout,su=Ke.floor,pu=Ar(Ye,"getPrototypeOf"),hu=h.parseFloat,_u=Xe.push,vu=Ar(h,"Set"),gu=h.setTimeout,yu=Xe.splice,du=Ar(h,"Uint8Array"),mu=Ar(h,"WeakMap"),wu=function(){
try{var n=Ar(h,"Float64Array"),t=new n(new fu(10),0,1)&&n}catch(r){}return t||null}(),bu=Ar(Ye,"create"),xu=Ar(Me,"isArray"),Au=h.isFinite,ju=Ar(Ye,"keys"),ku=Ke.max,Ou=Ke.min,Ru=Ar(Pe,"now"),Iu=Ar(Ve,"isFinite"),Eu=h.parseInt,Cu=Ke.random,Wu=Ve.NEGATIVE_INFINITY,Su=Ve.POSITIVE_INFINITY,Tu=4294967294,Uu=2147483647,$u=wu?wu.BYTES_PER_ELEMENT:0,Fu=9007199254740991,Nu=mu&&new mu,Lu={},zu=Nn.support={};!function(n){function t(){this.x=n}var r=[];t.prototype={valueOf:n,y:n};for(var e in new t)r.push(e);
try{zu.dom=11===nu.createDocumentFragment().nodeType}catch(u){zu.dom=false}}(1,0),Nn.templateSettings={escape:hn,evaluate:_n,interpolate:vn,variable:"",imports:{_:Nn}};var Bu=function(){function n(){}return function(t){if(ve(t)){n.prototype=t;var r=new n;n.prototype=null}return r||{}}}(),Mu=Yt(vt),Pu=Yt(gt,true),qu=Zt(),Du=Zt(true),Ku=Nu?function(n,t){return Nu.set(n,t),n}:Fe;lu||(Pt=fu&&du?function(n){var t=n.byteLength,r=wu?su(t/$u):0,e=r*$u,u=new fu(t);if(r){var i=new wu(u,0,r);i.set(new wu(n,0,r))}return t!=e&&(i=new du(u,e),
i.set(new du(n,e))),u}:$e(null));var Vu=bu&&vu?function(n){return new Pn(n)}:$e(null),Yu=Nu?function(n){return Nu.get(n)}:ze,Zu=kt("length"),Gu=function(){var n=0,t=0;return function(r,e){var u=wi(),i=T-(u-t);if(t=u,0<i){if(++n>=S)return r}else n=0;return Ku(r,e)}}(),Ju=ae(function(n,t){return Ir(n)?lt(n,ht(t,false,true)):[]}),Xu=tr(),Hu=tr(true),Qu=ae(function(n){for(var t=n.length,e=t,u=Me(c),i=br(),o=i==r,f=[];e--;){var l=n[e]=Ir(l=n[e])?l:[];u[e]=o&&120<=l.length?Vu(e&&l):null}var o=n[0],a=-1,c=o?o.length:0,s=u[0];
n:for(;++a<c;)if(l=o[a],0>(s?qn(s,l):i(f,l,0))){for(e=t;--e;){var p=u[e];if(0>(p?qn(p,l):i(n[e],l,0)))continue n}s&&s.push(l),f.push(l)}return f}),ni=ae(function(t,r){r=ht(r);var e=et(t,r);return Rt(t,r.sort(n)),e}),ti=_r(),ri=_r(true),ei=ae(function(n){return $t(ht(n,false,true))}),ui=ae(function(n,t){return Ir(n)?lt(n,t):[]}),ii=ae(Gr),oi=ae(function(n){var t=n.length,r=2<t?n[t-2]:m,e=1<t?n[t-1]:m;return 2<t&&typeof r=="function"?t-=2:(r=1<t&&typeof e=="function"?(--t,e):m,e=m),n.length=t,Jr(n,r,e)}),fi=ae(function(n,t){
return et(n,ht(t))}),li=Kt(function(n,t,r){ru.call(n,r)?++n[r]:n[r]=1}),ai=nr(Mu),ci=nr(Pu,true),si=ur(Kn,Mu),pi=ur(function(n,t){for(var r=n.length;r--&&false!==t(n[r],r,n););return n},Pu),hi=Kt(function(n,t,r){ru.call(n,r)?n[r].push(t):n[r]=[t]}),_i=Kt(function(n,t,r){n[r]=t}),vi=ae(function(n,t,r){var e=-1,u=typeof t=="function",i=Wr(t),o=Ir(n)?Me(n.length):[];return Mu(n,function(n){var f=u?t:i&&null!=n?n[t]:null;o[++e]=f?f.apply(n,r):Rr(n,t,r)}),o}),gi=Kt(function(n,t,r){n[r?0:1].push(t)},function(){
return[[],[]]}),yi=cr(Xn,Mu),di=cr(function(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r},Pu),mi=ae(function(n,t){if(null==n)return[];var r=t[2];return r&&Cr(t[0],t[1],r)&&(t.length=1),Tt(n,ht(t),[])}),wi=Ru||function(){return(new Pe).getTime()},bi=ae(function(n,t,r){var e=b;if(r.length)var u=_(r,bi.placeholder),e=e|O;return vr(n,e,t,r,u)}),xi=ae(function(n,t){t=t.length?ht(t):je(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=vr(n[u],b,n)}return n}),Ai=ae(function(n,t,r){
var e=b|x;if(r.length)var u=_(r,Ai.placeholder),e=e|O;return vr(t,e,n,r,u)}),ji=Ht(j),ki=Ht(k),Oi=ae(function(n,t){return ft(n,1,t)}),Ri=ae(function(n,t,r){return ft(n,t,r)}),Ii=er(),Ei=er(true),Ci=ar(O),Wi=ar(R),Si=ae(function(n,t){return vr(n,E,null,null,null,ht(t))}),Ti=xu||function(n){return p(n)&&Tr(n.length)&&uu.call(n)==B};zu.dom||(pe=function(n){return!!n&&1===n.nodeType&&p(n)&&!Fi(n)});var Ui=Iu||function(n){return typeof n=="number"&&Au(n)},$i=e(/x/)||du&&!e(du)?function(n){return uu.call(n)==D;
}:e,Fi=pu?function(n){if(!n||uu.call(n)!=V)return false;var t=Ar(n,"valueOf"),r=t&&(r=pu(t))&&pu(r);return r?n==r||pu(n)==r:Fr(n)}:Fr,Ni=Vt(function(n,t,r){return r?tt(n,t,r):rt(n,t)}),Li=ae(function(n){var t=n[0];return null==t?t:(n.push(Qn),Ni.apply(m,n))}),zi=rr(vt),Bi=rr(gt),Mi=ir(qu),Pi=ir(Du),qi=or(vt),Di=or(gt),Ki=ju?function(n){var t=null==n?null:n.constructor;return typeof t=="function"&&t.prototype===n||typeof n!="function"&&Ir(n)?Nr(n):ve(n)?ju(n):[]}:Nr,Vi=fr(true),Yi=fr(),Zi=Vt(jt),Gi=ae(function(n,t){
if(null==n)return{};if("function"!=typeof t[0])return t=Jn(ht(t),Ge),Ur(n,lt(ke(n),t));var r=Mt(t[0],t[1],3);return $r(n,function(n,t,e){return!r(n,t,e)})}),Ji=ae(function(n,t){return null==n?{}:"function"==typeof t[0]?$r(n,Mt(t[0],t[1],3)):Ur(n,ht(t))}),Xi=Jt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Hi=Jt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Qi=lr(),no=lr(true);8!=Eu(Sn+"08")&&(Ce=function(n,t,r){return(r?Cr(n,t,r):null==t)?t=0:t&&(t=+t),
n=Se(n),Eu(n,t||(kn.test(n)?16:10))});var to=Jt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),ro=Jt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),eo=ae(function(n,t){try{return n.apply(m,t)}catch(r){return _e(r)?r:new qe(r)}}),uo=ae(function(n,t){return function(r){return Rr(r,n,t)}}),io=ae(function(n,t){return function(r){return Rr(n,r,t)}}),oo=Qt(ce,Wu),fo=Qt(be,Su);return Nn.prototype=Ln.prototype,zn.prototype=Bu(Ln.prototype),zn.prototype.constructor=zn,
Bn.prototype=Bu(Ln.prototype),Bn.prototype.constructor=Bn,Mn.prototype["delete"]=function(n){return this.has(n)&&delete this.__data__[n]},Mn.prototype.get=function(n){return"__proto__"==n?m:this.__data__[n]},Mn.prototype.has=function(n){return"__proto__"!=n&&ru.call(this.__data__,n)},Mn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},Pn.prototype.push=function(n){var t=this.data;typeof n=="string"||ve(n)?t.set.add(n):t.hash[n]=true},le.Cache=Mn,Nn.after=function(n,t){if(typeof t!="function"){
if(typeof n!="function")throw new Je(N);var r=n;n=t,t=r}return n=Au(n=+n)?n:0,function(){return 1>--n?t.apply(this,arguments):void 0}},Nn.ary=function(n,t,r){return r&&Cr(n,t,r)&&(t=null),t=n&&null==t?n.length:ku(+t||0,0),vr(n,I,null,null,null,null,t)},Nn.assign=Ni,Nn.at=fi,Nn.before=oe,Nn.bind=bi,Nn.bindAll=xi,Nn.bindKey=Ai,Nn.callback=Ue,Nn.chain=Hr,Nn.chunk=function(n,t,r){t=(r?Cr(n,t,r):null==t)?1:ku(+t||1,1),r=0;for(var e=n?n.length:0,u=-1,i=Me(au(e/t));r<e;)i[++u]=Ct(n,r,r+=t);return i},Nn.compact=function(n){
for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u},Nn.constant=$e,Nn.countBy=li,Nn.create=function(n,t,r){var e=Bu(n);return r&&Cr(n,t,r)&&(t=null),t?rt(e,t):e},Nn.curry=ji,Nn.curryRight=ki,Nn.debounce=fe,Nn.defaults=Li,Nn.defer=Oi,Nn.delay=Ri,Nn.difference=Ju,Nn.drop=Pr,Nn.dropRight=qr,Nn.dropRightWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),true,true):[]},Nn.dropWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),true):[]},Nn.fill=function(n,t,r,e){var u=n?n.length:0;
if(!u)return[];for(r&&typeof r!="number"&&Cr(n,t,r)&&(r=0,e=u),u=n.length,r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===m||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;r<u;)n[r++]=t;return n},Nn.filter=te,Nn.flatten=function(n,t,r){var e=n?n.length:0;return r&&Cr(n,t,r)&&(t=false),e?ht(n,t):[]},Nn.flattenDeep=function(n){return n&&n.length?ht(n,true):[]},Nn.flow=Ii,Nn.flowRight=Ei,Nn.forEach=si,Nn.forEachRight=pi,Nn.forIn=Mi,Nn.forInRight=Pi,Nn.forOwn=qi,Nn.forOwnRight=Di,Nn.functions=je,Nn.groupBy=hi,Nn.indexBy=_i,
Nn.initial=function(n){return qr(n,1)},Nn.intersection=Qu,Nn.invert=function(n,t,r){r&&Cr(n,t,r)&&(t=null),r=-1;for(var e=Ki(n),u=e.length,i={};++r<u;){var o=e[r],f=n[o];t?ru.call(i,f)?i[f].push(o):i[f]=[o]:i[f]=o}return i},Nn.invoke=vi,Nn.keys=Ki,Nn.keysIn=ke,Nn.map=ee,Nn.mapKeys=Vi,Nn.mapValues=Yi,Nn.matches=Ne,Nn.matchesProperty=function(n,t){return At(n,ot(t,true))},Nn.memoize=le,Nn.merge=Zi,Nn.method=uo,Nn.methodOf=io,Nn.mixin=Le,Nn.negate=function(n){if(typeof n!="function")throw new Je(N);return function(){
return!n.apply(this,arguments)}},Nn.omit=Gi,Nn.once=function(n){return oe(2,n)},Nn.pairs=Oe,Nn.partial=Ci,Nn.partialRight=Wi,Nn.partition=gi,Nn.pick=Ji,Nn.pluck=function(n,t){return ee(n,Be(t))},Nn.property=Be,Nn.propertyOf=function(n){return function(t){return dt(n,Br(t),t+"")}},Nn.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=br(),u=n.length;++r<u;)for(var i=0,o=n[r];-1<(i=e(t,o,i));)yu.call(t,i,1);return t},Nn.pullAt=ni,Nn.range=function(n,t,r){r&&Cr(n,t,r)&&(t=r=null),
n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;var e=-1;t=ku(au((t-n)/(r||1)),0);for(var u=Me(t);++e<t;)u[e]=n,n+=r;return u},Nn.rearg=Si,Nn.reject=function(n,t,r){var e=Ti(n)?Gn:st;return t=mr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})},Nn.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=mr(t,r,3);++u<o;)r=n[u],t(r,u,n)&&(e.push(r),i.push(u));return Rt(n,i),e},Nn.rest=Yr,Nn.restParam=ae,Nn.set=function(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||Wr(t,n)?[e]:Br(t);
for(var e=-1,u=t.length,i=u-1,o=n;null!=o&&++e<u;){var f=t[e];ve(o)&&(e==i?o[f]=r:null==o[f]&&(o[f]=Er(t[e+1])?[]:{})),o=o[f]}return n},Nn.shuffle=function(n){return ue(n,Su)},Nn.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&typeof r!="number"&&Cr(n,t,r)&&(t=0,r=e),Ct(n,t,r)):[]},Nn.sortBy=function(n,t,r){if(null==n)return[];r&&Cr(n,t,r)&&(t=null);var e=-1;return t=mr(t,r,3),n=bt(n,function(n,r,u){return{a:t(n,r,u),b:++e,c:n}}),St(n,f)},Nn.sortByAll=mi,Nn.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Cr(t,r,e)&&(r=null),
Ti(t)||(t=null==t?[]:[t]),Ti(r)||(r=null==r?[]:[r]),Tt(n,t,r))},Nn.spread=function(n){if(typeof n!="function")throw new Je(N);return function(t){return n.apply(this,t)}},Nn.take=function(n,t,r){return n&&n.length?((r?Cr(n,t,r):null==t)&&(t=1),Ct(n,0,0>t?0:t)):[]},Nn.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Cr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Ct(n,0>t?0:t)):[]},Nn.takeRightWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3),false,true):[]},Nn.takeWhile=function(n,t,r){return n&&n.length?Nt(n,mr(t,r,3)):[];
},Nn.tap=function(n,t,r){return t.call(r,n),n},Nn.throttle=function(n,t,r){var e=true,u=true;if(typeof n!="function")throw new Je(N);return false===r?e=false:ve(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Fn.leading=e,Fn.maxWait=+t,Fn.trailing=u,fe(n,t,Fn)},Nn.thru=Qr,Nn.times=function(n,t,r){if(n=su(n),1>n||!Au(n))return[];var e=-1,u=Me(Ou(n,4294967295));for(t=Mt(t,r,1);++e<n;)4294967295>e?u[e]=t(e):t(e);return u},Nn.toArray=xe,Nn.toPlainObject=Ae,Nn.transform=function(n,t,r,e){var u=Ti(n)||we(n);
return t=mr(t,e,4),null==r&&(u||ve(n)?(e=n.constructor,r=u?Ti(n)?new e:[]:Bu($i(e)?e.prototype:null)):r={}),(u?Kn:vt)(n,function(n,e,u){return t(r,n,e,u)}),r},Nn.union=ei,Nn.uniq=Zr,Nn.unzip=Gr,Nn.unzipWith=Jr,Nn.values=Re,Nn.valuesIn=function(n){return Ft(n,ke(n))},Nn.where=function(n,t){return te(n,xt(t))},Nn.without=ui,Nn.wrap=function(n,t){return t=null==t?Fe:t,vr(t,O,null,[n],[])},Nn.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Ir(r))var e=e?lt(e,r).concat(lt(r,e)):r;
}return e?$t(e):[]},Nn.zip=ii,Nn.zipObject=Xr,Nn.zipWith=oi,Nn.backflow=Ei,Nn.collect=ee,Nn.compose=Ei,Nn.each=si,Nn.eachRight=pi,Nn.extend=Ni,Nn.iteratee=Ue,Nn.methods=je,Nn.object=Xr,Nn.select=te,Nn.tail=Yr,Nn.unique=Zr,Le(Nn,Nn),Nn.add=function(n,t){return(+n||0)+(+t||0)},Nn.attempt=eo,Nn.camelCase=Xi,Nn.capitalize=function(n){return(n=u(n))&&n.charAt(0).toUpperCase()+n.slice(1)},Nn.clone=function(n,t,r,e){return t&&typeof t!="boolean"&&Cr(n,t,r)?t=false:typeof t=="function"&&(e=r,r=t,t=false),typeof r=="function"?ot(n,t,Mt(r,e,1)):ot(n,t);
},Nn.cloneDeep=function(n,t,r){return typeof t=="function"?ot(n,true,Mt(t,r,1)):ot(n,true)},Nn.deburr=Ie,Nn.endsWith=function(n,t,r){n=u(n),t+="";var e=n.length;return r=r===m?e:Ou(0>r?0:+r||0,e),r-=t.length,0<=r&&n.indexOf(t,r)==r},Nn.escape=function(n){return(n=u(n))&&pn.test(n)?n.replace(cn,a):n},Nn.escapeRegExp=Ee,Nn.every=ne,Nn.find=ai,Nn.findIndex=Xu,Nn.findKey=zi,Nn.findLast=ci,Nn.findLastIndex=Hu,Nn.findLastKey=Bi,Nn.findWhere=function(n,t){return ai(n,xt(t))},Nn.first=Dr,Nn.get=function(n,t,r){
return n=null==n?m:dt(n,Br(t),t+""),n===m?r:n},Nn.gt=ce,Nn.gte=function(n,t){return n>=t},Nn.has=function(n,t){if(null==n)return false;var r=ru.call(n,t);if(!r&&!Wr(t)){if(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),null==n)return false;t=Vr(t),r=ru.call(n,t)}return r||Tr(n.length)&&Er(t,n.length)&&(Ti(n)||se(n))},Nn.identity=Fe,Nn.includes=re,Nn.indexOf=Kr,Nn.inRange=function(n,t,r){return t=+t||0,"undefined"===typeof r?(r=t,t=0):r=+r||0,n>=Ou(t,r)&&n<ku(t,r)},Nn.isArguments=se,Nn.isArray=Ti,Nn.isBoolean=function(n){
return true===n||false===n||p(n)&&uu.call(n)==M},Nn.isDate=function(n){return p(n)&&uu.call(n)==P},Nn.isElement=pe,Nn.isEmpty=function(n){return null==n?true:Ir(n)&&(Ti(n)||me(n)||se(n)||p(n)&&$i(n.splice))?!n.length:!Ki(n).length},Nn.isEqual=he,Nn.isError=_e,Nn.isFinite=Ui,Nn.isFunction=$i,Nn.isMatch=function(n,t,r,e){return r=typeof r=="function"?Mt(r,e,3):m,wt(n,xr(t),r)},Nn.isNaN=function(n){return ye(n)&&n!=+n},Nn.isNative=ge,Nn.isNull=function(n){return null===n},Nn.isNumber=ye,Nn.isObject=ve,Nn.isPlainObject=Fi,
Nn.isRegExp=de,Nn.isString=me,Nn.isTypedArray=we,Nn.isUndefined=function(n){return n===m},Nn.kebabCase=Hi,Nn.last=Vr,Nn.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if(typeof r=="number")u=(0>r?ku(e+r,0):Ou(r||0,e-1))+1;else if(r)return u=zt(n,t,true)-1,n=n[u],(t===t?t===n:n!==n)?u:-1;if(t!==t)return s(n,u,true);for(;u--;)if(n[u]===t)return u;return-1},Nn.lt=be,Nn.lte=function(n,t){return n<=t},Nn.max=oo,Nn.min=fo,Nn.noConflict=function(){return h._=iu,this},Nn.noop=ze,Nn.now=wi,
Nn.pad=function(n,t,r){n=u(n),t=+t;var e=n.length;return e<t&&Au(t)?(e=(t-e)/2,t=su(e),e=au(e),r=pr("",e,r),r.slice(0,t)+n+r):n},Nn.padLeft=Qi,Nn.padRight=no,Nn.parseInt=Ce,Nn.random=function(n,t,r){r&&Cr(n,t,r)&&(t=r=null);var e=null==n,u=null==t;return null==r&&(u&&typeof n=="boolean"?(r=n,n=1):typeof t=="boolean"&&(r=t,u=true)),e&&u&&(t=1,u=false),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1?(r=Cu(),Ou(n+r*(t-n+hu("1e-"+((r+"").length-1))),t)):It(n,t)},Nn.reduce=yi,Nn.reduceRight=di,Nn.repeat=We,Nn.result=function(n,t,r){
var e=null==n?m:n[t];return e===m&&(null==n||Wr(t,n)||(t=Br(t),n=1==t.length?n:dt(n,Ct(t,0,-1)),e=null==n?m:n[Vr(t)]),e=e===m?r:e),$i(e)?e.call(n):e},Nn.runInContext=d,Nn.size=function(n){var t=n?Zu(n):0;return Tr(t)?t:Ki(n).length},Nn.snakeCase=to,Nn.some=ie,Nn.sortedIndex=ti,Nn.sortedLastIndex=ri,Nn.startCase=ro,Nn.startsWith=function(n,t,r){return n=u(n),r=null==r?0:Ou(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r},Nn.sum=function(n,t,r){r&&Cr(n,t,r)&&(t=null);var e=mr(),u=null==t;if(u&&e===it||(u=false,
t=e(t,r,3)),u){for(n=Ti(n)?n:Lr(n),t=n.length,r=0;t--;)r+=+n[t]||0;n=r}else n=Ut(n,t);return n},Nn.template=function(n,t,r){var e=Nn.templateSettings;r&&Cr(n,t,r)&&(t=r=null),n=u(n),t=tt(rt({},r||t),e,nt),r=tt(rt({},t.imports),e.imports,nt);var i,o,f=Ki(r),l=Ft(r,f),a=0;r=t.interpolate||En;var s="__p+='";r=Ze((t.escape||En).source+"|"+r.source+"|"+(r===vn?An:En).source+"|"+(t.evaluate||En).source+"|$","g");var p="sourceURL"in t?"//# sourceURL="+t.sourceURL+"\n":"";if(n.replace(r,function(t,r,e,u,f,l){
return e||(e=u),s+=n.slice(a,l).replace(Cn,c),r&&(i=true,s+="'+__e("+r+")+'"),f&&(o=true,s+="';"+f+";\n__p+='"),e&&(s+="'+((__t=("+e+"))==null?'':__t)+'"),a=l+t.length,t}),s+="';",(t=t.variable)||(s="with(obj){"+s+"}"),s=(o?s.replace(on,""):s).replace(fn,"$1").replace(ln,"$1;"),s="function("+(t||"obj")+"){"+(t?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+s+"return __p}",t=eo(function(){return De(f,p+"return "+s).apply(m,l);
}),t.source=s,_e(t))throw t;return t},Nn.trim=Se,Nn.trimLeft=function(n,t,r){var e=n;return(n=u(n))?n.slice((r?Cr(e,t,r):null==t)?v(n):i(n,t+"")):n},Nn.trimRight=function(n,t,r){var e=n;return(n=u(n))?(r?Cr(e,t,r):null==t)?n.slice(0,g(n)+1):n.slice(0,o(n,t+"")+1):n},Nn.trunc=function(n,t,r){r&&Cr(n,t,r)&&(t=null);var e=C;if(r=W,null!=t)if(ve(t)){var i="separator"in t?t.separator:i,e="length"in t?+t.length||0:e;r="omission"in t?u(t.omission):r}else e=+t||0;if(n=u(n),e>=n.length)return n;if(e-=r.length,
1>e)return r;if(t=n.slice(0,e),null==i)return t+r;if(de(i)){if(n.slice(e).search(i)){var o,f=n.slice(0,e);for(i.global||(i=Ze(i.source,(jn.exec(i)||"")+"g")),i.lastIndex=0;n=i.exec(f);)o=n.index;t=t.slice(0,null==o?e:o)}}else n.indexOf(i,e)!=e&&(i=t.lastIndexOf(i),-1<i&&(t=t.slice(0,i)));return t+r},Nn.unescape=function(n){return(n=u(n))&&sn.test(n)?n.replace(an,y):n},Nn.uniqueId=function(n){var t=++eu;return u(n)+t},Nn.words=Te,Nn.all=ne,Nn.any=ie,Nn.contains=re,Nn.eq=he,Nn.detect=ai,Nn.foldl=yi,
Nn.foldr=di,Nn.head=Dr,Nn.include=re,Nn.inject=yi,Le(Nn,function(){var n={};return vt(Nn,function(t,r){Nn.prototype[r]||(n[r]=t)}),n}(),false),Nn.sample=ue,Nn.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return ue(t,n)}):ue(this.value())},Nn.VERSION=w,Kn("bind bindKey curry curryRight partial partialRight".split(" "),function(n){Nn[n].placeholder=Nn}),Kn(["dropWhile","filter","map","takeWhile"],function(n,t){var r=t!=F,e=t==U;Bn.prototype[n]=function(n,u){var i=this.__filtered__,o=i&&e?new Bn(this):this.clone();
return(o.__iteratees__||(o.__iteratees__=[])).push({done:false,count:0,index:0,iteratee:mr(n,u,1),limit:-1,type:t}),o.__filtered__=i||r,o}}),Kn(["drop","take"],function(n,t){var r=n+"While";Bn.prototype[n]=function(r){var e=this.__filtered__,u=e&&!t?this.dropWhile():this.clone();return r=null==r?1:ku(su(r)||0,0),e?t?u.__takeCount__=Ou(u.__takeCount__,r):Vr(u.__iteratees__).limit=r:(u.__views__||(u.__views__=[])).push({size:r,type:n+(0>u.__dir__?"Right":"")}),u},Bn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse();
},Bn.prototype[n+"RightWhile"]=function(n,t){return this.reverse()[r](n,t).reverse()}}),Kn(["first","last"],function(n,t){var r="take"+(t?"Right":"");Bn.prototype[n]=function(){return this[r](1).value()[0]}}),Kn(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Bn.prototype[n]=function(){return this[r](1)}}),Kn(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?xt:Be;Bn.prototype[n]=function(n){return this[r](e(n))}}),Bn.prototype.compact=function(){return this.filter(Fe)},Bn.prototype.reject=function(n,t){
return n=mr(n,t,1),this.filter(function(t){return!n(t)})},Bn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return 0>n?r=this.takeRight(-n):n&&(r=this.drop(n)),t!==m&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r},Bn.prototype.toArray=function(){return this.drop(0)},vt(Bn.prototype,function(n,t){var r=Nn[t];if(r){var e=/^(?:filter|map|reject)|While$/.test(t),u=/^(?:first|last)$/.test(t);Nn.prototype[t]=function(){function t(n){return n=[n],_u.apply(n,i),r.apply(Nn,n)}var i=arguments,o=this.__chain__,f=this.__wrapped__,l=!!this.__actions__.length,a=f instanceof Bn,c=i[0],s=a||Ti(f);
return s&&e&&typeof c=="function"&&1!=c.length&&(a=s=false),a=a&&!l,u&&!o?a?n.call(f):r.call(Nn,this.value()):s?(f=n.apply(a?f:new Bn(this),i),u||!l&&!f.__actions__||(f.__actions__||(f.__actions__=[])).push({func:Qr,args:[t],thisArg:Nn}),new zn(f,o)):this.thru(t)}}}),Kn("concat join pop push replace shift sort splice split unshift".split(" "),function(n){var t=(/^(?:replace|split)$/.test(n)?Qe:Xe)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);Nn.prototype[n]=function(){
var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),vt(Bn.prototype,function(n,t){var r=Nn[t];if(r){var e=r.name;(Lu[e]||(Lu[e]=[])).push({name:t,func:r})}}),Lu[sr(null,x).name]=[{name:"wrapper",func:null}],Bn.prototype.clone=function(){var n=this.__actions__,t=this.__iteratees__,r=this.__views__,e=new Bn(this.__wrapped__);return e.__actions__=n?Dn(n):null,e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=t?Dn(t):null,
e.__takeCount__=this.__takeCount__,e.__views__=r?Dn(r):null,e},Bn.prototype.reverse=function(){if(this.__filtered__){var n=new Bn(this);n.__dir__=-1,n.__filtered__=true}else n=this.clone(),n.__dir__*=-1;return n},Bn.prototype.value=function(){var n=this.__wrapped__.value();if(!Ti(n))return Lt(n,this.__actions__);var t,r=this.__dir__,e=0>r;t=n.length;for(var u=this.__views__,i=0,o=-1,f=u?u.length:0;++o<f;){var l=u[o],a=l.size;switch(l.type){case"drop":i+=a;break;case"dropRight":t-=a;break;case"take":
t=Ou(t,i+a);break;case"takeRight":i=ku(i,t-a)}}t={start:i,end:t},u=t.start,i=t.end,t=i-u,u=e?i:u-1,i=Ou(t,this.__takeCount__),f=(o=this.__iteratees__)?o.length:0,l=0,a=[];n:for(;t--&&l<i;){for(var u=u+r,c=-1,s=n[u];++c<f;){var p=o[c],h=p.iteratee,_=p.type;if(_==U){if(p.done&&(e?u>p.index:u<p.index)&&(p.count=0,p.done=false),p.index=u,!(p.done||(_=p.limit,p.done=-1<_?p.count++>=_:!h(s))))continue n}else if(p=h(s),_==F)s=p;else if(!p){if(_==$)continue n;break n}}a[l++]=s}return a},Nn.prototype.chain=function(){
return Hr(this)},Nn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Nn.prototype.plant=function(n){for(var t,r=this;r instanceof Ln;){var e=Mr(r);t?u.__wrapped__=e:t=e;var u=e,r=r.__wrapped__}return u.__wrapped__=n,t},Nn.prototype.reverse=function(){var n=this.__wrapped__;return n instanceof Bn?(this.__actions__.length&&(n=new Bn(this)),new zn(n.reverse(),this.__chain__)):this.thru(function(n){return n.reverse()})},Nn.prototype.toString=function(){return this.value()+""},Nn.prototype.run=Nn.prototype.toJSON=Nn.prototype.valueOf=Nn.prototype.value=function(){
return Lt(this.__wrapped__,this.__actions__)},Nn.prototype.collect=Nn.prototype.map,Nn.prototype.head=Nn.prototype.first,Nn.prototype.select=Nn.prototype.filter,Nn.prototype.tail=Nn.prototype.rest,Nn}var m,w="3.9.3",b=1,x=2,A=4,j=8,k=16,O=32,R=64,I=128,E=256,C=30,W="...",S=150,T=16,U=0,$=1,F=2,N="Expected a function",L="__lodash_placeholder__",z="[object Arguments]",B="[object Array]",M="[object Boolean]",P="[object Date]",q="[object Error]",D="[object Function]",K="[object Number]",V="[object Object]",Y="[object RegExp]",Z="[object String]",G="[object ArrayBuffer]",J="[object Float32Array]",X="[object Float64Array]",H="[object Int8Array]",Q="[object Int16Array]",nn="[object Int32Array]",tn="[object Uint8Array]",rn="[object Uint8ClampedArray]",en="[object Uint16Array]",un="[object Uint32Array]",on=/\b__p\+='';/g,fn=/\b(__p\+=)''\+/g,ln=/(__e\(.*?\)|\b__t\))\+'';/g,an=/&(?:amp|lt|gt|quot|#39|#96);/g,cn=/[&<>"'`]/g,sn=RegExp(an.source),pn=RegExp(cn.source),hn=/<%-([\s\S]+?)%>/g,_n=/<%([\s\S]+?)%>/g,vn=/<%=([\s\S]+?)%>/g,gn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,yn=/^\w*$/,dn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,mn=/[.*+?^${}()|[\]\/\\]/g,wn=RegExp(mn.source),bn=/[\u0300-\u036f\ufe20-\ufe23]/g,xn=/\\(\\)?/g,An=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jn=/\w*$/,kn=/^0[xX]/,On=/^\[object .+?Constructor\]$/,Rn=/^\d+$/,In=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,En=/($^)/,Cn=/['\n\r\u2028\u2029\\]/g,Wn=RegExp("[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?=[A-Z\\xc0-\\xd6\\xd8-\\xde][a-z\\xdf-\\xf6\\xf8-\\xff]+)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+|[A-Z\\xc0-\\xd6\\xd8-\\xde]+|[0-9]+","g"),Sn=" \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",Tn="Array ArrayBuffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Math Number Object RegExp Set String _ clearTimeout document isFinite parseFloat parseInt setTimeout TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap window".split(" "),Un={};
Un[J]=Un[X]=Un[H]=Un[Q]=Un[nn]=Un[tn]=Un[rn]=Un[en]=Un[un]=true,Un[z]=Un[B]=Un[G]=Un[M]=Un[P]=Un[q]=Un[D]=Un["[object Map]"]=Un[K]=Un[V]=Un[Y]=Un["[object Set]"]=Un[Z]=Un["[object WeakMap]"]=false;var $n={};$n[z]=$n[B]=$n[G]=$n[M]=$n[P]=$n[J]=$n[X]=$n[H]=$n[Q]=$n[nn]=$n[K]=$n[V]=$n[Y]=$n[Z]=$n[tn]=$n[rn]=$n[en]=$n[un]=true,$n[q]=$n[D]=$n["[object Map]"]=$n["[object Set]"]=$n["[object WeakMap]"]=false;var Fn={leading:false,maxWait:0,trailing:false},Nn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A",
"\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u",
"\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss"},Ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},zn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bn={"function":true,object:true},Mn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pn=Bn[typeof exports]&&exports&&!exports.nodeType&&exports,qn=Bn[typeof module]&&module&&!module.nodeType&&module,Dn=Bn[typeof self]&&self&&self.Object&&self,Kn=Bn[typeof window]&&window&&window.Object&&window,Vn=qn&&qn.exports===Pn&&Pn,Yn=Pn&&qn&&typeof global=="object"&&global&&global.Object&&global||Kn!==(this&&this.window)&&Kn||Dn||this,Zn=d();
typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Yn._=Zn, define(function(){return Zn})):Pn&&qn?Vn?(qn.exports=Zn)._=Zn:Pn._=Zn:Yn._=Zn}).call(this);
;
;
/*! moment.min.js */ 
;
;
(function(e){function O(e,t){return function(n){return j(e.call(this,n),t)}}function M(e){return function(t){return this.lang().ordinal(e.call(this,t))}}function _(){}function D(e){H(this,e)}function P(e){var t=this._data={},n=e.years||e.year||e.y||0,r=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,s=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,u=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,f=e.milliseconds||e.millisecond||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=B(f/1e3),t.seconds=a%60,u+=B(a/60),t.minutes=u%60,o+=B(u/60),t.hours=o%24,s+=B(o/24),s+=i*7,t.days=s%30,r+=B(s/30),t.months=r%12,n+=B(r/12),t.years=n}function H(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function B(e){return e<0?Math.ceil(e):Math.floor(e)}function j(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function F(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function I(e){return Object.prototype.toString.call(e)==="[object Array]"}function q(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function R(e,t){return t.abbr=e,s[e]||(s[e]=new _),s[e].set(t),s[e]}function U(e){return e?(!s[e]&&o&&require("./lang/"+e),s[e]):t.fn._lang}function z(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function W(e){var t=e.match(a),n,r;for(n=0,r=t.length;n<r;n++)A[t[n]]?t[n]=A[t[n]]:t[n]=z(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=typeof t[n].call=="function"?t[n].call(i,e):t[n];return s}}function X(e,t){function r(t){return e.lang().longDateFormat(t)||t}var n=5;while(n--&&f.test(t))t=t.replace(f,r);return C[t]||(C[t]=W(t)),C[t](e)}function V(e){switch(e){case"DDDD":return p;case"YYYY":return d;case"YYYYY":return v;case"S":case"SS":case"SSS":case"DDD":return h;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return m;case"X":return b;case"Z":case"ZZ":return g;case"T":return y;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return c;default:return new RegExp(e.replace("\\",""))}}function $(e,t,n){var r,i,s=n._a;switch(e){case"M":case"MM":s[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":r=U(n._l).monthsParse(t),r!=null?s[1]=r:n._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(s[2]=~~t);break;case"YY":s[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~t;break;case"a":case"A":n._isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":s[3]=~~t;break;case"m":case"mm":s[4]=~~t;break;case"s":case"ss":s[5]=~~t;break;case"S":case"SS":case"SSS":s[6]=~~(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=!0,r=(t+"").match(x),r&&r[1]&&(n._tzh=~~r[1]),r&&r[2]&&(n._tzm=~~r[2]),r&&r[0]==="+"&&(n._tzh=-n._tzh,n._tzm=-n._tzm)}t==null&&(n._isValid=!1)}function J(e){var t,n,r=[];if(e._d)return;for(t=0;t<7;t++)e._a[t]=r[t]=e._a[t]==null?t===2?1:0:e._a[t];r[3]+=e._tzh||0,r[4]+=e._tzm||0,n=new Date(0),e._useUTC?(n.setUTCFullYear(r[0],r[1],r[2]),n.setUTCHours(r[3],r[4],r[5],r[6])):(n.setFullYear(r[0],r[1],r[2]),n.setHours(r[3],r[4],r[5],r[6])),e._d=n}function K(e){var t=e._f.match(a),n=e._i,r,i;e._a=[];for(r=0;r<t.length;r++)i=(V(t[r]).exec(n)||[])[0],i&&(n=n.slice(n.indexOf(i)+i.length)),A[t[r]]&&$(t[r],i,e);e._isPm&&e._a[3]<12&&(e._a[3]+=12),e._isPm===!1&&e._a[3]===12&&(e._a[3]=0),J(e)}function Q(e){var t,n,r,i=99,s,o,u;while(e._f.length){t=H({},e),t._f=e._f.pop(),K(t),n=new D(t);if(n.isValid()){r=n;break}u=q(t._a,n.toArray()),u<i&&(i=u,r=n)}H(e,r)}function G(e){var t,n=e._i;if(w.exec(n)){e._f="YYYY-MM-DDT";for(t=0;t<4;t++)if(S[t][1].exec(n)){e._f+=S[t][0];break}g.exec(n)&&(e._f+=" Z"),K(e)}else e._d=new Date(n)}function Y(t){var n=t._i,r=u.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):typeof n=="string"?G(t):I(n)?(t._a=n.slice(0),J(t)):t._d=n instanceof Date?new Date(+n):new Date(n)}function Z(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function et(e,t,n){var i=r(Math.abs(e)/1e3),s=r(i/60),o=r(s/60),u=r(o/24),a=r(u/365),f=i<45&&["s",i]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",r(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Z.apply({},f)}function tt(e,n,r){var i=r-n,s=r-e.day();return s>i&&(s-=7),s<i-7&&(s+=7),Math.ceil(t(e).add("d",s).dayOfYear()/7)}function nt(e){var n=e._i,r=e._f;return n===null||n===""?null:(typeof n=="string"&&(e._i=n=U().preparse(n)),t.isMoment(n)?(e=H({},n),e._d=new Date(+n._d)):r?I(r)?Q(e):K(e):Y(e),new D(e))}function rt(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var t=this._isUTC?"UTC":"";return e!=null?(this._d["set"+t+n](e),this):this._d["get"+t+n]()}}function it(e){t.duration.fn[e]=function(){return this._data[e]}}function st(e,n){t.duration.fn["as"+e]=function(){return+this/n}}var t,n="2.0.0",r=Math.round,i,s={},o=typeof module!="undefined"&&module.exports,u=/^\/?Date\((\-?\d+)/i,a=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,f=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,l=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,c=/\d\d?/,h=/\d{1,3}/,p=/\d{3}/,d=/\d{1,4}/,v=/[+\-]?\d{1,6}/,m=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,g=/Z|[\+\-]\d\d:?\d\d/i,y=/T/i,b=/[\+\-]?\d+(\.\d{1,3})?/,w=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,E="YYYY-MM-DDTHH:mm:ssZ",S=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],x=/([\+\-]|\d\d)/gi,T="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),N={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},C={},k="DDD w W M D d".split(" "),L="M D H h m s w W".split(" "),A={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return j(this.year()%100,2)},YYYY:function(){return j(this.year(),4)},YYYYY:function(){return j(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return j(~~(this.milliseconds()/10),2)},SSS:function(){return j(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(e/60),2)+":"+j(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+j(~~(10*e/6),4)},X:function(){return this.unix()}};while(k.length)i=k.pop(),A[i+"o"]=M(A[i]);while(L.length)i=L.pop(),A[i+i]=O(A[i],2);A.DDDD=O(A.DDD,3),_.prototype={set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i,s;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12;n++){this._monthsParse[n]||(r=t([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return tt(e,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(e,t,n){return nt({_i:e,_f:t,_l:n,_isUTC:!1})},t.utc=function(e,t,n){return nt({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t})},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=t.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(n?s[n]=e:s.milliseconds=e),o=new P(s),r&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=E,t.lang=function(e,n){var r;if(!e)return t.fn._lang._abbr;n?R(e,n):s[e]||U(e),t.duration.fn._lang=t.fn._lang=U(e)},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),U(e)},t.isMoment=function(e){return e instanceof D},t.isDuration=function(e){return e instanceof P},t.fn=D.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return this._isValid==null&&(this._a?this._isValid=!q(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):this._isValid=!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){var n=X(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),F(this,r,-1),this},diff:function(e,n,r){var i=this._isUTC?t(e).utc():t(e).local(),s=(this.zone()-i.zone())*6e4,o,u;return n&&(n=n.replace(/s$/,"")),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,n==="year"&&(u/=12)):(o=this-i-s,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?o/864e5:n==="week"?o/6048e5:o),r?u:B(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=this.diff(t().startOf("day"),"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){e=e.replace(/s$/,"");switch(e){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"&&this.day(0),this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)===+t(e).startOf(n)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var n=r((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},isoWeek:function(e){var t=tt(this,1,4);return e==null?t:this.add("d",(e-t)*7)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},lang:function(t){return t===e?this._lang:(this._lang=U(t),this)}};for(i=0;i<T.length;i++)rt(T[i].toLowerCase().replace(/s$/,""),T[i]);rt("year","FullYear"),t.fn.days=t.fn.day,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.duration.fn=P.prototype={weeks:function(){return B(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=et(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},lang:t.fn.lang};for(i in N)N.hasOwnProperty(i)&&(st(i,N[i]),it(i.toLowerCase()));st("Weeks",6048e5),t.lang("en",{ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),o&&(module.exports=t),typeof ender=="undefined"&&(this.moment=t),typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}).call(this);
;
;
/*! bootstrap.min.js */ 
;
;
/*!
* Bootstrap.js by @fat & @mdo
* Copyright 2012 Twitter, Inc.
* http://www.apache.org/licenses/LICENSE-2.0.txt
*/
!function(e){e(function(){"use strict";e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t){if(e.style[n]!==undefined){return t[n]}}}();return e&&{end:e}}()})}(window.jQuery);!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;if(!r){r=n.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}i=e(r);t&&t.preventDefault();i.length||(i=n.hasClass("alert")?n:n.parent());i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in");e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");if(!i)r.data("alert",i=new n(this));if(typeof t=="string")i[t].call(r)})};e.fn.alert.Constructor=n;e(function(){e("body").on("click.alert.data-api",t,n.prototype.close)})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e=e+"Text";r.resetText||n.data("resetText",n[i]());n[i](r[e]||this.options[e]);setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active");this.$element.toggleClass("active")};e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;if(!i)r.data("button",i=new t(this,s));if(n=="toggle")i.toggle();else if(n)i.setState(n)})};e.fn.button.defaults={loadingText:"loading..."};e.fn.button.Constructor=t;e(function(){e("body").on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);if(!n.hasClass("btn"))n=n.closest(".btn");n.button("toggle")})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=n;this.options.slide&&this.slide(this.options.slide);this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.prototype={cycle:function(t){if(!t)this.paused=false;this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval));return this},to:function(t){var n=this.$element.find(".item.active"),r=n.parent().children(),i=r.index(n),s=this;if(t>r.length-1||t<0)return;if(this.sliding){return this.$element.one("slid",function(){s.to(t)})}if(i==t){return this.pause().cycle()}return this.slide(t>i?"next":"prev",e(r[t]))},pause:function(t){if(!t)this.paused=true;if(this.$element.find(".next, .prev").length&&e.support.transition.end){this.$element.trigger(e.support.transition.end);this.cycle()}clearInterval(this.interval);this.interval=null;return this},next:function(){if(this.sliding)return;return this.slide("next")},prev:function(){if(this.sliding)return;return this.slide("prev")},slide:function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this,f=e.Event("slide",{relatedTarget:i[0]});this.sliding=true;s&&this.pause();i=i.length?i:this.$element.find(".item")[u]();if(i.hasClass("active"))return;if(e.support.transition&&this.$element.hasClass("slide")){this.$element.trigger(f);if(f.isDefaultPrevented())return;i.addClass(t);i[0].offsetWidth;r.addClass(o);i.addClass(o);this.$element.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active");r.removeClass(["active",o].join(" "));a.sliding=false;setTimeout(function(){a.$element.trigger("slid")},0)})}else{this.$element.trigger(f);if(f.isDefaultPrevented())return;r.removeClass("active");i.addClass("active");this.sliding=false;this.$element.trigger("slid")}s&&this.cycle();return this}};e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("carousel"),s=e.extend({},e.fn.carousel.defaults,typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;if(!i)r.data("carousel",i=new t(this,s));if(typeof n=="number")i.to(n);else if(o)i[o]();else if(s.interval)i.cycle()})};e.fn.carousel.defaults={interval:5e3,pause:"hover"};e.fn.carousel.Constructor=t;e(function(){e("body").on("click.carousel.data-api","[data-slide]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=!i.data("modal")&&e.extend({},i.data(),n.data());i.carousel(s);t.preventDefault()})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.collapse.defaults,n);if(this.options.parent){this.$parent=e(this.options.parent)}this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension();n=e.camelCase(["scroll",t].join("-"));r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide");i||r.data("collapse",null)}this.$element[t](0);this.transition("addClass",e.Event("show"),"shown");e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension();this.reset(this.$element[t]());this.transition("removeClass",e.Event("hide"),"hidden");this.$element[t](0)},reset:function(e){var t=this.dimension();this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(t,n,r){var i=this,s=function(){if(n.type=="show")i.reset();i.transitioning=0;i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1;this.$element[t]("in");e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;if(!i)r.data("collapse",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.collapse.defaults={toggle:true};e.fn.collapse.Constructor=t;e(function(){e("body").on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed");e(i).collapse(s)})})}(window.jQuery);!function(e){"use strict";function r(){i(e(t)).removeClass("open")}function i(t){var n=t.attr("data-target"),r;if(!n){n=t.attr("href");n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")}r=e(n);r.length||(r=t.parent());return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;s=i(n);o=s.hasClass("open");r();if(!o){s.toggleClass("open");n.focus()}return false},keydown:function(t){var n,r,s,o,u,a;if(!/(38|40|27)/.test(t.keyCode))return;n=e(this);t.preventDefault();t.stopPropagation();if(n.is(".disabled, :disabled"))return;o=i(n);u=o.hasClass("open");if(!u||u&&t.keyCode==27)return n.click();r=e("[role=menu] li:not(.divider) a",o);if(!r.length)return;a=r.index(r.filter(":focus"));if(t.keyCode==38&&a>0)a--;if(t.keyCode==40&&a<r.length-1)a++;if(!~a)a=0;r.eq(a).focus()}};e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");if(!i)r.data("dropdown",i=new n(this));if(typeof t=="string")i[t].call(r)})};e.fn.dropdown.Constructor=n;e(function(){e("html").on("click.dropdown.data-api touchstart.dropdown.data-api",r);e("body").on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.options=n;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;e("body").addClass("modal-open");this.isShown=true;this.escape();this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.show();if(n){t.$element[0].offsetWidth}t.$element.addClass("in").attr("aria-hidden",false);t.enforceFocus();n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;e("body").removeClass("modal-open");this.escape();e(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){},escape:function(){var e=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end);t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n);t.hideModal()})},hideModal:function(e){this.$element.hide().trigger("hidden");this.backdrop()},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body);if(this.options.backdrop!="static"){this.$backdrop.click(e.proxy(this.hide,this))}if(i)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");i?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()}else if(t){t()}}};e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);if(!i)r.data("modal",i=new t(this,s));if(typeof n=="string")i[n]();else if(s.show)i.show()})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=t;e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault();i.modal(s).one("hide",function(){n.focus()})})})}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t;this.$element=e(n);this.options=this.getOptions(r);this.enabled=true;if(this.options.trigger=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(this.options.trigger!="manual"){i=this.options.trigger=="hover"?"mouseenter":"focus";s=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,t,this.$element.data());if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout);n.hoverState="in";this.timeout=setTimeout(function(){if(n.hoverState=="in")n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out";this.timeout=setTimeout(function(){if(n.hoverState=="out")n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip();this.setContent();if(this.options.animation){e.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(s);e.remove().css({top:0,left:0,display:"block"}).appendTo(t?this.$element:document.body);n=this.getPosition(t);r=e[0].offsetWidth;i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width};break}e.css(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).remove()},500);n.one(e.support.transition.end,function(){clearTimeout(t);n.remove()})}var t=this,n=this.tip();n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?r():n.remove();return this},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;if(!i)r.data("tooltip",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:true}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content > *")[this.options.html?"html":"text"](n);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content);return e},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;if(!i)r.data("popover",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery);!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n);this.$scrollElement=i.on("scroll.scroll-spy.data-api",r);this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=e("body");this.refresh();this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]);this.targets=e([]);n=this.$body.find(this.selector).map(function(){var t=e(this),n=t.data("target")||t.attr("href"),r=/^#\w/.test(n)&&e(n);return r&&r.length&&[[r.position().top,n]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n){return s!=(o=i.last()[0])&&this.activate(o)}for(o=r.length;o--;){s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])}},activate:function(t){var n,r;this.activeTarget=t;e(this.selector).parent(".active").removeClass("active");r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';n=e(r).parent("li").addClass("active");if(n.parent(".dropdown-menu").length){n=n.closest("li.dropdown").addClass("active")}n.trigger("activate")}};e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;if(!i)r.data("scrollspy",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.defaults={offset:10};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;if(!r){r=t.attr("href");r=r&&r.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;i=n.find(".active a").last()[0];o=e.Event("show",{relatedTarget:i});t.trigger(o);if(o.isDefaultPrevented())return;s=e(r);this.activate(t.parent("li"),n);this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");if(s){t[0].offsetWidth;t.addClass("in")}else{t.removeClass("fade")}if(t.parent(".dropdown-menu")){t.closest("li.dropdown").addClass("active")}r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o();i.removeClass("in")}};e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");if(!i)r.data("tab",i=new t(this));if(typeof n=="string")i[n]()})};e.fn.tab.Constructor=t;e(function(){e("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();e(this).tab("show")})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.typeahead.defaults,n);this.matcher=this.options.matcher||this.matcher;this.sorter=this.options.sorter||this.sorter;this.highlighter=this.options.highlighter||this.highlighter;this.updater=this.options.updater||this.updater;this.$menu=e(this.options.menu).appendTo("body");this.source=this.options.source;this.shown=false;this.listen()};t.prototype={constructor:t,select:function(){var e=this.$menu.find(".active").attr("data-value");this.$element.val(this.updater(e)).change();return this.hide()},updater:function(e){return e},show:function(){var t=e.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});this.$menu.css({top:t.top+t.height,left:t.left});this.$menu.show();this.shown=true;return this},hide:function(){this.$menu.hide();this.shown=false;return this},lookup:function(t){var n;this.query=this.$element.val();if(!this.query||this.query.length<this.options.minLength){return this.shown?this.hide():this}n=e.isFunction(this.source)?this.source(this.query,e.proxy(this.process,this)):this.source;return n?this.process(n):this},process:function(t){var n=this;t=e.grep(t,function(e){return n.matcher(e)});t=this.sorter(t);if(!t.length){return this.shown?this.hide():this}return this.render(t.slice(0,this.options.items)).show()},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){var t=[],n=[],r=[],i;while(i=e.shift()){if(!i.toLowerCase().indexOf(this.query.toLowerCase()))t.push(i);else if(~i.indexOf(this.query))n.push(i);else r.push(i)}return t.concat(n,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(t){var n=this;t=e(t).map(function(t,r){t=e(n.options.item).attr("data-value",r);t.find("a").html(n.highlighter(r));return t[0]});t.first().addClass("active");this.$menu.html(t);return this},next:function(t){var n=this.$menu.find(".active").removeClass("active"),r=n.next();if(!r.length){r=e(this.$menu.find("li")[0])}r.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active"),n=t.prev();if(!n.length){n=this.$menu.find("li").last()}n.addClass("active")},listen:function(){this.$element.on("blur",e.proxy(this.blur,this)).on("keypress",e.proxy(this.keypress,this)).on("keyup",e.proxy(this.keyup,this));if(e.browser.chrome||e.browser.webkit||e.browser.msie){this.$element.on("keydown",e.proxy(this.keydown,this))}this.$menu.on("click",e.proxy(this.click,this)).on("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(e){if(!this.shown)return;switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault();this.prev();break;case 40:e.preventDefault();this.next();break}e.stopPropagation()},keydown:function(t){this.suppressKeyPressRepeat=!~e.inArray(t.keyCode,[40,38,9,13,27]);this.move(t)},keypress:function(e){if(this.suppressKeyPressRepeat)return;this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation();e.preventDefault()},blur:function(e){var t=this;setTimeout(function(){t.hide()},150)},click:function(e){e.stopPropagation();e.preventDefault();this.select()},mouseenter:function(t){this.$menu.find(".active").removeClass("active");e(t.currentTarget).addClass("active")}};e.fn.typeahead=function(n){return this.each(function(){var r=e(this),i=r.data("typeahead"),s=typeof n=="object"&&n;if(!i)r.data("typeahead",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1};e.fn.typeahead.Constructor=t;e(function(){e("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(t){var n=e(this);if(n.data("typeahead"))return;t.preventDefault();n.typeahead(n.data())})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;if(typeof i!="object")s=o=i;if(typeof o=="function")o=i.top();if(typeof s=="function")s=i.bottom();a=this.unpin!=null&&n+this.unpin<=r.top?false:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":false;if(this.affixed===a)return;this.affixed=a;this.unpin=a=="bottom"?r.top-n:null;this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;if(!i)r.data("affix",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{};n.offsetBottom&&(n.offset.bottom=n.offsetBottom);n.offsetTop&&(n.offset.top=n.offsetTop);t.affix(n)})})}(window.jQuery);
;
;
/*! bootstrap-select-1.6.3.js */ 
;
;
(function ($) {
'use strict';
$.expr[':'].icontains = function (obj, index, meta) {
return icontains($(obj).text(), meta[3]);
};
$.expr[':'].aicontains = function (obj, index, meta) {
return icontains($(obj).data('normalizedText') || $(obj).text(), meta[3]);
};
/**
* Actual implementation of the case insensitive search.
* @access private
* @param {String} haystack
* @param {String} needle
* @returns {boolean}
*/
function icontains(haystack, needle) {
return haystack.toUpperCase().indexOf(needle.toUpperCase()) > -1;
}
/**
* Remove all diatrics from the given text.
* @access private
* @param {String} text
* @returns {String}
*/
function normalizeToBase(text) {
var rExps = [
{re: /[\xC0-\xC6]/g, ch: "A"},
{re: /[\xE0-\xE6]/g, ch: "a"},
{re: /[\xC8-\xCB]/g, ch: "E"},
{re: /[\xE8-\xEB]/g, ch: "e"},
{re: /[\xCC-\xCF]/g, ch: "I"},
{re: /[\xEC-\xEF]/g, ch: "i"},
{re: /[\xD2-\xD6]/g, ch: "O"},
{re: /[\xF2-\xF6]/g, ch: "o"},
{re: /[\xD9-\xDC]/g, ch: "U"},
{re: /[\xF9-\xFC]/g, ch: "u"},
{re: /[\xC7-\xE7]/g, ch: "c"},
{re: /[\xD1]/g, ch: "N"},
{re: /[\xF1]/g, ch: "n"}
];
$.each(rExps, function () {
text = text.replace(this.re, this.ch);
});
return text;
}
function htmlEscape(html) {
var escapeMap = {
'&': '&amp;',
'<': '&lt;',
'>': '&gt;',
'"': '&quot;',
"'": '&#x27;',
'`': '&#x60;'
};
var source = '(?:' + Object.keys(escapeMap).join('|') + ')',
testRegexp = new RegExp(source),
replaceRegexp = new RegExp(source, 'g'),
string = html == null ? '' : '' + html;
return testRegexp.test(string) ? string.replace(replaceRegexp, function (match) {
return escapeMap[match];
}) : string;
}
var Selectpicker = function (element, options, e) {
if (e) {
e.stopPropagation();
e.preventDefault();
}
this.$element = $(element);
this.$newElement = null;
this.$button = null;
this.$menu = null;
this.$lis = null;
this.options = options;
if (this.options.title === null) {
this.options.title = this.$element.attr('title');
}
this.val = Selectpicker.prototype.val;
this.render = Selectpicker.prototype.render;
this.refresh = Selectpicker.prototype.refresh;
this.setStyle = Selectpicker.prototype.setStyle;
this.selectAll = Selectpicker.prototype.selectAll;
this.deselectAll = Selectpicker.prototype.deselectAll;
this.destroy = Selectpicker.prototype.remove;
this.remove = Selectpicker.prototype.remove;
this.show = Selectpicker.prototype.show;
this.hide = Selectpicker.prototype.hide;
this.init();
};
Selectpicker.VERSION = '1.6.3';
Selectpicker.DEFAULTS = {
noneSelectedText: 'Nothing selected',
noneResultsText: 'No results match',
countSelectedText: function (numSelected, numTotal) {
return (numSelected == 1) ? "{0} item selected" : "{0} items selected";
},
maxOptionsText: function (numAll, numGroup) {
var arr = [];
arr[0] = (numAll == 1) ? 'Limit reached ({n} item max)' : 'Limit reached ({n} items max)';
arr[1] = (numGroup == 1) ? 'Group limit reached ({n} item max)' : 'Group limit reached ({n} items max)';
return arr;
},
selectAllText: 'Select All',
deselectAllText: 'Deselect All',
multipleSeparator: ', ',
style: 'btn-default',
size: 'auto',
title: null,
selectedTextFormat: 'values',
width: false,
container: false,
hideDisabled: false,
showSubtext: false,
showIcon: true,
showContent: true,
dropupAuto: true,
header: false,
liveSearch: false,
actionsBox: false,
iconBase: 'glyphicon',
tickIcon: 'glyphicon-ok',
maxOptions: false,
mobile: false,
selectOnTab: false,
dropdownAlignRight: false,
searchAccentInsensitive: false
};
Selectpicker.prototype = {
constructor: Selectpicker,
init: function () {
var that = this,
id = this.$element.attr('id');
this.$element.hide();
this.multiple = this.$element.prop('multiple');
this.autofocus = this.$element.prop('autofocus');
this.$newElement = this.createView();
this.$element.after(this.$newElement);
this.$menu = this.$newElement.find('> .dropdown-menu');
this.$button = this.$newElement.find('> button');
this.$searchbox = this.$newElement.find('input');
if (this.options.dropdownAlignRight)
this.$menu.addClass('dropdown-menu-right');
if (typeof id !== 'undefined') {
this.$button.attr('data-id', id);
$('label[for="' + id + '"]').click(function (e) {
e.preventDefault();
that.$button.focus();
});
}
this.checkDisabled();
this.clickListener();
if (this.options.liveSearch) this.liveSearchListener();
this.render();
this.liHeight();
this.setStyle();
this.setWidth();
if (this.options.container) this.selectPosition();
this.$menu.data('this', this);
this.$newElement.data('this', this);
if (this.options.mobile) this.mobile();
},
createDropdown: function () {
var multiple = this.multiple ? ' show-tick' : '',
inputGroup = this.$element.parent().hasClass('input-group') ? ' input-group-btn' : '',
autofocus = this.autofocus ? ' autofocus' : '',
btnSize = this.$element.parents().hasClass('form-group-lg') ? ' btn-lg' : (this.$element.parents().hasClass('form-group-sm') ? ' btn-sm' : '');
var header = this.options.header ? '<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + '</div>' : '';
var searchbox = this.options.liveSearch ? '<div class="bs-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>' : '';
var actionsbox = this.options.actionsBox ? '<div class="bs-actionsbox">' +
'<div class="btn-group btn-block">' +
'<button class="actions-btn bs-select-all btn btn-sm btn-default">' +
this.options.selectAllText +
'</button>' +
'<button class="actions-btn bs-deselect-all btn btn-sm btn-default">' +
this.options.deselectAllText +
'</button>' +
'</div>' +
'</div>' : '';
var drop =
'<div class="btn-group bootstrap-select' + multiple + inputGroup + '">' +
'<button type="button" class="btn dropdown-toggle selectpicker' + btnSize + '" data-toggle="dropdown"' + autofocus + '>' +
'<span class="filter-option pull-left"></span>&nbsp;' +
'<span class="caret"></span>' +
'</button>' +
'<div class="dropdown-menu open">' +
header +
searchbox +
actionsbox +
'<ul class="dropdown-menu inner selectpicker" role="menu">' +
'</ul>' +
'</div>' +
'</div>';
return $(drop);
},
createView: function () {
var $drop = this.createDropdown();
var $li = this.createLi();
$drop.find('ul').append($li);
return $drop;
},
reloadLi: function () {
this.destroyLi();
var $li = this.createLi();
this.$menu.find('ul').append($li);
},
destroyLi: function () {
this.$menu.find('li').remove();
},
createLi: function () {
var that = this,
_li = [],
optID = 0;
/**
* @param content
* @param [index]
* @param [classes]
* @returns {string}
*/
var generateLI = function (content, index, classes) {
return '<li' +
(typeof classes !== 'undefined' ? ' class="' + classes + '"' : '') +
(typeof index !== 'undefined' | null === index ? ' data-original-index="' + index + '"' : '') +
'>' + content + '</li>';
};
/**
* @param text
* @param [classes]
* @param [inline]
* @param [optgroup]
* @returns {string}
*/
var generateA = function (text, classes, inline, optgroup) {
var normText = normalizeToBase(htmlEscape(text));
return '<a tabindex="0"' +
(typeof classes !== 'undefined' ? ' class="' + classes + '"' : '') +
(typeof inline !== 'undefined' ? ' style="' + inline + '"' : '') +
(typeof optgroup !== 'undefined' ? 'data-optgroup="' + optgroup + '"' : '') +
' data-normalized-text="' + normText + '"' +
'>' + text +
'<span class="' + that.options.iconBase + ' ' + that.options.tickIcon + ' check-mark"></span>' +
'</a>';
};
this.$element.find('option').each(function () {
var $this = $(this);
var optionClass = $this.attr('class') || '',
inline = $this.attr('style'),
text = $this.data('content') ? $this.data('content') : $this.html(),
subtext = typeof $this.data('subtext') !== 'undefined' ? '<small class="muted text-muted">' + $this.data('subtext') + '</small>' : '',
icon = typeof $this.data('icon') !== 'undefined' ? '<span class="' + that.options.iconBase + ' ' + $this.data('icon') + '"></span> ' : '',
isDisabled = $this.is(':disabled') || $this.parent().is(':disabled'),
index = $this[0].index;
if (icon !== '' && isDisabled) {
icon = '<span>' + icon + '</span>';
}
if (!$this.data('content')) {
text = icon + '<span class="text">' + text + subtext + '</span>';
}
if (that.options.hideDisabled && isDisabled) {
return;
}
if ($this.parent().is('optgroup') && $this.data('divider') !== true) {
if ($this.index() === 0) { // Is it the first option of the optgroup?
optID += 1;
var label = $this.parent().attr('label');
var labelSubtext = typeof $this.parent().data('subtext') !== 'undefined' ? '<small class="muted text-muted">' + $this.parent().data('subtext') + '</small>' : '';
var labelIcon = $this.parent().data('icon') ? '<span class="' + that.options.iconBase + ' ' + $this.parent().data('icon') + '"></span> ' : '';
label = labelIcon + '<span class="text">' + label + labelSubtext + '</span>';
if (index !== 0 && _li.length > 0) { // Is it NOT the first option of the select && are there elements in the dropdown?
_li.push(generateLI('', null, 'divider'));
}
_li.push(generateLI(label, null, 'dropdown-header'));
}
_li.push(generateLI(generateA(text, 'opt ' + optionClass, inline, optID), index));
} else if ($this.data('divider') === true) {
_li.push(generateLI('', index, 'divider'));
} else if ($this.data('hidden') === true) {
_li.push(generateLI(generateA(text, optionClass, inline), index, 'hide is-hidden'));
} else {
_li.push(generateLI(generateA(text, optionClass, inline), index));
}
});
if (!this.multiple && this.$element.find('option:selected').length === 0 && !this.options.title) {
this.$element.find('option').eq(0).prop('selected', true).attr('selected', 'selected');
}
return $(_li.join(''));
},
findLis: function () {
if (this.$lis == null) this.$lis = this.$menu.find('li');
return this.$lis;
},
/**
* @param [updateLi] defaults to true
*/
render: function (updateLi) {
var that = this;
if (updateLi !== false) {
this.$element.find('option').each(function (index) {
that.setDisabled(index, $(this).is(':disabled') || $(this).parent().is(':disabled'));
that.setSelected(index, $(this).is(':selected'));
});
}
this.tabIndex();
var notDisabled = this.options.hideDisabled ? ':not([disabled])' : '';
var selectedItems = this.$element.find('option:selected' + notDisabled).map(function () {
var $this = $(this);
var icon = $this.data('icon') && that.options.showIcon ? '<i class="' + that.options.iconBase + ' ' + $this.data('icon') + '"></i> ' : '';
var subtext;
if (that.options.showSubtext && $this.attr('data-subtext') && !that.multiple) {
subtext = ' <small class="muted text-muted">' + $this.data('subtext') + '</small>';
} else {
subtext = '';
}
if ($this.data('content') && that.options.showContent) {
return $this.data('content');
} else if (typeof $this.attr('title') !== 'undefined') {
return $this.attr('title');
} else {
return icon + $this.html() + subtext;
}
}).toArray();
var title = !this.multiple ? selectedItems[0] : selectedItems.join(this.options.multipleSeparator);
if (this.multiple && this.options.selectedTextFormat.indexOf('count') > -1) {
var max = this.options.selectedTextFormat.split('>');
if ((max.length > 1 && selectedItems.length > max[1]) || (max.length == 1 && selectedItems.length >= 2)) {
notDisabled = this.options.hideDisabled ? ', [disabled]' : '';
var totalCount = this.$element.find('option').not('[data-divider="true"], [data-hidden="true"]' + notDisabled).length,
tr8nText = (typeof this.options.countSelectedText === 'function') ? this.options.countSelectedText(selectedItems.length, totalCount) : this.options.countSelectedText;
title = tr8nText.replace('{0}', selectedItems.length.toString()).replace('{1}', totalCount.toString());
}
}
this.options.title = this.$element.attr('title');
if (this.options.selectedTextFormat == 'static') {
title = this.options.title;
}
if (!title) {
title = typeof this.options.title !== 'undefined' ? this.options.title : this.options.noneSelectedText;
}
this.$button.attr('title', htmlEscape(title));
this.$newElement.find('.filter-option').html(title);
},
/**
* @param [style]
* @param [status]
*/
setStyle: function (style, status) {
if (this.$element.attr('class')) {
this.$newElement.addClass(this.$element.attr('class').replace(/selectpicker|mobile-device|validate\[.*\]/gi, ''));
}
var buttonClass = style ? style : this.options.style;
if (status == 'add') {
this.$button.addClass(buttonClass);
} else if (status == 'remove') {
this.$button.removeClass(buttonClass);
} else {
this.$button.removeClass(this.options.style);
this.$button.addClass(buttonClass);
}
},
liHeight: function () {
if (this.options.size === false) return;
var $selectClone = this.$menu.parent().clone().find('> .dropdown-toggle').prop('autofocus', false).end().appendTo('body'),
$menuClone = $selectClone.addClass('open').find('> .dropdown-menu'),
liHeight = $menuClone.find('li').not('.divider').not('.dropdown-header').filter(':visible').children('a').outerHeight(),
headerHeight = this.options.header ? $menuClone.find('.popover-title').outerHeight() : 0,
searchHeight = this.options.liveSearch ? $menuClone.find('.bs-searchbox').outerHeight() : 0,
actionsHeight = this.options.actionsBox ? $menuClone.find('.bs-actionsbox').outerHeight() : 0;
$selectClone.remove();
this.$newElement
.data('liHeight', liHeight)
.data('headerHeight', headerHeight)
.data('searchHeight', searchHeight)
.data('actionsHeight', actionsHeight);
},
setSize: function () {
this.findLis();
var that = this,
menu = this.$menu,
menuInner = menu.find('.inner'),
selectHeight = this.$newElement.outerHeight(),
liHeight = this.$newElement.data('liHeight'),
headerHeight = this.$newElement.data('headerHeight'),
searchHeight = this.$newElement.data('searchHeight'),
actionsHeight = this.$newElement.data('actionsHeight'),
divHeight = this.$lis.filter('.divider').outerHeight(true),
menuPadding = parseInt(menu.css('padding-top')) +
parseInt(menu.css('padding-bottom')) +
parseInt(menu.css('border-top-width')) +
parseInt(menu.css('border-bottom-width')),
notDisabled = this.options.hideDisabled ? ', .disabled' : '',
$window = $(window),
menuExtras = menuPadding + parseInt(menu.css('margin-top')) + parseInt(menu.css('margin-bottom')) + 2,
menuHeight,
selectOffsetTop,
selectOffsetBot,
posVert = function () {
selectOffsetTop = that.$newElement.offset().top - $window.scrollTop();
selectOffsetBot = $window.height() - selectOffsetTop - selectHeight;
};
posVert();
if (this.options.header) menu.css('padding-top', 0);
if (this.options.size == 'auto') {
var getSize = function () {
var minHeight,
lisVis = that.$lis.not('.hide');
posVert();
menuHeight = selectOffsetBot - menuExtras;
if (that.options.dropupAuto) {
that.$newElement.toggleClass('dropup', (selectOffsetTop > selectOffsetBot) && ((menuHeight - menuExtras) < menu.height()));
}
if (that.$newElement.hasClass('dropup')) {
menuHeight = selectOffsetTop - menuExtras;
}
if ((lisVis.length + lisVis.filter('.dropdown-header').length) > 3) {
minHeight = liHeight * 3 + menuExtras - 2;
} else {
minHeight = 0;
}
menu.css({
'max-height': menuHeight + 'px',
'overflow': 'hidden',
'min-height': minHeight + headerHeight + searchHeight + actionsHeight + 'px'
});
menuInner.css({
'max-height': menuHeight - headerHeight - searchHeight - actionsHeight - menuPadding + 'px',
'overflow-y': 'auto',
'min-height': Math.max(minHeight - menuPadding, 0) + 'px'
});
};
getSize();
this.$searchbox.off('input.getSize propertychange.getSize').on('input.getSize propertychange.getSize', getSize);
$(window).off('resize.getSize').on('resize.getSize', getSize);
$(window).off('scroll.getSize').on('scroll.getSize', getSize);
} else if (this.options.size && this.options.size != 'auto' && menu.find('li' + notDisabled).length > this.options.size) {
var optIndex = this.$lis.not('.divider' + notDisabled).find(' > *').slice(0, this.options.size).last().parent().index();
var divLength = this.$lis.slice(0, optIndex + 1).filter('.divider').length;
menuHeight = liHeight * this.options.size + divLength * divHeight + menuPadding;
if (that.options.dropupAuto) {
this.$newElement.toggleClass('dropup', (selectOffsetTop > selectOffsetBot) && (menuHeight < menu.height()));
}
menu.css({'max-height': menuHeight + headerHeight + searchHeight + actionsHeight + 'px', 'overflow': 'hidden'});
menuInner.css({'max-height': menuHeight - menuPadding + 'px', 'overflow-y': 'auto'});
}
},
setWidth: function () {
if (this.options.width == 'auto') {
this.$menu.css('min-width', '0');
var selectClone = this.$newElement.clone().appendTo('body');
var ulWidth = selectClone.find('> .dropdown-menu').css('width');
var btnWidth = selectClone.css('width', 'auto').find('> button').css('width');
selectClone.remove();
this.$newElement.css('width', Math.max(parseInt(ulWidth), parseInt(btnWidth)) + 'px');
} else if (this.options.width == 'fit') {
this.$menu.css('min-width', '');
this.$newElement.css('width', '').addClass('fit-width');
} else if (this.options.width) {
this.$menu.css('min-width', '');
this.$newElement.css('width', this.options.width);
} else {
this.$menu.css('min-width', '');
this.$newElement.css('width', '');
}
if (this.$newElement.hasClass('fit-width') && this.options.width !== 'fit') {
this.$newElement.removeClass('fit-width');
}
},
selectPosition: function () {
var that = this,
drop = '<div />',
$drop = $(drop),
pos,
actualHeight,
getPlacement = function ($element) {
$drop.addClass($element.attr('class').replace(/form-control/gi, '')).toggleClass('dropup', $element.hasClass('dropup'));
pos = $element.offset();
actualHeight = $element.hasClass('dropup') ? 0 : $element[0].offsetHeight;
$drop.css({
'top': pos.top + actualHeight,
'left': pos.left,
'width': $element[0].offsetWidth,
'position': 'absolute'
});
};
this.$newElement.on('click', function () {
if (that.isDisabled()) {
return;
}
getPlacement($(this));
$drop.appendTo(that.options.container);
$drop.toggleClass('open', !$(this).hasClass('open'));
$drop.append(that.$menu);
});
$(window).resize(function () {
getPlacement(that.$newElement);
});
$(window).on('scroll', function () {
getPlacement(that.$newElement);
});
$('html').on('click', function (e) {
if ($(e.target).closest(that.$newElement).length < 1) {
$drop.removeClass('open');
}
});
},
setSelected: function (index, selected) {
this.findLis();
this.$lis.filter('[data-original-index="' + index + '"]').toggleClass('selected', selected);
},
setDisabled: function (index, disabled) {
this.findLis();
if (disabled) {
this.$lis.filter('[data-original-index="' + index + '"]').addClass('disabled').find('a').attr('href', '#').attr('tabindex', -1);
} else {
this.$lis.filter('[data-original-index="' + index + '"]').removeClass('disabled').find('a').removeAttr('href').attr('tabindex', 0);
}
},
isDisabled: function () {
return this.$element.is(':disabled');
},
checkDisabled: function () {
var that = this;
if (this.isDisabled()) {
this.$button.addClass('disabled').attr('tabindex', -1);
} else {
if (this.$button.hasClass('disabled')) {
this.$button.removeClass('disabled');
}
if (this.$button.attr('tabindex') == -1) {
if (!this.$element.data('tabindex')) this.$button.removeAttr('tabindex');
}
}
this.$button.click(function () {
return !that.isDisabled();
});
},
tabIndex: function () {
if (this.$element.is('[tabindex]')) {
this.$element.data('tabindex', this.$element.attr('tabindex'));
this.$button.attr('tabindex', this.$element.data('tabindex'));
}
},
clickListener: function () {
var that = this;
this.$newElement.on('touchstart.dropdown', '.dropdown-menu', function (e) {
e.stopPropagation();
});
this.$newElement.on('click', function () {
that.setSize();
if (!that.options.liveSearch && !that.multiple) {
setTimeout(function () {
that.$menu.find('.selected a').focus();
}, 10);
}
});
this.$menu.on('click', 'li a', function (e) {
var $this = $(this),
clickedIndex = $this.parent().data('originalIndex'),
prevValue = that.$element.val(),
prevIndex = that.$element.prop('selectedIndex');
if (that.multiple) {
e.stopPropagation();
}
e.preventDefault();
if (!that.isDisabled() && !$this.parent().hasClass('disabled')) {
var $options = that.$element.find('option'),
$option = $options.eq(clickedIndex),
state = $option.prop('selected'),
$optgroup = $option.parent('optgroup'),
maxOptions = that.options.maxOptions,
maxOptionsGrp = $optgroup.data('maxOptions') || false;
if (!that.multiple) { // Deselect all others if not multi select box
$options.prop('selected', false);
$option.prop('selected', true);
that.$menu.find('.selected').removeClass('selected');
that.setSelected(clickedIndex, true);
} else { // Toggle the one we have chosen if we are multi select.
$option.prop('selected', !state);
that.setSelected(clickedIndex, !state);
$this.blur();
if ((maxOptions !== false) || (maxOptionsGrp !== false)) {
var maxReached = maxOptions < $options.filter(':selected').length,
maxReachedGrp = maxOptionsGrp < $optgroup.find('option:selected').length;
if ((maxOptions && maxReached) || (maxOptionsGrp && maxReachedGrp)) {
if (maxOptions && maxOptions == 1) {
$options.prop('selected', false);
$option.prop('selected', true);
that.$menu.find('.selected').removeClass('selected');
that.setSelected(clickedIndex, true);
} else if (maxOptionsGrp && maxOptionsGrp == 1) {
$optgroup.find('option:selected').prop('selected', false);
$option.prop('selected', true);
var optgroupID = $this.data('optgroup');
that.$menu.find('.selected').has('a[data-optgroup="' + optgroupID + '"]').removeClass('selected');
that.setSelected(clickedIndex, true);
} else {
var maxOptionsArr = (typeof that.options.maxOptionsText === 'function') ?
that.options.maxOptionsText(maxOptions, maxOptionsGrp) : that.options.maxOptionsText,
maxTxt = maxOptionsArr[0].replace('{n}', maxOptions),
maxTxtGrp = maxOptionsArr[1].replace('{n}', maxOptionsGrp),
$notify = $('<div class="notify"></div>');
/** @deprecated */
if (maxOptionsArr[2]) {
maxTxt = maxTxt.replace('{var}', maxOptionsArr[2][maxOptions > 1 ? 0 : 1]);
maxTxtGrp = maxTxtGrp.replace('{var}', maxOptionsArr[2][maxOptionsGrp > 1 ? 0 : 1]);
}
$option.prop('selected', false);
that.$menu.append($notify);
if (maxOptions && maxReached) {
$notify.append($('<div>' + maxTxt + '</div>'));
that.$element.trigger('maxReached.bs.select');
}
if (maxOptionsGrp && maxReachedGrp) {
$notify.append($('<div>' + maxTxtGrp + '</div>'));
that.$element.trigger('maxReachedGrp.bs.select');
}
setTimeout(function () {
that.setSelected(clickedIndex, false);
}, 10);
$notify.delay(750).fadeOut(300, function () {
$(this).remove();
});
}
}
}
}
if (!that.multiple) {
that.$button.focus();
} else if (that.options.liveSearch) {
that.$searchbox.focus();
}
if ((prevValue != that.$element.val() && that.multiple) || (prevIndex != that.$element.prop('selectedIndex') && !that.multiple)) {
that.$element.change();
}
}
});
this.$menu.on('click', 'li.disabled a, .popover-title, .popover-title :not(.close)', function (e) {
if (e.target == this) {
e.preventDefault();
e.stopPropagation();
if (!that.options.liveSearch) {
that.$button.focus();
} else {
that.$searchbox.focus();
}
}
});
this.$menu.on('click', 'li.divider, li.dropdown-header', function (e) {
e.preventDefault();
e.stopPropagation();
if (!that.options.liveSearch) {
that.$button.focus();
} else {
that.$searchbox.focus();
}
});
this.$menu.on('click', '.popover-title .close', function () {
that.$button.focus();
});
this.$searchbox.on('click', function (e) {
e.stopPropagation();
});
this.$menu.on('click', '.actions-btn', function (e) {
if (that.options.liveSearch) {
that.$searchbox.focus();
} else {
that.$button.focus();
}
e.preventDefault();
e.stopPropagation();
if ($(this).is('.bs-select-all')) {
that.selectAll();
} else {
that.deselectAll();
}
that.$element.change();
});
this.$element.change(function () {
that.render(false);
});
},
liveSearchListener: function () {
var that = this,
no_results = $('<li class="no-results"></li>');
this.$newElement.on('click.dropdown.data-api touchstart.dropdown.data-api', function () {
that.$menu.find('.active').removeClass('active');
if (!!that.$searchbox.val()) {
that.$searchbox.val('');
that.$lis.not('.is-hidden').removeClass('hide');
if (!!no_results.parent().length) no_results.remove();
}
if (!that.multiple) that.$menu.find('.selected').addClass('active');
setTimeout(function () {
that.$searchbox.focus();
}, 10);
});
this.$searchbox.on('click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api', function (e) {
e.stopPropagation();
});
this.$searchbox.on('input propertychange', function () {
if (that.$searchbox.val()) {
if (that.options.searchAccentInsensitive) {
that.$lis.not('.is-hidden').removeClass('hide').find('a').not(':aicontains(' + normalizeToBase(that.$searchbox.val()) + ')').parent().addClass('hide');
} else {
that.$lis.not('.is-hidden').removeClass('hide').find('a').not(':icontains(' + that.$searchbox.val() + ')').parent().addClass('hide');
}
if (!that.$menu.find('li').filter(':visible:not(.no-results)').length) {
if (!!no_results.parent().length) no_results.remove();
no_results.html(that.options.noneResultsText + ' "' + htmlEscape(that.$searchbox.val()) + '"').show();
that.$menu.find('li').last().after(no_results);
} else if (!!no_results.parent().length) {
no_results.remove();
}
} else {
that.$lis.not('.is-hidden').removeClass('hide');
if (!!no_results.parent().length) no_results.remove();
}
that.$menu.find('li.active').removeClass('active');
that.$menu.find('li').filter(':visible:not(.divider)').eq(0).addClass('active').find('a').focus();
$(this).focus();
});
},
val: function (value) {
if (typeof value !== 'undefined') {
this.$element.val(value);
this.render();
return this.$element;
} else {
return this.$element.val();
}
},
selectAll: function () {
this.findLis();
this.$lis.not('.divider').not('.disabled').not('.selected').filter(':visible').find('a').click();
},
deselectAll: function () {
this.findLis();
this.$lis.not('.divider').not('.disabled').filter('.selected').filter(':visible').find('a').click();
},
keydown: function (e) {
var $this = $(this),
$parent = ($this.is('input')) ? $this.parent().parent() : $this.parent(),
$items,
that = $parent.data('this'),
index,
next,
first,
last,
prev,
nextPrev,
prevIndex,
isActive,
keyCodeMap = {
32: ' ',
48: '0',
49: '1',
50: '2',
51: '3',
52: '4',
53: '5',
54: '6',
55: '7',
56: '8',
57: '9',
59: ';',
65: 'a',
66: 'b',
67: 'c',
68: 'd',
69: 'e',
70: 'f',
71: 'g',
72: 'h',
73: 'i',
74: 'j',
75: 'k',
76: 'l',
77: 'm',
78: 'n',
79: 'o',
80: 'p',
81: 'q',
82: 'r',
83: 's',
84: 't',
85: 'u',
86: 'v',
87: 'w',
88: 'x',
89: 'y',
90: 'z',
96: '0',
97: '1',
98: '2',
99: '3',
100: '4',
101: '5',
102: '6',
103: '7',
104: '8',
105: '9'
};
if (that.options.liveSearch) $parent = $this.parent().parent();
if (that.options.container) $parent = that.$menu;
$items = $('[role=menu] li a', $parent);
isActive = that.$menu.parent().hasClass('open');
if (!isActive && /([0-9]|[A-z])/.test(String.fromCharCode(e.keyCode))) {
if (!that.options.container) {
that.setSize();
that.$menu.parent().addClass('open');
isActive = true;
} else {
that.$newElement.trigger('click');
}
that.$searchbox.focus();
}
if (that.options.liveSearch) {
if (/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && that.$menu.find('.active').length === 0) {
e.preventDefault();
that.$menu.parent().removeClass('open');
that.$button.focus();
}
$items = $('[role=menu] li:not(.divider):not(.dropdown-header):visible', $parent);
if (!$this.val() && !/(38|40)/.test(e.keyCode.toString(10))) {
if ($items.filter('.active').length === 0) {
if (that.options.searchAccentInsensitive) {
$items = that.$newElement.find('li').filter(':aicontains(' + normalizeToBase(keyCodeMap[e.keyCode]) + ')');
} else {
$items = that.$newElement.find('li').filter(':icontains(' + keyCodeMap[e.keyCode] + ')');
}
}
}
}
if (!$items.length) return;
if (/(38|40)/.test(e.keyCode.toString(10))) {
index = $items.index($items.filter(':focus'));
first = $items.parent(':not(.disabled):visible').first().index();
last = $items.parent(':not(.disabled):visible').last().index();
next = $items.eq(index).parent().nextAll(':not(.disabled):visible').eq(0).index();
prev = $items.eq(index).parent().prevAll(':not(.disabled):visible').eq(0).index();
nextPrev = $items.eq(next).parent().prevAll(':not(.disabled):visible').eq(0).index();
if (that.options.liveSearch) {
$items.each(function (i) {
if ($(this).is(':not(.disabled)')) {
$(this).data('index', i);
}
});
index = $items.index($items.filter('.active'));
first = $items.filter(':not(.disabled):visible').first().data('index');
last = $items.filter(':not(.disabled):visible').last().data('index');
next = $items.eq(index).nextAll(':not(.disabled):visible').eq(0).data('index');
prev = $items.eq(index).prevAll(':not(.disabled):visible').eq(0).data('index');
nextPrev = $items.eq(next).prevAll(':not(.disabled):visible').eq(0).data('index');
}
prevIndex = $this.data('prevIndex');
if (e.keyCode == 38) {
if (that.options.liveSearch) index -= 1;
if (index != nextPrev && index > prev) index = prev;
if (index < first) index = first;
if (index == prevIndex) index = last;
}
if (e.keyCode == 40) {
if (that.options.liveSearch) index += 1;
if (index == -1) index = 0;
if (index != nextPrev && index < next) index = next;
if (index > last) index = last;
if (index == prevIndex) index = first;
}
$this.data('prevIndex', index);
if (!that.options.liveSearch) {
$items.eq(index).focus();
} else {
e.preventDefault();
if (!$this.is('.dropdown-toggle')) {
$items.removeClass('active');
$items.eq(index).addClass('active').find('a').focus();
$this.focus();
}
}
} else if (!$this.is('input')) {
var keyIndex = [],
count,
prevKey;
$items.each(function () {
if ($(this).parent().is(':not(.disabled)')) {
if ($.trim($(this).text().toLowerCase()).substring(0, 1) == keyCodeMap[e.keyCode]) {
keyIndex.push($(this).parent().index());
}
}
});
count = $(document).data('keycount');
count++;
$(document).data('keycount', count);
prevKey = $.trim($(':focus').text().toLowerCase()).substring(0, 1);
if (prevKey != keyCodeMap[e.keyCode]) {
count = 1;
$(document).data('keycount', count);
} else if (count >= keyIndex.length) {
$(document).data('keycount', 0);
if (count > keyIndex.length) count = 1;
}
$items.eq(keyIndex[count - 1]).focus();
}
if ((/(13|32)/.test(e.keyCode.toString(10)) || (/(^9$)/.test(e.keyCode.toString(10)) && that.options.selectOnTab)) && isActive) {
if (!/(32)/.test(e.keyCode.toString(10))) e.preventDefault();
if (!that.options.liveSearch) {
$(':focus').click();
} else if (!/(32)/.test(e.keyCode.toString(10))) {
that.$menu.find('.active a').click();
$this.focus();
}
$(document).data('keycount', 0);
}
if ((/(^9$|27)/.test(e.keyCode.toString(10)) && isActive && (that.multiple || that.options.liveSearch)) || (/(27)/.test(e.keyCode.toString(10)) && !isActive)) {
that.$menu.parent().removeClass('open');
that.$button.focus();
}
},
mobile: function () {
this.$element.addClass('mobile-device').appendTo(this.$newElement);
if (this.options.container) this.$menu.hide();
},
refresh: function () {
this.$lis = null;
this.reloadLi();
this.render();
this.setWidth();
this.setStyle();
this.checkDisabled();
this.liHeight();
},
update: function () {
this.reloadLi();
this.setWidth();
this.setStyle();
this.checkDisabled();
this.liHeight();
},
hide: function () {
this.$newElement.hide();
},
show: function () {
this.$newElement.show();
},
remove: function () {
this.$newElement.remove();
this.$element.remove();
}
};
function Plugin(option, event) {
var args = arguments;
var _option = option,
option = args[0],
event = args[1];
[].shift.apply(args);
if (typeof option == 'undefined') {
option = _option;
}
var value;
var chain = this.each(function () {
var $this = $(this);
if ($this.is('select')) {
var data = $this.data('selectpicker'),
options = typeof option == 'object' && option;
if (!data) {
var config = $.extend({}, Selectpicker.DEFAULTS, $.fn.selectpicker.defaults || {}, $this.data(), options);
$this.data('selectpicker', (data = new Selectpicker(this, config, event)));
} else if (options) {
for (var i in options) {
if (options.hasOwnProperty(i)) {
data.options[i] = options[i];
}
}
}
if (typeof option == 'string') {
if (data[option] instanceof Function) {
value = data[option].apply(data, args);
} else {
value = data.options[option];
}
}
}
});
if (typeof value !== 'undefined') {
return value;
} else {
return chain;
}
}
var old = $.fn.selectpicker;
$.fn.selectpicker = Plugin;
$.fn.selectpicker.Constructor = Selectpicker;
$.fn.selectpicker.noConflict = function () {
$.fn.selectpicker = old;
return this;
};
$(document)
.data('keycount', 0)
.on('keydown', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input', Selectpicker.prototype.keydown)
.on('focusin.modal', '.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bs-searchbox input', function (e) {
e.stopPropagation();
});
$(window).on('load.bs.select.data-api', function () {
$('.selectpicker').each(function () {
var $selectpicker = $(this);
Plugin.call($selectpicker, $selectpicker.data());
})
});
})(jQuery);
;
;
/*! angular.min.js */ 
;
;
/*
AngularJS v1.7.5
(c) 2010-2018 Google, Inc. http://angularjs.org
License: MIT
*/
(function(B){'use strict';function oe(a){if(F(a))v(a.objectMaxDepth)&&(Vb.objectMaxDepth=Wb(a.objectMaxDepth)?a.objectMaxDepth:NaN),v(a.urlErrorParamsEnabled)&&Fa(a.urlErrorParamsEnabled)&&(Vb.urlErrorParamsEnabled=a.urlErrorParamsEnabled);else return Vb}function Wb(a){return ba(a)&&0<a}function M(a,b){b=b||Error;return function(){var d=arguments[0],c;c="["+(a?a+":":"")+d+"] http://errors.angularjs.org/1.7.5/"+(a?a+"/":"")+d;for(d=1;d<arguments.length;d++){c=c+(1==d?"?":"&")+"p"+(d-1)+"=";var e=encodeURIComponent,
f;f=arguments[d];f="function"==typeof f?f.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof f?"undefined":"string"!=typeof f?JSON.stringify(f):f;c+=e(f)}return new b(c)}}function xa(a){if(null==a||$a(a))return!1;if(I(a)||C(a)||y&&a instanceof y)return!0;var b="length"in Object(a)&&a.length;return ba(b)&&(0<=b&&b-1 in a||"function"===typeof a.item)}function r(a,b,d){var c,e;if(a)if(z(a))for(c in a)"prototype"!==c&&"length"!==c&&"name"!==c&&a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else if(I(a)||
xa(a)){var f="object"!==typeof a;c=0;for(e=a.length;c<e;c++)(f||c in a)&&b.call(d,a[c],c,a)}else if(a.forEach&&a.forEach!==r)a.forEach(b,d,a);else if(Mc(a))for(c in a)b.call(d,a[c],c,a);else if("function"===typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&b.call(d,a[c],c,a);else for(c in a)sa.call(a,c)&&b.call(d,a[c],c,a);return a}function Nc(a,b,d){for(var c=Object.keys(a).sort(),e=0;e<c.length;e++)b.call(d,a[c[e]],c[e]);return c}function Xb(a){return function(b,d){a(d,b)}}function pe(){return++pb}
function Yb(a,b,d){for(var c=a.$$hashKey,e=0,f=b.length;e<f;++e){var g=b[e];if(F(g)||z(g))for(var k=Object.keys(g),h=0,l=k.length;h<l;h++){var m=k[h],q=g[m];d&&F(q)?ha(q)?a[m]=new Date(q.valueOf()):ab(q)?a[m]=new RegExp(q):q.nodeName?a[m]=q.cloneNode(!0):Zb(q)?a[m]=q.clone():(F(a[m])||(a[m]=I(q)?[]:{}),Yb(a[m],[q],!0)):a[m]=q}}c?a.$$hashKey=c:delete a.$$hashKey;return a}function R(a){return Yb(a,Ga.call(arguments,1),!1)}function qe(a){return Yb(a,Ga.call(arguments,1),!0)}function da(a){return parseInt(a,
10)}function $b(a,b){return R(Object.create(a),b)}function A(){}function Ta(a){return a}function ia(a){return function(){return a}}function ac(a){return z(a.toString)&&a.toString!==ma}function x(a){return"undefined"===typeof a}function v(a){return"undefined"!==typeof a}function F(a){return null!==a&&"object"===typeof a}function Mc(a){return null!==a&&"object"===typeof a&&!Oc(a)}function C(a){return"string"===typeof a}function ba(a){return"number"===typeof a}function ha(a){return"[object Date]"===
ma.call(a)}function I(a){return Array.isArray(a)||a instanceof Array}function bc(a){switch(ma.call(a)){case "[object Error]":return!0;case "[object Exception]":return!0;case "[object DOMException]":return!0;default:return a instanceof Error}}function z(a){return"function"===typeof a}function ab(a){return"[object RegExp]"===ma.call(a)}function $a(a){return a&&a.window===a}function bb(a){return a&&a.$evalAsync&&a.$watch}function Fa(a){return"boolean"===typeof a}function re(a){return a&&ba(a.length)&&
se.test(ma.call(a))}function Zb(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function te(a){var b={};a=a.split(",");var d;for(d=0;d<a.length;d++)b[a[d]]=!0;return b}function ta(a){return O(a.nodeName||a[0]&&a[0].nodeName)}function cb(a,b){var d=a.indexOf(b);0<=d&&a.splice(d,1);return d}function Ha(a,b,d){function c(a,b,c){c--;if(0>c)return"...";var d=b.$$hashKey,f;if(I(a)){f=0;for(var g=a.length;f<g;f++)b.push(e(a[f],c))}else if(Mc(a))for(f in a)b[f]=e(a[f],c);else if(a&&"function"===typeof a.hasOwnProperty)for(f in a)a.hasOwnProperty(f)&&
(b[f]=e(a[f],c));else for(f in a)sa.call(a,f)&&(b[f]=e(a[f],c));d?b.$$hashKey=d:delete b.$$hashKey;return b}function e(a,b){if(!F(a))return a;var d=g.indexOf(a);if(-1!==d)return k[d];if($a(a)||bb(a))throw Ia("cpws");var d=!1,e=f(a);void 0===e&&(e=I(a)?[]:Object.create(Oc(a)),d=!0);g.push(a);k.push(e);return d?c(a,e,b):e}function f(a){switch(ma.call(a)){case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Float32Array]":case "[object Float64Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return new a.constructor(e(a.buffer),
a.byteOffset,a.length);case "[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);(new Uint8Array(b)).set(new Uint8Array(a));return b}return a.slice(0);case "[object Boolean]":case "[object Number]":case "[object String]":case "[object Date]":return new a.constructor(a.valueOf());case "[object RegExp]":return b=new RegExp(a.source,a.toString().match(/[^/]*$/)[0]),b.lastIndex=a.lastIndex,b;case "[object Blob]":return new a.constructor([a],{type:a.type})}if(z(a.cloneNode))return a.cloneNode(!0)}
var g=[],k=[];d=Wb(d)?d:NaN;if(b){if(re(b)||"[object ArrayBuffer]"===ma.call(b))throw Ia("cpta");if(a===b)throw Ia("cpi");I(b)?b.length=0:r(b,function(a,c){"$$hashKey"!==c&&delete b[c]});g.push(a);k.push(b);return c(a,b,d)}return e(a,d)}function cc(a,b){return a===b||a!==a&&b!==b}function ua(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d=typeof a,c;if(d===typeof b&&"object"===d)if(I(a)){if(!I(b))return!1;if((d=a.length)===b.length){for(c=0;c<d;c++)if(!ua(a[c],
b[c]))return!1;return!0}}else{if(ha(a))return ha(b)?cc(a.getTime(),b.getTime()):!1;if(ab(a))return ab(b)?a.toString()===b.toString():!1;if(bb(a)||bb(b)||$a(a)||$a(b)||I(b)||ha(b)||ab(b))return!1;d=S();for(c in a)if("$"!==c.charAt(0)&&!z(a[c])){if(!ua(a[c],b[c]))return!1;d[c]=!0}for(c in b)if(!(c in d)&&"$"!==c.charAt(0)&&v(b[c])&&!z(b[c]))return!1;return!0}return!1}function db(a,b,d){return a.concat(Ga.call(b,d))}function Va(a,b){var d=2<arguments.length?Ga.call(arguments,2):[];return!z(b)||b instanceof
RegExp?b:d.length?function(){return arguments.length?b.apply(a,db(d,arguments,0)):b.apply(a,d)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function Pc(a,b){var d=b;"string"===typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?d=void 0:$a(b)?d="$WINDOW":b&&B.document===b?d="$DOCUMENT":bb(b)&&(d="$SCOPE");return d}function eb(a,b){if(!x(a))return ba(b)||(b=b?2:null),JSON.stringify(a,Pc,b)}function Qc(a){return C(a)?JSON.parse(a):a}function dc(a,b){a=a.replace(ue,"");var d=Date.parse("Jan 01, 1970 00:00:00 "+
a)/6E4;return V(d)?b:d}function Rc(a,b){a=new Date(a.getTime());a.setMinutes(a.getMinutes()+b);return a}function ec(a,b,d){d=d?-1:1;var c=a.getTimezoneOffset();b=dc(b,c);return Rc(a,d*(b-c))}function ya(a){a=y(a).clone().empty();var b=y("<div></div>").append(a).html();try{return a[0].nodeType===Oa?O(b):b.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(a,b){return"<"+O(b)})}catch(d){return O(b)}}function Sc(a){try{return decodeURIComponent(a)}catch(b){}}function fc(a){var b={};r((a||"").split("&"),
function(a){var c,e,f;a&&(e=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(e=a.substring(0,c),f=a.substring(c+1)),e=Sc(e),v(e)&&(f=v(f)?Sc(f):!0,sa.call(b,e)?I(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f))});return b}function ve(a){var b=[];r(a,function(a,c){I(a)?r(a,function(a){b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))}):b.push(ca(c,!0)+(!0===a?"":"="+ca(a,!0)))});return b.length?b.join("&"):""}function gc(a){return ca(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ca(a,
b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function we(a,b){var d,c,e=Pa.length;for(c=0;c<e;++c)if(d=Pa[c]+b,C(d=a.getAttribute(d)))return d;return null}function xe(a,b){var d,c,e={};r(Pa,function(b){b+="app";!d&&a.hasAttribute&&a.hasAttribute(b)&&(d=a,c=a.getAttribute(b))});r(Pa,function(b){b+="app";var e;!d&&(e=a.querySelector("["+b.replace(":","\\:")+"]"))&&(d=e,c=e.getAttribute(b))});
if(d)if(ye)e.strictDi=null!==we(d,"strict-di"),b(d,c?[c]:[],e);else try{B.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.")}catch(f){}}function Tc(a,b,d){F(d)||(d={});d=R({strictDi:!1},d);var c=function(){a=y(a);if(a.injector()){var c=a[0]===B.document?"document":ya(a);throw Ia("btstrpd",c.replace(/</,"&lt;").replace(/>/,"&gt;"));}b=b||[];b.unshift(["$provide",function(b){b.value("$rootElement",a)}]);d.debugInfoEnabled&&
b.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]);b.unshift("ng");c=fb(b,d.strictDi);c.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d);c(b)(a)})}]);return c},e=/^NG_ENABLE_DEBUG_INFO!/,f=/^NG_DEFER_BOOTSTRAP!/;B&&e.test(B.name)&&(d.debugInfoEnabled=!0,B.name=B.name.replace(e,""));if(B&&!f.test(B.name))return c();B.name=B.name.replace(f,"");ea.resumeBootstrap=function(a){r(a,function(a){b.push(a)});return c()};z(ea.resumeDeferredBootstrap)&&
ea.resumeDeferredBootstrap()}function ze(){B.name="NG_ENABLE_DEBUG_INFO!"+B.name;B.location.reload()}function Ae(a){a=ea.element(a).injector();if(!a)throw Ia("test");return a.get("$$testability")}function Uc(a,b){b=b||"_";return a.replace(Be,function(a,c){return(c?b:"")+a.toLowerCase()})}function Ce(){var a;if(!Vc){var b=qb();(rb=x(b)?B.jQuery:b?B[b]:void 0)&&rb.fn.on?(y=rb,R(rb.fn,{scope:Wa.scope,isolateScope:Wa.isolateScope,controller:Wa.controller,injector:Wa.injector,inheritedData:Wa.inheritedData})):
y=W;a=y.cleanData;y.cleanData=function(b){for(var c,e=0,f;null!=(f=b[e]);e++)(c=(y._data(f)||{}).events)&&c.$destroy&&y(f).triggerHandler("$destroy");a(b)};ea.element=y;Vc=!0}}function gb(a,b,d){if(!a)throw Ia("areq",b||"?",d||"required");return a}function sb(a,b,d){d&&I(a)&&(a=a[a.length-1]);gb(z(a),b,"not a function, got "+(a&&"object"===typeof a?a.constructor.name||"Object":typeof a));return a}function Qa(a,b){if("hasOwnProperty"===a)throw Ia("badname",b);}function De(a,b,d){if(!b)return a;b=b.split(".");
for(var c,e=a,f=b.length,g=0;g<f;g++)c=b[g],a&&(a=(e=a)[c]);return!d&&z(a)?Va(e,a):a}function tb(a){for(var b=a[0],d=a[a.length-1],c,e=1;b!==d&&(b=b.nextSibling);e++)if(c||a[e]!==b)c||(c=y(Ga.call(a,0,e))),c.push(b);return c||a}function S(){return Object.create(null)}function hc(a){if(null==a)return"";switch(typeof a){case "string":break;case "number":a=""+a;break;default:a=!ac(a)||I(a)||ha(a)?eb(a):a.toString()}return a}function Ee(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=M("$injector"),
c=M("ng");a=b(a,"angular",Object);a.$$minErr=a.$$minErr||M;return b(a,"module",function(){var a={};return function(f,g,k){var h={};if("hasOwnProperty"===f)throw c("badname","module");g&&a.hasOwnProperty(f)&&(a[f]=null);return b(a,f,function(){function a(b,c,d,f){f||(f=e);return function(){f[d||"push"]([b,c,arguments]);return u}}function b(a,c,d){d||(d=e);return function(b,e){e&&z(e)&&(e.$$moduleName=f);d.push([a,c,arguments]);return u}}if(!g)throw d("nomod",f);var e=[],n=[],s=[],t=a("$injector","invoke",
"push",n),u={_invokeQueue:e,_configBlocks:n,_runBlocks:s,info:function(a){if(v(a)){if(!F(a))throw c("aobj","value");h=a;return this}return h},requires:g,name:f,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator",n),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider",
"directive"),component:b("$compileProvider","component"),config:t,run:function(a){s.push(a);return this}};k&&t(k);return u})}})}function oa(a,b){if(I(a)){b=b||[];for(var d=0,c=a.length;d<c;d++)b[d]=a[d]}else if(F(a))for(d in b=b||{},a)if("$"!==d.charAt(0)||"$"!==d.charAt(1))b[d]=a[d];return b||a}function Fe(a,b){var d=[];Wb(b)&&(a=ea.copy(a,null,b));return JSON.stringify(a,function(a,b){b=Pc(a,b);if(F(b)){if(0<=d.indexOf(b))return"...";d.push(b)}return b})}function Ge(a){R(a,{errorHandlingConfig:oe,
bootstrap:Tc,copy:Ha,extend:R,merge:qe,equals:ua,element:y,forEach:r,injector:fb,noop:A,bind:Va,toJson:eb,fromJson:Qc,identity:Ta,isUndefined:x,isDefined:v,isString:C,isFunction:z,isObject:F,isNumber:ba,isElement:Zb,isArray:I,version:He,isDate:ha,callbacks:{$$counter:0},getTestability:Ae,reloadWithDebugInfo:ze,$$minErr:M,$$csp:pa,$$encodeUriSegment:gc,$$encodeUriQuery:ca,$$lowercase:O,$$stringify:hc,$$uppercase:ub});jc=Ee(B);jc("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Ie});
a.provider("$compile",Wc).directive({a:Je,input:Xc,textarea:Xc,form:Ke,script:Le,select:Me,option:Ne,ngBind:Oe,ngBindHtml:Pe,ngBindTemplate:Qe,ngClass:Re,ngClassEven:Se,ngClassOdd:Te,ngCloak:Ue,ngController:Ve,ngForm:We,ngHide:Xe,ngIf:Ye,ngInclude:Ze,ngInit:$e,ngNonBindable:af,ngPluralize:bf,ngRef:cf,ngRepeat:df,ngShow:ef,ngStyle:ff,ngSwitch:gf,ngSwitchWhen:hf,ngSwitchDefault:jf,ngOptions:kf,ngTransclude:lf,ngModel:mf,ngList:nf,ngChange:of,pattern:Yc,ngPattern:Yc,required:Zc,ngRequired:Zc,minlength:$c,
ngMinlength:$c,maxlength:ad,ngMaxlength:ad,ngValue:pf,ngModelOptions:qf}).directive({ngInclude:rf}).directive(vb).directive(bd);a.provider({$anchorScroll:sf,$animate:tf,$animateCss:uf,$$animateJs:vf,$$animateQueue:wf,$$AnimateRunner:xf,$$animateAsyncRun:yf,$browser:zf,$cacheFactory:Af,$controller:Bf,$document:Cf,$$isDocumentHidden:Df,$exceptionHandler:Ef,$filter:cd,$$forceReflow:Ff,$interpolate:Gf,$interval:Hf,$$intervalFactory:If,$http:Jf,$httpParamSerializer:Kf,$httpParamSerializerJQLike:Lf,$httpBackend:Mf,
$xhrFactory:Nf,$jsonpCallbacks:Of,$location:Pf,$log:Qf,$parse:Rf,$rootScope:Sf,$q:Tf,$$q:Uf,$sce:Vf,$sceDelegate:Wf,$sniffer:Xf,$$taskTrackerFactory:Yf,$templateCache:Zf,$templateRequest:$f,$$testability:ag,$timeout:bg,$window:cg,$$rAF:dg,$$jqLite:eg,$$Map:fg,$$cookieReader:gg})}]).info({angularVersion:"1.7.5"})}function wb(a,b){return b.toUpperCase()}function xb(a){return a.replace(hg,wb)}function kc(a){a=a.nodeType;return 1===a||!a||9===a}function dd(a,b){var d,c,e=b.createDocumentFragment(),f=
[];if(lc.test(a)){d=e.appendChild(b.createElement("div"));c=(ig.exec(a)||["",""])[1].toLowerCase();c=ja[c]||ja._default;d.innerHTML=c[1]+a.replace(jg,"<$1></$2>")+c[2];for(c=c[0];c--;)d=d.lastChild;f=db(f,d.childNodes);d=e.firstChild;d.textContent=""}else f.push(b.createTextNode(a));e.textContent="";e.innerHTML="";r(f,function(a){e.appendChild(a)});return e}function W(a){if(a instanceof W)return a;var b;C(a)&&(a=T(a),b=!0);if(!(this instanceof W)){if(b&&"<"!==a.charAt(0))throw mc("nosel");return new W(a)}if(b){b=
B.document;var d;a=(d=kg.exec(a))?[b.createElement(d[1])]:(d=dd(a,b))?d.childNodes:[];nc(this,a)}else z(a)?ed(a):nc(this,a)}function oc(a){return a.cloneNode(!0)}function yb(a,b){!b&&kc(a)&&y.cleanData([a]);a.querySelectorAll&&y.cleanData(a.querySelectorAll("*"))}function fd(a){for(var b in a)return!1;return!0}function gd(a){var b=a.ng339,d=b&&Ja[b],c=d&&d.events,d=d&&d.data;d&&!fd(d)||c&&!fd(c)||(delete Ja[b],a.ng339=void 0)}function hd(a,b,d,c){if(v(c))throw mc("offargs");var e=(c=zb(a))&&c.events,
f=c&&c.handle;if(f){if(b){var g=function(b){var c=e[b];v(d)&&cb(c||[],d);v(d)&&c&&0<c.length||(a.removeEventListener(b,f),delete e[b])};r(b.split(" "),function(a){g(a);Ab[a]&&g(Ab[a])})}else for(b in e)"$destroy"!==b&&a.removeEventListener(b,f),delete e[b];gd(a)}}function pc(a,b){var d=a.ng339;if(d=d&&Ja[d])b?delete d.data[b]:d.data={},gd(a)}function zb(a,b){var d=a.ng339,d=d&&Ja[d];b&&!d&&(a.ng339=d=++lg,d=Ja[d]={events:{},data:{},handle:void 0});return d}function qc(a,b,d){if(kc(a)){var c,e=v(d),
f=!e&&b&&!F(b),g=!b;a=(a=zb(a,!f))&&a.data;if(e)a[xb(b)]=d;else{if(g)return a;if(f)return a&&a[xb(b)];for(c in b)a[xb(c)]=b[c]}}}function Bb(a,b){return a.getAttribute?-1<(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" "):!1}function Cb(a,b){if(b&&a.setAttribute){var d=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=T(a);c=c.replace(" "+a+" "," ")});c!==d&&a.setAttribute("class",T(c))}}function Db(a,b){if(b&&a.setAttribute){var d=
(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),c=d;r(b.split(" "),function(a){a=T(a);-1===c.indexOf(" "+a+" ")&&(c+=a+" ")});c!==d&&a.setAttribute("class",T(c))}}function nc(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var d=b.length;if("number"===typeof d&&b.window!==b){if(d)for(var c=0;c<d;c++)a[a.length++]=b[c]}else a[a.length++]=b}}function id(a,b){return Eb(a,"$"+(b||"ngController")+"Controller")}function Eb(a,b,d){9===a.nodeType&&(a=a.documentElement);for(b=I(b)?b:[b];a;){for(var c=
0,e=b.length;c<e;c++)if(v(d=y.data(a,b[c])))return d;a=a.parentNode||11===a.nodeType&&a.host}}function jd(a){for(yb(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Fb(a,b){b||yb(a);var d=a.parentNode;d&&d.removeChild(a)}function mg(a,b){b=b||B;if("complete"===b.document.readyState)b.setTimeout(a);else y(b).on("load",a)}function ed(a){function b(){B.document.removeEventListener("DOMContentLoaded",b);B.removeEventListener("load",b);a()}"complete"===B.document.readyState?B.setTimeout(a):(B.document.addEventListener("DOMContentLoaded",
b),B.addEventListener("load",b))}function kd(a,b){var d=Gb[b.toLowerCase()];return d&&ld[ta(a)]&&d}function ng(a,b){var d=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var f=b[d||c.type],g=f?f.length:0;if(g){if(x(c.immediatePropagationStopped)){var k=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0;c.stopPropagation&&c.stopPropagation();k&&k.call(c)}}c.isImmediatePropagationStopped=function(){return!0===c.immediatePropagationStopped};
var h=f.specialHandlerWrapper||og;1<g&&(f=oa(f));for(var l=0;l<g;l++)c.isImmediatePropagationStopped()||h(a,c,f[l])}};d.elem=a;return d}function og(a,b,d){d.call(a,b)}function pg(a,b,d){var c=b.relatedTarget;c&&(c===a||qg.call(a,c))||d.call(a,b)}function eg(){this.$get=function(){return R(W,{hasClass:function(a,b){a.attr&&(a=a[0]);return Bb(a,b)},addClass:function(a,b){a.attr&&(a=a[0]);return Db(a,b)},removeClass:function(a,b){a.attr&&(a=a[0]);return Cb(a,b)}})}}function Ka(a,b){var d=a&&a.$$hashKey;
if(d)return"function"===typeof d&&(d=a.$$hashKey()),d;d=typeof a;return d="function"===d||"object"===d&&null!==a?a.$$hashKey=d+":"+(b||pe)():d+":"+a}function md(){this._keys=[];this._values=[];this._lastKey=NaN;this._lastIndex=-1}function nd(a){a=Function.prototype.toString.call(a).replace(rg,"");return a.match(sg)||a.match(tg)}function ug(a){return(a=nd(a))?"function("+(a[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fb(a,b){function d(a){return function(b,c){if(F(b))r(b,Xb(a));else return a(b,
c)}}function c(a,b){Qa(a,"service");if(z(b)||I(b))b=n.instantiate(b);if(!b.$get)throw za("pget",a);return q[a+"Provider"]=b}function e(a,b){return function(){var c=u.invoke(b,this);if(x(c))throw za("undef",a);return c}}function f(a,b,d){return c(a,{$get:!1!==d?e(a,b):b})}function g(a){gb(x(a)||I(a),"modulesToLoad","not an array");var b=[],c;r(a,function(a){function d(a){var b,c;b=0;for(c=a.length;b<c;b++){var e=a[b],f=n.get(e[0]);f[e[1]].apply(f,e[2])}}if(!m.get(a)){m.set(a,!0);try{C(a)?(c=jc(a),
u.modules[a]=c,b=b.concat(g(c.requires)).concat(c._runBlocks),d(c._invokeQueue),d(c._configBlocks)):z(a)?b.push(n.invoke(a)):I(a)?b.push(n.invoke(a)):sb(a,"module")}catch(e){throw I(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),za("modulerr",a,e.stack||e.message||e);}}});return b}function k(a,c){function d(b,e){if(a.hasOwnProperty(b)){if(a[b]===h)throw za("cdep",b+" <- "+l.join(" <- "));return a[b]}try{return l.unshift(b),a[b]=h,a[b]=c(b,e),
a[b]}catch(f){throw a[b]===h&&delete a[b],f;}finally{l.shift()}}function e(a,c,f){var g=[];a=fb.$$annotate(a,b,f);for(var h=0,k=a.length;h<k;h++){var l=a[h];if("string"!==typeof l)throw za("itkn",l);g.push(c&&c.hasOwnProperty(l)?c[l]:d(l,f))}return g}return{invoke:function(a,b,c,d){"string"===typeof c&&(d=c,c=null);c=e(a,c,d);I(a)&&(a=a[a.length-1]);d=a;if(Aa||"function"!==typeof d)d=!1;else{var f=d.$$ngIsClass;Fa(f)||(f=d.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(d)));d=f}return d?
(c.unshift(null),new (Function.prototype.bind.apply(a,c))):a.apply(b,c)},instantiate:function(a,b,c){var d=I(a)?a[a.length-1]:a;a=e(a,b,c);a.unshift(null);return new (Function.prototype.bind.apply(d,a))},get:d,annotate:fb.$$annotate,has:function(b){return q.hasOwnProperty(b+"Provider")||a.hasOwnProperty(b)}}}b=!0===b;var h={},l=[],m=new Hb,q={$provide:{provider:d(c),factory:d(f),service:d(function(a,b){return f(a,["$injector",function(a){return a.instantiate(b)}])}),value:d(function(a,b){return f(a,
ia(b),!1)}),constant:d(function(a,b){Qa(a,"constant");q[a]=b;s[a]=b}),decorator:function(a,b){var c=n.get(a+"Provider"),d=c.$get;c.$get=function(){var a=u.invoke(d,c);return u.invoke(b,null,{$delegate:a})}}}},n=q.$injector=k(q,function(a,b){ea.isString(b)&&l.push(b);throw za("unpr",l.join(" <- "));}),s={},t=k(s,function(a,b){var c=n.get(a+"Provider",b);return u.invoke(c.$get,c,void 0,a)}),u=t;q.$injectorProvider={$get:ia(t)};u.modules=n.modules=S();var D=g(a),u=t.get("$injector");u.strictDi=b;r(D,
function(a){a&&u.invoke(a)});u.loadNewModules=function(a){r(g(a),function(a){a&&u.invoke(a)})};return u}function sf(){var a=!0;this.disableAutoScrolling=function(){a=!1};this.$get=["$window","$location","$rootScope",function(b,d,c){function e(a){var b=null;Array.prototype.some.call(a,function(a){if("a"===ta(a))return b=a,!0});return b}function f(a){if(a){a.scrollIntoView();var c;c=g.yOffset;z(c)?c=c():Zb(c)?(c=c[0],c="fixed"!==b.getComputedStyle(c).position?0:c.getBoundingClientRect().bottom):ba(c)||
(c=0);c&&(a=a.getBoundingClientRect().top,b.scrollBy(0,a-c))}else b.scrollTo(0,0)}function g(a){a=C(a)?a:ba(a)?a.toString():d.hash();var b;a?(b=k.getElementById(a))?f(b):(b=e(k.getElementsByName(a)))?f(b):"top"===a&&f(null):f(null)}var k=b.document;a&&c.$watch(function(){return d.hash()},function(a,b){a===b&&""===a||mg(function(){c.$evalAsync(g)})});return g}]}function hb(a,b){if(!a&&!b)return"";if(!a)return b;if(!b)return a;I(a)&&(a=a.join(" "));I(b)&&(b=b.join(" "));return a+" "+b}function vg(a){C(a)&&
(a=a.split(" "));var b=S();r(a,function(a){a.length&&(b[a]=!0)});return b}function Ba(a){return F(a)?a:{}}function wg(a,b,d,c,e){function f(){Z=null;k()}function g(){u=E();u=x(u)?null:u;ua(u,H)&&(u=H);D=H=u}function k(){var a=D;g();if(w!==h.url()||a!==u)w=h.url(),D=u,r(G,function(a){a(h.url(),u)})}var h=this,l=a.location,m=a.history,q=a.setTimeout,n=a.clearTimeout,s={},t=e(d);h.isMock=!1;h.$$completeOutstandingRequest=t.completeTask;h.$$incOutstandingRequestCount=t.incTaskCount;h.notifyWhenNoOutstandingRequests=
t.notifyWhenNoPendingTasks;var u,D,w=l.href,ic=b.find("base"),Z=null,E=c.history?function(){try{return m.state}catch(a){}}:A;g();h.url=function(b,d,e){x(e)&&(e=null);l!==a.location&&(l=a.location);m!==a.history&&(m=a.history);if(b){var f=D===e;if(w===b&&(!c.history||f))return h;var k=w&&qa(w)===qa(b);w=b;D=e;!c.history||k&&f?(k||(Z=b),d?l.replace(b):k?(d=l,e=b.indexOf("#"),e=-1===e?"":b.substr(e),d.hash=e):l.href=b,l.href!==b&&(Z=b)):(m[d?"replaceState":"pushState"](e,"",b),g());Z&&(Z=b);return h}return(Z||
l.href).replace(/#$/,"")};h.state=function(){return u};var G=[],J=!1,H=null;h.onUrlChange=function(b){if(!J){if(c.history)y(a).on("popstate",f);y(a).on("hashchange",f);J=!0}G.push(b);return b};h.$$applicationDestroyed=function(){y(a).off("hashchange popstate",f)};h.$$checkUrlChange=k;h.baseHref=function(){var a=ic.attr("href");return a?a.replace(/^(https?:)?\/\/[^/]*/,""):""};h.defer=function(a,b,c){var d;b=b||0;c=c||t.DEFAULT_TASK_TYPE;t.incTaskCount(c);d=q(function(){delete s[d];t.completeTask(a,
c)},b);s[d]=c;return d};h.defer.cancel=function(a){if(s.hasOwnProperty(a)){var b=s[a];delete s[a];n(a);t.completeTask(A,b);return!0}return!1}}function zf(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(a,b,d,c,e){return new wg(a,c,b,d,e)}]}function Af(){this.$get=function(){function a(a,c){function e(a){a!==q&&(n?n===a&&(n=a.n):n=a,f(a.n,a.p),f(a,q),q=a,q.n=null)}function f(a,b){a!==b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw M("$cacheFactory")("iid",a);var g=0,
k=R({},c,{id:a}),h=S(),l=c&&c.capacity||Number.MAX_VALUE,m=S(),q=null,n=null;return b[a]={put:function(a,b){if(!x(b)){if(l<Number.MAX_VALUE){var c=m[a]||(m[a]={key:a});e(c)}a in h||g++;h[a]=b;g>l&&this.remove(n.key);return b}},get:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;e(b)}return h[a]},remove:function(a){if(l<Number.MAX_VALUE){var b=m[a];if(!b)return;b===q&&(q=b.p);b===n&&(n=b.n);f(b.n,b.p);delete m[a]}a in h&&(delete h[a],g--)},removeAll:function(){h=S();g=0;m=S();q=n=null},
destroy:function(){m=k=h=null;delete b[a]},info:function(){return R({},k,{size:g})}}}var b={};a.info=function(){var a={};r(b,function(b,e){a[e]=b.info()});return a};a.get=function(a){return b[a]};return a}}function Zf(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Wc(a,b){function d(a,b,c){var d=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,e=S();r(a,function(a,f){a=a.trim();if(a in q)e[f]=q[a];else{var g=a.match(d);if(!g)throw aa("iscp",b,f,a,c?"controller bindings definition":
"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f};g[4]&&(q[a]=e[f])}});return e}function c(a){var b=a.charAt(0);if(!b||b!==O(b))throw aa("baddir",a);if(a!==a.trim())throw aa("baddir",a);}function e(a){var b=a.require||a.controller&&a.name;!I(b)&&F(b)&&r(b,function(a,c){var d=a.match(l);a.substring(d[0].length)||(b[c]=d[0]+c)});return b}var f={},g=/^\s*directive:\s*([\w-]+)\s+(.*)$/,k=/(([\w-]+)(?::([^;]+))?;?)/,h=te("ngSrc,ngSrcset,src,srcset"),
l=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,m=/^(on[a-z]+|formaction)$/,q=S();this.directive=function Z(b,d){gb(b,"name");Qa(b,"directive");C(b)?(c(b),gb(d,"directiveFactory"),f.hasOwnProperty(b)||(f[b]=[],a.factory(b+"Directive",["$injector","$exceptionHandler",function(a,c){var d=[];r(f[b],function(f,g){try{var h=a.invoke(f);z(h)?h={compile:ia(h)}:!h.compile&&h.link&&(h.compile=ia(h.link));h.priority=h.priority||0;h.index=g;h.name=h.name||b;h.require=e(h);var k=h,l=h.restrict;if(l&&(!C(l)||!/[EACM]/.test(l)))throw aa("badrestrict",
l,b);k.restrict=l||"EA";h.$$moduleName=f.$$moduleName;d.push(h)}catch(m){c(m)}});return d}])),f[b].push(d)):r(b,Xb(Z));return this};this.component=function E(a,b){function c(a){function e(b){return z(b)||I(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var f=b.template||b.templateUrl?b.template:"",g={controller:d,controllerAs:xg(b.controller)||b.controllerAs||"$ctrl",template:e(f),templateUrl:e(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",
require:b.require};r(b,function(a,b){"$"===b.charAt(0)&&(g[b]=a)});return g}if(!C(a))return r(a,Xb(Va(this,E))),this;var d=b.controller||function(){};r(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a,z(d)&&(d[b]=a))});c.$inject=["$injector"];return this.directive(a,c)};this.aHrefSanitizationWhitelist=function(a){return v(a)?(b.aHrefSanitizationWhitelist(a),this):b.aHrefSanitizationWhitelist()};this.imgSrcSanitizationWhitelist=function(a){return v(a)?(b.imgSrcSanitizationWhitelist(a),this):b.imgSrcSanitizationWhitelist()};
var n=!0;this.debugInfoEnabled=function(a){return v(a)?(n=a,this):n};var s=!1;this.strictComponentBindingsEnabled=function(a){return v(a)?(s=a,this):s};var t=10;this.onChangesTtl=function(a){return arguments.length?(t=a,this):t};var u=!0;this.commentDirectivesEnabled=function(a){return arguments.length?(u=a,this):u};var D=!0;this.cssClassDirectivesEnabled=function(a){return arguments.length?(D=a,this):D};var w=S();this.addPropertySecurityContext=function(a,b,c){var d=a.toLowerCase()+"|"+b.toLowerCase();
if(d in w&&w[d]!==c)throw aa("ctxoverride",a,b,w[d],c);w[d]=c;return this};(function(){function a(b,c){r(c,function(a){w[a.toLowerCase()]=b})}a(U.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]);a(U.CSS,["*|style"]);a(U.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" "));a(U.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" "));a(U.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))})();
this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(a,b,c,e,q,K,L,P,Q){function p(){try{if(!--Ja)throw Ua=void 0,aa("infchng",t);L.$apply(function(){for(var a=0,b=Ua.length;a<b;++a)try{Ua[a]()}catch(d){c(d)}Ua=void 0})}finally{Ja++}}function na(a,b){if(!a)return a;if(!C(a))throw aa("srcset",b,a.toString());for(var c="",d=T(a),e=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,e=/\s/.test(d)?e:/(,)/,d=d.split(e),e=Math.floor(d.length/
2),f=0;f<e;f++)var g=2*f,c=c+P.getTrustedMediaUrl(T(d[g])),c=c+(" "+T(d[g+1]));d=T(d[2*f]).split(/\s/);c+=P.getTrustedMediaUrl(T(d[0]));2===d.length&&(c+=" "+T(d[1]));return c}function v(a,b){if(b){var c=Object.keys(b),d,e,f;d=0;for(e=c.length;d<e;d++)f=c[d],this[f]=b[f]}else this.$attr={};this.$$element=a}function N(a,b,c){Ea.innerHTML="<span "+b+">";b=Ea.firstChild.attributes;var d=b[0];b.removeNamedItem(d.name);d.value=c;a.attributes.setNamedItem(d)}function ra(a,b){try{a.addClass(b)}catch(c){}}
function fa(a,b,c,d,e){a instanceof y||(a=y(a));var f=Xa(a,b,a,c,d,e);fa.$$addScopeClass(a);var g=null;return function(b,c,d){if(!a)throw aa("multilink");gb(b,"scope");e&&e.needsNewScope&&(b=b.$parent.$new());d=d||{};var h=d.parentBoundTranscludeFn,k=d.transcludeControllers;d=d.futureParentElement;h&&h.$$boundTransclude&&(h=h.$$boundTransclude);g||(g=(d=d&&d[0])?"foreignobject"!==ta(d)&&ma.call(d).match(/SVG/)?"svg":"html":"html");d="html"!==g?y(ja(g,y("<div></div>").append(a).html())):c?Wa.clone.call(a):
a;if(k)for(var l in k)d.data("$"+l+"Controller",k[l].instance);fa.$$addScopeInfo(d,b);c&&c(d,b);f&&f(b,d,d,h);c||(a=f=null);return d}}function Xa(a,b,c,d,e,f){function g(a,c,d,e){var f,k,l,m,q,n,G;if(J)for(G=Array(c.length),m=0;m<h.length;m+=3)f=h[m],G[f]=c[f];else G=c;m=0;for(q=h.length;m<q;)k=G[h[m++]],c=h[m++],f=h[m++],c?(c.scope?(l=a.$new(),fa.$$addScopeInfo(y(k),l)):l=a,n=c.transcludeOnThisElement?ka(a,c.transclude,e):!c.templateOnThisElement&&e?e:!e&&b?ka(a,b):null,c(f,l,k,d,n)):f&&f(a,k.childNodes,
void 0,e)}for(var h=[],k=I(a)||a instanceof y,l,m,q,n,J,G=0;G<a.length;G++){l=new v;11===Aa&&ib(a,G,k);m=rc(a[G],[],l,0===G?d:void 0,e);(f=m.length?ba(m,a[G],l,b,c,null,[],[],f):null)&&f.scope&&fa.$$addScopeClass(l.$$element);l=f&&f.terminal||!(q=a[G].childNodes)||!q.length?null:Xa(q,f?(f.transcludeOnThisElement||!f.templateOnThisElement)&&f.transclude:b);if(f||l)h.push(G,f,l),n=!0,J=J||f;f=null}return n?g:null}function ib(a,b,c){var d=a[b],e=d.parentNode,f;if(d.nodeType===Oa)for(;;){f=e?d.nextSibling:
a[b+1];if(!f||f.nodeType!==Oa)break;d.nodeValue+=f.nodeValue;f.parentNode&&f.parentNode.removeChild(f);c&&f===a[b+1]&&a.splice(b+1,1)}}function ka(a,b,c){function d(e,f,g,h,k){e||(e=a.$new(!1,k),e.$$transcluded=!0);return b(e,f,{parentBoundTranscludeFn:c,transcludeControllers:g,futureParentElement:h})}var e=d.$$slots=S(),f;for(f in b.$$slots)e[f]=b.$$slots[f]?ka(a,b.$$slots[f],c):null;return d}function rc(a,b,d,e,f){var g=d.$attr,h;switch(a.nodeType){case 1:h=ta(a);V(b,va(h),"E",e,f);for(var l,m,
n,G,u,s=a.attributes,w=0,E=s&&s.length;w<E;w++){var D=!1,r=!1,P=!1,H=!1,t=!1,K;l=s[w];m=l.name;G=l.value;n=va(m.toLowerCase());(u=n.match(Ra))?(P="Attr"===u[1],H="Prop"===u[1],t="On"===u[1],m=m.replace(od,"").toLowerCase().substr(4+u[1].length).replace(/_(.)/g,function(a,b){return b.toUpperCase()})):(K=n.match(Sa))&&ea(K[1])&&(D=m,r=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6));if(H||t)d[n]=G,g[n]=l.name,H?Ha(a,b,n,m):b.push(pd(q,L,c,n,m,!1));else{n=va(m.toLowerCase());g[n]=m;if(P||!d.hasOwnProperty(n))d[n]=
G,kd(a,n)&&(d[n]=!0);Ia(a,b,G,n,P);V(b,n,"A",e,f,D,r)}}"input"===h&&"hidden"===a.getAttribute("type")&&a.setAttribute("autocomplete","off");if(!Qa)break;g=a.className;F(g)&&(g=g.animVal);if(C(g)&&""!==g)for(;a=k.exec(g);)n=va(a[2]),V(b,n,"C",e,f)&&(d[n]=T(a[3])),g=g.substr(a.index+a[0].length);break;case Oa:oa(b,a.nodeValue);break;case 8:if(!Pa)break;M(a,b,d,e,f)}b.sort(la);return b}function M(a,b,c,d,e){try{var f=g.exec(a.nodeValue);if(f){var h=va(f[1]);V(b,h,"M",d,e)&&(c[h]=T(f[2]))}}catch(k){}}
function U(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw aa("uterdir",b,c);1===a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--);d.push(a);a=a.nextSibling}while(0<e)}else d.push(a);return y(d)}function W(a,b,c){return function(d,e,f,g,h){e=U(e[0],b,c);return a(d,e,f,g,h)}}function Y(a,b,c,d,e,f){var g;return a?fa(b,c,d,e,f):function(){g||(g=fa(b,c,d,e,f),b=c=f=null);return g.apply(this,arguments)}}function ba(a,b,d,e,f,g,h,k,l){function m(a,b,c,d){if(a){c&&
(a=W(a,c,d));a.require=t.require;a.directiveName=K;if(s===t||t.$$isolateScope)a=za(a,{isolateScope:!0});h.push(a)}if(b){c&&(b=W(b,c,d));b.require=t.require;b.directiveName=K;if(s===t||t.$$isolateScope)b=za(b,{isolateScope:!0});k.push(b)}}function q(a,e,f,g,l){function m(a,b,c,d){var e;bb(a)||(d=c,c=b,b=a,a=void 0);P&&(e=D);c||(c=P?K.parent():K);if(d){var f=l.$$slots[d];if(f)return f(a,b,e,c,Q);if(x(f))throw aa("noslot",d,ya(K));}else return l(a,b,e,c,Q)}var n,t,L,H,E,D,X,K;b===f?(g=d,K=d.$$element):
(K=y(f),g=new v(K,d));E=e;s?H=e.$new(!0):G&&(E=e.$parent);l&&(X=m,X.$$boundTransclude=l,X.isSlotFilled=function(a){return!!l.$$slots[a]});u&&(D=ga(K,g,X,u,H,e,s));s&&(fa.$$addScopeInfo(K,H,!0,!(w&&(w===s||w===s.$$originalDirective))),fa.$$addScopeClass(K,!0),H.$$isolateBindings=s.$$isolateBindings,t=Ca(e,g,H,H.$$isolateBindings,s),t.removeWatches&&H.$on("$destroy",t.removeWatches));for(n in D){t=u[n];L=D[n];var yg=t.$$bindings.bindToController;L.instance=L();K.data("$"+t.name+"Controller",L.instance);
L.bindingInfo=Ca(E,g,L.instance,yg,t)}r(u,function(a,b){var c=a.require;a.bindToController&&!I(c)&&F(c)&&R(D[b].instance,$(b,c,K,D))});r(D,function(a){var b=a.instance;if(z(b.$onChanges))try{b.$onChanges(a.bindingInfo.initialChanges)}catch(d){c(d)}if(z(b.$onInit))try{b.$onInit()}catch(e){c(e)}z(b.$doCheck)&&(E.$watch(function(){b.$doCheck()}),b.$doCheck());z(b.$onDestroy)&&E.$on("$destroy",function(){b.$onDestroy()})});n=0;for(t=h.length;n<t;n++)L=h[n],Ba(L,L.isolateScope?H:e,K,g,L.require&&$(L.directiveName,
L.require,K,D),X);var Q=e;s&&(s.template||null===s.templateUrl)&&(Q=H);a&&a(Q,f.childNodes,void 0,l);for(n=k.length-1;0<=n;n--)L=k[n],Ba(L,L.isolateScope?H:e,K,g,L.require&&$(L.directiveName,L.require,K,D),X);r(D,function(a){a=a.instance;z(a.$postLink)&&a.$postLink()})}l=l||{};for(var n=-Number.MAX_VALUE,G=l.newScopeDirective,u=l.controllerDirectives,s=l.newIsolateScopeDirective,w=l.templateDirective,L=l.nonTlbTranscludeDirective,E=!1,D=!1,P=l.hasElementTranscludeDirective,H=d.$$element=y(b),t,K,
X,Q=e,p,na=!1,Ib=!1,N,ra=0,C=a.length;ra<C;ra++){t=a[ra];var A=t.$$start,ib=t.$$end;A&&(H=U(b,A,ib));X=void 0;if(n>t.priority)break;if(N=t.scope)t.templateUrl||(F(N)?(ca("new/isolated scope",s||G,t,H),s=t):ca("new/isolated scope",s,t,H)),G=G||t;K=t.name;if(!na&&(t.replace&&(t.templateUrl||t.template)||t.transclude&&!t.$$tlb)){for(N=ra+1;na=a[N++];)if(na.transclude&&!na.$$tlb||na.replace&&(na.templateUrl||na.template)){Ib=!0;break}na=!0}!t.templateUrl&&t.controller&&(u=u||S(),ca("'"+K+"' controller",
u[K],t,H),u[K]=t);if(N=t.transclude)if(E=!0,t.$$tlb||(ca("transclusion",L,t,H),L=t),"element"===N)P=!0,n=t.priority,X=H,H=d.$$element=y(fa.$$createComment(K,d[K])),b=H[0],pa(f,Ga.call(X,0),b),Q=Y(Ib,X,e,n,g&&g.name,{nonTlbTranscludeDirective:L});else{var ka=S();if(F(N)){X=B.document.createDocumentFragment();var Xa=S(),M=S();r(N,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a;Xa[a]=b;ka[b]=null;M[b]=c});r(H.contents(),function(a){var b=Xa[va(ta(a))];b?(M[b]=!0,ka[b]=ka[b]||B.document.createDocumentFragment(),
ka[b].appendChild(a)):X.appendChild(a)});r(M,function(a,b){if(!a)throw aa("reqslot",b);});for(var O in ka)ka[O]&&(Q=y(ka[O].childNodes),ka[O]=Y(Ib,Q,e));X=y(X.childNodes)}else X=y(oc(b)).contents();H.empty();Q=Y(Ib,X,e,void 0,void 0,{needsNewScope:t.$$isolateScope||t.$$newScope});Q.$$slots=ka}if(t.template)if(D=!0,ca("template",w,t,H),w=t,N=z(t.template)?t.template(H,d):t.template,N=Na(N),t.replace){g=t;X=lc.test(N)?qd(ja(t.templateNamespace,T(N))):[];b=X[0];if(1!==X.length||1!==b.nodeType)throw aa("tplrt",
K,"");pa(f,H,b);C={$attr:{}};N=rc(b,[],C);var zg=a.splice(ra+1,a.length-(ra+1));(s||G)&&da(N,s,G);a=a.concat(N).concat(zg);ha(d,C);C=a.length}else H.html(N);if(t.templateUrl)D=!0,ca("template",w,t,H),w=t,t.replace&&(g=t),q=ia(a.splice(ra,a.length-ra),H,d,f,E&&Q,h,k,{controllerDirectives:u,newScopeDirective:G!==t&&G,newIsolateScopeDirective:s,templateDirective:w,nonTlbTranscludeDirective:L}),C=a.length;else if(t.compile)try{p=t.compile(H,d,Q);var V=t.$$originalDirective||t;z(p)?m(null,Va(V,p),A,ib):
p&&m(Va(V,p.pre),Va(V,p.post),A,ib)}catch(ea){c(ea,ya(H))}t.terminal&&(q.terminal=!0,n=Math.max(n,t.priority))}q.scope=G&&!0===G.scope;q.transcludeOnThisElement=E;q.templateOnThisElement=D;q.transclude=Q;l.hasElementTranscludeDirective=P;return q}function $(a,b,c,d){var e;if(C(b)){var f=b.match(l);b=b.substring(f[0].length);var g=f[1]||f[3],f="?"===f[2];"^^"===g?c=c.parent():e=(e=d&&d[b])&&e.instance;if(!e){var h="$"+b+"Controller";e="^^"===g&&c[0]&&9===c[0].nodeType?null:g?c.inheritedData(h):c.data(h)}if(!e&&
!f)throw aa("ctreq",b,a);}else if(I(b))for(e=[],g=0,f=b.length;g<f;g++)e[g]=$(a,b[g],c,d);else F(b)&&(e={},r(b,function(b,f){e[f]=$(a,b,c,d)}));return e||null}function ga(a,b,c,d,e,f,g){var h=S(),k;for(k in d){var l=d[k],m={$scope:l===g||l.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},n=l.controller;"@"===n&&(n=b[l.name]);m=K(n,m,!0,l.controllerAs);h[l.name]=m;a.data("$"+l.name+"Controller",m.instance)}return h}function da(a,b,c){for(var d=0,e=a.length;d<e;d++)a[d]=$b(a[d],{$$isolateScope:b,
$$newScope:c})}function V(b,c,e,g,h,k,l){if(c===h)return null;var m=null;if(f.hasOwnProperty(c)){h=a.get(c+"Directive");for(var n=0,q=h.length;n<q;n++)if(c=h[n],(x(g)||g>c.priority)&&-1!==c.restrict.indexOf(e)){k&&(c=$b(c,{$$start:k,$$end:l}));if(!c.$$bindings){var J=m=c,G=c.name,u={isolateScope:null,bindToController:null};F(J.scope)&&(!0===J.bindToController?(u.bindToController=d(J.scope,G,!0),u.isolateScope={}):u.isolateScope=d(J.scope,G,!1));F(J.bindToController)&&(u.bindToController=d(J.bindToController,
G,!0));if(u.bindToController&&!J.controller)throw aa("noctrl",G);m=m.$$bindings=u;F(m.isolateScope)&&(c.$$isolateBindings=m.isolateScope)}b.push(c);m=c}}return m}function ea(b){if(f.hasOwnProperty(b))for(var c=a.get(b+"Directive"),d=0,e=c.length;d<e;d++)if(b=c[d],b.multiElement)return!0;return!1}function ha(a,b){var c=b.$attr,d=a.$attr;r(a,function(d,e){"$"!==e.charAt(0)&&(b[e]&&b[e]!==d&&(d=d.length?d+(("style"===e?";":" ")+b[e]):b[e]),a.$set(e,d,!0,c[e]))});r(b,function(b,e){a.hasOwnProperty(e)||
"$"===e.charAt(0)||(a[e]=b,"class"!==e&&"style"!==e&&(d[e]=c[e]))})}function ia(a,b,d,f,g,h,k,l){var m=[],n,q,G=b[0],u=a.shift(),t=$b(u,{templateUrl:null,transclude:null,replace:null,$$originalDirective:u}),s=z(u.templateUrl)?u.templateUrl(b,d):u.templateUrl,L=u.templateNamespace;b.empty();e(s).then(function(c){var e,J;c=Na(c);if(u.replace){c=lc.test(c)?qd(ja(L,T(c))):[];e=c[0];if(1!==c.length||1!==e.nodeType)throw aa("tplrt",u.name,s);c={$attr:{}};pa(f,b,e);var w=rc(e,[],c);F(u.scope)&&da(w,!0);
a=w.concat(a);ha(d,c)}else e=G,b.html(c);a.unshift(t);n=ba(a,e,d,g,b,u,h,k,l);r(f,function(a,c){a===e&&(f[c]=b[0])});for(q=Xa(b[0].childNodes,g);m.length;){c=m.shift();J=m.shift();var H=m.shift(),D=m.shift(),w=b[0];if(!c.$$destroyed){if(J!==G){var E=J.className;l.hasElementTranscludeDirective&&u.replace||(w=oc(e));pa(H,y(J),w);ra(y(w),E)}J=n.transcludeOnThisElement?ka(c,n.transclude,D):D;n(q,c,w,f,J)}}m=null}).catch(function(a){bc(a)&&c(a)});return function(a,b,c,d,e){a=e;b.$$destroyed||(m?m.push(b,
c,d,a):(n.transcludeOnThisElement&&(a=ka(b,n.transclude,e)),n(q,b,c,d,a)))}}function la(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function ca(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw aa("multidir",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,ya(d));}function oa(a,c){var d=b(c,!0);d&&a.push({priority:0,compile:function(a){a=a.parent();var b=!!a.length;b&&fa.$$addBindingClass(a);return function(a,c){var e=c.parent();
b||fa.$$addBindingClass(e);fa.$$addBindingInfo(e,d.expressions);a.$watch(d,function(a){c[0].nodeValue=a})}}})}function ja(a,b){a=O(a||"html");switch(a){case "svg":case "math":var c=B.document.createElement("div");c.innerHTML="<"+a+">"+b+"</"+a+">";return c.childNodes[0].childNodes;default:return b}}function wa(a,b){if("srcdoc"===b)return P.HTML;if("src"===b||"ngSrc"===b)return-1===["img","video","audio","source","track"].indexOf(a)?P.RESOURCE_URL:P.MEDIA_URL;if("xlinkHref"===b)return"image"===a?P.MEDIA_URL:
"a"===a?P.URL:P.RESOURCE_URL;if("form"===a&&"action"===b||"base"===a&&"href"===b||"link"===a&&"href"===b)return P.RESOURCE_URL;if("a"===a&&("href"===b||"ngHref"===b))return P.URL}function xa(a,b){var c=b.toLowerCase();return w[a+"|"+c]||w["*|"+c]}function Da(a){return na(P.valueOf(a),"ng-prop-srcset")}function Ha(a,b,c,d){if(m.test(d))throw aa("nodomevents");a=ta(a);var e=xa(a,d),f=Ta;"srcset"!==d||"img"!==a&&"source"!==a?e&&(f=P.getTrusted.bind(P,e)):f=Da;b.push({priority:100,compile:function(a,
b){var e=q(b[c]),g=q(b[c],function(a){return P.valueOf(a)});return{pre:function(a,b){function c(){var g=e(a);b.prop(d,f(g))}c();a.$watch(g,c)}}}})}function Ia(a,c,d,e,f){var g=ta(a),k=wa(g,e),l=h[e]||f,n=b(d,!f,k,l);if(n){if("multiple"===e&&"select"===g)throw aa("selmulti",ya(a));if(m.test(e))throw aa("nodomevents");c.push({priority:100,compile:function(){return{pre:function(a,c,f){c=f.$$observers||(f.$$observers=S());var g=f[e];g!==d&&(n=g&&b(g,!0,k,l),d=g);n&&(f[e]=n(a),(c[e]||(c[e]=[])).$$inter=
!0,(f.$$observers&&f.$$observers[e].$$scope||a).$watch(n,function(a,b){"class"===e&&a!==b?f.$updateClass(a,b):f.$set(e,a)}))}}}})}}function pa(a,b,c){var d=b[0],e=b.length,f=d.parentNode,g,h;if(a)for(g=0,h=a.length;g<h;g++)if(a[g]===d){a[g++]=c;h=g+e-1;for(var k=a.length;g<k;g++,h++)h<k?a[g]=a[h]:delete a[g];a.length-=e-1;a.context===d&&(a.context=c);break}f&&f.replaceChild(c,d);a=B.document.createDocumentFragment();for(g=0;g<e;g++)a.appendChild(b[g]);y.hasData(d)&&(y.data(c,y.data(d)),y(d).off("$destroy"));
y.cleanData(a.querySelectorAll("*"));for(g=1;g<e;g++)delete b[g];b[0]=c;b.length=1}function za(a,b){return R(function(){return a.apply(null,arguments)},a,b)}function Ba(a,b,d,e,f,g){try{a(b,d,e,f,g)}catch(h){c(h,ya(d))}}function qa(a,b){if(s)throw aa("missingattr",a,b);}function Ca(a,c,d,e,f){function g(b,c,e){z(d.$onChanges)&&!cc(c,e)&&(Ua||(a.$$postDigest(p),Ua=[]),m||(m={},Ua.push(h)),m[b]&&(e=m[b].previousValue),m[b]=new Jb(e,c))}function h(){d.$onChanges(m);m=void 0}var k=[],l={},m;r(e,function(e,
h){var m=e.attrName,n=e.optional,J,u,t,s;switch(e.mode){case "@":n||sa.call(c,m)||(qa(m,f.name),d[h]=c[m]=void 0);n=c.$observe(m,function(a){if(C(a)||Fa(a))g(h,a,d[h]),d[h]=a});c.$$observers[m].$$scope=a;J=c[m];C(J)?d[h]=b(J)(a):Fa(J)&&(d[h]=J);l[h]=new Jb(sc,d[h]);k.push(n);break;case "=":if(!sa.call(c,m)){if(n)break;qa(m,f.name);c[m]=void 0}if(n&&!c[m])break;u=q(c[m]);s=u.literal?ua:cc;t=u.assign||function(){J=d[h]=u(a);throw aa("nonassign",c[m],m,f.name);};J=d[h]=u(a);n=function(b){s(b,d[h])||
(s(b,J)?t(a,b=d[h]):d[h]=b);return J=b};n.$stateful=!0;n=e.collection?a.$watchCollection(c[m],n):a.$watch(q(c[m],n),null,u.literal);k.push(n);break;case "<":if(!sa.call(c,m)){if(n)break;qa(m,f.name);c[m]=void 0}if(n&&!c[m])break;u=q(c[m]);var L=u.literal,w=d[h]=u(a);l[h]=new Jb(sc,d[h]);n=a[e.collection?"$watchCollection":"$watch"](u,function(a,b){if(b===a){if(b===w||L&&ua(b,w))return;b=w}g(h,a,b);d[h]=a});k.push(n);break;case "&":n||sa.call(c,m)||qa(m,f.name);u=c.hasOwnProperty(m)?q(c[m]):A;if(u===
A&&n)break;d[h]=function(b){return u(a,b)}}});return{initialChanges:l,removeWatches:k.length&&function(){for(var a=0,b=k.length;a<b;++a)k[a]()}}}var Ma=/^\w/,Ea=B.document.createElement("div"),Pa=u,Qa=D,Ja=t,Ua;v.prototype={$normalize:va,$addClass:function(a){a&&0<a.length&&Q.addClass(this.$$element,a)},$removeClass:function(a){a&&0<a.length&&Q.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=rd(a,b);c&&c.length&&Q.addClass(this.$$element,c);(c=rd(b,a))&&c.length&&Q.removeClass(this.$$element,
c)},$set:function(a,b,d,e){var f=kd(this.$$element[0],a),g=sd[a],h=a;f?(this.$$element.prop(a,b),e=f):g&&(this[g]=b,h=g);this[a]=b;e?this.$attr[a]=e:(e=this.$attr[a])||(this.$attr[a]=e=Uc(a,"-"));"img"===ta(this.$$element)&&"srcset"===a&&(this[a]=b=na(b,"$set('srcset', value)"));!1!==d&&(null===b||x(b)?this.$$element.removeAttr(e):Ma.test(e)?this.$$element.attr(e,b):N(this.$$element[0],e,b));(a=this.$$observers)&&r(a[h],function(a){try{a(b)}catch(d){c(d)}})},$observe:function(a,b){var c=this,d=c.$$observers||
(c.$$observers=S()),e=d[a]||(d[a]=[]);e.push(b);L.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||x(c[a])||b(c[a])});return function(){cb(e,b)}}};var Ka=b.startSymbol(),La=b.endSymbol(),Na="{{"===Ka&&"}}"===La?Ta:function(a){return a.replace(/\{\{/g,Ka).replace(/}}/g,La)},Ra=/^ng(Attr|Prop|On)([A-Z].*)$/,Sa=/^(.+)Start$/;fa.$$addBindingInfo=n?function(a,b){var c=a.data("$binding")||[];I(b)?c=c.concat(b):c.push(b);a.data("$binding",c)}:A;fa.$$addBindingClass=n?function(a){ra(a,"ng-binding")}:
A;fa.$$addScopeInfo=n?function(a,b,c,d){a.data(c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope",b)}:A;fa.$$addScopeClass=n?function(a,b){ra(a,b?"ng-isolate-scope":"ng-scope")}:A;fa.$$createComment=function(a,b){var c="";n&&(c=" "+(a||"")+": ",b&&(c+=b+" "));return B.document.createComment(c)};return fa}]}function Jb(a,b){this.previousValue=a;this.currentValue=b}function va(a){return a.replace(od,"").replace(Ag,function(a,d,c){return c?d.toUpperCase():d})}function rd(a,b){var d="",c=a.split(/\s+/),
e=b.split(/\s+/),f=0;a:for(;f<c.length;f++){for(var g=c[f],k=0;k<e.length;k++)if(g===e[k])continue a;d+=(0<d.length?" ":"")+g}return d}function qd(a){a=y(a);var b=a.length;if(1>=b)return a;for(;b--;){var d=a[b];(8===d.nodeType||d.nodeType===Oa&&""===d.nodeValue.trim())&&Bg.call(a,b,1)}return a}function xg(a,b){if(b&&C(b))return b;if(C(a)){var d=td.exec(a);if(d)return d[3]}}function Bf(){var a={};this.has=function(b){return a.hasOwnProperty(b)};this.register=function(b,d){Qa(b,"controller");F(b)?R(a,
b):a[b]=d};this.$get=["$injector",function(b){function d(a,b,d,g){if(!a||!F(a.$scope))throw M("$controller")("noscp",g,b);a.$scope[b]=d}return function(c,e,f,g){var k,h,l;f=!0===f;g&&C(g)&&(l=g);if(C(c)){g=c.match(td);if(!g)throw ud("ctrlfmt",c);h=g[1];l=l||g[3];c=a.hasOwnProperty(h)?a[h]:De(e.$scope,h,!0);if(!c)throw ud("ctrlreg",h);sb(c,h,!0)}if(f)return f=(I(c)?c[c.length-1]:c).prototype,k=Object.create(f||null),l&&d(e,l,k,h||c.name),R(function(){var a=b.invoke(c,k,e,h);a!==k&&(F(a)||z(a))&&(k=
a,l&&d(e,l,k,h||c.name));return k},{instance:k,identifier:l});k=b.instantiate(c,e,h);l&&d(e,l,k,h||c.name);return k}}]}function Cf(){this.$get=["$window",function(a){return y(a.document)}]}function Df(){this.$get=["$document","$rootScope",function(a,b){function d(){e=c.hidden}var c=a[0],e=c&&c.hidden;a.on("visibilitychange",d);b.$on("$destroy",function(){a.off("visibilitychange",d)});return function(){return e}}]}function Ef(){this.$get=["$log",function(a){return function(b,d){a.error.apply(a,arguments)}}]}
function tc(a){return F(a)?ha(a)?a.toISOString():eb(a):a}function Kf(){this.$get=function(){return function(a){if(!a)return"";var b=[];Nc(a,function(a,c){null===a||x(a)||z(a)||(I(a)?r(a,function(a){b.push(ca(c)+"="+ca(tc(a)))}):b.push(ca(c)+"="+ca(tc(a))))});return b.join("&")}}}function Lf(){this.$get=function(){return function(a){function b(a,e,f){I(a)?r(a,function(a,c){b(a,e+"["+(F(a)?c:"")+"]")}):F(a)&&!ha(a)?Nc(a,function(a,c){b(a,e+(f?"":"[")+c+(f?"":"]"))}):(z(a)&&(a=a()),d.push(ca(e)+"="+
(null==a?"":ca(tc(a)))))}if(!a)return"";var d=[];b(a,"",!0);return d.join("&")}}}function uc(a,b){if(C(a)){var d=a.replace(Cg,"").trim();if(d){var c=b("Content-Type"),c=c&&0===c.indexOf(vd),e;(e=c)||(e=(e=d.match(Dg))&&Eg[e[0]].test(d));if(e)try{a=Qc(d)}catch(f){if(!c)return a;throw Kb("baddata",a,f);}}}return a}function wd(a){var b=S(),d;C(a)?r(a.split("\n"),function(a){d=a.indexOf(":");var e=O(T(a.substr(0,d)));a=T(a.substr(d+1));e&&(b[e]=b[e]?b[e]+", "+a:a)}):F(a)&&r(a,function(a,d){var f=O(d),
g=T(a);f&&(b[f]=b[f]?b[f]+", "+g:g)});return b}function xd(a){var b;return function(d){b||(b=wd(a));return d?(d=b[O(d)],void 0===d&&(d=null),d):b}}function yd(a,b,d,c){if(z(c))return c(a,b,d);r(c,function(c){a=c(a,b,d)});return a}function Jf(){var a=this.defaults={transformResponse:[uc],transformRequest:[function(a){return F(a)&&"[object File]"!==ma.call(a)&&"[object Blob]"!==ma.call(a)&&"[object FormData]"!==ma.call(a)?eb(a):a}],headers:{common:{Accept:"application/json, text/plain, */*"},post:oa(vc),
put:oa(vc),patch:oa(vc)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},b=!1;this.useApplyAsync=function(a){return v(a)?(b=!!a,this):b};var d=this.interceptors=[],c=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(e,f,g,k,h,l,m,q){function n(b){function c(a,b){for(var d=0,e=b.length;d<e;){var f=b[d++],g=b[d++];a=a.then(f,
g)}b.length=0;return a}function d(a,b){var c,e={};r(a,function(a,d){z(a)?(c=a(b),null!=c&&(e[d]=c)):e[d]=a});return e}function f(a){var b=R({},a);b.data=yd(a.data,a.headers,a.status,g.transformResponse);a=a.status;return 200<=a&&300>a?b:l.reject(b)}if(!F(b))throw M("$http")("badreq",b);if(!C(q.valueOf(b.url)))throw M("$http")("badreq",b.url);var g=R({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer,jsonpCallbackParam:a.jsonpCallbackParam},
b);g.headers=function(b){var c=a.headers,e=R({},b.headers),f,g,h,c=R({},c.common,c[O(b.method)]);a:for(f in c){g=O(f);for(h in e)if(O(h)===g)continue a;e[f]=c[f]}return d(e,oa(b))}(b);g.method=ub(g.method);g.paramSerializer=C(g.paramSerializer)?m.get(g.paramSerializer):g.paramSerializer;e.$$incOutstandingRequestCount("$http");var h=[],k=[];b=l.resolve(g);r(w,function(a){(a.request||a.requestError)&&h.unshift(a.request,a.requestError);(a.response||a.responseError)&&k.push(a.response,a.responseError)});
b=c(b,h);b=b.then(function(b){var c=b.headers,d=yd(b.data,xd(c),void 0,b.transformRequest);x(d)&&r(c,function(a,b){"content-type"===O(b)&&delete c[b]});x(b.withCredentials)&&!x(a.withCredentials)&&(b.withCredentials=a.withCredentials);return s(b,d).then(f,f)});b=c(b,k);return b=b.finally(function(){e.$$completeOutstandingRequest(A,"$http")})}function s(c,d){function e(a){if(a){var c={};r(a,function(a,d){c[d]=function(c){function d(){a(c)}b?h.$applyAsync(d):h.$$phase?d():h.$apply(d)}});return c}}function k(a,
c,d,e,f){function g(){m(c,a,d,e,f)}Q&&(200<=a&&300>a?Q.put(N,[a,c,wd(d),e,f]):Q.remove(N));b?h.$applyAsync(g):(g(),h.$$phase||h.$apply())}function m(a,b,d,e,f){b=-1<=b?b:0;(200<=b&&300>b?L.resolve:L.reject)({data:a,status:b,headers:xd(d),config:c,statusText:e,xhrStatus:f})}function s(a){m(a.data,a.status,oa(a.headers()),a.statusText,a.xhrStatus)}function w(){var a=n.pendingRequests.indexOf(c);-1!==a&&n.pendingRequests.splice(a,1)}var L=l.defer(),P=L.promise,Q,p,na=c.headers,y="jsonp"===O(c.method),
N=c.url;y?N=q.getTrustedResourceUrl(N):C(N)||(N=q.valueOf(N));N=t(N,c.paramSerializer(c.params));y&&(N=u(N,c.jsonpCallbackParam));n.pendingRequests.push(c);P.then(w,w);!c.cache&&!a.cache||!1===c.cache||"GET"!==c.method&&"JSONP"!==c.method||(Q=F(c.cache)?c.cache:F(a.cache)?a.cache:D);Q&&(p=Q.get(N),v(p)?p&&z(p.then)?p.then(s,s):I(p)?m(p[1],p[0],oa(p[2]),p[3],p[4]):m(p,200,{},"OK","complete"):Q.put(N,P));x(p)&&((p=ic(c.url)?g()[c.xsrfCookieName||a.xsrfCookieName]:void 0)&&(na[c.xsrfHeaderName||a.xsrfHeaderName]=
p),f(c.method,N,d,k,na,c.timeout,c.withCredentials,c.responseType,e(c.eventHandlers),e(c.uploadEventHandlers)));return P}function t(a,b){0<b.length&&(a+=(-1===a.indexOf("?")?"?":"&")+b);return a}function u(a,b){var c=a.split("?");if(2<c.length)throw Kb("badjsonp",a);c=fc(c[1]);r(c,function(c,d){if("JSON_CALLBACK"===c)throw Kb("badjsonp",a);if(d===b)throw Kb("badjsonp",b,a);});return a+=(-1===a.indexOf("?")?"?":"&")+b+"=JSON_CALLBACK"}var D=k("$http");a.paramSerializer=C(a.paramSerializer)?m.get(a.paramSerializer):
a.paramSerializer;var w=[];r(d,function(a){w.unshift(C(a)?m.get(a):m.invoke(a))});var ic=Fg(c);n.pendingRequests=[];(function(a){r(arguments,function(a){n[a]=function(b,c){return n(R({},c||{},{method:a,url:b}))}})})("get","delete","head","jsonp");(function(a){r(arguments,function(a){n[a]=function(b,c,d){return n(R({},d||{},{method:a,url:b,data:c}))}})})("post","put","patch");n.defaults=a;return n}]}function Nf(){this.$get=function(){return function(){return new B.XMLHttpRequest}}}function Mf(){this.$get=
["$browser","$jsonpCallbacks","$document","$xhrFactory",function(a,b,d,c){return Gg(a,c,a.defer,b,d[0])}]}function Gg(a,b,d,c,e){function f(a,b,d){a=a.replace("JSON_CALLBACK",b);var f=e.createElement("script"),m=null;f.type="text/javascript";f.src=a;f.async=!0;m=function(a){f.removeEventListener("load",m);f.removeEventListener("error",m);e.body.removeChild(f);f=null;var g=-1,s="unknown";a&&("load"!==a.type||c.wasCalled(b)||(a={type:"error"}),s=a.type,g="error"===a.type?404:200);d&&d(g,s)};f.addEventListener("load",
m);f.addEventListener("error",m);e.body.appendChild(f);return m}return function(e,k,h,l,m,q,n,s,t,u){function D(a){G="timeout"===a;Z&&Z();E&&E.abort()}function w(a,b,c,e,f,g){v(H)&&d.cancel(H);Z=E=null;a(b,c,e,f,g)}k=k||a.url();if("jsonp"===O(e))var p=c.createCallback(k),Z=f(k,p,function(a,b){var d=200===a&&c.getResponse(p);w(l,a,d,"",b,"complete");c.removeCallback(p)});else{var E=b(e,k),G=!1;E.open(e,k,!0);r(m,function(a,b){v(a)&&E.setRequestHeader(b,a)});E.onload=function(){var a=E.statusText||
"",b="response"in E?E.response:E.responseText,c=1223===E.status?204:E.status;0===c&&(c=b?200:"file"===la(k).protocol?404:0);w(l,c,b,E.getAllResponseHeaders(),a,"complete")};E.onerror=function(){w(l,-1,null,null,"","error")};E.ontimeout=function(){w(l,-1,null,null,"","timeout")};E.onabort=function(){w(l,-1,null,null,"",G?"timeout":"abort")};r(t,function(a,b){E.addEventListener(b,a)});r(u,function(a,b){E.upload.addEventListener(b,a)});n&&(E.withCredentials=!0);if(s)try{E.responseType=s}catch(J){if("json"!==
s)throw J;}E.send(x(h)?null:h)}if(0<q)var H=d(function(){D("timeout")},q);else q&&z(q.then)&&q.then(function(){D(v(q.$$timeoutId)?"timeout":"abort")})}}function Gf(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a};this.endSymbol=function(a){return a?(b=a,this):b};this.$get=["$parse","$exceptionHandler","$sce",function(d,c,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(q,a).replace(n,b)}function k(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}
function h(f,h,n,q){function w(a){try{return a=n&&!r?e.getTrusted(n,a):e.valueOf(a),q&&!v(a)?a:hc(a)}catch(b){c(Ca.interr(f,b))}}var r=n===e.URL||n===e.MEDIA_URL;if(!f.length||-1===f.indexOf(a)){if(h&&!r)return;h=g(f);r&&(h=e.getTrusted(n,h));h=ia(h);h.exp=f;h.expressions=[];h.$$watchDelegate=k;return h}q=!!q;for(var p,E,G=0,J=[],H,X=f.length,K=[],L=[],P;G<X;)if(-1!==(p=f.indexOf(a,G))&&-1!==(E=f.indexOf(b,p+l)))G!==p&&K.push(g(f.substring(G,p))),G=f.substring(p+l,E),J.push(G),G=E+m,L.push(K.length),
K.push("");else{G!==X&&K.push(g(f.substring(G)));break}P=1===K.length&&1===L.length;var Q=r&&P?void 0:w;H=J.map(function(a){return d(a,Q)});if(!h||J.length){var y=function(a){for(var b=0,c=J.length;b<c;b++){if(q&&x(a[b]))return;K[L[b]]=a[b]}if(r)return e.getTrusted(n,P?K[0]:K.join(""));n&&1<K.length&&Ca.throwNoconcat(f);return K.join("")};return R(function(a){var b=0,d=J.length,e=Array(d);try{for(;b<d;b++)e[b]=H[b](a);return y(e)}catch(g){c(Ca.interr(f,g))}},{exp:f,expressions:J,$$watchDelegate:function(a,
b){var c;return a.$watchGroup(H,function(d,e){var f=y(d);b.call(this,f,d!==e?c:f,a);c=f})}})}}var l=a.length,m=b.length,q=new RegExp(a.replace(/./g,f),"g"),n=new RegExp(b.replace(/./g,f),"g");h.startSymbol=function(){return a};h.endSymbol=function(){return b};return h}]}function Hf(){this.$get=["$$intervalFactory","$window",function(a,b){var d={},c=function(a){b.clearInterval(a);delete d[a]},e=a(function(a,c,e){a=b.setInterval(a,c);d[a]=e;return a},c);e.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$intervalId"))throw Hg("badprom");
if(!d.hasOwnProperty(a.$$intervalId))return!1;a=a.$$intervalId;var b=d[a];b.promise.$$state.pur=!0;b.reject("canceled");c(a);return!0};return e}]}function If(){this.$get=["$browser","$q","$$q","$rootScope",function(a,b,d,c){return function(e,f){return function(g,k,h,l){function m(){q?g.apply(null,n):g(s)}var q=4<arguments.length,n=q?Ga.call(arguments,4):[],s=0,t=v(l)&&!l,u=(t?d:b).defer(),D=u.promise;h=v(h)?h:0;D.$$intervalId=e(function(){t?a.defer(m):c.$evalAsync(m);u.notify(s++);0<h&&s>=h&&(u.resolve(s),
f(D.$$intervalId));t||c.$apply()},k,u,t);return D}}}]}function zd(a,b){var d=la(a);b.$$protocol=d.protocol;b.$$host=d.hostname;b.$$port=da(d.port)||Ig[d.protocol]||null}function Ad(a,b,d){if(Jg.test(a))throw jb("badpath",a);var c="/"!==a.charAt(0);c&&(a="/"+a);a=la(a);for(var c=(c&&"/"===a.pathname.charAt(0)?a.pathname.substring(1):a.pathname).split("/"),e=c.length;e--;)c[e]=decodeURIComponent(c[e]),d&&(c[e]=c[e].replace(/\//g,"%2F"));d=c.join("/");b.$$path=d;b.$$search=fc(a.search);b.$$hash=decodeURIComponent(a.hash);
b.$$path&&"/"!==b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function wc(a,b){return a.slice(0,b.length)===b}function wa(a,b){if(wc(b,a))return b.substr(a.length)}function qa(a){var b=a.indexOf("#");return-1===b?a:a.substr(0,b)}function xc(a,b,d){this.$$html5=!0;d=d||"";zd(a,this);this.$$parse=function(a){var d=wa(b,a);if(!C(d))throw jb("ipthprfx",a,b);Ad(d,this,!0);this.$$path||(this.$$path="/");this.$$compose()};this.$$normalizeUrl=function(a){return b+a.substr(1)};this.$$parseLinkUrl=function(c,
e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;v(f=wa(a,c))?(g=f,g=d&&v(f=wa(d,f))?b+(wa("/",f)||f):a+g):v(f=wa(b,c))?g=b+f:b===c+"/"&&(g=b);g&&this.$$parse(g);return!!g}}function yc(a,b,d){zd(a,this);this.$$parse=function(c){var e=wa(a,c)||wa(b,c),f;x(e)||"#"!==e.charAt(0)?this.$$html5?f=e:(f="",x(e)&&(a=c,this.replace())):(f=wa(d,e),x(f)&&(f=e));Ad(f,this,!1);c=this.$$path;var e=a,g=/^\/[A-Z]:(\/.*)/;wc(f,e)&&(f=f.replace(e,""));g.exec(f)||(c=(f=g.exec(c))?f[1]:c);this.$$path=c;this.$$compose()};
this.$$normalizeUrl=function(b){return a+(b?d+b:"")};this.$$parseLinkUrl=function(b,d){return qa(a)===qa(b)?(this.$$parse(b),!0):!1}}function Bd(a,b,d){this.$$html5=!0;yc.apply(this,arguments);this.$$parseLinkUrl=function(c,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;a===qa(c)?f=c:(g=wa(b,c))?f=a+d+g:b===c+"/"&&(f=b);f&&this.$$parse(f);return!!f};this.$$normalizeUrl=function(b){return a+d+b}}function Lb(a){return function(){return this[a]}}function Cd(a,b){return function(d){if(x(d))return this[a];
this[a]=b(d);this.$$compose();return this}}function Pf(){var a="!",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return v(b)?(a=b,this):a};this.html5Mode=function(a){if(Fa(a))return b.enabled=a,this;if(F(a)){Fa(a.enabled)&&(b.enabled=a.enabled);Fa(a.requireBase)&&(b.requireBase=a.requireBase);if(Fa(a.rewriteLinks)||C(a.rewriteLinks))b.rewriteLinks=a.rewriteLinks;return this}return b};this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(d,c,e,
f,g){function k(a,b){return a===b||la(a).href===la(b).href}function h(a,b,d){var e=m.url(),f=m.$$state;try{c.url(a,b,d),m.$$state=c.state()}catch(g){throw m.url(e),m.$$state=f,g;}}function l(a,b){d.$broadcast("$locationChangeSuccess",m.absUrl(),a,m.$$state,b)}var m,q;q=c.baseHref();var n=c.url(),s;if(b.enabled){if(!q&&b.requireBase)throw jb("nobase");s=n.substring(0,n.indexOf("/",n.indexOf("//")+2))+(q||"/");q=e.history?xc:Bd}else s=qa(n),q=yc;var t=s.substr(0,qa(s).lastIndexOf("/")+1);m=new q(s,
t,"#"+a);m.$$parseLinkUrl(n,n);m.$$state=c.state();var u=/^\s*(javascript|mailto):/i;f.on("click",function(a){var e=b.rewriteLinks;if(e&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!==a.which&&2!==a.button){for(var g=y(a.target);"a"!==ta(g[0]);)if(g[0]===f[0]||!(g=g.parent())[0])return;if(!C(e)||!x(g.attr(e))){var e=g.prop("href"),h=g.attr("href")||g.attr("xlink:href");F(e)&&"[object SVGAnimatedString]"===e.toString()&&(e=la(e.animVal).href);u.test(e)||!e||g.attr("target")||a.isDefaultPrevented()||!m.$$parseLinkUrl(e,
h)||(a.preventDefault(),m.absUrl()!==c.url()&&d.$apply())}}});m.absUrl()!==n&&c.url(m.absUrl(),!0);var D=!0;c.onUrlChange(function(a,b){wc(a,t)?(d.$evalAsync(function(){var c=m.absUrl(),e=m.$$state,f;m.$$parse(a);m.$$state=b;f=d.$broadcast("$locationChangeStart",a,c,b,e).defaultPrevented;m.absUrl()===a&&(f?(m.$$parse(c),m.$$state=e,h(c,!1,e)):(D=!1,l(c,e)))}),d.$$phase||d.$digest()):g.location.href=a});d.$watch(function(){if(D||m.$$urlUpdatedByLocation){m.$$urlUpdatedByLocation=!1;var a=c.url(),b=
m.absUrl(),f=c.state(),g=m.$$replace,n=!k(a,b)||m.$$html5&&e.history&&f!==m.$$state;if(D||n)D=!1,d.$evalAsync(function(){var b=m.absUrl(),c=d.$broadcast("$locationChangeStart",b,a,m.$$state,f).defaultPrevented;m.absUrl()===b&&(c?(m.$$parse(a),m.$$state=f):(n&&h(b,g,f===m.$$state?null:m.$$state),l(a,f)))})}m.$$replace=!1});return m}]}function Qf(){var a=!0,b=this;this.debugEnabled=function(b){return v(b)?(a=b,this):a};this.$get=["$window",function(d){function c(a){bc(a)&&(a.stack&&f?a=a.message&&-1===
a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line));return a}function e(a){var b=d.console||{},e=b[a]||b.log||A;return function(){var a=[];r(arguments,function(b){a.push(c(b))});return Function.prototype.apply.call(e,b,a)}}var f=Aa||/\bEdge\//.test(d.navigator&&d.navigator.userAgent);return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}
function Kg(a){return a+""}function Lg(a,b){return"undefined"!==typeof a?a:b}function Dd(a,b){return"undefined"===typeof a?b:"undefined"===typeof b?a:a+b}function Mg(a,b){switch(a.type){case p.MemberExpression:if(a.computed)return!1;break;case p.UnaryExpression:return 1;case p.BinaryExpression:return"+"!==a.operator?1:!1;case p.CallExpression:return!1}return void 0===b?Ed:b}function Y(a,b,d){var c,e,f=a.isPure=Mg(a,d);switch(a.type){case p.Program:c=!0;r(a.body,function(a){Y(a.expression,b,f);c=c&&
a.expression.constant});a.constant=c;break;case p.Literal:a.constant=!0;a.toWatch=[];break;case p.UnaryExpression:Y(a.argument,b,f);a.constant=a.argument.constant;a.toWatch=a.argument.toWatch;break;case p.BinaryExpression:Y(a.left,b,f);Y(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case p.LogicalExpression:Y(a.left,b,f);Y(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=a.constant?[]:[a];break;case p.ConditionalExpression:Y(a.test,
b,f);Y(a.alternate,b,f);Y(a.consequent,b,f);a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant;a.toWatch=a.constant?[]:[a];break;case p.Identifier:a.constant=!1;a.toWatch=[a];break;case p.MemberExpression:Y(a.object,b,f);a.computed&&Y(a.property,b,f);a.constant=a.object.constant&&(!a.computed||a.property.constant);a.toWatch=a.constant?[]:[a];break;case p.CallExpression:c=d=a.filter?!b(a.callee.name).$stateful:!1;e=[];r(a.arguments,function(a){Y(a,b,f);c=c&&a.constant;e.push.apply(e,
a.toWatch)});a.constant=c;a.toWatch=d?e:[a];break;case p.AssignmentExpression:Y(a.left,b,f);Y(a.right,b,f);a.constant=a.left.constant&&a.right.constant;a.toWatch=[a];break;case p.ArrayExpression:c=!0;e=[];r(a.elements,function(a){Y(a,b,f);c=c&&a.constant;e.push.apply(e,a.toWatch)});a.constant=c;a.toWatch=e;break;case p.ObjectExpression:c=!0;e=[];r(a.properties,function(a){Y(a.value,b,f);c=c&&a.value.constant;e.push.apply(e,a.value.toWatch);a.computed&&(Y(a.key,b,!1),c=c&&a.key.constant,e.push.apply(e,
a.key.toWatch))});a.constant=c;a.toWatch=e;break;case p.ThisExpression:a.constant=!1;a.toWatch=[];break;case p.LocalsExpression:a.constant=!1,a.toWatch=[]}}function Fd(a){if(1===a.length){a=a[0].expression;var b=a.toWatch;return 1!==b.length?b:b[0]!==a?b:void 0}}function Gd(a){return a.type===p.Identifier||a.type===p.MemberExpression}function Hd(a){if(1===a.body.length&&Gd(a.body[0].expression))return{type:p.AssignmentExpression,left:a.body[0].expression,right:{type:p.NGValueParameter},operator:"="}}
function Id(a){this.$filter=a}function Jd(a){this.$filter=a}function Mb(a,b,d){this.ast=new p(a,d);this.astCompiler=d.csp?new Jd(b):new Id(b)}function zc(a){return z(a.valueOf)?a.valueOf():Ng.call(a)}function Rf(){var a=S(),b={"true":!0,"false":!1,"null":null,undefined:void 0},d,c;this.addLiteral=function(a,c){b[a]=c};this.setIdentifierFns=function(a,b){d=a;c=b;return this};this.$get=["$filter",function(e){function f(b,c){var d,f;switch(typeof b){case "string":return f=b=b.trim(),d=a[f],d||(d=new Nb(t),
d=(new Mb(d,e,t)).parse(b),a[f]=q(d)),s(d,c);case "function":return s(b,c);default:return s(A,c)}}function g(a,b,c){return null==a||null==b?a===b:"object"!==typeof a||(a=zc(a),"object"!==typeof a||c)?a===b||a!==a&&b!==b:!1}function k(a,b,c,d,e){var f=d.inputs,h;if(1===f.length){var k=g,f=f[0];return a.$watch(function(a){var b=f(a);g(b,k,f.isPure)||(h=d(a,void 0,void 0,[b]),k=b&&zc(b));return h},b,c,e)}for(var l=[],m=[],n=0,q=f.length;n<q;n++)l[n]=g,m[n]=null;return a.$watch(function(a){for(var b=
!1,c=0,e=f.length;c<e;c++){var k=f[c](a);if(b||(b=!g(k,l[c],f[c].isPure)))m[c]=k,l[c]=k&&zc(k)}b&&(h=d(a,void 0,void 0,m));return h},b,c,e)}function h(a,b,c,d,e){function f(){h(m)&&k()}function g(a,b,c,d){m=s&&d?d[0]:n(a,b,c,d);h(m)&&a.$$postDigest(f);return t(m)}var h=d.literal?l:v,k,m,n=d.$$intercepted||d,t=d.$$interceptor||Ta,s=d.inputs&&!n.inputs;g.literal=d.literal;g.constant=d.constant;g.inputs=d.inputs;q(g);return k=a.$watch(g,b,c,e)}function l(a){var b=!0;r(a,function(a){v(a)||(b=!1)});return b}
function m(a,b,c,d){var e=a.$watch(function(a){e();return d(a)},b,c);return e}function q(a){a.constant?a.$$watchDelegate=m:a.oneTime?a.$$watchDelegate=h:a.inputs&&(a.$$watchDelegate=k);return a}function n(a,b){function c(d){return b(a(d))}c.$stateful=a.$stateful||b.$stateful;c.$$pure=a.$$pure&&b.$$pure;return c}function s(a,b){if(!b)return a;a.$$interceptor&&(b=n(a.$$interceptor,b),a=a.$$intercepted);var c=!1,d=function(d,e,f,g){d=c&&g?g[0]:a(d,e,f,g);return b(d)};d.$$intercepted=a;d.$$interceptor=
b;d.literal=a.literal;d.oneTime=a.oneTime;d.constant=a.constant;b.$stateful||(c=!a.inputs,d.inputs=a.inputs?a.inputs:[a],b.$$pure||(d.inputs=d.inputs.map(function(a){return a.isPure===Ed?function(b){return a(b)}:a})));return q(d)}var t={csp:pa().noUnsafeEval,literals:Ha(b),isIdentifierStart:z(d)&&d,isIdentifierContinue:z(c)&&c};f.$$getAst=function(a){var b=new Nb(t);return(new Mb(b,e,t)).getAst(a).ast};return f}]}function Tf(){var a=!0;this.$get=["$rootScope","$exceptionHandler",function(b,d){return Kd(function(a){b.$evalAsync(a)},
d,a)}];this.errorOnUnhandledRejections=function(b){return v(b)?(a=b,this):a}}function Uf(){var a=!0;this.$get=["$browser","$exceptionHandler",function(b,d){return Kd(function(a){b.defer(a)},d,a)}];this.errorOnUnhandledRejections=function(b){return v(b)?(a=b,this):a}}function Kd(a,b,d){function c(){return new e}function e(){var a=this.promise=new f;this.resolve=function(b){h(a,b)};this.reject=function(b){m(a,b)};this.notify=function(b){n(a,b)}}function f(){this.$$state={status:0}}function g(){for(;!v&&
Z.length;){var a=Z.shift();if(!a.pur){a.pur=!0;var c=a.value,c="Possibly unhandled rejection: "+("function"===typeof c?c.toString().replace(/ \{[\s\S]*$/,""):x(c)?"undefined":"string"!==typeof c?Fe(c,void 0):c);bc(a.value)?b(a.value,c):b(c)}}}function k(c){!d||c.pending||2!==c.status||c.pur||(0===v&&0===Z.length&&a(g),Z.push(c));!c.processScheduled&&c.pending&&(c.processScheduled=!0,++v,a(function(){var e,f,k;k=c.pending;c.processScheduled=!1;c.pending=void 0;try{for(var l=0,n=k.length;l<n;++l){c.pur=
!0;f=k[l][0];e=k[l][c.status];try{z(e)?h(f,e(c.value)):1===c.status?h(f,c.value):m(f,c.value)}catch(q){m(f,q),q&&!0===q.$$passToExceptionHandler&&b(q)}}}finally{--v,d&&0===v&&a(g)}}))}function h(a,b){a.$$state.status||(b===a?q(a,w("qcycle",b)):l(a,b))}function l(a,b){function c(b){g||(g=!0,l(a,b))}function d(b){g||(g=!0,q(a,b))}function e(b){n(a,b)}var f,g=!1;try{if(F(b)||z(b))f=b.then;z(f)?(a.$$state.status=-1,f.call(b,c,d,e)):(a.$$state.value=b,a.$$state.status=1,k(a.$$state))}catch(h){d(h)}}function m(a,
b){a.$$state.status||q(a,b)}function q(a,b){a.$$state.value=b;a.$$state.status=2;k(a.$$state)}function n(c,d){var e=c.$$state.pending;0>=c.$$state.status&&e&&e.length&&a(function(){for(var a,c,f=0,g=e.length;f<g;f++){c=e[f][0];a=e[f][3];try{n(c,z(a)?a(d):d)}catch(h){b(h)}}})}function s(a){var b=new f;m(b,a);return b}function t(a,b,c){var d=null;try{z(c)&&(d=c())}catch(e){return s(e)}return d&&z(d.then)?d.then(function(){return b(a)},s):b(a)}function u(a,b,c,d){var e=new f;h(e,a);return e.then(b,c,
d)}function p(a){if(!z(a))throw w("norslvr",a);var b=new f;a(function(a){h(b,a)},function(a){m(b,a)});return b}var w=M("$q",TypeError),v=0,Z=[];R(f.prototype,{then:function(a,b,c){if(x(a)&&x(b)&&x(c))return this;var d=new f;this.$$state.pending=this.$$state.pending||[];this.$$state.pending.push([d,a,b,c]);0<this.$$state.status&&k(this.$$state);return d},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return t(b,E,a)},function(b){return t(b,s,a)},
b)}});var E=u;p.prototype=f.prototype;p.defer=c;p.reject=s;p.when=u;p.resolve=E;p.all=function(a){var b=new f,c=0,d=I(a)?[]:{};r(a,function(a,e){c++;u(a).then(function(a){d[e]=a;--c||h(b,d)},function(a){m(b,a)})});0===c&&h(b,d);return b};p.race=function(a){var b=c();r(a,function(a){u(a).then(b.resolve,b.reject)});return b.promise};return p}function dg(){this.$get=["$window","$timeout",function(a,b){var d=a.requestAnimationFrame||a.webkitRequestAnimationFrame,c=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||
a.webkitCancelRequestAnimationFrame,e=!!d,f=e?function(a){var b=d(a);return function(){c(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};f.supported=e;return f}]}function Sf(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$id=++pb;this.$$ChildScope=null;this.$$suspended=!1}b.prototype=a;return b}var b=10,d=M("$rootScope"),c=null,e=null;this.digestTtl=
function(a){arguments.length&&(b=a);return b};this.$get=["$exceptionHandler","$parse","$browser",function(f,g,k){function h(a){a.currentScope.$$destroyed=!0}function l(a){9===Aa&&(a.$$childHead&&l(a.$$childHead),a.$$nextSibling&&l(a.$$nextSibling));a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function m(){this.$id=++pb;this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null;this.$root=
this;this.$$suspended=this.$$destroyed=!1;this.$$listeners={};this.$$listenerCount={};this.$$watchersCount=0;this.$$isolateBindings=null}function q(a){if(w.$$phase)throw d("inprog",w.$$phase);w.$$phase=a}function n(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function t(){}function u(){for(;E.length;)try{E.shift()()}catch(a){f(a)}e=null}function p(){null===e&&(e=k.defer(function(){w.$apply(u)},
null,"$applyAsync"))}m.prototype={constructor:m,$new:function(b,c){var d;c=c||this;b?(d=new m,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope);d.$parent=c;d.$$prevSibling=c.$$childTail;c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d;(b||c!==this)&&d.$on("$destroy",h);return d},$watch:function(a,b,d,e){var f=g(a);b=z(b)?b:A;if(f.$$watchDelegate)return f.$$watchDelegate(this,b,d,f,a);var h=this,k=h.$$watchers,l=
{fn:b,last:t,get:f,exp:e||a,eq:!!d};c=null;k||(k=h.$$watchers=[],k.$$digestWatchIndex=-1);k.unshift(l);k.$$digestWatchIndex++;n(this,1);return function(){var a=cb(k,l);0<=a&&(n(h,-1),a<k.$$digestWatchIndex&&k.$$digestWatchIndex--);c=null}},$watchGroup:function(a,b){function c(){h=!1;try{k?(k=!1,b(e,e,g)):b(e,d,g)}finally{for(var f=0;f<a.length;f++)d[f]=e[f]}}var d=Array(a.length),e=Array(a.length),f=[],g=this,h=!1,k=!0;if(!a.length){var l=!0;g.$evalAsync(function(){l&&b(e,e,g)});return function(){l=
!1}}if(1===a.length)return this.$watch(a[0],function(a,c,f){e[0]=a;d[0]=c;b(e,a===c?e:d,f)});r(a,function(a,b){var d=g.$watch(a,function(a){e[b]=a;h||(h=!0,g.$evalAsync(c))});f.push(d)});return function(){for(;f.length;)f.shift()()}},$watchCollection:function(a,b){function c(a){e=a;var b,d,g,h;if(!x(e)){if(F(e))if(xa(e))for(f!==n&&(f=n,s=f.length=0,l++),a=e.length,s!==a&&(l++,f.length=s=a),b=0;b<a;b++)h=f[b],g=e[b],d=h!==h&&g!==g,d||h===g||(l++,f[b]=g);else{f!==q&&(f=q={},s=0,l++);a=0;for(b in e)sa.call(e,
b)&&(a++,g=e[b],h=f[b],b in f?(d=h!==h&&g!==g,d||h===g||(l++,f[b]=g)):(s++,f[b]=g,l++));if(s>a)for(b in l++,f)sa.call(e,b)||(s--,delete f[b])}else f!==e&&(f=e,l++);return l}}c.$$pure=g(a).literal;c.$stateful=!c.$$pure;var d=this,e,f,h,k=1<b.length,l=0,m=g(a,c),n=[],q={},t=!0,s=0;return this.$watch(m,function(){t?(t=!1,b(e,e,d)):b(e,h,d);if(k)if(F(e))if(xa(e)){h=Array(e.length);for(var a=0;a<e.length;a++)h[a]=e[a]}else for(a in h={},e)sa.call(e,a)&&(h[a]=e[a]);else h=e})},$digest:function(){var a,
g,h,l,m,n,s,r=b,p,D=v.length?w:this,E=[],x,y;q("$digest");k.$$checkUrlChange();this===w&&null!==e&&(k.defer.cancel(e),u());c=null;do{s=!1;p=D;for(n=0;n<v.length;n++){try{y=v[n],l=y.fn,l(y.scope,y.locals)}catch(C){f(C)}c=null}v.length=0;a:do{if(n=!p.$$suspended&&p.$$watchers)for(n.$$digestWatchIndex=n.length;n.$$digestWatchIndex--;)try{if(a=n[n.$$digestWatchIndex])if(m=a.get,(g=m(p))!==(h=a.last)&&!(a.eq?ua(g,h):V(g)&&V(h)))s=!0,c=a,a.last=a.eq?Ha(g,null):g,l=a.fn,l(g,h===t?g:h,p),5>r&&(x=4-r,E[x]||
(E[x]=[]),E[x].push({msg:z(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:g,oldVal:h}));else if(a===c){s=!1;break a}}catch(B){f(B)}if(!(n=!p.$$suspended&&p.$$watchersCount&&p.$$childHead||p!==D&&p.$$nextSibling))for(;p!==D&&!(n=p.$$nextSibling);)p=p.$parent}while(p=n);if((s||v.length)&&!r--)throw w.$$phase=null,d("infdig",b,E);}while(s||v.length);for(w.$$phase=null;G<Z.length;)try{Z[G++]()}catch(A){f(A)}Z.length=G=0;k.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},
$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy");this.$$destroyed=!0;this===w&&k.$$applicationDestroyed();n(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead===this&&(a.$$childHead=this.$$nextSibling);a&&a.$$childTail===this&&(a.$$childTail=this.$$prevSibling);this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling);this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=
this.$$prevSibling);this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=A;this.$on=this.$watch=this.$watchGroup=function(){return A};this.$$listeners={};this.$$nextSibling=null;l(this)}},$eval:function(a,b){return g(a)(this,b)},$evalAsync:function(a,b){w.$$phase||v.length||k.defer(function(){v.length&&w.$digest()},null,"$evalAsync");v.push({scope:this,fn:g(a),locals:b})},$$postDigest:function(a){Z.push(a)},$apply:function(a){try{q("$apply");try{return this.$eval(a)}finally{w.$$phase=
null}}catch(b){f(b)}finally{try{w.$digest()}catch(c){throw f(c),c;}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&E.push(b);a=g(a);p()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]);c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(delete c[d],s(e,1,a))}},$emit:function(a,b){var c=[],d,e=this,g=!1,h={name:a,targetScope:e,stopPropagation:function(){g=
!0},preventDefault:function(){h.defaultPrevented=!0},defaultPrevented:!1},k=db([h],arguments,1),l,m;do{d=e.$$listeners[a]||c;h.currentScope=e;l=0;for(m=d.length;l<m;l++)if(d[l])try{d[l].apply(null,k)}catch(n){f(n)}else d.splice(l,1),l--,m--;if(g)break;e=e.$parent}while(e);h.currentScope=null;return h},$broadcast:function(a,b){var c=this,d=this,e={name:a,targetScope:this,preventDefault:function(){e.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[a])return e;for(var g=db([e],arguments,
1),h,k;c=d;){e.currentScope=c;d=c.$$listeners[a]||[];h=0;for(k=d.length;h<k;h++)if(d[h])try{d[h].apply(null,g)}catch(l){f(l)}else d.splice(h,1),h--,k--;if(!(d=c.$$listenerCount[a]&&c.$$childHead||c!==this&&c.$$nextSibling))for(;c!==this&&!(d=c.$$nextSibling);)c=c.$parent}e.currentScope=null;return e}};var w=new m,v=w.$$asyncQueue=[],Z=w.$$postDigestQueue=[],E=w.$$applyAsyncQueue=[],G=0;return w}]}function Ie(){var a=/^\s*(https?|s?ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;
this.aHrefSanitizationWhitelist=function(b){return v(b)?(a=b,this):a};this.imgSrcSanitizationWhitelist=function(a){return v(a)?(b=a,this):b};this.$get=function(){return function(d,c){var e=c?b:a,f=la(d&&d.trim()).href;return""===f||f.match(e)?d:"unsafe:"+f}}}function Og(a){if("self"===a)return a;if(C(a)){if(-1<a.indexOf("***"))throw Da("iwcard",a);a=Ld(a).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*");return new RegExp("^"+a+"$")}if(ab(a))return new RegExp("^"+a.source+"$");throw Da("imatcher");
}function Md(a){var b=[];v(a)&&r(a,function(a){b.push(Og(a))});return b}function Wf(){this.SCE_CONTEXTS=U;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){arguments.length&&(a=Md(b));return a};this.resourceUrlBlacklist=function(a){arguments.length&&(b=Md(a));return b};this.$get=["$injector","$$sanitizeUri",function(d,c){function e(a,b){var c;"self"===a?(c=Ac(b,Nd))||(B.document.baseURI?c=B.document.baseURI:(La||(La=B.document.createElement("a"),La.href=".",La=La.cloneNode(!1)),c=La.href),
c=Ac(b,c)):c=!!a.exec(b.href);return c}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};a&&(b.prototype=new a);b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()};b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()};return b}var g=function(a){throw Da("unsafe");};d.has("$sanitize")&&(g=d.get("$sanitize"));var k=f(),h={};h[U.HTML]=f(k);h[U.CSS]=f(k);h[U.MEDIA_URL]=f(k);h[U.URL]=f(h[U.MEDIA_URL]);h[U.JS]=f(k);h[U.RESOURCE_URL]=
f(h[U.URL]);return{trustAs:function(a,b){var c=h.hasOwnProperty(a)?h[a]:null;if(!c)throw Da("icontext",a,b);if(null===b||x(b)||""===b)return b;if("string"!==typeof b)throw Da("itype",a);return new c(b)},getTrusted:function(d,f){if(null===f||x(f)||""===f)return f;var k=h.hasOwnProperty(d)?h[d]:null;if(k&&f instanceof k)return f.$$unwrapTrustedValue();z(f.$$unwrapTrustedValue)&&(f=f.$$unwrapTrustedValue());if(d===U.MEDIA_URL||d===U.URL)return c(f.toString(),d===U.MEDIA_URL);if(d===U.RESOURCE_URL){var k=
la(f.toString()),n,s,t=!1;n=0;for(s=a.length;n<s;n++)if(e(a[n],k)){t=!0;break}if(t)for(n=0,s=b.length;n<s;n++)if(e(b[n],k)){t=!1;break}if(t)return f;throw Da("insecurl",f.toString());}if(d===U.HTML)return g(f);throw Da("unsafe");},valueOf:function(a){return a instanceof k?a.$$unwrapTrustedValue():a}}}]}function Vf(){var a=!0;this.enabled=function(b){arguments.length&&(a=!!b);return a};this.$get=["$parse","$sceDelegate",function(b,d){if(a&&8>Aa)throw Da("iequirks");var c=oa(U);c.isEnabled=function(){return a};
c.trustAs=d.trustAs;c.getTrusted=d.getTrusted;c.valueOf=d.valueOf;a||(c.trustAs=c.getTrusted=function(a,b){return b},c.valueOf=Ta);c.parseAs=function(a,d){var e=b(d);return e.literal&&e.constant?e:b(d,function(b){return c.getTrusted(a,b)})};var e=c.parseAs,f=c.getTrusted,g=c.trustAs;r(U,function(a,b){var d=O(b);c[("parse_as_"+d).replace(Bc,wb)]=function(b){return e(a,b)};c[("get_trusted_"+d).replace(Bc,wb)]=function(b){return f(a,b)};c[("trust_as_"+d).replace(Bc,wb)]=function(b){return g(a,b)}});
return c}]}function Xf(){this.$get=["$window","$document",function(a,b){var d={},c=!((!a.nw||!a.nw.process)&&a.chrome&&(a.chrome.app&&a.chrome.app.runtime||!a.chrome.app&&a.chrome.runtime&&a.chrome.runtime.id))&&a.history&&a.history.pushState,e=da((/android (\d+)/.exec(O((a.navigator||{}).userAgent))||[])[1]),f=/Boxee/i.test((a.navigator||{}).userAgent),g=b[0]||{},k=g.body&&g.body.style,h=!1,l=!1;k&&(h=!!("transition"in k||"webkitTransition"in k),l=!!("animation"in k||"webkitAnimation"in k));return{history:!(!c||
4>e||f),hasEvent:function(a){if("input"===a&&Aa)return!1;if(x(d[a])){var b=g.createElement("div");d[a]="on"+a in b}return d[a]},csp:pa(),transitions:h,animations:l,android:e}}]}function Yf(){this.$get=ia(function(a){return new Pg(a)})}function Pg(a){function b(){var a=e.pop();return a&&a.cb}function d(a){for(var b=e.length-1;0<=b;--b){var c=e[b];if(c.type===a)return e.splice(b,1),c.cb}}var c={},e=[],f=this.ALL_TASKS_TYPE="$$all$$",g=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(e,
h){h=h||g;try{e()}finally{var l;l=h||g;c[l]&&(c[l]--,c[f]--);l=c[h];var m=c[f];if(!m||!l)for(l=m?d:b;m=l(h);)try{m()}catch(q){a.error(q)}}};this.incTaskCount=function(a){a=a||g;c[a]=(c[a]||0)+1;c[f]=(c[f]||0)+1};this.notifyWhenNoPendingTasks=function(a,b){b=b||f;c[b]?e.push({type:b,cb:a}):a()}}function $f(){var a;this.httpOptions=function(b){return b?(a=b,this):a};this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(b,d,c,e,f){function g(k,h){g.totalPendingRequests++;if(!C(k)||
x(d.get(k)))k=f.getTrustedResourceUrl(k);var l=c.defaults&&c.defaults.transformResponse;I(l)?l=l.filter(function(a){return a!==uc}):l===uc&&(l=null);return c.get(k,R({cache:d,transformResponse:l},a)).finally(function(){g.totalPendingRequests--}).then(function(a){return d.put(k,a.data)},function(a){h||(a=Qg("tpload",k,a.status,a.statusText),b(a));return e.reject(a)})}g.totalPendingRequests=0;return g}]}function ag(){this.$get=["$rootScope","$browser","$location",function(a,b,d){return{findBindings:function(a,
b,d){a=a.getElementsByClassName("ng-binding");var g=[];r(a,function(a){var c=ea.element(a).data("$binding");c&&r(c,function(c){d?(new RegExp("(^|\\s)"+Ld(b)+"(\\s|\\||$)")).test(c)&&g.push(a):-1!==c.indexOf(b)&&g.push(a)})});return g},findModels:function(a,b,d){for(var g=["ng-","data-ng-","ng\\:"],k=0;k<g.length;++k){var h=a.querySelectorAll("["+g[k]+"model"+(d?"=":"*=")+'"'+b+'"]');if(h.length)return h}},getLocation:function(){return d.url()},setLocation:function(b){b!==d.url()&&(d.url(b),a.$digest())},
whenStable:function(a){b.notifyWhenNoOutstandingRequests(a)}}}]}function bg(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,d,c,e){function f(f,h,l){z(f)||(l=h,h=f,f=A);var m=Ga.call(arguments,3),q=v(l)&&!l,n=(q?c:d).defer(),s=n.promise,t;t=b.defer(function(){try{n.resolve(f.apply(null,m))}catch(b){n.reject(b),e(b)}finally{delete g[s.$$timeoutId]}q||a.$apply()},h,"$timeout");s.$$timeoutId=t;g[t]=n;return s}var g={};f.cancel=function(a){if(!a)return!1;if(!a.hasOwnProperty("$$timeoutId"))throw Rg("badprom");
if(!g.hasOwnProperty(a.$$timeoutId))return!1;a=a.$$timeoutId;var c=g[a];c.promise.$$state.pur=!0;c.reject("canceled");delete g[a];return b.defer.cancel(a)};return f}]}function la(a){if(!C(a))return a;Aa&&($.setAttribute("href",a),a=$.href);$.setAttribute("href",a);return{href:$.href,protocol:$.protocol?$.protocol.replace(/:$/,""):"",host:$.host,search:$.search?$.search.replace(/^\?/,""):"",hash:$.hash?$.hash.replace(/^#/,""):"",hostname:$.hostname,port:$.port,pathname:"/"===$.pathname.charAt(0)?$.pathname:
"/"+$.pathname}}function Fg(a){var b=[Nd].concat(a.map(la));return function(a){a=la(a);return b.some(Ac.bind(null,a))}}function Ac(a,b){a=la(a);b=la(b);return a.protocol===b.protocol&&a.host===b.host}function cg(){this.$get=ia(B)}function Od(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var d=a[0]||{},c={},e="";return function(){var a,g,k,h,l;try{a=d.cookie||""}catch(m){a=""}if(a!==e)for(e=a,a=e.split("; "),c={},k=0;k<a.length;k++)g=a[k],h=g.indexOf("="),0<h&&(l=b(g.substring(0,
h)),x(c[l])&&(c[l]=b(g.substring(h+1))));return c}}function gg(){this.$get=Od}function cd(a){function b(d,c){if(F(d)){var e={};r(d,function(a,c){e[c]=b(c,a)});return e}return a.factory(d+"Filter",c)}this.register=b;this.$get=["$injector",function(a){return function(b){return a.get(b+"Filter")}}];b("currency",Pd);b("date",Qd);b("filter",Sg);b("json",Tg);b("limitTo",Ug);b("lowercase",Vg);b("number",Rd);b("orderBy",Sd);b("uppercase",Wg)}function Sg(){return function(a,b,d,c){if(!xa(a)){if(null==a)return a;
throw M("filter")("notarray",a);}c=c||"$";var e;switch(Cc(b)){case "function":break;case "boolean":case "null":case "number":case "string":e=!0;case "object":b=Xg(b,d,c,e);break;default:return a}return Array.prototype.filter.call(a,b)}}function Xg(a,b,d,c){var e=F(a)&&d in a;!0===b?b=ua:z(b)||(b=function(a,b){if(x(a))return!1;if(null===a||null===b)return a===b;if(F(b)||F(a)&&!ac(a))return!1;a=O(""+a);b=O(""+b);return-1!==a.indexOf(b)});return function(f){return e&&!F(f)?Ma(f,a[d],b,d,!1):Ma(f,a,b,
d,c)}}function Ma(a,b,d,c,e,f){var g=Cc(a),k=Cc(b);if("string"===k&&"!"===b.charAt(0))return!Ma(a,b.substring(1),d,c,e);if(I(a))return a.some(function(a){return Ma(a,b,d,c,e)});switch(g){case "object":var h;if(e){for(h in a)if(h.charAt&&"$"!==h.charAt(0)&&Ma(a[h],b,d,c,!0))return!0;return f?!1:Ma(a,b,d,c,!1)}if("object"===k){for(h in b)if(f=b[h],!z(f)&&!x(f)&&(g=h===c,!Ma(g?a:a[h],f,d,c,g,g)))return!1;return!0}return d(a,b);case "function":return!1;default:return d(a,b)}}function Cc(a){return null===
a?"null":typeof a}function Pd(a){var b=a.NUMBER_FORMATS;return function(a,c,e){x(c)&&(c=b.CURRENCY_SYM);x(e)&&(e=b.PATTERNS[1].maxFrac);var f=c?/\u00A4/g:/\s*\u00A4\s*/g;return null==a?a:Td(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,e).replace(f,c)}}function Rd(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Td(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Yg(a){var b=0,d,c,e,f,g;-1<(c=a.indexOf(Ud))&&(a=a.replace(Ud,""));0<(e=a.search(/e/i))?(0>c&&(c=e),c+=+a.slice(e+1),a=
a.substring(0,e)):0>c&&(c=a.length);for(e=0;a.charAt(e)===Dc;e++);if(e===(g=a.length))d=[0],c=1;else{for(g--;a.charAt(g)===Dc;)g--;c-=e;d=[];for(f=0;e<=g;e++,f++)d[f]=+a.charAt(e)}c>Vd&&(d=d.splice(0,Vd-1),b=c-1,c=1);return{d:d,e:b,i:c}}function Zg(a,b,d,c){var e=a.d,f=e.length-a.i;b=x(b)?Math.min(Math.max(d,f),c):+b;d=b+a.i;c=e[d];if(0<d){e.splice(Math.max(a.i,d));for(var g=d;g<e.length;g++)e[g]=0}else for(f=Math.max(0,f),a.i=1,e.length=Math.max(1,d=b+1),e[0]=0,g=1;g<d;g++)e[g]=0;if(5<=c)if(0>d-
1){for(c=0;c>d;c--)e.unshift(0),a.i++;e.unshift(1);a.i++}else e[d-1]++;for(;f<Math.max(0,b);f++)e.push(0);if(b=e.reduceRight(function(a,b,c,d){b+=a;d[c]=b%10;return Math.floor(b/10)},0))e.unshift(b),a.i++}function Td(a,b,d,c,e){if(!C(a)&&!ba(a)||isNaN(a))return"";var f=!isFinite(a),g=!1,k=Math.abs(a)+"",h="";if(f)h="\u221e";else{g=Yg(k);Zg(g,e,b.minFrac,b.maxFrac);h=g.d;k=g.i;e=g.e;f=[];for(g=h.reduce(function(a,b){return a&&!b},!0);0>k;)h.unshift(0),k++;0<k?f=h.splice(k,h.length):(f=h,h=[0]);k=[];
for(h.length>=b.lgSize&&k.unshift(h.splice(-b.lgSize,h.length).join(""));h.length>b.gSize;)k.unshift(h.splice(-b.gSize,h.length).join(""));h.length&&k.unshift(h.join(""));h=k.join(d);f.length&&(h+=c+f.join(""));e&&(h+="e+"+e)}return 0>a&&!g?b.negPre+h+b.negSuf:b.posPre+h+b.posSuf}function Ob(a,b,d,c){var e="";if(0>a||c&&0>=a)c?a=-a+1:(a=-a,e="-");for(a=""+a;a.length<b;)a=Dc+a;d&&(a=a.substr(a.length-b));return e+a}function ga(a,b,d,c,e){d=d||0;return function(f){f=f["get"+a]();if(0<d||f>-d)f+=d;0===
f&&-12===d&&(f=12);return Ob(f,b,c,e)}}function kb(a,b,d){return function(c,e){var f=c["get"+a](),g=ub((d?"STANDALONE":"")+(b?"SHORT":"")+a);return e[g][f]}}function Wd(a){var b=(new Date(a,0,1)).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Xd(a){return function(b){var d=Wd(b.getFullYear());b=+new Date(b.getFullYear(),b.getMonth(),b.getDate()+(4-b.getDay()))-+d;b=1+Math.round(b/6048E5);return Ob(b,a)}}function Ec(a,b){return 0>=a.getFullYear()?b.ERAS[0]:b.ERAS[1]}function Qd(a){function b(a){var b;
if(b=a.match(d)){a=new Date(0);var f=0,g=0,k=b[8]?a.setUTCFullYear:a.setFullYear,h=b[8]?a.setUTCHours:a.setHours;b[9]&&(f=da(b[9]+b[10]),g=da(b[9]+b[11]));k.call(a,da(b[1]),da(b[2])-1,da(b[3]));f=da(b[4]||0)-f;g=da(b[5]||0)-g;k=da(b[6]||0);b=Math.round(1E3*parseFloat("0."+(b[7]||0)));h.call(a,f,g,k,b)}return a}var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,f){var g="",k=[],h,l;d=d||"mediumDate";d=a.DATETIME_FORMATS[d]||
d;C(c)&&(c=$g.test(c)?da(c):b(c));ba(c)&&(c=new Date(c));if(!ha(c)||!isFinite(c.getTime()))return c;for(;d;)(l=ah.exec(d))?(k=db(k,l,1),d=k.pop()):(k.push(d),d=null);var m=c.getTimezoneOffset();f&&(m=dc(f,m),c=ec(c,f,!0));r(k,function(b){h=bh[b];g+=h?h(c,a.DATETIME_FORMATS,m):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")});return g}}function Tg(){return function(a,b){x(b)&&(b=2);return eb(a,b)}}function Ug(){return function(a,b,d){b=Infinity===Math.abs(Number(b))?Number(b):da(b);if(V(b))return a;
ba(a)&&(a=a.toString());if(!xa(a))return a;d=!d||isNaN(d)?0:da(d);d=0>d?Math.max(0,a.length+d):d;return 0<=b?Fc(a,d,d+b):0===d?Fc(a,b,a.length):Fc(a,Math.max(0,d+b),d)}}function Fc(a,b,d){return C(a)?a.slice(b,d):Ga.call(a,b,d)}function Sd(a){function b(b){return b.map(function(b){var c=1,d=Ta;if(z(b))d=b;else if(C(b)){if("+"===b.charAt(0)||"-"===b.charAt(0))c="-"===b.charAt(0)?-1:1,b=b.substring(1);if(""!==b&&(d=a(b),d.constant))var e=d(),d=function(a){return a[e]}}return{get:d,descending:c}})}function d(a){switch(typeof a){case "number":case "boolean":case "string":return!0;
default:return!1}}function c(a,b){var c=0,d=a.type,h=b.type;if(d===h){var h=a.value,l=b.value;"string"===d?(h=h.toLowerCase(),l=l.toLowerCase()):"object"===d&&(F(h)&&(h=a.index),F(l)&&(l=b.index));h!==l&&(c=h<l?-1:1)}else c="undefined"===d?1:"undefined"===h?-1:"null"===d?1:"null"===h?-1:d<h?-1:1;return c}return function(a,f,g,k){if(null==a)return a;if(!xa(a))throw M("orderBy")("notarray",a);I(f)||(f=[f]);0===f.length&&(f=["+"]);var h=b(f),l=g?-1:1,m=z(k)?k:c;a=Array.prototype.map.call(a,function(a,
b){return{value:a,tieBreaker:{value:b,type:"number",index:b},predicateValues:h.map(function(c){var e=c.get(a);c=typeof e;if(null===e)c="null";else if("object"===c)a:{if(z(e.valueOf)&&(e=e.valueOf(),d(e)))break a;ac(e)&&(e=e.toString(),d(e))}return{value:e,type:c,index:b}})}});a.sort(function(a,b){for(var d=0,e=h.length;d<e;d++){var f=m(a.predicateValues[d],b.predicateValues[d]);if(f)return f*h[d].descending*l}return(m(a.tieBreaker,b.tieBreaker)||c(a.tieBreaker,b.tieBreaker))*l});return a=a.map(function(a){return a.value})}}
function Na(a){z(a)&&(a={link:a});a.restrict=a.restrict||"AC";return ia(a)}function Pb(a,b,d,c,e){this.$$controls=[];this.$error={};this.$$success={};this.$pending=void 0;this.$name=e(b.name||b.ngForm||"")(d);this.$dirty=!1;this.$valid=this.$pristine=!0;this.$submitted=this.$invalid=!1;this.$$parentForm=lb;this.$$element=a;this.$$animate=c;Yd(this)}function Yd(a){a.$$classCache={};a.$$classCache[Zd]=!(a.$$classCache[mb]=a.$$element.hasClass(mb))}function $d(a){function b(a,b,c){c&&!a.$$classCache[b]?
(a.$$animate.addClass(a.$$element,b),a.$$classCache[b]=!0):!c&&a.$$classCache[b]&&(a.$$animate.removeClass(a.$$element,b),a.$$classCache[b]=!1)}function d(a,c,d){c=c?"-"+Uc(c,"-"):"";b(a,mb+c,!0===d);b(a,Zd+c,!1===d)}var c=a.set,e=a.unset;a.clazz.prototype.$setValidity=function(a,g,k){x(g)?(this.$pending||(this.$pending={}),c(this.$pending,a,k)):(this.$pending&&e(this.$pending,a,k),ae(this.$pending)&&(this.$pending=void 0));Fa(g)?g?(e(this.$error,a,k),c(this.$$success,a,k)):(c(this.$error,a,k),e(this.$$success,
a,k)):(e(this.$error,a,k),e(this.$$success,a,k));this.$pending?(b(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,d(this,"",null)):(b(this,"ng-pending",!1),this.$valid=ae(this.$error),this.$invalid=!this.$valid,d(this,"",this.$valid));g=this.$pending&&this.$pending[a]?void 0:this.$error[a]?!1:this.$$success[a]?!0:null;d(this,a,g);this.$$parentForm.$setValidity(a,g,this)}}function ae(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function Gc(a){a.$formatters.push(function(b){return a.$isEmpty(b)?
b:b.toString()})}function Ra(a,b,d,c,e,f){var g=O(b[0].type);if(!e.android){var k=!1;b.on("compositionstart",function(){k=!0});b.on("compositionupdate",function(a){if(x(a.data)||""===a.data)k=!1});b.on("compositionend",function(){k=!1;l()})}var h,l=function(a){h&&(f.defer.cancel(h),h=null);if(!k){var e=b.val();a=a&&a.type;"password"===g||d.ngTrim&&"false"===d.ngTrim||(e=T(e));(c.$viewValue!==e||""===e&&c.$$hasNativeValidators)&&c.$setViewValue(e,a)}};if(e.hasEvent("input"))b.on("input",l);else{var m=
function(a,b,c){h||(h=f.defer(function(){h=null;b&&b.value===c||l(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||15<b&&19>b||37<=b&&40>=b||m(a,this,this.value)});if(e.hasEvent("paste"))b.on("paste cut drop",m)}b.on("change",l);if(be[g]&&c.$$hasNativeValidators&&g===d.type)b.on("keydown wheel mousedown",function(a){if(!h){var b=this.validity,c=b.badInput,d=b.typeMismatch;h=f.defer(function(){h=null;b.badInput===c&&b.typeMismatch===d||l(a)})}});c.$render=function(){var a=c.$isEmpty(c.$viewValue)?
"":c.$viewValue;b.val()!==a&&b.val(a)}}function Qb(a,b){return function(d,c){var e,f;if(ha(d))return d;if(C(d)){'"'===d.charAt(0)&&'"'===d.charAt(d.length-1)&&(d=d.substring(1,d.length-1));if(ch.test(d))return new Date(d);a.lastIndex=0;if(e=a.exec(d))return e.shift(),f=c?{yyyy:c.getFullYear(),MM:c.getMonth()+1,dd:c.getDate(),HH:c.getHours(),mm:c.getMinutes(),ss:c.getSeconds(),sss:c.getMilliseconds()/1E3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(e,function(a,c){c<b.length&&(f[b[c]]=+a)}),e=new Date(f.yyyy,
f.MM-1,f.dd,f.HH,f.mm,f.ss||0,1E3*f.sss||0),100>f.yyyy&&e.setFullYear(f.yyyy),e}return NaN}}function nb(a,b,d,c){return function(e,f,g,k,h,l,m){function q(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return v(a)&&!ha(a)?s(a)||void 0:a}function s(a,b){var c=k.$options.getOption("timezone");p&&p!==c&&(b=Rc(b,dc(p)));var e=d(a,b);!isNaN(e)&&c&&(e=ec(e,c));return e}Hc(e,f,g,k,a);Ra(e,f,g,k,h,l);var t="time"===a||"datetimelocal"===a,u,p;k.$parsers.push(function(c){if(k.$isEmpty(c))return null;
if(b.test(c))return s(c,u);k.$$parserName=a});k.$formatters.push(function(a){if(a&&!ha(a))throw ob("datefmt",a);if(q(a)){u=a;var b=k.$options.getOption("timezone");b&&(p=b,u=ec(u,b,!0));var d=c;t&&C(k.$options.getOption("timeSecondsFormat"))&&(d=c.replace("ss.sss",k.$options.getOption("timeSecondsFormat")).replace(/:$/,""));a=m("date")(a,d,b);t&&k.$options.getOption("timeStripZeroSeconds")&&(a=a.replace(/(?::00)?(?:\.000)?$/,""));return a}p=u=null;return""});if(v(g.min)||g.ngMin){var r;k.$validators.min=
function(a){return!q(a)||x(r)||d(a)>=r};g.$observe("min",function(a){r=n(a);k.$validate()})}if(v(g.max)||g.ngMax){var y;k.$validators.max=function(a){return!q(a)||x(y)||d(a)<=y};g.$observe("max",function(a){y=n(a);k.$validate()})}}}function Hc(a,b,d,c,e){(c.$$hasNativeValidators=F(b[0].validity))&&c.$parsers.push(function(a){var d=b.prop("validity")||{};if(d.badInput||d.typeMismatch)c.$$parserName=e;else return a})}function ce(a){a.$parsers.push(function(b){if(a.$isEmpty(b))return null;if(dh.test(b))return parseFloat(b);
a.$$parserName="number"});a.$formatters.push(function(b){if(!a.$isEmpty(b)){if(!ba(b))throw ob("numfmt",b);b=b.toString()}return b})}function Sa(a){v(a)&&!ba(a)&&(a=parseFloat(a));return V(a)?void 0:a}function Ic(a){var b=a.toString(),d=b.indexOf(".");return-1===d?-1<a&&1>a&&(a=/e-(\d+)$/.exec(b))?Number(a[1]):0:b.length-d-1}function de(a,b,d){a=Number(a);var c=(a|0)!==a,e=(b|0)!==b,f=(d|0)!==d;if(c||e||f){var g=c?Ic(a):0,k=e?Ic(b):0,h=f?Ic(d):0,g=Math.max(g,k,h),g=Math.pow(10,g);a*=g;b*=g;d*=g;c&&
(a=Math.round(a));e&&(b=Math.round(b));f&&(d=Math.round(d))}return 0===(a-b)%d}function ee(a,b,d,c,e){if(v(c)){a=a(c);if(!a.constant)throw ob("constexpr",d,c);return a(b)}return e}function Jc(a,b){function d(a,b){if(!a||!a.length)return[];if(!b||!b.length)return a;var c=[],d=0;a:for(;d<a.length;d++){for(var e=a[d],m=0;m<b.length;m++)if(e===b[m])continue a;c.push(e)}return c}function c(a){if(!a)return a;var b=a;I(a)?b=a.map(c).join(" "):F(a)?b=Object.keys(a).filter(function(b){return a[b]}).join(" "):
C(a)||(b=a+"");return b}a="ngClass"+a;var e;return["$parse",function(f){return{restrict:"AC",link:function(g,k,h){function l(a,b){var c=[];r(a,function(a){if(0<b||q[a])q[a]=(q[a]||0)+b,q[a]===+(0<b)&&c.push(a)});return c.join(" ")}function m(a){if(a===b){var c=s,c=l(c&&c.split(" "),1);h.$addClass(c)}else c=s,c=l(c&&c.split(" "),-1),h.$removeClass(c);n=a}var q=k.data("$classCounts"),n=!0,s;q||(q=S(),k.data("$classCounts",q));"ngClass"!==a&&(e||(e=f("$index",function(a){return a&1})),g.$watch(e,m));
g.$watch(f(h[a],c),function(a){if(n===b){var c=s&&s.split(" "),e=a&&a.split(" "),f=d(c,e),c=d(e,c),f=l(f,-1),c=l(c,1);h.$addClass(c);h.$removeClass(f)}s=a})}}}]}function pd(a,b,d,c,e,f){return{restrict:"A",compile:function(g,k){var h=a(k[c]);return function(a,c){c.on(e,function(c){var e=function(){h(a,{$event:c})};if(b.$$phase)if(f)a.$evalAsync(e);else try{e()}catch(g){d(g)}else a.$apply(e)})}}}}function Rb(a,b,d,c,e,f,g,k,h){this.$modelValue=this.$viewValue=Number.NaN;this.$$rawModelValue=void 0;
this.$validators={};this.$asyncValidators={};this.$parsers=[];this.$formatters=[];this.$viewChangeListeners=[];this.$untouched=!0;this.$touched=!1;this.$pristine=!0;this.$dirty=!1;this.$valid=!0;this.$invalid=!1;this.$error={};this.$$success={};this.$pending=void 0;this.$name=h(d.name||"",!1)(a);this.$$parentForm=lb;this.$options=Sb;this.$$updateEvents="";this.$$updateEventHandler=this.$$updateEventHandler.bind(this);this.$$parsedNgModel=e(d.ngModel);this.$$parsedNgModelAssign=this.$$parsedNgModel.assign;
this.$$ngModelGet=this.$$parsedNgModel;this.$$ngModelSet=this.$$parsedNgModelAssign;this.$$pendingDebounce=null;this.$$parserValid=void 0;this.$$parserName="parse";this.$$currentValidationRunId=0;this.$$scope=a;this.$$rootScope=a.$root;this.$$attr=d;this.$$element=c;this.$$animate=f;this.$$timeout=g;this.$$parse=e;this.$$q=k;this.$$exceptionHandler=b;Yd(this);eh(this)}function eh(a){a.$$scope.$watch(function(b){b=a.$$ngModelGet(b);b===a.$modelValue||a.$modelValue!==a.$modelValue&&b!==b||a.$$setModelValue(b);
return b})}function Kc(a){this.$$options=a}function fe(a,b){r(b,function(b,c){v(a[c])||(a[c]=b)})}function Ea(a,b){a.prop("selected",b);a.attr("selected",b)}var Vb={objectMaxDepth:5,urlErrorParamsEnabled:!0},fh=/^\/(.+)\/([a-z]*)$/,sa=Object.prototype.hasOwnProperty,O=function(a){return C(a)?a.toLowerCase():a},ub=function(a){return C(a)?a.toUpperCase():a},Aa,y,rb,Ga=[].slice,Bg=[].splice,gh=[].push,ma=Object.prototype.toString,Oc=Object.getPrototypeOf,Ia=M("ng"),ea=B.angular||(B.angular={}),jc,pb=
0;Aa=B.document.documentMode;var V=Number.isNaN||function(a){return a!==a};A.$inject=[];Ta.$inject=[];var se=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,T=function(a){return C(a)?a.trim():a},Ld=function(a){return a.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},pa=function(){if(!v(pa.rules)){var a=B.document.querySelector("[ng-csp]")||B.document.querySelector("[data-ng-csp]");if(a){var b=a.getAttribute("ng-csp")||a.getAttribute("data-ng-csp");
pa.rules={noUnsafeEval:!b||-1!==b.indexOf("no-unsafe-eval"),noInlineStyle:!b||-1!==b.indexOf("no-inline-style")}}else{a=pa;try{new Function(""),b=!1}catch(d){b=!0}a.rules={noUnsafeEval:b,noInlineStyle:!1}}}return pa.rules},qb=function(){if(v(qb.name_))return qb.name_;var a,b,d=Pa.length,c,e;for(b=0;b<d;++b)if(c=Pa[b],a=B.document.querySelector("["+c.replace(":","\\:")+"jq]")){e=a.getAttribute(c+"jq");break}return qb.name_=e},ue=/:/g,Pa=["ng-","data-ng-","ng:","x-ng-"],ye=function(a){var b=a.currentScript;
if(!b)return!0;if(!(b instanceof B.HTMLScriptElement||b instanceof B.SVGScriptElement))return!1;b=b.attributes;return[b.getNamedItem("src"),b.getNamedItem("href"),b.getNamedItem("xlink:href")].every(function(b){if(!b)return!0;if(!b.value)return!1;var c=a.createElement("a");c.href=b.value;if(a.location.origin===c.origin)return!0;switch(c.protocol){case "http:":case "https:":case "ftp:":case "blob:":case "file:":case "data:":return!0;default:return!1}})}(B.document),Be=/[A-Z]/g,Vc=!1,Oa=3,He={full:"1.7.5",
major:1,minor:7,dot:5,codeName:"anti-prettification"};W.expando="ng339";var Ja=W.cache={},lg=1;W._data=function(a){return this.cache[a[this.expando]]||{}};var hg=/-([a-z])/g,hh=/^-ms-/,Ab={mouseleave:"mouseout",mouseenter:"mouseover"},mc=M("jqLite"),kg=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,lc=/<|&#?\w+;/,ig=/<([\w:-]+)/,jg=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ja={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>",
"</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ja.optgroup=ja.option;ja.tbody=ja.tfoot=ja.colgroup=ja.caption=ja.thead;ja.th=ja.td;var qg=B.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)},Wa=W.prototype={ready:ed,toString:function(){var a=[];r(this,function(b){a.push(""+b)});return"["+a.join(", ")+"]"},eq:function(a){return 0<=a?y(this[a]):y(this[this.length+a])},length:0,
push:gh,sort:[].sort,splice:[].splice},Gb={};r("multiple selected checked disabled readOnly required open".split(" "),function(a){Gb[O(a)]=a});var ld={};r("input select option textarea button form details".split(" "),function(a){ld[a]=!0});var sd={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:qc,removeData:pc,hasData:function(a){for(var b in Ja[a.ng339])return!0;return!1},cleanData:function(a){for(var b=0,d=a.length;b<d;b++)pc(a[b]),
hd(a[b])}},function(a,b){W[b]=a});r({data:qc,inheritedData:Eb,scope:function(a){return y.data(a,"$scope")||Eb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return y.data(a,"$isolateScope")||y.data(a,"$isolateScopeNoTemplate")},controller:id,injector:function(a){return Eb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Bb,css:function(a,b,d){b=xb(b.replace(hh,"ms-"));if(v(d))a.style[b]=d;else return a.style[b]},attr:function(a,b,d){var c=a.nodeType;if(c!==
Oa&&2!==c&&8!==c&&a.getAttribute){var c=O(b),e=Gb[c];if(v(d))null===d||!1===d&&e?a.removeAttribute(b):a.setAttribute(b,e?c:d);else return a=a.getAttribute(b),e&&null!==a&&(a=c),null===a?void 0:a}},prop:function(a,b,d){if(v(d))a[b]=d;else return a[b]},text:function(){function a(a,d){if(x(d)){var c=a.nodeType;return 1===c||c===Oa?a.textContent:""}a.textContent=d}a.$dv="";return a}(),val:function(a,b){if(x(b)){if(a.multiple&&"select"===ta(a)){var d=[];r(a.options,function(a){a.selected&&d.push(a.value||
a.text)});return d}return a.value}a.value=b},html:function(a,b){if(x(b))return a.innerHTML;yb(a,!0);a.innerHTML=b},empty:jd},function(a,b){W.prototype[b]=function(b,c){var e,f,g=this.length;if(a!==jd&&x(2===a.length&&a!==Bb&&a!==id?b:c)){if(F(b)){for(e=0;e<g;e++)if(a===qc)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}e=a.$dv;g=x(e)?Math.min(g,1):g;for(f=0;f<g;f++){var k=a(this[f],b,c);e=e?e+k:k}return e}for(e=0;e<g;e++)a(this[e],b,c);return this}});r({removeData:pc,on:function(a,b,d,
c){if(v(c))throw mc("onargs");if(kc(a)){c=zb(a,!0);var e=c.events,f=c.handle;f||(f=c.handle=ng(a,e));c=0<=b.indexOf(" ")?b.split(" "):[b];for(var g=c.length,k=function(b,c,g){var k=e[b];k||(k=e[b]=[],k.specialHandlerWrapper=c,"$destroy"===b||g||a.addEventListener(b,f));k.push(d)};g--;)b=c[g],Ab[b]?(k(Ab[b],pg),k(b,void 0,!0)):k(b)}},off:hd,one:function(a,b,d){a=y(a);a.on(b,function e(){a.off(b,d);a.off(b,e)});a.on(b,d)},replaceWith:function(a,b){var d,c=a.parentNode;yb(a);r(new W(b),function(b){d?
c.insertBefore(b,d.nextSibling):c.replaceChild(b,a);d=b})},children:function(a){var b=[];r(a.childNodes,function(a){1===a.nodeType&&b.push(a)});return b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var d=a.nodeType;if(1===d||11===d){b=new W(b);for(var d=0,c=b.length;d<c;d++)a.appendChild(b[d])}},prepend:function(a,b){if(1===a.nodeType){var d=a.firstChild;r(new W(b),function(b){a.insertBefore(b,d)})}},wrap:function(a,b){var d=y(b).eq(0).clone()[0],c=a.parentNode;
c&&c.replaceChild(d,a);d.appendChild(a)},remove:Fb,detach:function(a){Fb(a,!0)},after:function(a,b){var d=a,c=a.parentNode;if(c){b=new W(b);for(var e=0,f=b.length;e<f;e++){var g=b[e];c.insertBefore(g,d.nextSibling);d=g}}},addClass:Db,removeClass:Cb,toggleClass:function(a,b,d){b&&r(b.split(" "),function(b){var e=d;x(e)&&(e=!Bb(a,b));(e?Db:Cb)(a,b)})},parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?
a.getElementsByTagName(b):[]},clone:oc,triggerHandler:function(a,b,d){var c,e,f=b.type||b,g=zb(a);if(g=(g=g&&g.events)&&g[f])c={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:A,type:f,target:a},b.type&&(c=R(c,b)),b=oa(g),e=d?[c].concat(d):[c],r(b,function(b){c.isImmediatePropagationStopped()||
b.apply(a,e)})}},function(a,b){W.prototype[b]=function(b,c,e){for(var f,g=0,k=this.length;g<k;g++)x(f)?(f=a(this[g],b,c,e),v(f)&&(f=y(f))):nc(f,a(this[g],b,c,e));return v(f)?f:this}});W.prototype.bind=W.prototype.on;W.prototype.unbind=W.prototype.off;var ih=Object.create(null);md.prototype={_idx:function(a){a!==this._lastKey&&(this._lastKey=a,this._lastIndex=this._keys.indexOf(a));return this._lastIndex},_transformKey:function(a){return V(a)?ih:a},get:function(a){a=this._transformKey(a);a=this._idx(a);
if(-1!==a)return this._values[a]},has:function(a){a=this._transformKey(a);return-1!==this._idx(a)},set:function(a,b){a=this._transformKey(a);var d=this._idx(a);-1===d&&(d=this._lastIndex=this._keys.length);this._keys[d]=a;this._values[d]=b},delete:function(a){a=this._transformKey(a);a=this._idx(a);if(-1===a)return!1;this._keys.splice(a,1);this._values.splice(a,1);this._lastKey=NaN;this._lastIndex=-1;return!0}};var Hb=md,fg=[function(){this.$get=[function(){return Hb}]}],sg=/^([^(]+?)=>/,tg=/^[^(]*\(\s*([^)]*)\)/m,
jh=/,/,kh=/^\s*(_?)(\S+?)\1\s*$/,rg=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,za=M("$injector");fb.$$annotate=function(a,b,d){var c;if("function"===typeof a){if(!(c=a.$inject)){c=[];if(a.length){if(b)throw C(d)&&d||(d=a.name||ug(a)),za("strictdi",d);b=nd(a);r(b[1].split(jh),function(a){a.replace(kh,function(a,b,d){c.push(d)})})}a.$inject=c}}else I(a)?(b=a.length-1,sb(a[b],"fn"),c=a.slice(0,b)):sb(a,"fn",!0);return c};var ge=M("$animate"),vf=function(){this.$get=A},wf=function(){var a=new Hb,b=[];this.$get=
["$$AnimateRunner","$rootScope",function(d,c){function e(a,b,c){var d=!1;b&&(b=C(b)?b.split(" "):I(b)?b:[],r(b,function(b){b&&(d=!0,a[b]=c)}));return d}function f(){r(b,function(b){var c=a.get(b);if(c){var d=vg(b.attr("class")),e="",f="";r(c,function(a,b){a!==!!d[b]&&(a?e+=(e.length?" ":"")+b:f+=(f.length?" ":"")+b)});r(b,function(a){e&&Db(a,e);f&&Cb(a,f)});a.delete(b)}});b.length=0}return{enabled:A,on:A,off:A,pin:A,push:function(g,k,h,l){l&&l();h=h||{};h.from&&g.css(h.from);h.to&&g.css(h.to);if(h.addClass||
h.removeClass)if(k=h.addClass,l=h.removeClass,h=a.get(g)||{},k=e(h,k,!0),l=e(h,l,!1),k||l)a.set(g,h),b.push(g),1===b.length&&c.$$postDigest(f);g=new d;g.complete();return g}}}]},tf=["$provide",function(a){var b=this,d=null,c=null;this.$$registeredAnimations=Object.create(null);this.register=function(c,d){if(c&&"."!==c.charAt(0))throw ge("notcsel",c);var g=c+"-animation";b.$$registeredAnimations[c.substr(1)]=g;a.factory(g,d)};this.customFilter=function(a){1===arguments.length&&(c=z(a)?a:null);return c};
this.classNameFilter=function(a){if(1===arguments.length&&(d=a instanceof RegExp?a:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(d.toString()))throw d=null,ge("nongcls","ng-animate");return d};this.$get=["$$animateQueue",function(a){function b(a,c,d){if(d){var e;a:{for(e=0;e<d.length;e++){var f=d[e];if(1===f.nodeType){e=f;break a}}e=void 0}!e||e.parentNode||e.previousElementSibling||(d=null)}d?d.after(a):c.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.cancel&&a.cancel()},
enter:function(c,d,h,l){d=d&&y(d);h=h&&y(h);d=d||h.parent();b(c,d,h);return a.push(c,"enter",Ba(l))},move:function(c,d,h,l){d=d&&y(d);h=h&&y(h);d=d||h.parent();b(c,d,h);return a.push(c,"move",Ba(l))},leave:function(b,c){return a.push(b,"leave",Ba(c),function(){b.remove()})},addClass:function(b,c,d){d=Ba(d);d.addClass=hb(d.addclass,c);return a.push(b,"addClass",d)},removeClass:function(b,c,d){d=Ba(d);d.removeClass=hb(d.removeClass,c);return a.push(b,"removeClass",d)},setClass:function(b,c,d,f){f=Ba(f);
f.addClass=hb(f.addClass,c);f.removeClass=hb(f.removeClass,d);return a.push(b,"setClass",f)},animate:function(b,c,d,f,m){m=Ba(m);m.from=m.from?R(m.from,c):c;m.to=m.to?R(m.to,d):d;m.tempClasses=hb(m.tempClasses,f||"ng-inline-animate");return a.push(b,"animate",m)}}}]}],yf=function(){this.$get=["$$rAF",function(a){function b(b){d.push(b);1<d.length||a(function(){for(var a=0;a<d.length;a++)d[a]();d=[]})}var d=[];return function(){var a=!1;b(function(){a=!0});return function(d){a?d():b(d)}}}]},xf=function(){this.$get=
["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(a,b,d,c,e){function f(a){this.setHost(a);var b=d();this._doneCallbacks=[];this._tick=function(a){c()?e(a,0,!1):b(a)};this._state=0}f.chain=function(a,b){function c(){if(d===a.length)b(!0);else a[d](function(a){!1===a?b(!1):(d++,c())})}var d=0;c()};f.all=function(a,b){function c(f){e=e&&f;++d===a.length&&b(e)}var d=0,e=!0;r(a,function(a){a.done(c)})};f.prototype={setHost:function(a){this.host=a||{}},done:function(a){2===
this._state?a():this._doneCallbacks.push(a)},progress:A,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){!1===b?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&
this.host.end();this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel();this._resolve(!1)},complete:function(a){var b=this;0===b._state&&(b._state=1,b._tick(function(){b._resolve(a)}))},_resolve:function(a){2!==this._state&&(r(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=2)}};return f}]},uf=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,d){return function(b,e){function f(){a(function(){g.addClass&&(b.addClass(g.addClass),g.addClass=
null);g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null);g.to&&(b.css(g.to),g.to=null);k||h.complete();k=!0});return h}var g=e||{};g.$$prepared||(g=Ha(g));g.cleanupStyles&&(g.from=g.to=null);g.from&&(b.css(g.from),g.from=null);var k,h=new d;return{start:f,end:f}}}]},aa=M("$compile"),sc=new function(){};Wc.$inject=["$provide","$$sanitizeUriProvider"];Jb.prototype.isFirstChange=function(){return this.previousValue===sc};var od=/^((?:x|data)[:\-_])/i,Ag=/[:\-_]+(.)/g,ud=M("$controller"),
td=/^(\S+)(\s+as\s+([\w$]+))?$/,Ff=function(){this.$get=["$document",function(a){return function(b){b?!b.nodeType&&b instanceof y&&(b=b[0]):b=a[0].body;return b.offsetWidth+1}}]},vd="application/json",vc={"Content-Type":vd+";charset=utf-8"},Dg=/^\[|^\{(?!\{)/,Eg={"[":/]$/,"{":/}$/},Cg=/^\)]\}',?\n/,Kb=M("$http"),Ca=ea.$interpolateMinErr=M("$interpolate");Ca.throwNoconcat=function(a){throw Ca("noconcat",a);};Ca.interr=function(a,b){return Ca("interr",a,b.toString())};var Hg=M("$interval"),Of=function(){this.$get=
function(){function a(a){var b=function(a){b.data=a;b.called=!0};b.id=a;return b}var b=ea.callbacks,d={};return{createCallback:function(c){c="_"+(b.$$counter++).toString(36);var e="angular.callbacks."+c,f=a(c);d[e]=b[c]=f;return e},wasCalled:function(a){return d[a].called},getResponse:function(a){return d[a].data},removeCallback:function(a){delete b[d[a].id];delete d[a]}}}},lh=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Ig={http:80,https:443,ftp:21},jb=M("$location"),Jg=/^\s*[\\/]{2,}/,mh={$$absUrl:"",$$html5:!1,
$$replace:!1,$$compose:function(){for(var a=this.$$path,b=this.$$hash,d=ve(this.$$search),b=b?"#"+gc(b):"",a=a.split("/"),c=a.length;c--;)a[c]=gc(a[c].replace(/%2F/g,"/"));this.$$url=a.join("/")+(d?"?"+d:"")+b;this.$$absUrl=this.$$normalizeUrl(this.$$url);this.$$urlUpdatedByLocation=!0},absUrl:Lb("$$absUrl"),url:function(a){if(x(a))return this.$$url;var b=lh.exec(a);(b[1]||""===a)&&this.path(decodeURIComponent(b[1]));(b[2]||b[1]||""===a)&&this.search(b[3]||"");this.hash(b[5]||"");return this},protocol:Lb("$$protocol"),
host:Lb("$$host"),port:Lb("$$port"),path:Cd("$$path",function(a){a=null!==a?a.toString():"";return"/"===a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(C(a)||ba(a))a=a.toString(),this.$$search=fc(a);else if(F(a))a=Ha(a,{}),r(a,function(b,c){null==b&&delete a[c]}),this.$$search=a;else throw jb("isrcharg");break;default:x(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}this.$$compose();return this},hash:Cd("$$hash",function(a){return null!==
a?a.toString():""}),replace:function(){this.$$replace=!0;return this}};r([Bd,yc,xc],function(a){a.prototype=Object.create(mh);a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==xc||!this.$$html5)throw jb("nostate");this.$$state=x(b)?null:b;this.$$urlUpdatedByLocation=!0;return this}});var Ya=M("$parse"),Ng={}.constructor.prototype.valueOf,Tb=S();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){Tb[a]=!0});var nh={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v",
"'":"'",'"':'"'},Nb=function(a){this.options=a};Nb.prototype={constructor:Nb,lex:function(a){this.text=a;this.index=0;for(this.tokens=[];this.index<this.text.length;)if(a=this.text.charAt(this.index),'"'===a||"'"===a)this.readString(a);else if(this.isNumber(a)||"."===a&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(a,"(){}[].,;:?"))this.tokens.push({index:this.index,text:a}),this.index++;else if(this.isWhitespace(a))this.index++;
else{var b=a+this.peek(),d=b+this.peek(2),c=Tb[b],e=Tb[d];Tb[a]||c||e?(a=e?d:c?b:a,this.tokens.push({index:this.index,text:a,operator:!0}),this.index+=a.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){a=a||1;return this.index+a<this.text.length?this.text.charAt(this.index+a):!1},isNumber:function(a){return"0"<=a&&"9">=a&&"string"===typeof a},isWhitespace:function(a){return" "===a||"\r"===a||
"\t"===a||"\n"===a||"\v"===a||"\u00a0"===a},isIdentifierStart:function(a){return this.options.isIdentifierStart?this.options.isIdentifierStart(a,this.codePointAt(a)):this.isValidIdentifierStart(a)},isValidIdentifierStart:function(a){return"a"<=a&&"z">=a||"A"<=a&&"Z">=a||"_"===a||"$"===a},isIdentifierContinue:function(a){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(a,this.codePointAt(a)):this.isValidIdentifierContinue(a)},isValidIdentifierContinue:function(a,b){return this.isValidIdentifierStart(a,
b)||this.isNumber(a)},codePointAt:function(a){return 1===a.length?a.charCodeAt(0):(a.charCodeAt(0)<<10)+a.charCodeAt(1)-56613888},peekMultichar:function(){var a=this.text.charAt(this.index),b=this.peek();if(!b)return a;var d=a.charCodeAt(0),c=b.charCodeAt(0);return 55296<=d&&56319>=d&&56320<=c&&57343>=c?a+b:a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,d){d=d||this.index;b=v(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,d)+"]":" "+d;throw Ya("lexerr",
a,b,this.text);},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var d=O(this.text.charAt(this.index));if("."===d||this.isNumber(d))a+=d;else{var c=this.peek();if("e"===d&&this.isExpOperator(c))a+=d;else if(this.isExpOperator(d)&&c&&this.isNumber(c)&&"e"===a.charAt(a.length-1))a+=d;else if(!this.isExpOperator(d)||c&&this.isNumber(c)||"e"!==a.charAt(a.length-1))break;else this.throwError("Invalid exponent")}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},
readIdent:function(){var a=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var b=this.peekMultichar();if(!this.isIdentifierContinue(b))break;this.index+=b.length}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var d="",c=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index),c=c+f;if(e)"u"===f?(e=this.text.substring(this.index+1,this.index+5),e.match(/[\da-f]{4}/i)||
this.throwError("Invalid unicode escape [\\u"+e+"]"),this.index+=4,d+=String.fromCharCode(parseInt(e,16))):d+=nh[f]||f,e=!1;else if("\\"===f)e=!0;else{if(f===a){this.index++;this.tokens.push({index:b,text:c,constant:!0,value:d});return}d+=f}this.index++}this.throwError("Unterminated quote",b)}};var p=function(a,b){this.lexer=a;this.options=b};p.Program="Program";p.ExpressionStatement="ExpressionStatement";p.AssignmentExpression="AssignmentExpression";p.ConditionalExpression="ConditionalExpression";
p.LogicalExpression="LogicalExpression";p.BinaryExpression="BinaryExpression";p.UnaryExpression="UnaryExpression";p.CallExpression="CallExpression";p.MemberExpression="MemberExpression";p.Identifier="Identifier";p.Literal="Literal";p.ArrayExpression="ArrayExpression";p.Property="Property";p.ObjectExpression="ObjectExpression";p.ThisExpression="ThisExpression";p.LocalsExpression="LocalsExpression";p.NGValueParameter="NGValueParameter";p.prototype={ast:function(a){this.text=a;this.tokens=this.lexer.lex(a);
a=this.program();0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]);return a},program:function(){for(var a=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:p.Program,body:a}},expressionStatement:function(){return{type:p.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a=this.expression();this.expect("|");)a=this.filter(a);return a},expression:function(){return this.assignment()},
assignment:function(){var a=this.ternary();if(this.expect("=")){if(!Gd(a))throw Ya("lval");a={type:p.AssignmentExpression,left:a,right:this.assignment(),operator:"="}}return a},ternary:function(){var a=this.logicalOR(),b,d;return this.expect("?")&&(b=this.expression(),this.consume(":"))?(d=this.expression(),{type:p.ConditionalExpression,test:a,alternate:b,consequent:d}):a},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:p.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};
return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:p.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a=this.relational(),b;b=this.expect("==","!=","===","!==");)a={type:p.BinaryExpression,operator:b.text,left:a,right:this.relational()};return a},relational:function(){for(var a=this.additive(),b;b=this.expect("<",">","<=",">=");)a={type:p.BinaryExpression,operator:b.text,left:a,right:this.additive()};return a},additive:function(){for(var a=
this.multiplicative(),b;b=this.expect("+","-");)a={type:p.BinaryExpression,operator:b.text,left:a,right:this.multiplicative()};return a},multiplicative:function(){for(var a=this.unary(),b;b=this.expect("*","/","%");)a={type:p.BinaryExpression,operator:b.text,left:a,right:this.unary()};return a},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:p.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),
this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?a=Ha(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?a={type:p.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===
b.text?(a={type:p.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:p.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:p.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){a=[a];for(var b={type:p.CallExpression,callee:this.identifier(),arguments:a,filter:!0};this.expect(":");)a.push(this.expression());return b},parseArguments:function(){var a=
[];if(")"!==this.peekToken().text){do a.push(this.filterChain());while(this.expect(","))}return a},identifier:function(){var a=this.consume();a.identifier||this.throwError("is not a valid identifier",a);return{type:p.Identifier,name:a.text}},constant:function(){return{type:p.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text){do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","))}this.consume("]");return{type:p.ArrayExpression,
elements:a}},object:function(){var a=[],b;if("}"!==this.peekToken().text){do{if(this.peek("}"))break;b={type:p.Property,kind:"init"};this.peek().constant?(b.key=this.constant(),b.computed=!1,this.consume(":"),b.value=this.expression()):this.peek().identifier?(b.key=this.identifier(),b.computed=!1,this.peek(":")?(this.consume(":"),b.value=this.expression()):b.value=b.key):this.peek("[")?(this.consume("["),b.key=this.expression(),this.consume("]"),b.computed=!0,this.consume(":"),b.value=this.expression()):
this.throwError("invalid key",this.peek());a.push(b)}while(this.expect(","))}this.consume("}");return{type:p.ObjectExpression,properties:a}},throwError:function(a,b){throw Ya("syntax",b.text,a,b.index+1,this.text,this.text.substring(b.index));},consume:function(a){if(0===this.tokens.length)throw Ya("ueoe",this.text);var b=this.expect(a);b||this.throwError("is unexpected, expecting ["+a+"]",this.peek());return b},peekToken:function(){if(0===this.tokens.length)throw Ya("ueoe",this.text);return this.tokens[0]},
peek:function(a,b,d,c){return this.peekAhead(0,a,b,d,c)},peekAhead:function(a,b,d,c,e){if(this.tokens.length>a){a=this.tokens[a];var f=a.text;if(f===b||f===d||f===c||f===e||!(b||d||c||e))return a}return!1},expect:function(a,b,d,c){return(a=this.peek(a,b,d,c))?(this.tokens.shift(),a):!1},selfReferential:{"this":{type:p.ThisExpression},$locals:{type:p.LocalsExpression}}};var Ed=2;Id.prototype={compile:function(a){var b=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],
body:[],own:{}},inputs:[]};Y(a,b.$filter);var d="",c;this.stage="assign";if(c=Hd(a))this.state.computing="assign",d=this.nextId(),this.recurse(c,d),this.return_(d),d="fn.assign="+this.generateFunction("assign","s,v,l");c=Fd(a.body);b.stage="inputs";r(c,function(a,c){var d="fn"+c;b.state[d]={vars:[],body:[],own:{}};b.state.computing=d;var k=b.nextId();b.recurse(a,k);b.return_(k);b.state.inputs.push({name:d,isPure:a.isPure});a.watchId=c});this.state.computing="fn";this.stage="main";this.recurse(a);
a='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+d+this.watchFns()+"return fn;";a=(new Function("$filter","getStringValue","ifDefined","plus",a))(this.$filter,Kg,Lg,Dd);this.state=this.stage=void 0;return a},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,d=this;r(b,function(b){a.push("var "+b.name+"="+d.generateFunction(b.name,"s"));b.isPure&&a.push(b.name,".isPure="+JSON.stringify(b.isPure)+";")});b.length&&a.push("fn.inputs=["+
b.map(function(a){return a.name}).join(",")+"];");return a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;r(this.state.filters,function(d,c){a.push(d+"=$filter("+b.escape(c)+")")});return a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,c,e,
f){var g,k,h=this,l,m,q;c=c||A;if(!f&&v(a.watchId))b=b||this.nextId(),this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,c,e,!0));else switch(a.type){case p.Program:r(a.body,function(b,c){h.recurse(b.expression,void 0,void 0,function(a){k=a});c!==a.body.length-1?h.current().body.push(k,";"):h.return_(k)});break;case p.Literal:m=this.escape(a.value);this.assign(b,m);c(b||m);break;case p.UnaryExpression:this.recurse(a.argument,void 0,void 0,function(a){k=a});m=
a.operator+"("+this.ifDefined(k,0)+")";this.assign(b,m);c(m);break;case p.BinaryExpression:this.recurse(a.left,void 0,void 0,function(a){g=a});this.recurse(a.right,void 0,void 0,function(a){k=a});m="+"===a.operator?this.plus(g,k):"-"===a.operator?this.ifDefined(g,0)+a.operator+this.ifDefined(k,0):"("+g+")"+a.operator+"("+k+")";this.assign(b,m);c(m);break;case p.LogicalExpression:b=b||this.nextId();h.recurse(a.left,b);h.if_("&&"===a.operator?b:h.not(b),h.lazyRecurse(a.right,b));c(b);break;case p.ConditionalExpression:b=
b||this.nextId();h.recurse(a.test,b);h.if_(b,h.lazyRecurse(a.alternate,b),h.lazyRecurse(a.consequent,b));c(b);break;case p.Identifier:b=b||this.nextId();d&&(d.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name);h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",a.name)),function(){h.if_("inputs"===h.stage||"s",function(){e&&1!==e&&h.if_(h.isNull(h.nonComputedMember("s",a.name)),h.lazyAssign(h.nonComputedMember("s",a.name),
"{}"));h.assign(b,h.nonComputedMember("s",a.name))})},b&&h.lazyAssign(b,h.nonComputedMember("l",a.name)));c(b);break;case p.MemberExpression:g=d&&(d.context=this.nextId())||this.nextId();b=b||this.nextId();h.recurse(a.object,g,void 0,function(){h.if_(h.notNull(g),function(){a.computed?(k=h.nextId(),h.recurse(a.property,k),h.getStringValue(k),e&&1!==e&&h.if_(h.not(h.computedMember(g,k)),h.lazyAssign(h.computedMember(g,k),"{}")),m=h.computedMember(g,k),h.assign(b,m),d&&(d.computed=!0,d.name=k)):(e&&
1!==e&&h.if_(h.isNull(h.nonComputedMember(g,a.property.name)),h.lazyAssign(h.nonComputedMember(g,a.property.name),"{}")),m=h.nonComputedMember(g,a.property.name),h.assign(b,m),d&&(d.computed=!1,d.name=a.property.name))},function(){h.assign(b,"undefined")});c(b)},!!e);break;case p.CallExpression:b=b||this.nextId();a.filter?(k=h.filter(a.callee.name),l=[],r(a.arguments,function(a){var b=h.nextId();h.recurse(a,b);l.push(b)}),m=k+"("+l.join(",")+")",h.assign(b,m),c(b)):(k=h.nextId(),g={},l=[],h.recurse(a.callee,
k,g,function(){h.if_(h.notNull(k),function(){r(a.arguments,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m=g.name?h.member(g.context,g.name,g.computed)+"("+l.join(",")+")":k+"("+l.join(",")+")";h.assign(b,m)},function(){h.assign(b,"undefined")});c(b)}));break;case p.AssignmentExpression:k=this.nextId();g={};this.recurse(a.left,void 0,g,function(){h.if_(h.notNull(g.context),function(){h.recurse(a.right,k);m=h.member(g.context,g.name,g.computed)+a.operator+k;
h.assign(b,m);c(b||m)})},1);break;case p.ArrayExpression:l=[];r(a.elements,function(b){h.recurse(b,a.constant?void 0:h.nextId(),void 0,function(a){l.push(a)})});m="["+l.join(",")+"]";this.assign(b,m);c(b||m);break;case p.ObjectExpression:l=[];q=!1;r(a.properties,function(a){a.computed&&(q=!0)});q?(b=b||this.nextId(),this.assign(b,"{}"),r(a.properties,function(a){a.computed?(g=h.nextId(),h.recurse(a.key,g)):g=a.key.type===p.Identifier?a.key.name:""+a.key.value;k=h.nextId();h.recurse(a.value,k);h.assign(h.member(b,
g,a.computed),k)})):(r(a.properties,function(b){h.recurse(b.value,a.constant?void 0:h.nextId(),void 0,function(a){l.push(h.escape(b.key.type===p.Identifier?b.key.name:""+b.key.value)+":"+a)})}),m="{"+l.join(",")+"}",this.assign(b,m));c(b||m);break;case p.ThisExpression:this.assign(b,"s");c(b||"s");break;case p.LocalsExpression:this.assign(b,"l");c(b||"l");break;case p.NGValueParameter:this.assign(b,"v"),c(b||"v")}},getHasOwnProperty:function(a,b){var d=a+"."+b,c=this.current().own;c.hasOwnProperty(d)||
(c[d]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")"));return c[d]},assign:function(a,b){if(a)return this.current().body.push(a,"=",b,";"),a},filter:function(a){this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0));return this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,d){if(!0===a)b();else{var c=this.current().body;
c.push("if(",a,"){");b();c.push("}");d&&(c.push("else{"),d(),c.push("}"))}},not:function(a){return"!("+a+")"},isNull:function(a){return a+"==null"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){var d=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(b)?a+"."+b:a+'["'+b.replace(d,this.stringEscapeFn)+'"]'},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,d){return d?this.computedMember(a,b):this.nonComputedMember(a,b)},getStringValue:function(a){this.assign(a,
"getStringValue("+a+")")},lazyRecurse:function(a,b,d,c,e,f){var g=this;return function(){g.recurse(a,b,d,c,e,f)}},lazyAssign:function(a,b){var d=this;return function(){d.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(C(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(ba(a))return a.toString();if(!0===a)return"true";if(!1===a)return"false";if(null===a)return"null";
if("undefined"===typeof a)return"undefined";throw Ya("esc");},nextId:function(a,b){var d="v"+this.state.nextId++;a||this.current().vars.push(d+(b?"="+b:""));return d},current:function(){return this.state[this.state.computing]}};Jd.prototype={compile:function(a){var b=this;Y(a,b.$filter);var d,c;if(d=Hd(a))c=this.recurse(d);d=Fd(a.body);var e;d&&(e=[],r(d,function(a,c){var d=b.recurse(a);d.isPure=a.isPure;a.input=d;e.push(d);a.watchId=c}));var f=[];r(a.body,function(a){f.push(b.recurse(a.expression))});
a=0===a.body.length?A:1===a.body.length?f[0]:function(a,b){var c;r(f,function(d){c=d(a,b)});return c};c&&(a.assign=function(a,b,d){return c(a,d,b)});e&&(a.inputs=e);return a},recurse:function(a,b,d){var c,e,f=this,g;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case p.Literal:return this.value(a.value,b);case p.UnaryExpression:return e=this.recurse(a.argument),this["unary"+a.operator](e,b);case p.BinaryExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+
a.operator](c,e,b);case p.LogicalExpression:return c=this.recurse(a.left),e=this.recurse(a.right),this["binary"+a.operator](c,e,b);case p.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case p.Identifier:return f.identifier(a.name,b,d);case p.MemberExpression:return c=this.recurse(a.object,!1,!!d),a.computed||(e=a.property.name),a.computed&&(e=this.recurse(a.property)),a.computed?this.computedMember(c,e,b,d):this.nonComputedMember(c,
e,b,d);case p.CallExpression:return g=[],r(a.arguments,function(a){g.push(f.recurse(a))}),a.filter&&(e=this.$filter(a.callee.name)),a.filter||(e=this.recurse(a.callee,!0)),a.filter?function(a,c,d,f){for(var q=[],n=0;n<g.length;++n)q.push(g[n](a,c,d,f));a=e.apply(void 0,q,f);return b?{context:void 0,name:void 0,value:a}:a}:function(a,c,d,f){var q=e(a,c,d,f),n;if(null!=q.value){n=[];for(var s=0;s<g.length;++s)n.push(g[s](a,c,d,f));n=q.value.apply(q.context,n)}return b?{value:n}:n};case p.AssignmentExpression:return c=
this.recurse(a.left,!0,1),e=this.recurse(a.right),function(a,d,f,g){var q=c(a,d,f,g);a=e(a,d,f,g);q.context[q.name]=a;return b?{value:a}:a};case p.ArrayExpression:return g=[],r(a.elements,function(a){g.push(f.recurse(a))}),function(a,c,d,e){for(var f=[],n=0;n<g.length;++n)f.push(g[n](a,c,d,e));return b?{value:f}:f};case p.ObjectExpression:return g=[],r(a.properties,function(a){a.computed?g.push({key:f.recurse(a.key),computed:!0,value:f.recurse(a.value)}):g.push({key:a.key.type===p.Identifier?a.key.name:
""+a.key.value,computed:!1,value:f.recurse(a.value)})}),function(a,c,d,e){for(var f={},n=0;n<g.length;++n)g[n].computed?f[g[n].key(a,c,d,e)]=g[n].value(a,c,d,e):f[g[n].key]=g[n].value(a,c,d,e);return b?{value:f}:f};case p.ThisExpression:return function(a){return b?{value:a}:a};case p.LocalsExpression:return function(a,c){return b?{value:c}:c};case p.NGValueParameter:return function(a,c,d){return b?{value:d}:d}}},"unary+":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=v(d)?+d:0;return b?{value:d}:
d}},"unary-":function(a,b){return function(d,c,e,f){d=a(d,c,e,f);d=v(d)?-d:-0;return b?{value:d}:d}},"unary!":function(a,b){return function(d,c,e,f){d=!a(d,c,e,f);return b?{value:d}:d}},"binary+":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=Dd(k,c);return d?{value:k}:k}},"binary-":function(a,b,d){return function(c,e,f,g){var k=a(c,e,f,g);c=b(c,e,f,g);k=(v(k)?k:0)-(v(c)?c:0);return d?{value:k}:k}},"binary*":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)*b(c,e,f,g);
return d?{value:c}:c}},"binary/":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)/b(c,e,f,g);return d?{value:c}:c}},"binary%":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)%b(c,e,f,g);return d?{value:c}:c}},"binary===":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)===b(c,e,f,g);return d?{value:c}:c}},"binary!==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!==b(c,e,f,g);return d?{value:c}:c}},"binary==":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)==b(c,e,f,g);return d?
{value:c}:c}},"binary!=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)!=b(c,e,f,g);return d?{value:c}:c}},"binary<":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<b(c,e,f,g);return d?{value:c}:c}},"binary>":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>b(c,e,f,g);return d?{value:c}:c}},"binary<=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)<=b(c,e,f,g);return d?{value:c}:c}},"binary>=":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)>=b(c,e,f,g);return d?{value:c}:
c}},"binary&&":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)&&b(c,e,f,g);return d?{value:c}:c}},"binary||":function(a,b,d){return function(c,e,f,g){c=a(c,e,f,g)||b(c,e,f,g);return d?{value:c}:c}},"ternary?:":function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k)?b(e,f,g,k):d(e,f,g,k);return c?{value:e}:e}},value:function(a,b){return function(){return b?{context:void 0,name:void 0,value:a}:a}},identifier:function(a,b,d){return function(c,e,f,g){c=e&&a in e?e:c;d&&1!==d&&c&&null==c[a]&&(c[a]=
{});e=c?c[a]:void 0;return b?{context:c,name:a,value:e}:e}},computedMember:function(a,b,d,c){return function(e,f,g,k){var h=a(e,f,g,k),l,m;null!=h&&(l=b(e,f,g,k),l+="",c&&1!==c&&h&&!h[l]&&(h[l]={}),m=h[l]);return d?{context:h,name:l,value:m}:m}},nonComputedMember:function(a,b,d,c){return function(e,f,g,k){e=a(e,f,g,k);c&&1!==c&&e&&null==e[b]&&(e[b]={});f=null!=e?e[b]:void 0;return d?{context:e,name:b,value:f}:f}},inputs:function(a,b){return function(d,c,e,f){return f?f[b]:a(d,c,e)}}};Mb.prototype=
{constructor:Mb,parse:function(a){a=this.getAst(a);var b=this.astCompiler.compile(a.ast),d=a.ast;b.literal=0===d.body.length||1===d.body.length&&(d.body[0].expression.type===p.Literal||d.body[0].expression.type===p.ArrayExpression||d.body[0].expression.type===p.ObjectExpression);b.constant=a.ast.constant;b.oneTime=a.oneTime;return b},getAst:function(a){var b=!1;a=a.trim();":"===a.charAt(0)&&":"===a.charAt(1)&&(b=!0,a=a.substring(2));return{ast:this.ast.ast(a),oneTime:b}}};var Da=M("$sce"),U={HTML:"html",
CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Bc=/_([a-z])/g,Qg=M("$templateRequest"),Rg=M("$timeout"),$=B.document.createElement("a"),Nd=la(B.location.href),La;Od.$inject=["$document"];cd.$inject=["$provide"];var Vd=22,Ud=".",Dc="0";Pd.$inject=["$locale"];Rd.$inject=["$locale"];var bh={yyyy:ga("FullYear",4,0,!1,!0),yy:ga("FullYear",2,0,!0,!0),y:ga("FullYear",1,0,!1,!0),MMMM:kb("Month"),MMM:kb("Month",!0),MM:ga("Month",2,1),M:ga("Month",1,1),LLLL:kb("Month",!1,!0),dd:ga("Date",
2),d:ga("Date",1),HH:ga("Hours",2),H:ga("Hours",1),hh:ga("Hours",2,-12),h:ga("Hours",1,-12),mm:ga("Minutes",2),m:ga("Minutes",1),ss:ga("Seconds",2),s:ga("Seconds",1),sss:ga("Milliseconds",3),EEEE:kb("Day"),EEE:kb("Day",!0),a:function(a,b){return 12>a.getHours()?b.AMPMS[0]:b.AMPMS[1]},Z:function(a,b,d){a=-1*d;return a=(0<=a?"+":"")+(Ob(Math[0<a?"floor":"ceil"](a/60),2)+Ob(Math.abs(a%60),2))},ww:Xd(2),w:Xd(1),G:Ec,GG:Ec,GGG:Ec,GGGG:function(a,b){return 0>=a.getFullYear()?b.ERANAMES[0]:b.ERANAMES[1]}},
ah=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,$g=/^-?\d+$/;Qd.$inject=["$locale"];var Vg=ia(O),Wg=ia(ub);Sd.$inject=["$parse"];var Je=ia({restrict:"E",compile:function(a,b){if(!b.href&&!b.xlinkHref)return function(a,b){if("a"===b[0].nodeName.toLowerCase()){var e="[object SVGAnimatedString]"===ma.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(e)||a.preventDefault()})}}}}),vb={};r(Gb,function(a,b){function d(a,d,e){a.$watch(e[c],
function(a){e.$set(b,!!a)})}if("multiple"!==a){var c=va("ng-"+b),e=d;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[c]&&d(a,b,e)});vb[c]=function(){return{restrict:"A",priority:100,link:e}}}});r(sd,function(a,b){vb[b]=function(){return{priority:100,link:function(a,c,e){if("ngPattern"===b&&"/"===e.ngPattern.charAt(0)&&(c=e.ngPattern.match(fh))){e.$set("ngPattern",new RegExp(c[1],c[2]));return}a.$watch(e[b],function(a){e.$set(b,a)})}}}});r(["src","srcset","href"],function(a){var b=va("ng-"+a);vb[b]=
function(){return{priority:99,link:function(d,c,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===ma.call(c.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null);e.$observe(b,function(b){b?(e.$set(g,b),Aa&&f&&c.prop(f,e[g])):"href"===a&&e.$set(g,null)})}}}});var lb={$addControl:A,$getControls:ia([]),$$renameControl:function(a,b){a.$name=b},$removeControl:A,$setValidity:A,$setDirty:A,$setPristine:A,$setSubmitted:A,$$setSubmitted:A};Pb.$inject=["$element","$attrs","$scope","$animate",
"$interpolate"];Pb.prototype={$rollbackViewValue:function(){r(this.$$controls,function(a){a.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(a){a.$commitViewValue()})},$addControl:function(a){Qa(a.$name,"input");this.$$controls.push(a);a.$name&&(this[a.$name]=a);a.$$parentForm=this},$getControls:function(){return oa(this.$$controls)},$$renameControl:function(a,b){var d=a.$name;this[d]===a&&delete this[d];this[b]=a;a.$name=b},$removeControl:function(a){a.$name&&this[a.$name]===
a&&delete this[a.$name];r(this.$pending,function(b,d){this.$setValidity(d,null,a)},this);r(this.$error,function(b,d){this.$setValidity(d,null,a)},this);r(this.$$success,function(b,d){this.$setValidity(d,null,a)},this);cb(this.$$controls,a);a.$$parentForm=lb},$setDirty:function(){this.$$animate.removeClass(this.$$element,Za);this.$$animate.addClass(this.$$element,Ub);this.$dirty=!0;this.$pristine=!1;this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Za,Ub+
" ng-submitted");this.$dirty=!1;this.$pristine=!0;this.$submitted=!1;r(this.$$controls,function(a){a.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(a){a.$setUntouched()})},$setSubmitted:function(){for(var a=this;a.$$parentForm&&a.$$parentForm!==lb;)a=a.$$parentForm;a.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted");this.$submitted=!0;r(this.$$controls,function(a){a.$$setSubmitted&&a.$$setSubmitted()})}};$d({clazz:Pb,set:function(a,
b,d){var c=a[b];c?-1===c.indexOf(d)&&c.push(d):a[b]=[d]},unset:function(a,b,d){var c=a[b];c&&(cb(c,d),0===c.length&&delete a[b])}});var he=function(a){return["$timeout","$parse",function(b,d){function c(a){return""===a?d('this[""]').assign:d(a).assign||A}return{name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:Pb,compile:function(d,f){d.addClass(Za).addClass(mb);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,e,f){var q=f[0];if(!("action"in e)){var n=function(b){a.$apply(function(){q.$commitViewValue();
q.$setSubmitted()});b.preventDefault()};d[0].addEventListener("submit",n);d.on("$destroy",function(){b(function(){d[0].removeEventListener("submit",n)},0,!1)})}(f[1]||q.$$parentForm).$addControl(q);var s=g?c(q.$name):A;g&&(s(a,q),e.$observe(g,function(b){q.$name!==b&&(s(a,void 0),q.$$parentForm.$$renameControl(q,b),s=c(q.$name),s(a,q))}));d.on("$destroy",function(){q.$$parentForm.$removeControl(q);s(a,void 0);R(q,lb)})}}}}}]},Ke=he(),We=he(!0),ch=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,
oh=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ph=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,dh=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ie=/^(\d{4,})-(\d{2})-(\d{2})$/,je=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Lc=/^(\d{4,})-W(\d\d)$/,ke=/^(\d{4,})-(\d\d)$/,
le=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,be=S();r(["date","datetime-local","month","time","week"],function(a){be[a]=!0});var me={text:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Gc(c)},date:nb("date",ie,Qb(ie,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":nb("datetimelocal",je,Qb(je,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:nb("time",le,Qb(le,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:nb("week",Lc,function(a,b){if(ha(a))return a;if(C(a)){Lc.lastIndex=0;var d=Lc.exec(a);
if(d){var c=+d[1],e=+d[2],f=d=0,g=0,k=0,h=Wd(c),e=7*(e-1);b&&(d=b.getHours(),f=b.getMinutes(),g=b.getSeconds(),k=b.getMilliseconds());return new Date(c,0,h.getDate()+e,d,f,g,k)}}return NaN},"yyyy-Www"),month:nb("month",ke,Qb(ke,["yyyy","MM"]),"yyyy-MM"),number:function(a,b,d,c,e,f){Hc(a,b,d,c,"number");ce(c);Ra(a,b,d,c,e,f);var g,k;if(v(d.min)||d.ngMin)c.$validators.min=function(a,b){return c.$isEmpty(b)||x(g)||b>=g},d.$observe("min",function(a){g=Sa(a);c.$validate()});if(v(d.max)||d.ngMax)c.$validators.max=
function(a,b){return c.$isEmpty(b)||x(k)||b<=k},d.$observe("max",function(a){k=Sa(a);c.$validate()});if(v(d.step)||d.ngStep){var h;c.$validators.step=function(a,b){return c.$isEmpty(b)||x(h)||de(b,g||0,h)};d.$observe("step",function(a){h=Sa(a);c.$validate()})}},url:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Gc(c);c.$validators.url=function(a,b){var d=a||b;return c.$isEmpty(d)||oh.test(d)}},email:function(a,b,d,c,e,f){Ra(a,b,d,c,e,f);Gc(c);c.$validators.email=function(a,b){var d=a||b;return c.$isEmpty(d)||
ph.test(d)}},radio:function(a,b,d,c){var e=!d.ngTrim||"false"!==T(d.ngTrim);x(d.name)&&b.attr("name",++pb);b.on("change",function(a){var g;b[0].checked&&(g=d.value,e&&(g=T(g)),c.$setViewValue(g,a&&a.type))});c.$render=function(){var a=d.value;e&&(a=T(a));b[0].checked=a===c.$viewValue};d.$observe("value",c.$render)},range:function(a,b,d,c,e,f){function g(a,c){b.attr(a,d[a]);d.$observe(a,c)}function k(a){q=Sa(a);V(c.$modelValue)||(m?(a=b.val(),q>a&&(a=q,b.val(a)),c.$setViewValue(a)):c.$validate())}
function h(a){n=Sa(a);V(c.$modelValue)||(m?(a=b.val(),n<a&&(b.val(n),a=n<q?q:n),c.$setViewValue(a)):c.$validate())}function l(a){s=Sa(a);V(c.$modelValue)||(m&&c.$viewValue!==b.val()?c.$setViewValue(b.val()):c.$validate())}Hc(a,b,d,c,"range");ce(c);Ra(a,b,d,c,e,f);var m=c.$$hasNativeValidators&&"range"===b[0].type,q=m?0:void 0,n=m?100:void 0,s=m?1:void 0,p=b[0].validity;a=v(d.min);e=v(d.max);f=v(d.step);var r=c.$render;c.$render=m&&v(p.rangeUnderflow)&&v(p.rangeOverflow)?function(){r();c.$setViewValue(b.val())}:
r;a&&(c.$validators.min=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||x(q)||b>=q},g("min",k));e&&(c.$validators.max=m?function(){return!0}:function(a,b){return c.$isEmpty(b)||x(n)||b<=n},g("max",h));f&&(c.$validators.step=m?function(){return!p.stepMismatch}:function(a,b){return c.$isEmpty(b)||x(s)||de(b,q||0,s)},g("step",l))},checkbox:function(a,b,d,c,e,f,g,k){var h=ee(k,a,"ngTrueValue",d.ngTrueValue,!0),l=ee(k,a,"ngFalseValue",d.ngFalseValue,!1);b.on("change",function(a){c.$setViewValue(b[0].checked,
a&&a.type)});c.$render=function(){b[0].checked=c.$viewValue};c.$isEmpty=function(a){return!1===a};c.$formatters.push(function(a){return ua(a,h)});c.$parsers.push(function(a){return a?h:l})},hidden:A,button:A,submit:A,reset:A,file:A},Xc=["$browser","$sniffer","$filter","$parse",function(a,b,d,c){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,k){k[0]&&(me[O(g.type)]||me.text)(e,f,g,k[0],b,a,d,c)}}}}],qh=/^(true|false|\d+)$/,pf=function(){function a(a,d,c){var e=v(c)?c:9===Aa?"":null;
a.prop("value",e);d.$set("value",c)}return{restrict:"A",priority:100,compile:function(b,d){return qh.test(d.ngValue)?function(b,d,f){b=b.$eval(f.ngValue);a(d,f,b)}:function(b,d,f){b.$watch(f.ngValue,function(b){a(d,f,b)})}}}},Oe=["$compile",function(a){return{restrict:"AC",compile:function(b){a.$$addBindingClass(b);return function(b,c,e){a.$$addBindingInfo(c,e.ngBind);c=c[0];b.$watch(e.ngBind,function(a){c.textContent=hc(a)})}}}}],Qe=["$interpolate","$compile",function(a,b){return{compile:function(d){b.$$addBindingClass(d);
return function(c,d,f){c=a(d.attr(f.$attr.ngBindTemplate));b.$$addBindingInfo(d,c.expressions);d=d[0];f.$observe("ngBindTemplate",function(a){d.textContent=x(a)?"":a})}}}}],Pe=["$sce","$parse","$compile",function(a,b,d){return{restrict:"A",compile:function(c,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(b){return a.valueOf(b)});d.$$addBindingClass(c);return function(b,c,e){d.$$addBindingInfo(c,e.ngBindHtml);b.$watch(g,function(){var d=f(b);c.html(a.getTrustedHtml(d)||"")})}}}}],of=ia({restrict:"A",
require:"ngModel",link:function(a,b,d,c){c.$viewChangeListeners.push(function(){a.$eval(d.ngChange)})}}),Re=Jc("",!0),Te=Jc("Odd",0),Se=Jc("Even",1),Ue=Na({compile:function(a,b){b.$set("ngCloak",void 0);a.removeClass("ng-cloak")}}),Ve=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],bd={},rh={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=
va("ng-"+a);bd[b]=["$parse","$rootScope","$exceptionHandler",function(d,c,e){return pd(d,c,e,b,a,rh[a])}]});var Ye=["$animate","$compile",function(a,b){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(d,c,e,f,g){var k,h,l;d.$watch(e.ngIf,function(d){d?h||g(function(d,f){h=f;d[d.length++]=b.$$createComment("end ngIf",e.ngIf);k={clone:d};a.enter(d,c.parent(),c)}):(l&&(l.remove(),l=null),h&&(h.$destroy(),h=null),k&&(l=tb(k.clone),a.leave(l).done(function(a){!1!==
a&&(l=null)}),k=null))})}}}],Ze=["$templateRequest","$anchorScroll","$animate",function(a,b,d){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ea.noop,compile:function(c,e){var f=e.ngInclude||e.src,g=e.onload||"",k=e.autoscroll;return function(c,e,m,q,n){var s=0,p,r,D,w=function(){r&&(r.remove(),r=null);p&&(p.$destroy(),p=null);D&&(d.leave(D).done(function(a){!1!==a&&(r=null)}),r=D,D=null)};c.$watch(f,function(f){var m=function(a){!1===a||!v(k)||k&&!c.$eval(k)||b()},
r=++s;f?(a(f,!0).then(function(a){if(!c.$$destroyed&&r===s){var b=c.$new();q.template=a;a=n(b,function(a){w();d.enter(a,null,e).done(m)});p=b;D=a;p.$emit("$includeContentLoaded",f);c.$eval(g)}},function(){c.$$destroyed||r!==s||(w(),c.$emit("$includeContentError",f))}),c.$emit("$includeContentRequested",f)):(w(),q.template=null)})}}}}],rf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,d,c,e){ma.call(d[0]).match(/SVG/)?(d.empty(),a(dd(e.template,B.document).childNodes)(b,
function(a){d.append(a)},{futureParentElement:d})):(d.html(e.template),a(d.contents())(b))}}}],$e=Na({priority:450,compile:function(){return{pre:function(a,b,d){a.$eval(d.ngInit)}}}}),nf=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,c){var e=d.ngList||", ",f="false"!==d.ngTrim,g=f?T(e):e;c.$parsers.push(function(a){if(!x(a)){var b=[];a&&r(a.split(g),function(a){a&&b.push(f?T(a):a)});return b}});c.$formatters.push(function(a){if(I(a))return a.join(e)});c.$isEmpty=
function(a){return!a||!a.length}}}},mb="ng-valid",Zd="ng-invalid",Za="ng-pristine",Ub="ng-dirty",ob=M("ngModel");Rb.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" ");Rb.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var a=this.$$parse(this.$$attr.ngModel+"()"),b=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(b){var c=this.$$parsedNgModel(b);z(c)&&(c=a(b));return c};this.$$ngModelSet=
function(a,c){z(this.$$parsedNgModel(a))?b(a,{$$$p:c}):this.$$parsedNgModelAssign(a,c)}}else if(!this.$$parsedNgModel.assign)throw ob("nonassign",this.$$attr.ngModel,ya(this.$$element));},$render:A,$isEmpty:function(a){return x(a)||""===a||null===a||a!==a},$$updateEmptyClasses:function(a){this.$isEmpty(a)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,
"ng-not-empty"))},$setPristine:function(){this.$dirty=!1;this.$pristine=!0;this.$$animate.removeClass(this.$$element,Ub);this.$$animate.addClass(this.$$element,Za)},$setDirty:function(){this.$dirty=!0;this.$pristine=!1;this.$$animate.removeClass(this.$$element,Za);this.$$animate.addClass(this.$$element,Ub);this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1;this.$untouched=!0;this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=
!0;this.$untouched=!1;this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce);this.$viewValue=this.$$lastCommittedViewValue;this.$render()},$validate:function(){if(!V(this.$modelValue)){var a=this.$$lastCommittedViewValue,b=this.$$rawModelValue,d=this.$valid,c=this.$modelValue,e=this.$options.getOption("allowInvalid"),f=this;this.$$runValidators(b,a,function(a){e||d===a||(f.$modelValue=a?b:void 0,f.$modelValue!==
c&&f.$$writeModelToScope())})}},$$runValidators:function(a,b,d){function c(){var c=!0;r(h.$validators,function(d,e){var g=Boolean(d(a,b));c=c&&g;f(e,g)});return c?!0:(r(h.$asyncValidators,function(a,b){f(b,null)}),!1)}function e(){var c=[],d=!0;r(h.$asyncValidators,function(e,g){var h=e(a,b);if(!h||!z(h.then))throw ob("nopromise",h);f(g,void 0);c.push(h.then(function(){f(g,!0)},function(){d=!1;f(g,!1)}))});c.length?h.$$q.all(c).then(function(){g(d)},A):g(!0)}function f(a,b){k===h.$$currentValidationRunId&&
h.$setValidity(a,b)}function g(a){k===h.$$currentValidationRunId&&d(a)}this.$$currentValidationRunId++;var k=this.$$currentValidationRunId,h=this;(function(){var a=h.$$parserName;if(x(h.$$parserValid))f(a,null);else return h.$$parserValid||(r(h.$validators,function(a,b){f(b,null)}),r(h.$asyncValidators,function(a,b){f(b,null)})),f(a,h.$$parserValid),h.$$parserValid;return!0})()?c()?e():g(!1):g(!1)},$commitViewValue:function(){var a=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce);if(this.$$lastCommittedViewValue!==
a||""===a&&this.$$hasNativeValidators)this.$$updateEmptyClasses(a),this.$$lastCommittedViewValue=a,this.$pristine&&this.$setDirty(),this.$$parseAndValidate()},$$parseAndValidate:function(){var a=this.$$lastCommittedViewValue,b=this;this.$$parserValid=x(a)?void 0:!0;this.$setValidity(this.$$parserName,null);this.$$parserName="parse";if(this.$$parserValid)for(var d=0;d<this.$parsers.length;d++)if(a=this.$parsers[d](a),x(a)){this.$$parserValid=!1;break}V(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));
var c=this.$modelValue,e=this.$options.getOption("allowInvalid");this.$$rawModelValue=a;e&&(this.$modelValue=a,b.$modelValue!==c&&b.$$writeModelToScope());this.$$runValidators(a,this.$$lastCommittedViewValue,function(d){e||(b.$modelValue=d?a:void 0,b.$modelValue!==c&&b.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue);r(this.$viewChangeListeners,function(a){try{a()}catch(b){this.$$exceptionHandler(b)}},this)},$setViewValue:function(a,b){this.$viewValue=
a;this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(b)},$$debounceViewValueCommit:function(a){var b=this.$options.getOption("debounce");ba(b[a])?b=b[a]:ba(b["default"])&&-1===this.$options.getOption("updateOn").indexOf(a)?b=b["default"]:ba(b["*"])&&(b=b["*"]);this.$$timeout.cancel(this.$$pendingDebounce);var d=this;0<b?this.$$pendingDebounce=this.$$timeout(function(){d.$commitViewValue()},b):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){d.$commitViewValue()})},
$overrideModelOptions:function(a){this.$options=this.$options.createChild(a);this.$$setUpdateOnEvents()},$processModelValue:function(){var a=this.$$format();this.$viewValue!==a&&(this.$$updateEmptyClasses(a),this.$viewValue=this.$$lastCommittedViewValue=a,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,A))},$$format:function(){for(var a=this.$formatters,b=a.length,d=this.$modelValue;b--;)d=a[b](d);return d},$$setModelValue:function(a){this.$modelValue=this.$$rawModelValue=a;this.$$parserValid=
void 0;this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler);if(this.$$updateEvents=this.$options.getOption("updateOn"))this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(a){this.$$debounceViewValueCommit(a&&a.type)}};$d({clazz:Rb,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]}});var mf=["$rootScope",function(a){return{restrict:"A",require:["ngModel",
"^?form","^?ngModelOptions"],controller:Rb,priority:1,compile:function(b){b.addClass(Za).addClass("ng-untouched").addClass(mb);return{pre:function(a,b,e,f){var g=f[0];b=f[1]||g.$$parentForm;if(f=f[2])g.$options=f.$options;g.$$initGetterSetters();b.$addControl(g);e.$observe("name",function(a){g.$name!==a&&g.$$parentForm.$$renameControl(g,a)});a.$on("$destroy",function(){g.$$parentForm.$removeControl(g)})},post:function(b,c,e,f){function g(){k.$setTouched()}var k=f[0];k.$$setUpdateOnEvents();c.on("blur",
function(){k.$touched||(a.$$phase?b.$evalAsync(g):b.$apply(g))})}}}}}],Sb,sh=/(\s+|^)default(\s+|$)/;Kc.prototype={getOption:function(a){return this.$$options[a]},createChild:function(a){var b=!1;a=R({},a);r(a,function(d,c){"$inherit"===d?"*"===c?b=!0:(a[c]=this.$$options[c],"updateOn"===c&&(a.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===c&&(a.updateOnDefault=!1,a[c]=T(d.replace(sh,function(){a.updateOnDefault=!0;return" "})))},this);b&&(delete a["*"],fe(a,this.$$options));fe(a,Sb.$$options);
return new Kc(a)}};Sb=new Kc({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var qf=function(){function a(a,d){this.$$attrs=a;this.$$scope=d}a.$inject=["$attrs","$scope"];a.prototype={$onInit:function(){var a=this.parentCtrl?this.parentCtrl.$options:Sb,d=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=a.createChild(d)}};return{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:a}},af=Na({terminal:!0,
priority:1E3}),th=M("ngOptions"),uh=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,kf=["$compile","$document","$parse",function(a,b,d){function c(a,b,c){function e(a,b,c,d,f){this.selectValue=a;this.viewValue=b;this.label=c;this.group=d;this.disabled=f}function f(a){var b;if(!p&&xa(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&
"$"!==c.charAt(0)&&b.push(c)}return b}var q=a.match(uh);if(!q)throw th("iexp",a,ya(b));var n=q[5]||q[7],p=q[6];a=/ as /.test(q[0])&&q[1];var r=q[9];b=d(q[2]?q[1]:n);var u=a&&d(a)||b,v=r&&d(r),w=r?function(a,b){return v(c,b)}:function(a){return Ka(a)},y=function(a,b){return w(a,C(a,b))},x=d(q[2]||q[1]),E=d(q[3]||""),G=d(q[4]||""),J=d(q[8]),z={},C=p?function(a,b){z[p]=b;z[n]=a;return z}:function(a){z[n]=a;return z};return{trackBy:r,getTrackByValue:y,getWatchables:d(J,function(a){var b=[];a=a||[];for(var d=
f(a),e=d.length,g=0;g<e;g++){var k=a===d?g:d[g],l=a[k],k=C(l,k),l=w(l,k);b.push(l);if(q[2]||q[1])l=x(c,k),b.push(l);q[4]&&(k=G(c,k),b.push(k))}return b}),getOptions:function(){for(var a=[],b={},d=J(c)||[],g=f(d),k=g.length,n=0;n<k;n++){var q=d===g?n:g[n],p=C(d[q],q),s=u(c,p),q=w(s,p),v=x(c,p),D=E(c,p),p=G(c,p),s=new e(q,s,v,D,p);a.push(s);b[q]=s}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[y(a)]},getViewValueFromOption:function(a){return r?Ha(a.viewValue):a.viewValue}}}}}
var e=B.document.createElement("option"),f=B.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=A},post:function(d,k,h,l){function m(a){var b=(a=w.getOptionFromViewValue(a))&&a.element;b&&!b.selected&&(b.selected=!0);return a}function q(a,b){a.element=b;b.disabled=a.disabled;a.label!==b.label&&(b.label=a.label,b.textContent=a.label);b.value=a.selectValue}var n=l[0],p=l[1],t=h.multiple;l=0;for(var u=k.children(),
D=u.length;l<D;l++)if(""===u[l].value){n.hasEmptyOption=!0;n.emptyOption=u.eq(l);break}k.empty();l=!!n.emptyOption;y(e.cloneNode(!1)).val("?");var w,x=c(h.ngOptions,k,d),z=b[0].createDocumentFragment();n.generateUnknownOptionValue=function(a){return"?"};t?(n.writeValue=function(a){if(w){var b=a&&a.map(m)||[];w.items.forEach(function(a){a.element.selected&&-1===Array.prototype.indexOf.call(b,a)&&(a.element.selected=!1)})}},n.readValue=function(){var a=k.val()||[],b=[];r(a,function(a){(a=w.selectValueMap[a])&&
!a.disabled&&b.push(w.getViewValueFromOption(a))});return b},x.trackBy&&d.$watchCollection(function(){if(I(p.$viewValue))return p.$viewValue.map(function(a){return x.getTrackByValue(a)})},function(){p.$render()})):(n.writeValue=function(a){if(w){var b=k[0].options[k[0].selectedIndex],c=w.getOptionFromViewValue(a);b&&b.removeAttribute("selected");c?(k[0].value!==c.selectValue&&(n.removeUnknownOption(),k[0].value=c.selectValue,c.element.selected=!0),c.element.setAttribute("selected","selected")):n.selectUnknownOrEmptyOption(a)}},
n.readValue=function(){var a=w.selectValueMap[k.val()];return a&&!a.disabled?(n.unselectEmptyOption(),n.removeUnknownOption(),w.getViewValueFromOption(a)):null},x.trackBy&&d.$watch(function(){return x.getTrackByValue(p.$viewValue)},function(){p.$render()}));l&&(a(n.emptyOption)(d),k.prepend(n.emptyOption),8===n.emptyOption[0].nodeType?(n.hasEmptyOption=!1,n.registerOption=function(a,b){""===b.val()&&(n.hasEmptyOption=!0,n.emptyOption=b,n.emptyOption.removeClass("ng-scope"),p.$render(),b.on("$destroy",
function(){var a=n.$isEmptyOptionSelected();n.hasEmptyOption=!1;n.emptyOption=void 0;a&&p.$render()}))}):n.emptyOption.removeClass("ng-scope"));d.$watchCollection(x.getWatchables,function(){var a=w&&n.readValue();if(w)for(var b=w.items.length-1;0<=b;b--){var c=w.items[b];v(c.group)?Fb(c.element.parentNode):Fb(c.element)}w=x.getOptions();var d={};w.items.forEach(function(a){var b;if(v(a.group)){b=d[a.group];b||(b=f.cloneNode(!1),z.appendChild(b),b.label=null===a.group?"null":a.group,d[a.group]=b);
var c=e.cloneNode(!1);b.appendChild(c);q(a,c)}else b=e.cloneNode(!1),z.appendChild(b),q(a,b)});k[0].appendChild(z);p.$render();p.$isEmpty(a)||(b=n.readValue(),(x.trackBy||t?ua(a,b):a===b)||(p.$setViewValue(b),p.$render()))})}}}}],bf=["$locale","$interpolate","$log",function(a,b,d){var c=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(f,g,k){function h(a){g.text(a||"")}var l=k.count,m=k.$attr.when&&g.attr(k.$attr.when),q=k.offset||0,n=f.$eval(m)||{},p={},t=b.startSymbol(),u=b.endSymbol(),v=t+l+"-"+
q+u,w=ea.noop,y;r(k,function(a,b){var c=e.exec(b);c&&(c=(c[1]?"-":"")+O(c[2]),n[c]=g.attr(k.$attr[b]))});r(n,function(a,d){p[d]=b(a.replace(c,v))});f.$watch(l,function(b){var c=parseFloat(b),e=V(c);e||c in n||(c=a.pluralCat(c-q));c===y||e&&V(y)||(w(),e=p[c],x(e)?(null!=b&&d.debug("ngPluralize: no rule defined for '"+c+"' in "+m),w=A,h()):w=f.$watch(e,h),y=c)})}}}],ne=M("ngRef"),cf=["$parse",function(a){return{priority:-1,restrict:"A",compile:function(b,d){var c=va(ta(b)),e=a(d.ngRef),f=e.assign||
function(){throw ne("nonassign",d.ngRef);};return function(a,b,h){var l;if(h.hasOwnProperty("ngRefRead"))if("$element"===h.ngRefRead)l=b;else{if(l=b.data("$"+h.ngRefRead+"Controller"),!l)throw ne("noctrl",h.ngRefRead,d.ngRef);}else l=b.data("$"+c+"Controller");l=l||b;f(a,l);b.on("$destroy",function(){e(a)===l&&f(a,null)})}}}}],df=["$parse","$animate","$compile",function(a,b,d){var c=M("ngRepeat"),e=function(a,b,c,d,e,m,q){a[c]=d;e&&(a[e]=m);a.$index=b;a.$first=0===b;a.$last=b===q-1;a.$middle=!(a.$first||
a.$last);a.$odd=!(a.$even=0===(b&1))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1E3,terminal:!0,$$tlb:!0,compile:function(f,g){var k=g.ngRepeat,h=d.$$createComment("end ngRepeat",k),l=k.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!l)throw c("iexp",k);var m=l[1],q=l[2],n=l[3],p=l[4],l=m.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!l)throw c("iidexp",m);var t=l[3]||l[1],u=l[2];if(n&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(n)||
/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(n)))throw c("badident",n);var v,w,x,y,z={$id:Ka};p?v=a(p):(x=function(a,b){return Ka(b)},y=function(a){return a});return function(a,d,f,g,l){v&&(w=function(b,c,d){u&&(z[u]=b);z[t]=c;z.$index=d;return v(a,z)});var m=S();a.$watchCollection(q,function(f){var g,q,p=d[0],s,v=S(),D,z,C,B,E,A,F;n&&(a[n]=f);if(xa(f))E=f,q=w||x;else for(F in q=w||y,E=[],f)sa.call(f,F)&&"$"!==F.charAt(0)&&E.push(F);D=E.length;F=
Array(D);for(g=0;g<D;g++)if(z=f===E?g:E[g],C=f[z],B=q(z,C,g),m[B])A=m[B],delete m[B],v[B]=A,F[g]=A;else{if(v[B])throw r(F,function(a){a&&a.scope&&(m[a.id]=a)}),c("dupes",k,B,C);F[g]={id:B,scope:void 0,clone:void 0};v[B]=!0}for(s in m){A=m[s];B=tb(A.clone);b.leave(B);if(B[0].parentNode)for(g=0,q=B.length;g<q;g++)B[g].$$NG_REMOVED=!0;A.scope.$destroy()}for(g=0;g<D;g++)if(z=f===E?g:E[g],C=f[z],A=F[g],A.scope){s=p;do s=s.nextSibling;while(s&&s.$$NG_REMOVED);A.clone[0]!==s&&b.move(tb(A.clone),null,p);
p=A.clone[A.clone.length-1];e(A.scope,g,t,C,u,z,D)}else l(function(a,c){A.scope=c;var d=h.cloneNode(!1);a[a.length++]=d;b.enter(a,null,p);p=d;A.clone=a;v[A.id]=A;e(A.scope,g,t,C,u,z,D)});m=v})}}}}],ef=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngShow,function(b){a[b?"removeClass":"addClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],Xe=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,d,c){b.$watch(c.ngHide,function(b){a[b?
"addClass":"removeClass"](d,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ff=Na(function(a,b,d){a.$watchCollection(d.ngStyle,function(a,d){d&&a!==d&&r(d,function(a,c){b.css(c,"")});a&&b.css(a)})}),gf=["$animate","$compile",function(a,b){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(d,c,e,f){var g=[],k=[],h=[],l=[],m=function(a,b){return function(c){!1!==c&&a.splice(b,1)}};d.$watch(e.ngSwitch||e.on,function(c){for(var d,e;h.length;)a.cancel(h.pop());d=0;
for(e=l.length;d<e;++d){var p=tb(k[d].clone);l[d].$destroy();(h[d]=a.leave(p)).done(m(h,d))}k.length=0;l.length=0;(g=f.cases["!"+c]||f.cases["?"])&&r(g,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.$$createComment("end ngSwitchWhen");k.push({clone:d});a.enter(d,f.parent(),f)})})})}}}],hf=Na({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){a=d.ngSwitchWhen.split(d.ngSwitchWhenSeparator).sort().filter(function(a,b,c){return c[b-
1]!==a});r(a,function(a){c.cases["!"+a]=c.cases["!"+a]||[];c.cases["!"+a].push({transclude:e,element:b})})}}),jf=Na({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,d,c,e){c.cases["?"]=c.cases["?"]||[];c.cases["?"].push({transclude:e,element:b})}}),vh=M("ngTransclude"),lf=["$compile",function(a){return{restrict:"EAC",compile:function(b){var d=a(b.contents());b.empty();return function(a,b,f,g,k){function h(){d(a,function(a){b.append(a)})}if(!k)throw vh("orphan",
ya(b));f.ngTransclude===f.$attr.ngTransclude&&(f.ngTransclude="");f=f.ngTransclude||f.ngTranscludeSlot;k(function(a,c){var d;if(d=a.length)a:{d=0;for(var f=a.length;d<f;d++){var g=a[d];if(g.nodeType!==Oa||g.nodeValue.trim()){d=!0;break a}}d=void 0}d?b.append(a):(h(),c.$destroy())},null,f);f&&!k.isSlotFilled(f)&&h()}}}}],Le=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,d){"text/ng-template"===d.type&&a.put(d.id,b[0].text)}}}],wh={$setViewValue:A,$render:A},xh=["$element",
"$scope",function(a,b){function d(){g||(g=!0,b.$$postDigest(function(){g=!1;e.ngModelCtrl.$render()}))}function c(a){k||(k=!0,b.$$postDigest(function(){b.$$destroyed||(k=!1,e.ngModelCtrl.$setViewValue(e.readValue()),a&&e.ngModelCtrl.$render())}))}var e=this,f=new Hb;e.selectValueMap={};e.ngModelCtrl=wh;e.multiple=!1;e.unknownOption=y(B.document.createElement("option"));e.hasEmptyOption=!1;e.emptyOption=void 0;e.renderUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);
a.prepend(e.unknownOption);Ea(e.unknownOption,!0);a.val(b)};e.updateUnknownOption=function(b){b=e.generateUnknownOptionValue(b);e.unknownOption.val(b);Ea(e.unknownOption,!0);a.val(b)};e.generateUnknownOptionValue=function(a){return"? "+Ka(a)+" ?"};e.removeUnknownOption=function(){e.unknownOption.parent()&&e.unknownOption.remove()};e.selectEmptyOption=function(){e.emptyOption&&(a.val(""),Ea(e.emptyOption,!0))};e.unselectEmptyOption=function(){e.hasEmptyOption&&Ea(e.emptyOption,!1)};b.$on("$destroy",
function(){e.renderUnknownOption=A});e.readValue=function(){var b=a.val(),b=b in e.selectValueMap?e.selectValueMap[b]:b;return e.hasOption(b)?b:null};e.writeValue=function(b){var c=a[0].options[a[0].selectedIndex];c&&Ea(y(c),!1);e.hasOption(b)?(e.removeUnknownOption(),c=Ka(b),a.val(c in e.selectValueMap?c:b),Ea(y(a[0].options[a[0].selectedIndex]),!0)):e.selectUnknownOrEmptyOption(b)};e.addOption=function(a,b){if(8!==b[0].nodeType){Qa(a,'"option value"');""===a&&(e.hasEmptyOption=!0,e.emptyOption=
b);var c=f.get(a)||0;f.set(a,c+1);d()}};e.removeOption=function(a){var b=f.get(a);b&&(1===b?(f.delete(a),""===a&&(e.hasEmptyOption=!1,e.emptyOption=void 0)):f.set(a,b-1))};e.hasOption=function(a){return!!f.get(a)};e.$hasEmptyOption=function(){return e.hasEmptyOption};e.$isUnknownOptionSelected=function(){return a[0].options[0]===e.unknownOption[0]};e.$isEmptyOptionSelected=function(){return e.hasEmptyOption&&a[0].options[a[0].selectedIndex]===e.emptyOption[0]};e.selectUnknownOrEmptyOption=function(a){null==
a&&e.emptyOption?(e.removeUnknownOption(),e.selectEmptyOption()):e.unknownOption.parent().length?e.updateUnknownOption(a):e.renderUnknownOption(a)};var g=!1,k=!1;e.registerOption=function(a,b,f,g,k){if(f.$attr.ngValue){var p,r;f.$observe("value",function(a){var d,f=b.prop("selected");v(r)&&(e.removeOption(p),delete e.selectValueMap[r],d=!0);r=Ka(a);p=a;e.selectValueMap[r]=a;e.addOption(a,b);b.attr("value",r);d&&f&&c()})}else g?f.$observe("value",function(a){e.readValue();var d,f=b.prop("selected");
v(p)&&(e.removeOption(p),d=!0);p=a;e.addOption(a,b);d&&f&&c()}):k?a.$watch(k,function(a,d){f.$set("value",a);var g=b.prop("selected");d!==a&&e.removeOption(d);e.addOption(a,b);d&&g&&c()}):e.addOption(f.value,b);f.$observe("disabled",function(a){if("true"===a||a&&b.prop("selected"))e.multiple?c(!0):(e.ngModelCtrl.$setViewValue(null),e.ngModelCtrl.$render())});b.on("$destroy",function(){var a=e.readValue(),b=f.value;e.removeOption(b);d();(e.multiple&&a&&-1!==a.indexOf(b)||a===b)&&c(!0)})}}],Me=function(){return{restrict:"E",
require:["select","?ngModel"],controller:xh,priority:1,link:{pre:function(a,b,d,c){var e=c[0],f=c[1];if(f){if(e.ngModelCtrl=f,b.on("change",function(){e.removeUnknownOption();a.$apply(function(){f.$setViewValue(e.readValue())})}),d.multiple){e.multiple=!0;e.readValue=function(){var a=[];r(b.find("option"),function(b){b.selected&&!b.disabled&&(b=b.value,a.push(b in e.selectValueMap?e.selectValueMap[b]:b))});return a};e.writeValue=function(a){r(b.find("option"),function(b){var c=!!a&&(-1!==Array.prototype.indexOf.call(a,
b.value)||-1!==Array.prototype.indexOf.call(a,e.selectValueMap[b.value]));c!==b.selected&&Ea(y(b),c)})};var g,k=NaN;a.$watch(function(){k!==f.$viewValue||ua(g,f.$viewValue)||(g=oa(f.$viewValue),f.$render());k=f.$viewValue});f.$isEmpty=function(a){return!a||0===a.length}}}else e.registerOption=A},post:function(a,b,d,c){var e=c[1];if(e){var f=c[0];e.$render=function(){f.writeValue(e.$viewValue)}}}}}},Ne=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,d){var c,e;v(d.ngValue)||
(v(d.value)?c=a(d.value,!0):(e=a(b.text(),!0))||d.$set("value",b.text()));return function(a,b,d){var h=b.parent();(h=h.data("$selectController")||h.parent().data("$selectController"))&&h.registerOption(a,b,d,c,e)}}}}],Zc=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){c&&(d.required=!0,c.$validators.required=function(a,b){return!d.required||!c.$isEmpty(b)},d.$observe("required",function(){c.$validate()}))}}},Yc=function(){return{restrict:"A",require:"?ngModel",link:function(a,
b,d,c){if(c){var e,f=d.ngPattern||d.pattern;d.$observe("pattern",function(a){C(a)&&0<a.length&&(a=new RegExp("^"+a+"$"));if(a&&!a.test)throw M("ngPattern")("noregexp",f,a,ya(b));e=a||void 0;c.$validate()});c.$validators.pattern=function(a,b){return c.$isEmpty(b)||x(e)||e.test(b)}}}}},ad=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=-1;d.$observe("maxlength",function(a){a=da(a);e=V(a)?-1:a;c.$validate()});c.$validators.maxlength=function(a,b){return 0>e||c.$isEmpty(b)||
b.length<=e}}}}},$c=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,d,c){if(c){var e=0;d.$observe("minlength",function(a){e=da(a)||0;c.$validate()});c.$validators.minlength=function(a,b){return c.$isEmpty(b)||b.length>=e}}}}};B.angular.bootstrap?B.console&&console.log("WARNING: Tried to load AngularJS more than once."):(Ce(),Ge(ea),ea.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM",
"PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,
6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-\u00a4",negSuf:"",posPre:"\u00a4",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,
c){var e=a|0,f=c;void 0===f&&(f=Math.min(b(a),3));Math.pow(10,f);return 1==e&&0==f?"one":"other"}})}]),y(function(){xe(B.document,Tc)}))})(window);!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');

;
;
/*! angular-route.min.js */ 
;
;
/*
AngularJS v1.7.5
(c) 2010-2018 Google, Inc. http://angularjs.org
License: MIT
*/
(function(I,b){'use strict';function z(b,h){var d=[],c=b.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(b,c,h,k){b="?"===k||"*?"===k;k="*"===k||"*?"===k;d.push({name:h,optional:b});c=c||"";return(b?"(?:"+c:c+"(?:")+(k?"(.+?)":"([^/]+)")+(b?"?)?":")")}).replace(/([/$*])/g,"\\$1");h.ignoreTrailingSlashes&&(c=c.replace(/\/+$/,"")+"/*");return{keys:d,regexp:new RegExp("^"+c+"(?:[?#]|$)",h.caseInsensitiveMatch?"i":"")}}function A(b){p&&b.get("$route")}function v(u,h,d){return{restrict:"ECA",
terminal:!0,priority:400,transclude:"element",link:function(c,f,g,l,k){function q(){r&&(d.cancel(r),r=null);m&&(m.$destroy(),m=null);s&&(r=d.leave(s),r.done(function(b){!1!==b&&(r=null)}),s=null)}function C(){var g=u.current&&u.current.locals;if(b.isDefined(g&&g.$template)){var g=c.$new(),l=u.current;s=k(g,function(g){d.enter(g,null,s||f).done(function(d){!1===d||!b.isDefined(w)||w&&!c.$eval(w)||h()});q()});m=l.scope=g;m.$emit("$viewContentLoaded");m.$eval(p)}else q()}var m,s,r,w=g.autoscroll,p=g.onload||
"";c.$on("$routeChangeSuccess",C);C()}}}function x(b,h,d){return{restrict:"ECA",priority:-400,link:function(c,f){var g=d.current,l=g.locals;f.html(l.$template);var k=b(f.contents());if(g.controller){l.$scope=c;var q=h(g.controller,l);g.controllerAs&&(c[g.controllerAs]=q);f.data("$ngControllerController",q);f.children().data("$ngControllerController",q)}c[g.resolveAs||"$resolve"]=l;k(c)}}}var D,E,F,G,y=b.module("ngRoute",[]).info({angularVersion:"1.7.5"}).provider("$route",function(){function u(d,
c){return b.extend(Object.create(d),c)}D=b.isArray;E=b.isObject;F=b.isDefined;G=b.noop;var h={};this.when=function(d,c){var f;f=void 0;if(D(c)){f=f||[];for(var g=0,l=c.length;g<l;g++)f[g]=c[g]}else if(E(c))for(g in f=f||{},c)if("$"!==g.charAt(0)||"$"!==g.charAt(1))f[g]=c[g];f=f||c;b.isUndefined(f.reloadOnUrl)&&(f.reloadOnUrl=!0);b.isUndefined(f.reloadOnSearch)&&(f.reloadOnSearch=!0);b.isUndefined(f.caseInsensitiveMatch)&&(f.caseInsensitiveMatch=this.caseInsensitiveMatch);h[d]=b.extend(f,{originalPath:d},
d&&z(d,f));d&&(g="/"===d[d.length-1]?d.substr(0,d.length-1):d+"/",h[g]=b.extend({originalPath:d,redirectTo:d},z(g,f)));return this};this.caseInsensitiveMatch=!1;this.otherwise=function(b){"string"===typeof b&&(b={redirectTo:b});this.when(null,b);return this};p=!0;this.eagerInstantiationEnabled=function(b){return F(b)?(p=b,this):p};this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce","$browser",function(d,c,f,g,l,k,q,p){function m(a){var e=t.current;n=A();(x=
!B&&n&&e&&n.$$route===e.$$route&&(!n.reloadOnUrl||!n.reloadOnSearch&&b.equals(n.pathParams,e.pathParams)))||!e&&!n||d.$broadcast("$routeChangeStart",n,e).defaultPrevented&&a&&a.preventDefault()}function s(){var a=t.current,e=n;if(x)a.params=e.params,b.copy(a.params,f),d.$broadcast("$routeUpdate",a);else if(e||a){B=!1;t.current=e;var c=g.resolve(e);p.$$incOutstandingRequestCount("$route");c.then(r).then(w).then(function(g){return g&&c.then(y).then(function(c){e===t.current&&(e&&(e.locals=c,b.copy(e.params,
f)),d.$broadcast("$routeChangeSuccess",e,a))})}).catch(function(b){e===t.current&&d.$broadcast("$routeChangeError",e,a,b)}).finally(function(){p.$$completeOutstandingRequest(G,"$route")})}}function r(a){var e={route:a,hasRedirection:!1};if(a)if(a.redirectTo)if(b.isString(a.redirectTo))e.path=v(a.redirectTo,a.params),e.search=a.params,e.hasRedirection=!0;else{var d=c.path(),f=c.search();a=a.redirectTo(a.pathParams,d,f);b.isDefined(a)&&(e.url=a,e.hasRedirection=!0)}else if(a.resolveRedirectTo)return g.resolve(l.invoke(a.resolveRedirectTo)).then(function(a){b.isDefined(a)&&
(e.url=a,e.hasRedirection=!0);return e});return e}function w(a){var b=!0;if(a.route!==t.current)b=!1;else if(a.hasRedirection){var g=c.url(),d=a.url;d?c.url(d).replace():d=c.path(a.path).search(a.search).replace().url();d!==g&&(b=!1)}return b}function y(a){if(a){var e=b.extend({},a.resolve);b.forEach(e,function(a,c){e[c]=b.isString(a)?l.get(a):l.invoke(a,null,null,c)});a=z(a);b.isDefined(a)&&(e.$template=a);return g.all(e)}}function z(a){var e,c;b.isDefined(e=a.template)?b.isFunction(e)&&(e=e(a.params)):
b.isDefined(c=a.templateUrl)&&(b.isFunction(c)&&(c=c(a.params)),b.isDefined(c)&&(a.loadedTemplateUrl=q.valueOf(c),e=k(c)));return e}function A(){var a,e;b.forEach(h,function(d,g){var f;if(f=!e){var h=c.path();f=d.keys;var l={};if(d.regexp)if(h=d.regexp.exec(h)){for(var k=1,p=h.length;k<p;++k){var m=f[k-1],n=h[k];m&&n&&(l[m.name]=n)}f=l}else f=null;else f=null;f=a=f}f&&(e=u(d,{params:b.extend({},c.search(),a),pathParams:a}),e.$$route=d)});return e||h[null]&&u(h[null],{params:{},pathParams:{}})}function v(a,
c){var d=[];b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var f=a.match(/(\w+)(?:[?*])?(.*)/),g=f[1];d.push(c[g]);d.push(f[2]||"");delete c[g]}});return d.join("")}var B=!1,n,x,t={routes:h,reload:function(){B=!0;var a={defaultPrevented:!1,preventDefault:function(){this.defaultPrevented=!0;B=!1}};d.$evalAsync(function(){m(a);a.defaultPrevented||s()})},updateParams:function(a){if(this.current&&this.current.$$route)a=b.extend({},this.current.params,a),c.path(v(this.current.$$route.originalPath,
a)),c.search(a);else throw H("norout");}};d.$on("$locationChangeStart",m);d.$on("$locationChangeSuccess",s);return t}]}).run(A),H=b.$$minErr("ngRoute"),p;A.$inject=["$injector"];y.provider("$routeParams",function(){this.$get=function(){return{}}});y.directive("ngView",v);y.directive("ngView",x);v.$inject=["$route","$anchorScroll","$animate"];x.$inject=["$compile","$controller","$route"]})(window,window.angular);

;
;
/*! angular-resource.min.js */ 
;
;
/*
AngularJS v1.7.5
(c) 2010-2018 Google, Inc. http://angularjs.org
License: MIT
*/
(function(T,a){'use strict';function M(m,f){f=f||{};a.forEach(f,function(a,d){delete f[d]});for(var d in m)!m.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(f[d]=m[d]);return f}var B=a.$$minErr("$resource"),H=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;a.module("ngResource",["ng"]).info({angularVersion:"1.7.5"}).provider("$resource",function(){var m=/^https?:\/\/\[[^\]]*][^/]*/,f=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",
isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}};this.$get=["$http","$log","$q","$timeout",function(d,F,G,N){function C(a,d){this.template=a;this.defaults=n({},f.defaults,d);this.urlParams={}}var O=a.noop,r=a.forEach,n=a.extend,R=a.copy,P=a.isArray,D=a.isDefined,x=a.isFunction,I=a.isNumber,y=a.$$encodeUriQuery,S=a.$$encodeUriSegment;C.prototype={setUrlParams:function(a,d,f){var g=this,c=f||g.template,s,h,n="",b=g.urlParams=Object.create(null);r(c.split(/\W/),function(a){if("hasOwnProperty"===
a)throw B("badname");!/^\d+$/.test(a)&&a&&(new RegExp("(^|[^\\\\]):"+a+"(\\W|$)")).test(c)&&(b[a]={isQueryParamValue:(new RegExp("\\?.*=:"+a+"(?:\\W|$)")).test(c)})});c=c.replace(/\\:/g,":");c=c.replace(m,function(b){n=b;return""});d=d||{};r(g.urlParams,function(b,a){s=d.hasOwnProperty(a)?d[a]:g.defaults[a];D(s)&&null!==s?(h=b.isQueryParamValue?y(s,!0):S(s),c=c.replace(new RegExp(":"+a+"(\\W|$)","g"),function(b,a){return h+a})):c=c.replace(new RegExp("(/?):"+a+"(\\W|$)","g"),function(b,a,e){return"/"===
e.charAt(0)?e:a+e})});g.defaults.stripTrailingSlashes&&(c=c.replace(/\/+$/,"")||"/");c=c.replace(/\/\.(?=\w+($|\?))/,".");a.url=n+c.replace(/\/(\\|%5C)\./,"/.");r(d,function(b,c){g.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}};return function(m,y,z,g){function c(b,c){var d={};c=n({},y,c);r(c,function(c,f){x(c)&&(c=c(b));var e;if(c&&c.charAt&&"@"===c.charAt(0)){e=b;var k=c.substr(1);if(null==k||""===k||"hasOwnProperty"===k||!H.test("."+k))throw B("badmember",k);for(var k=k.split("."),h=0,
n=k.length;h<n&&a.isDefined(e);h++){var g=k[h];e=null!==e?e[g]:void 0}}else e=c;d[f]=e});return d}function s(b){return b.resource}function h(b){M(b||{},this)}var Q=new C(m,g);z=n({},f.defaults.actions,z);h.prototype.toJSON=function(){var b=n({},this);delete b.$promise;delete b.$resolved;delete b.$cancelRequest;return b};r(z,function(b,a){var f=!0===b.hasBody||!1!==b.hasBody&&/^(POST|PUT|PATCH)$/i.test(b.method),g=b.timeout,m=D(b.cancellable)?b.cancellable:Q.defaults.cancellable;g&&!I(g)&&(F.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),
delete b.timeout,g=null);h[a]=function(e,k,J,y){function z(a){p.catch(O);null!==u&&u.resolve(a)}var K={},v,t,w;switch(arguments.length){case 4:w=y,t=J;case 3:case 2:if(x(k)){if(x(e)){t=e;w=k;break}t=k;w=J}else{K=e;v=k;t=J;break}case 1:x(e)?t=e:f?v=e:K=e;break;case 0:break;default:throw B("badargs",arguments.length);}var E=this instanceof h,l=E?v:b.isArray?[]:new h(v),q={},C=b.interceptor&&b.interceptor.request||void 0,D=b.interceptor&&b.interceptor.requestError||void 0,F=b.interceptor&&b.interceptor.response||
s,H=b.interceptor&&b.interceptor.responseError||G.reject,I=t?function(a){t(a,A.headers,A.status,A.statusText)}:void 0;w=w||void 0;var u,L,A;r(b,function(a,b){switch(b){default:q[b]=R(a);case "params":case "isArray":case "interceptor":case "cancellable":}});!E&&m&&(u=G.defer(),q.timeout=u.promise,g&&(L=N(u.resolve,g)));f&&(q.data=v);Q.setUrlParams(q,n({},c(v,b.params||{}),K),b.url);var p=G.resolve(q).then(C).catch(D).then(d),p=p.then(function(c){var e=c.data;if(e){if(P(e)!==!!b.isArray)throw B("badcfg",
a,b.isArray?"array":"object",P(e)?"array":"object",q.method,q.url);if(b.isArray)l.length=0,r(e,function(a){"object"===typeof a?l.push(new h(a)):l.push(a)});else{var d=l.$promise;M(e,l);l.$promise=d}}c.resource=l;A=c;return F(c)},function(a){a.resource=l;A=a;return H(a)}),p=p["finally"](function(){l.$resolved=!0;!E&&m&&(l.$cancelRequest=O,N.cancel(L),u=L=q.timeout=null)});p.then(I,w);return E?p:(l.$promise=p,l.$resolved=!1,m&&(l.$cancelRequest=z),l)};h.prototype["$"+a]=function(b,c,d){x(b)&&(d=c,c=
b,b={});b=h[a].call(this,b,this,c,d);return b.$promise||b}});return h}}]})})(window,window.angular);

;
;
/*! angular-sanitize.min.js */ 
;
;
/*
AngularJS v1.7.5
(c) 2010-2018 Google, Inc. http://angularjs.org
License: MIT
*/
(function(s,c){'use strict';function P(c){var h=[];C(h,E).chars(c);return h.join("")}var D=c.$$minErr("$sanitize"),F,h,G,H,I,q,E,J,K,C;c.module("ngSanitize",[]).provider("$sanitize",function(){function f(a,e){return B(a.split(","),e)}function B(a,e){var d={},b;for(b=0;b<a.length;b++)d[e?q(a[b]):a[b]]=!0;return d}function t(a,e){e&&e.length&&h(a,B(e))}function Q(a){for(var e={},d=0,b=a.length;d<b;d++){var k=a[d];e[k.name]=k.value}return e}function L(a){return a.replace(/&/g,"&amp;").replace(z,function(a){var d=
a.charCodeAt(0);a=a.charCodeAt(1);return"&#"+(1024*(d-55296)+(a-56320)+65536)+";"}).replace(u,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function A(a){for(;a;){if(a.nodeType===s.Node.ELEMENT_NODE)for(var e=a.attributes,d=0,b=e.length;d<b;d++){var k=e[d],g=k.name.toLowerCase();if("xmlns:ns1"===g||0===g.lastIndexOf("ns1:",0))a.removeAttributeNode(k),d--,b--}(e=a.firstChild)&&A(e);a=v("nextSibling",a)}}function v(a,e){var d=e[a];if(d&&J.call(e,d))throw D("elclob",
e.outerHTML||e.outerText);return d}var y=!1,g=!1;this.$get=["$$sanitizeUri",function(a){y=!0;g&&h(m,l);return function(e){var d=[];K(e,C(d,function(b,d){return!/^unsafe:/.test(a(b,d))}));return d.join("")}}];this.enableSvg=function(a){return I(a)?(g=a,this):g};this.addValidElements=function(a){y||(H(a)&&(a={htmlElements:a}),t(l,a.svgElements),t(r,a.htmlVoidElements),t(m,a.htmlVoidElements),t(m,a.htmlElements));return this};this.addValidAttrs=function(a){y||h(M,B(a,!0));return this};F=c.bind;h=c.extend;
G=c.forEach;H=c.isArray;I=c.isDefined;q=c.$$lowercase;E=c.noop;K=function(a,e){null===a||void 0===a?a="":"string"!==typeof a&&(a=""+a);var d=N(a);if(!d)return"";var b=5;do{if(0===b)throw D("uinput");b--;a=d.innerHTML;d=N(a)}while(a!==d.innerHTML);for(b=d.firstChild;b;){switch(b.nodeType){case 1:e.start(b.nodeName.toLowerCase(),Q(b.attributes));break;case 3:e.chars(b.textContent)}var k;if(!(k=b.firstChild)&&(1===b.nodeType&&e.end(b.nodeName.toLowerCase()),k=v("nextSibling",b),!k))for(;null==k;){b=
v("parentNode",b);if(b===d)break;k=v("nextSibling",b);1===b.nodeType&&e.end(b.nodeName.toLowerCase())}b=k}for(;b=d.firstChild;)d.removeChild(b)};C=function(a,e){var d=!1,b=F(a,a.push);return{start:function(a,g){a=q(a);!d&&w[a]&&(d=a);d||!0!==m[a]||(b("<"),b(a),G(g,function(d,g){var c=q(g),f="img"===a&&"src"===c||"background"===c;!0!==M[c]||!0===O[c]&&!e(d,f)||(b(" "),b(g),b('="'),b(L(d)),b('"'))}),b(">"))},end:function(a){a=q(a);d||!0!==m[a]||!0===r[a]||(b("</"),b(a),b(">"));a==d&&(d=!1)},chars:function(a){d||
b(L(a))}}};J=s.Node.prototype.contains||function(a){return!!(this.compareDocumentPosition(a)&16)};var z=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/([^#-~ |!])/g,r=f("area,br,col,hr,img,wbr"),x=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),p=f("rp,rt"),n=h({},p,x),x=h({},x,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),p=h({},p,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),
l=f("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),w=f("script,style"),m=h({},r,x,p,n),O=f("background,cite,href,longdesc,src,xlink:href,xml:base"),n=f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),
p=f("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",
!0),M=h({},O,p,n),N=function(a,e){function d(b){b="<remove></remove>"+b;try{var d=(new a.DOMParser).parseFromString(b,"text/html").body;d.firstChild.remove();return d}catch(e){}}function b(a){c.innerHTML=a;e.documentMode&&A(c);return c}var g;if(e&&e.implementation)g=e.implementation.createHTMLDocument("inert");else throw D("noinert");var c=(g.documentElement||g.getDocumentElement()).querySelector("body");c.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>';return c.querySelector("svg")?
(c.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',c.querySelector("svg img")?d:b):function(b){b="<remove></remove>"+b;try{b=encodeURI(b)}catch(d){return}var e=new a.XMLHttpRequest;e.responseType="document";e.open("GET","data:text/html;charset=utf-8,"+b,!1);e.send(null);b=e.response.body;b.firstChild.remove();return b}}(s,s.document)}).info({angularVersion:"1.7.5"});c.module("ngSanitize").filter("linky",["$sanitize",function(f){var h=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,
t=/^mailto:/i,q=c.$$minErr("linky"),s=c.isDefined,A=c.isFunction,v=c.isObject,y=c.isString;return function(c,z,u){function r(c){c&&l.push(P(c))}function x(c,g){var f,a=p(c);l.push("<a ");for(f in a)l.push(f+'="'+a[f]+'" ');!s(z)||"target"in a||l.push('target="',z,'" ');l.push('href="',c.replace(/"/g,"&quot;"),'">');r(g);l.push("</a>")}if(null==c||""===c)return c;if(!y(c))throw q("notstring",c);for(var p=A(u)?u:v(u)?function(){return u}:function(){return{}},n=c,l=[],w,m;c=n.match(h);)w=c[0],c[2]||
c[4]||(w=(c[3]?"http://":"mailto:")+w),m=c.index,r(n.substr(0,m)),x(w,c[0].replace(t,"")),n=n.substring(m+c[0].length);r(n);return f(l.join(""))}}])})(window,window.angular);

;
;
/*! angular-ui.min.js */ 
;
;
/**
* AngularUI - The companion suite for AngularJS
* @version v0.4.0 - 2013-02-15
* @link http://angular-ui.github.com
* @license MIT License, http://www.opensource.org/licenses/MIT
*/
angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,r,i){var s={};i.uiAnimate&&(s=e.$eval(i.uiAnimate),angular.isString(s)&&(s={"class":s})),s=angular.extend({"class":"ui-animate"},n,s),r.addClass(s["class"]),t(function(){r.removeClass(s["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,t){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",link:function(t,n,r,i){function a(){t.calendar=n.html("");var i=t.calendar.fullCalendar("getView");i&&(i=i.name);var o,u={defaultView:i,eventSources:s};r.uiCalendar?o=t.$eval(r.uiCalendar):o={},angular.extend(u,e.uiCalendar,o),t.calendar.fullCalendar(u)}var s=t.$eval(r.ngModel),o=0,u=function(){var e=t.$eval(r.equalsTracker);return o=0,angular.forEach(s,function(e,t){angular.isArray(e)&&(o+=e.length)}),angular.isNumber(e)?o+s.length+e:o+s.length};a(),t.$watch(u,function(e,t){a()})}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$timeout",function(e,t){"use strict";var n=["cursorActivity","viewportChange","gutterClick","focus","blur","scroll","update"];return{restrict:"A",require:"ngModel",link:function(r,i,s,o){var u,a,f,l,c;if(i[0].type!=="textarea")throw new Error("uiCodemirror3 can only be applied to a textarea element");u=e.codemirror||{},a=angular.extend({},u,r.$eval(s.uiCodemirror)),f=function(e){return function(t,n){var i=t.getValue();i!==o.$viewValue&&(o.$setViewValue(i),r.$apply()),typeof e=="function"&&e(t,n)}},l=function(){c=CodeMirror.fromTextArea(i[0],a),c.on("change",f(a.onChange));for(var e=0,u=n.length,l;e<u;++e){l=a["on"+n[e].charAt(0).toUpperCase()+n[e].slice(1)];if(l===void 0)continue;if(typeof l!="function")continue;c.on(n[e],l)}o.$formatters.push(function(e){if(angular.isUndefined(e)||e===null)return"";if(angular.isObject(e)||angular.isArray(e))throw new Error("ui-codemirror cannot use an object or an array as a model");return e}),o.$render=function(){c.setValue(o.$viewValue)},s.uiRefresh&&r.$watch(s.uiRefresh,function(e,n){e!==n&&t(c.refresh)})},t(l)}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,r,i,s){var o,u,a;o=angular.extend({},n,e.$eval(i.uiCurrency)),u=function(e){var n;return n=e*1,r.toggleClass(o.pos,n>0),r.toggleClass(o.neg,n<0),r.toggleClass(o.zero,n===0),e===""?r.text(""):r.text(t(n,o.symbol)),!0},s.$render=function(){a=s.$viewValue,r.val(a),u(a)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,r,i){var s=function(){return angular.extend({},e.date,t.$eval(r.uiDate))},o=function(){var e=s();if(i){var r=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),i.$setViewValue(e),n.blur()})};if(e.onSelect){var o=e.onSelect;e.onSelect=function(e,n){r(),t.$apply(function(){o(e,n)})}}else e.onSelect=r;n.bind("change",r),i.$render=function(){var e=i.$viewValue;if(angular.isDefined(e)&&e!==null&&!angular.isDate(e))throw new Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),i&&i.$render()};t.$watch(s,o,!0)}}}]).directive("uiDateFormat",["ui.config",function(e){var t={require:"ngModel",link:function(t,n,r,i){var s=r.uiDateFormat||e.dateFormat;s?(i.$formatters.push(function(e){if(angular.isString(e))return $.datepicker.parseDate(s,e)}),i.$parsers.push(function(e){if(e)return $.datepicker.formatDate(s,e)})):(i.$formatters.push(function(e){if(angular.isString(e))return new Date(e)}),i.$parsers.push(function(e){if(e)return e.toISOString()}))}};return t}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,r){var i=t.$eval(r.uiEvent);angular.forEach(i,function(r,i){var s=e(r);n.bind(i,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){s(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){var i,s;e.$watch(r.uiIf,function(r){i&&(i.remove(),i=undefined),s&&(s.$destroy(),s=undefined),r&&(s=e.$new(),n(s,function(e){i=e,t.after(e)}))})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config","$timeout",function(t,n){return{restrict:"A",compile:function(r,i){if(!angular.isFunction(r[i.uiJq]))throw new Error('ui-jq: The "'+i.uiJq+'" function does not exist');var s=t.jq&&t.jq[i.uiJq];return function(t,r,i){function u(){n(function(){r[i.uiJq].apply(r,o)},0,!1)}var o=[];i.uiOptions?(o=t.$eval("["+i.uiOptions+"]"),angular.isObject(s)&&angular.isObject(o[0])&&(o[0]=angular.extend({},s,o[0]))):s&&(o=[s]),i.ngModel&&r.is("select,input,textarea")&&r.on("change",function(){r.trigger("input")}),i.uiRefresh&&t.$watch(i.uiRefresh,function(e){u()}),u()}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(t){var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},r=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(e,i,s,o){var u,a=[];u=i.$eval(o["ui"+r(e)]),angular.forEach(u,function(e,n){var r,i;i=t(e),angular.forEach(n.split(" "),function(e){r={expression:i,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),a.push(r)})}),s.bind(e,function(t){var r=t.metaKey||t.altKey,s=t.ctrlKey,o=t.shiftKey,u=t.keyCode;e==="keypress"&&!o&&u>=97&&u<=122&&(u-=32),angular.forEach(a,function(e){var u=e.keys[n[t.keyCode]]||e.keys[t.keyCode.toString()]||!1,a=e.keys.alt||!1,f=e.keys.ctrl||!1,l=e.keys.shift||!1;u&&a==r&&f==s&&l==o&&i.$apply(function(){e.expression(i,{$event:t})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,r){e("keyup",t,n,r)}}}]),function(){function t(e,t,n,r){angular.forEach(t.split(" "),function(t){var i={type:"map-"+t};google.maps.event.addListener(n,t,function(t){r.triggerHandler(angular.extend({},i,t)),e.$$phase||e.$apply()})})}function n(n,r){e.directive(n,[function(){return{restrict:"A",link:function(e,i,s){e.$watch(s[n],function(n){t(e,r,n,i)})}}}])}var e=angular.module("ui.directives");e.directive("uiMap",["ui.config","$parse",function(e,n){var r="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",i=e.map||{};return{restrict:"A",link:function(e,s,o){var u=angular.extend({},i,e.$eval(o.uiOptions)),a=new google.maps.Map(s[0],u),f=n(o.uiMap);f.assign(e,a),t(e,r,a,s)}}}]),e.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(e,n,r){var i="closeclick content_change domready position_changed zindex_changed",s=e.mapInfoWindow||{};return{link:function(e,o,u){var a=angular.extend({},s,e.$eval(u.uiOptions));a.content=o[0];var f=n(u.uiMapInfoWindow),l=f(e);l||(l=new google.maps.InfoWindow(a),f.assign(e,l)),t(e,i,l,o),o.replaceWith("<div></div>");var c=l.open;l.open=function(n,i,s,u,a,f){r(o.contents())(e),c.call(l,n,i,s,u,a,f)}}}}]),n("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),n("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),n("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),n("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,r){r.$render=function(){var i=r.$viewValue||"";t.val(i),t.mask(e.$eval(n.uiMask))},r.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return r.$setValidity("mask",n),n?e:undefined}),t.bind("keyup",function(){e.$apply(function(){r.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return e.reset!==undefined&&(t=e.reset),{require:"ngModel",link:function(e,n,r,i){var s;s=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(s),s.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.uiReset?i.$setViewValue(e.$eval(r.uiReset)):i.$setViewValue(t),i.$render()})})}}}]),angular.module("ui.directives").directive("uiRoute",["$location","$parse",function(e,t){return{restrict:"AC",compile:function(n,r){var i;if(r.uiRoute)i="uiRoute";else if(r.ngHref)i="ngHref";else{if(!r.href)throw new Error("uiRoute missing a route or href property on "+n[0]);i="href"}return function(n,r,s){function a(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),u=function(){o(n,e.path().indexOf(t)>-1)},u()}function f(t){(hash=t.indexOf("#"))>-1&&(t=t.substr(hash+1)),u=function(){var i=new RegExp("^"+t+"$",["i"]);o(n,i.test(e.path()))},u()}var o=t(s.ngModel||s.routeModel||"$uiRoute").assign,u=angular.noop;switch(i){case"uiRoute":s.uiRoute?f(s.uiRoute):s.$observe("uiRoute",f);break;case"ngHref":s.ngHref?a(s.ngHref):s.$observe("ngHref",a);break;case"href":a(s.href)}n.$on("$routeChangeSuccess",function(){u()})}}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,r){var i=n.offset().top;r.uiScrollfix?r.uiScrollfix.charAt(0)==="-"?r.uiScrollfix=i-r.uiScrollfix.substr(1):r.uiScrollfix.charAt(0)==="+"&&(r.uiScrollfix=i+parseFloat(r.uiScrollfix.substr(1))):r.uiScrollfix=i,angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var i=document.compatMode&&document.compatMode!=="BackCompat"?document.documentElement:document.body;t=i.scrollTop}!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&t<r.uiScrollfix&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$timeout",function(e,t){var n={};return e.select2&&angular.extend(n,e.select2),{require:"?ngModel",compile:function(e,r){var i,s,o,u=e.is("select"),a=r.multiple!==undefined;return e.is("select")&&(s=e.find("option[ng-repeat], option[data-ng-repeat]"),s.length&&(o=s.attr("ng-repeat")||s.attr("data-ng-repeat"),i=jQuery.trim(o.split("|")[0]).split(" ").pop())),function(e,r,s,o){var f=angular.extend({},n,e.$eval(s.uiSelect2));u?(delete f.multiple,delete f.initSelection):a&&(f.multiple=!0);if(o){o.$render=function(){u?r.select2("val",o.$modelValue):a?o.$modelValue?angular.isArray(o.$modelValue)?r.select2("data",o.$modelValue):r.select2("val",o.$modelValue):r.select2("data",[]):angular.isObject(o.$modelValue)?r.select2("data",o.$modelValue):r.select2("val",o.$modelValue)},i&&e.$watch(i,function(e,n,i){if(!e)return;t(function(){r.select2("val",o.$viewValue),r.trigger("change")})});if(!u){r.bind("change",function(){e.$apply(function(){o.$setViewValue(r.select2("data"))})});if(f.initSelection){var l=f.initSelection;f.initSelection=function(e,t){l(e,function(e){o.$setViewValue(e),t(e)})}}}}s.$observe("disabled",function(e){r.select2(e&&"disable"||"enable")}),s.ngMultiple&&e.$watch(s.ngMultiple,function(e){r.select2(f)}),r.val(e.$eval(s.ngModel)),t(function(){r.select2(f),!f.initSelection&&!u&&o.$setViewValue(r.select2("data"))})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e,n){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e,n){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e,n){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){return{require:"?ngModel",link:function(t,n,r,i){var s,o,u,a,f,l,c,h,p;f=angular.extend({},e.sortable,t.$eval(r.uiSortable)),i&&(i.$render=function(){n.sortable("refresh")},u=function(e,t){t.item.sortable={index:t.item.index()}},a=function(e,t){t.item.sortable.resort=i},s=function(e,t){t.item.sortable.relocate=!0,i.$modelValue.splice(t.item.index(),0,t.item.sortable.moved)},o=function(e,t){i.$modelValue.length===1?t.item.sortable.moved=i.$modelValue.splice(0,1)[0]:t.item.sortable.moved=i.$modelValue.splice(t.item.sortable.index,1)[0]},onStop=function(e,n){if(n.item.sortable.resort&&!n.item.sortable.relocate){var r,i;i=n.item.sortable.index,r=n.item.index(),i<r&&r--,n.item.sortable.resort.$modelValue.splice(r,0,n.item.sortable.resort.$modelValue.splice(i,1)[0])}(n.item.sortable.resort||n.item.sortable.relocate)&&t.$apply()},h=f.start,f.start=function(e,t){u(e,t),typeof h=="function"&&h(e,t)},_stop=f.stop,f.stop=function(e,t){onStop(e,t),typeof _stop=="function"&&_stop(e,t)},p=f.update,f.update=function(e,t){a(e,t),typeof p=="function"&&p(e,t)},l=f.receive,f.receive=function(e,t){s(e,t),typeof l=="function"&&l(e,t)},c=f.remove,f.remove=function(e,t){o(e,t),typeof c=="function"&&c(e,t)}),n.sortable(f)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,r,i){var s,o={onchange_callback:function(e){e.isDirty()&&(e.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(e){return this.isDirty()&&(this.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e,r){e.isDirty()&&(e.save(),i.$setViewValue(n.val()),t.$$phase||t.$apply())})}};r.uiTinymce?s=t.$eval(r.uiTinymce):s={},angular.extend(o,e.tinymce,s),setTimeout(function(){n.tinymce(o)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var i,s,o={},u=e.$eval(n.uiValidate);if(!u)return;angular.isString(u)&&(u={validator:u}),angular.forEach(u,function(t,n){i=function(i){return e.$eval(t,{$value:i})?(r.$setValidity(n,!0),i):(r.$setValidity(n,!1),undefined)},o[n]=i,r.$formatters.push(i),r.$parsers.push(i)}),n.uiValidateWatch&&(s=e.$eval(n.uiValidateWatch),angular.isString(s)?e.$watch(s,function(){angular.forEach(o,function(e,t){e(r.$modelValue)})}):angular.forEach(s,function(t,n){e.$watch(t,function(){o[n](r.$modelValue)})}))}}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n=e.toString(),r;return t===undefined?n:!angular.isArray(t)&&!angular.isObject(t)?n.split("$0").join(t):(r=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){n=n.split(r+t).join(e)}),n)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=e.toString(),t=t.toString(),n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(new RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join(""),t}};return function(e,t,r){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n={},r=[],i=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){var t,n=!1;for(var s=0;s<r.length;s++)if(angular.equals(i(r[s]),i(e))){n=!0;break}n||r.push(e)}),e=r}return e}});
;
;
/*! jquery.uniform.min.js */ 
;
;
!function(e,t,n){"use strict";function s(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function a(e,t,n){var s,a;for(s in n)n.hasOwnProperty(s)&&(a=s.replace(/ |$/g,t.eventNamespace),e.bind(a,n[s]))}function r(e,t,n){a(e,n,{focus:function(){t.addClass(n.focusClass)},blur:function(){t.removeClass(n.focusClass),t.removeClass(n.activeClass)},mouseenter:function(){t.addClass(n.hoverClass)},mouseleave:function(){t.removeClass(n.hoverClass),t.removeClass(n.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(n.activeClass)},"mouseup touchend":function(){t.removeClass(n.activeClass)}})}function i(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function l(e,t,n){n?e.addClass(t):e.removeClass(t)}function u(e,t,n){var s="checked",a=t.is(":"+s);t.prop?t.prop(s,a):a?t.attr(s,s):t.removeAttr(s),l(e,n.checkedClass,a)}function o(e,t,n){l(e,n.disabledClass,t.is(":disabled"))}function c(e,t,n){switch(n){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function d(e,n,a){var r,i,l;return a||(a={}),a=t.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},a),r=t("<div />"),i=t("<span />"),n.autoHide&&e.is(":hidden")&&"none"===e.css("display")&&r.hide(),a.divClass&&r.addClass(a.divClass),n.wrapperClass&&r.addClass(n.wrapperClass),a.spanClass&&i.addClass(a.spanClass),l=s(e,"id"),n.useID&&l&&s(r,"id",n.idPrefix+"-"+l),a.spanHtml&&i.html(a.spanHtml),r=c(e,r,a.divWrap),i=c(e,i,a.spanWrap),o(r,e,n),{div:r,span:i}}function f(e,n){var s;return n.wrapperClass?(s=t("<span />").addClass(n.wrapperClass),s=c(e,s,"wrap")):null}function p(){var n,s,a,r;return r="rgb(120,2,153)",s=t('<div style="width:0;height:0;color:'+r+'">'),t("body").append(s),a=s.get(0),n=e.getComputedStyle?e.getComputedStyle(a,"").color:(a.currentStyle||a.style||{}).color,s.remove(),n.replace(/ /g,"")!==r}function m(e){return e?t("<span />").text(e).html():""}function v(){return navigator.cpuClass&&!navigator.product}function h(){return void 0!==e.XMLHttpRequest?!0:!1}function C(e){var t;return e[0].multiple?!0:(t=s(e,"size"),!t||1>=t?!1:!0)}function b(){return!1}function y(e,t){var n="none";a(e,t,{"selectstart dragstart mousedown":b}),e.css({MozUserSelect:n,msUserSelect:n,webkitUserSelect:n,userSelect:n})}function w(e,t,n){var s=e.val();""===s?s=n.fileDefaultHtml:(s=s.split(/[\/\\]+/),s=s[s.length-1]),t.text(s)}function g(e,t,n){var s,a;for(s=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),n();s.length;)a=s.pop(),a.el.style[a.name]=a.old}function k(e,t){var n;n=e.parents(),n.push(e[0]),n=n.not(":visible"),g(n,{visibility:"hidden",display:"block",position:"absolute"},t)}function H(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var x=!0,A=!1,W=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(t,n){var l,u,c,f,p;return u=n.submitDefaultHtml,t.is(":reset")&&(u=n.resetDefaultHtml),f=t.is("a, button")?function(){return t.html()||u}:function(){return m(s(t,"value"))||u},c=d(t,n,{divClass:n.buttonClass,spanHtml:f()}),l=c.div,r(t,l,n),p=!1,a(l,n,{"click touchend":function(){var n,a,r,i;p||t.is(":disabled")||(p=!0,t[0].dispatchEvent?(n=document.createEvent("MouseEvents"),n.initEvent("click",!0,!0),a=t[0].dispatchEvent(n),t.is("a")&&a&&(r=s(t,"target"),i=s(t,"href"),r&&"_self"!==r?e.open(i,r):document.location.href=i)):t.click(),p=!1)}}),y(l,n),{remove:function(){return l.after(t),l.remove(),t.unbind(n.eventNamespace),t},update:function(){i(l,n),o(l,t,n),t.detach(),c.span.html(f()).append(t)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var n,s,l;return n=d(e,t,{divClass:t.checkboxClass}),s=n.div,l=n.span,r(e,s,t),a(e,t,{"click touchend":function(){u(l,e,t)}}),u(l,e,t),{remove:H(e,t),update:function(){i(s,t),l.removeClass(t.checkedClass),u(l,e,t),o(s,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(e,n){function l(){w(e,p,n)}var u,f,p,m;return u=d(e,n,{divClass:n.fileClass,spanClass:n.fileButtonClass,spanHtml:n.fileButtonHtml,spanWrap:"after"}),f=u.div,m=u.span,p=t("<span />").html(n.fileDefaultHtml),p.addClass(n.filenameClass),p=c(e,p,"after"),s(e,"size")||s(e,"size",f.width()/10),r(e,f,n),l(),v()?a(e,n,{click:function(){e.trigger("change"),setTimeout(l,0)}}):a(e,n,{change:l}),y(p,n),y(m,n),{remove:function(){return p.remove(),m.remove(),e.unwrap().unbind(n.eventNamespace)},update:function(){i(f,n),w(e,p,n),o(f,e,n)}}}},{match:function(e){if(e.is("input")){var t=(" "+s(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return!1},apply:function(e,t){var n,a;return n=s(e,"type"),e.addClass(t.inputClass),a=f(e,t),r(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),a&&e.unwrap()},update:b}}},{match:function(e){return e.is(":radio")},apply:function(e,n){var l,c,f;return l=d(e,n,{divClass:n.radioClass}),c=l.div,f=l.span,r(e,c,n),a(e,n,{"click touchend":function(){t.uniform.update(t(':radio[name="'+s(e,"name")+'"]'))}}),u(f,e,n),{remove:H(e,n),update:function(){i(c,n),u(f,e,n),o(c,e,n)}}}},{match:function(e){return e.is("select")&&!C(e)?!0:!1},apply:function(e,n){var s,l,u,c;return n.selectAutoWidth&&k(e,function(){c=e.width()}),s=d(e,n,{divClass:n.selectClass,spanHtml:(e.find(":selected:first")||e.find("option:first")).html(),spanWrap:"before"}),l=s.div,u=s.span,n.selectAutoWidth?k(e,function(){g(t([u[0],l[0]]),{display:"block"},function(){var e;e=u.outerWidth()-u.width(),l.width(c+e),u.width(c)})}):l.addClass("fixedWidth"),r(e,l,n),a(e,n,{change:function(){u.html(e.find(":selected").html()),l.removeClass(n.activeClass)},"click touchend":function(){var t=e.find(":selected").html();u.html()!==t&&e.trigger("change")},keyup:function(){u.html(e.find(":selected").html())}}),y(u,n),{remove:function(){return u.remove(),e.unwrap().unbind(n.eventNamespace),e},update:function(){n.selectAutoWidth?(t.uniform.restore(e),e.uniform(n)):(i(l,n),u.html(e.find(":selected").html()),o(l,e,n))}}}},{match:function(e){return e.is("select")&&C(e)?!0:!1},apply:function(e,t){var n;return e.addClass(t.selectMultiClass),n=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),n&&e.unwrap()},update:b}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var n;return e.addClass(t.textareaClass),n=f(e,t),r(e,e,t),{remove:function(){e.removeClass(t.textareaClass),n&&e.unwrap()},update:b}}}];v()&&!h()&&(x=!1),t.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},t.fn.uniform=function(n){var s=this;return n=t.extend({},t.uniform.defaults,n),A||(A=!0,p()&&(x=!1)),x?(n.resetSelector&&t(n.resetSelector).mouseup(function(){e.setTimeout(function(){t.uniform.update(s)},10)}),this.each(function(){var e,s,a,r=t(this);if(r.data("uniformed"))return t.uniform.update(r),void 0;for(e=0;e<W.length;e+=1)if(s=W[e],s.match(r,n))return a=s.apply(r,n),r.data("uniformed",a),t.uniform.elements.push(r.get(0)),void 0})):this},t.uniform.restore=t.fn.uniform.restore=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n,s=t(this);n=s.data("uniformed"),n&&(n.remove(),e=t.inArray(this,t.uniform.elements),e>=0&&t.uniform.elements.splice(e,1),s.removeData("uniformed"))})},t.uniform.update=t.fn.uniform.update=function(e){e===n&&(e=t.uniform.elements),t(e).each(function(){var e,n=t(this);e=n.data("uniformed"),e&&e.update(n,e.options)})}}(this,jQuery);
;
;
/*! jquery.spin.min.js */ 
;
;
(function(t,e){if(typeof exports=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else t.Spinner=e()})(this,function(){"use strict";var t=["webkit","Moz","ms","O"],e={},i;function o(t,e){var i=document.createElement(t||"div"),o;for(o in e)i[o]=e[o];return i}function n(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}var r=function(){var t=o("style",{type:"text/css"});n(document.getElementsByTagName("head")[0],t);return t.sheet||t.styleSheet}();function s(t,o,n,s){var a=["opacity",o,~~(t*100),n,s].join("-"),f=.01+n/s*100,l=Math.max(1-(1-t)/o*(100-f),t),u=i.substring(0,i.indexOf("Animation")).toLowerCase(),d=u&&"-"+u+"-"||"";if(!e[a]){r.insertRule("@"+d+"keyframes "+a+"{"+"0%{opacity:"+l+"}"+f+"%{opacity:"+t+"}"+(f+.01)+"%{opacity:1}"+(f+o)%100+"%{opacity:"+t+"}"+"100%{opacity:"+l+"}"+"}",r.cssRules.length);e[a]=1}return a}function a(e,i){var o=e.style,n,r;i=i.charAt(0).toUpperCase()+i.slice(1);for(r=0;r<t.length;r++){n=t[r]+i;if(o[n]!==undefined)return n}if(o[i]!==undefined)return i}function f(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var o in i)if(t[o]===undefined)t[o]=i[o]}return t}function u(t){var e={x:t.offsetLeft,y:t.offsetTop};while(t=t.offsetParent)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}function d(t,e){return typeof t=="string"?t:t[e%t.length]}var p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function c(t){if(typeof this=="undefined")return new c(t);this.opts=l(t||{},c.defaults,p)}c.defaults={};l(c.prototype,{spin:function(t){this.stop();var e=this,n=e.opts,r=e.el=f(o(0,{className:n.className}),{position:n.position,width:0,zIndex:n.zIndex}),s=n.radius+n.length+n.width,a,l;if(t){t.insertBefore(r,t.firstChild||null);l=u(t);a=u(r);f(r,{left:(n.left=="auto"?l.x-a.x+(t.offsetWidth>>1):parseInt(n.left,10)+s)+"px",top:(n.top=="auto"?l.y-a.y+(t.offsetHeight>>1):parseInt(n.top,10)+s)+"px"})}r.setAttribute("role","progressbar");e.lines(r,e.opts);if(!i){var d=0,p=(n.lines-1)*(1-n.direction)/2,c,h=n.fps,m=h/n.speed,y=(1-n.opacity)/(m*n.trail/100),g=m/n.lines;(function v(){d++;for(var t=0;t<n.lines;t++){c=Math.max(1-(d+(n.lines-t)*g)%m*y,n.opacity);e.opacity(r,t*n.direction+p,c,n)}e.timeout=e.el&&setTimeout(v,~~(1e3/h))})()}return e},stop:function(){var t=this.el;if(t){clearTimeout(this.timeout);if(t.parentNode)t.parentNode.removeChild(t);this.el=undefined}return this},lines:function(t,e){var r=0,a=(e.lines-1)*(1-e.direction)/2,l;function u(t,i){return f(o(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:t,boxShadow:i,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*r+e.rotate)+"deg) translate("+e.radius+"px"+",0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(;r<e.lines;r++){l=f(o(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:i&&s(e.opacity,e.trail,a+r*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"});if(e.shadow)n(l,f(u("#000","0 0 4px "+"#000"),{top:2+"px"}));n(t,n(l,u(d(e.color,r),"0 0 1px rgba(0,0,0,.1)")))}return t},opacity:function(t,e,i){if(e<t.childNodes.length)t.childNodes[e].style.opacity=i}});function h(){function t(t,e){return o("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}r.addRule(".spin-vml","behavior:url(#default#VML)");c.prototype.lines=function(e,i){var o=i.length+i.width,r=2*o;function s(){return f(t("group",{coordsize:r+" "+r,coordorigin:-o+" "+-o}),{width:r,height:r})}var a=-(i.width+i.length)*2+"px",l=f(s(),{position:"absolute",top:a,left:a}),u;function p(e,r,a){n(l,n(f(s(),{rotation:360/i.lines*e+"deg",left:~~r}),n(f(t("roundrect",{arcsize:i.corners}),{width:o,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t("fill",{color:d(i.color,e),opacity:i.opacity}),t("stroke",{opacity:0}))))}if(i.shadow)for(u=1;u<=i.lines;u++)p(u,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(u=1;u<=i.lines;u++)p(u);return n(e,l)};c.prototype.opacity=function(t,e,i,o){var n=t.firstChild;o=o.shadow&&o.lines||0;if(n&&e+o<n.childNodes.length){n=n.childNodes[e+o];n=n&&n.firstChild;n=n&&n.firstChild;if(n)n.opacity=i}}}var m=f(o("group"),{behavior:"url(#default#VML)"});if(!a(m,"transform")&&m.adj)h();else i=a(m,"animation");return c});
;
;
/*! jquery.nicescroll.min.js */ 
;
;
/* jquery.nicescroll
-- version 3.5.4 -- MODIFIED
-- copyright 2013-11-13 InuYaksa*2013
-- licensed under the MIT
--
-- http://areaaperta.com/nicescroll
-- https://github.com/inuyaksa/jquery.nicescroll
--
*/
(function (factory) {
if (typeof define === 'function' && define.amd) {
define(['jquery'], factory);
} else {
factory(jQuery);
}
}(function(jQuery){
var domfocus = false;
var mousefocus = false;
var zoomactive = false;
var tabindexcounter = 5000;
var ascrailcounter = 2000;
var globalmaxzindex = 0;
var $ = jQuery;  // sandbox
function getScriptPath() {
var scripts=document.getElementsByTagName('script');
var path=scripts[scripts.length-1].src.split('?')[0];
return (path.split('/').length>0) ? path.split('/').slice(0,-1).join('/')+'/' : '';
}
var vendors = ['ms','moz','webkit','o'];
var setAnimationFrame = window.requestAnimationFrame||false;
var clearAnimationFrame = window.cancelAnimationFrame||false;
if (!setAnimationFrame) {
for(var vx in vendors) {
var v = vendors[vx];
if (!setAnimationFrame) setAnimationFrame = window[v+'RequestAnimationFrame'];
if (!clearAnimationFrame) clearAnimationFrame = window[v+'CancelAnimationFrame']||window[v+'CancelRequestAnimationFrame'];
}
}
var clsMutationObserver = window.MutationObserver || window.WebKitMutationObserver || false;
var _globaloptions = {
zindex:"auto",
cursoropacitymin:0,
cursoropacitymax:1,
cursorcolor:"#424242",
cursorwidth:"5px",
cursorborder:"1px solid #fff",
cursorborderradius:"5px",
scrollspeed:60,
mousescrollstep:8*3,
touchbehavior:false,
hwacceleration:true,
usetransition:true,
boxzoom:false,
dblclickzoom:true,
gesturezoom:true,
grabcursorenabled:true,
autohidemode:true,
background:"",
iframeautoresize:true,
cursorminheight:32,
preservenativescrolling:true,
railoffset:false,
bouncescroll:true,
spacebarenabled:true,
railpadding:{top:0,right:0,left:0,bottom:0},
railmargin:{top:0,right:0,left:0,bottom:0}, 
railhpadding:{top:-1,right:-1,left:-1,bottom:-1}, //padding for hrail, if no custom input it'll take padding rail
railhmargin:{top:-1,right:-1,left:-1,bottom:-1}, //margin for hrail, if no custom input it'll take margin rail
mirrorrails:true, //If no margin or paddings for horizontal rail are provided, it'll copy them from the vertical rail
disableoutline:true,
horizrailenabled:true,
railalign:"right",
railvalign:"bottom",
enabletranslate3d:true,
enablemousewheel:true,
enablekeyboard:true,
smoothscroll:true,
sensitiverail:true,
enablemouselockapi:true,
cursorfixedheight:false,      
directionlockdeadzone:6,
hidecursordelay:400,
nativeparentscrolling:true,
enablescrollonselection:true,
overflowx:true,
overflowy:true,
cursordragspeed:0.3,
rtlmode:"auto",
cursordragontouch:false,
oneaxismousemode:"auto",
scriptpath:getScriptPath()
};
var browserdetected = false;
var getBrowserDetection = function() {
if (browserdetected) return browserdetected;
var domtest = document.createElement('DIV');
var d = {};
d.haspointerlock = "pointerLockElement" in document || "mozPointerLockElement" in document || "webkitPointerLockElement" in document;
d.isopera = ("opera" in window);
d.isopera12 = (d.isopera&&("getUserMedia" in navigator));
d.isoperamini = (Object.prototype.toString.call(window.operamini) === "[object OperaMini]");
d.isie = (("all" in document) && ("attachEvent" in domtest) && !d.isopera);
d.isieold = (d.isie && !("msInterpolationMode" in domtest.style));  // IE6 and older
d.isie7 = d.isie&&!d.isieold&&(!("documentMode" in document)||(document.documentMode==7));
d.isie8 = d.isie&&("documentMode" in document)&&(document.documentMode==8);
d.isie9 = d.isie&&("performance" in window)&&(document.documentMode>=9);
d.isie10 = d.isie&&("performance" in window)&&(document.documentMode>=10);
d.isie9mobile = /iemobile.9/i.test(navigator.userAgent);  //wp 7.1 mango
if (d.isie9mobile) d.isie9 = false;
d.isie7mobile = (!d.isie9mobile&&d.isie7) && /iemobile/i.test(navigator.userAgent);  //wp 7.0
d.ismozilla = ("MozAppearance" in domtest.style);
d.iswebkit = ("WebkitAppearance" in domtest.style);
d.ischrome = ("chrome" in window);
d.ischrome22 = (d.ischrome&&d.haspointerlock);
d.ischrome26 = (d.ischrome&&("transition" in domtest.style));  // issue with transform detection (maintain prefix)
d.cantouch = ("ontouchstart" in document.documentElement)||("ontouchstart" in window);  // detection for Chrome Touch Emulation
d.hasmstouch = (window.navigator.msPointerEnabled||false);  // IE10+ pointer events
d.ismac = /^mac$/i.test(navigator.platform);
d.isios = (d.cantouch && /iphone|ipad|ipod/i.test(navigator.platform));
d.isios4 = ((d.isios)&&!("seal" in Object));
d.isandroid = (/android/i.test(navigator.userAgent));
d.trstyle = false;
d.hastransform = false;
d.hastranslate3d = false;
d.transitionstyle = false;
d.hastransition = false;
d.transitionend = false;
var check = ['transform','msTransform','webkitTransform','MozTransform','OTransform'];
for(var a=0;a<check.length;a++){
if (typeof domtest.style[check[a]] != "undefined") {
d.trstyle = check[a];
break;
}
}
d.hastransform = (d.trstyle != false);
if (d.hastransform) {
domtest.style[d.trstyle] = "translate3d(1px,2px,3px)";
d.hastranslate3d = /translate3d/.test(domtest.style[d.trstyle]);
}
d.transitionstyle = false;
d.prefixstyle = '';
d.transitionend = false;
var check = ['transition','webkitTransition','MozTransition','OTransition','OTransition','msTransition','KhtmlTransition'];
var prefix = ['','-webkit-','-moz-','-o-','-o','-ms-','-khtml-'];
var evs = ['transitionend','webkitTransitionEnd','transitionend','otransitionend','oTransitionEnd','msTransitionEnd','KhtmlTransitionEnd'];
for(var a=0;a<check.length;a++) {
if (check[a] in domtest.style) {
d.transitionstyle = check[a];
d.prefixstyle = prefix[a];
d.transitionend = evs[a];
break;
}
}
if (d.ischrome26) {  // use always prefix
d.prefixstyle = prefix[1];
}
d.hastransition = (d.transitionstyle);
function detectCursorGrab() {      
var lst = ['-moz-grab','-webkit-grab','grab'];
if ((d.ischrome&&!d.ischrome22)||d.isie) lst=[];  // force setting for IE returns false positive and chrome cursor bug
for(var a=0;a<lst.length;a++) {
var p = lst[a];
domtest.style['cursor']=p;
if (domtest.style['cursor']==p) return p;
}
return 'url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize';  // thank you google for custom cursor!
}
d.cursorgrabvalue = detectCursorGrab();
d.hasmousecapture = ("setCapture" in domtest);
d.hasMutationObserver = (clsMutationObserver !== false);
domtest = null;  //memory released
browserdetected = d;
return d;  
};
var NiceScrollClass = function(myopt,me) {
var self = this;
this.version = '3.5.4';
this.name = 'nicescroll';
this.me = me;
this.opt = {
doc:$("body"),
win:false
};
$.extend(this.opt,_globaloptions);
this.opt.snapbackspeed = 80;
if (myopt||false) {
for(var a in self.opt) {
if (typeof myopt[a] != "undefined") self.opt[a] = myopt[a];
}
}
if(this.opt.mirrorrails && this.opt.railhmargin.top==-1){this.opt.railhmargin.top=this.opt.railmargin.left};
if(this.opt.mirrorrails && this.opt.railhmargin.right==-1){this.opt.railhmargin.right=this.opt.railmargin.bottom};
if(this.opt.mirrorrails && this.opt.railhmargin.left==-1){this.opt.railhmargin.left=this.opt.railmargin.top};
if(this.opt.mirrorrails && this.opt.railhmargin.bottom==-1){this.opt.railhmargin.bottom=this.opt.railmargin.right};
if(this.opt.mirrorrails && this.opt.railhpadding.top==-1){this.opt.railhpadding.top=this.opt.railpadding.left;};
if(this.opt.mirrorrails && this.opt.railhpadding.right==-1){this.opt.railhpadding.right=this.opt.railpadding.bottom};
if(this.opt.mirrorrails && this.opt.railhpadding.left==-1){this.opt.railhpadding.left=this.opt.railpadding.top};
if(this.opt.mirrorrails && this.opt.railhpadding.bottom==-1){this.opt.railhpadding.bottom=this.opt.railpadding.right};
this.doc = self.opt.doc;
this.iddoc = (this.doc&&this.doc[0])?this.doc[0].id||'':'';    
this.ispage = /^BODY|HTML/.test((self.opt.win)?self.opt.win[0].nodeName:this.doc[0].nodeName);
this.haswrapper = (self.opt.win!==false);
this.win = self.opt.win||(this.ispage?$(window):this.doc);
this.docscroll = (this.ispage&&!this.haswrapper)?$(window):this.win;
this.body = $("body");
this.viewport = false;
this.isfixed = false;
this.iframe = false;
this.isiframe = ((this.doc[0].nodeName == 'IFRAME') && (this.win[0].nodeName == 'IFRAME'));
this.istextarea = (this.win[0].nodeName == 'TEXTAREA');
this.forcescreen = false; //force to use screen position on events
this.canshowonmouseevent = (self.opt.autohidemode!="scroll");
this.onmousedown = false;
this.onmouseup = false;
this.onmousemove = false;
this.onmousewheel = false;
this.onkeypress = false;
this.ongesturezoom = false;
this.onclick = false;
this.onscrollstart = false;
this.onscrollend = false;
this.onscrollcancel = false;    
this.onzoomin = false;
this.onzoomout = false;
this.view = false;
this.page = false;
this.scroll = {x:0,y:0};
this.scrollratio = {x:0,y:0};    
this.cursorheight = 20;
this.scrollvaluemax = 0;
this.isrtlmode = false; //(this.opt.rtlmode=="auto") ? (this.win.css("direction")=="rtl") : (this.opt.rtlmode===true);
this.scrollrunning = false;
this.scrollmom = false;
this.observer = false;
this.observerremover = false;  // observer on parent for remove detection
do {
this.id = "ascrail"+(ascrailcounter++);
} while (document.getElementById(this.id));
this.rail = false;
this.cursor = false;
this.cursorfreezed = false;  
this.selectiondrag = false;
this.zoom = false;
this.zoomactive = false;
this.hasfocus = false;
this.hasmousefocus = false;
this.visibility = true;
this.locked = false;
this.hidden = false; // rails always hidden
this.cursoractive = true; // user can interact with cursors
this.wheelprevented = false;  //prevent mousewheel event
this.overflowx = self.opt.overflowx;
this.overflowy = self.opt.overflowy;
this.nativescrollingarea = false;
this.checkarea = 0;
this.events = [];  // event list for unbind
this.saved = {};
this.delaylist = {};
this.synclist = {};
this.lastdeltax = 0;
this.lastdeltay = 0;
this.detected = getBrowserDetection(); 
var cap = $.extend({},this.detected);
this.canhwscroll = (cap.hastransform&&self.opt.hwacceleration);
this.ishwscroll = (this.canhwscroll&&self.haswrapper);
this.istouchcapable = false;  // desktop devices with touch screen support
if (cap.cantouch&&cap.ischrome&&!cap.isios&&!cap.isandroid) {
this.istouchcapable = true;
cap.cantouch = false;  // parse normal desktop events
}    
if (cap.cantouch&&cap.ismozilla&&!cap.isios&&!cap.isandroid) {
this.istouchcapable = true;
cap.cantouch = false;  // parse normal desktop events
}    
if (!self.opt.enablemouselockapi) {
cap.hasmousecapture = false;
cap.haspointerlock = false;
}
this.delayed = function(name,fn,tm,lazy) {
var dd = self.delaylist[name];
var nw = (new Date()).getTime();
if (!lazy&&dd&&dd.tt) return false;
if (dd&&dd.tt) clearTimeout(dd.tt);
if (dd&&dd.last+tm>nw&&!dd.tt) {      
self.delaylist[name] = {
last:nw+tm,
tt:setTimeout(function(){if(self||false){self.delaylist[name].tt=0;fn.call()}},tm)
}
}
else if (!dd||!dd.tt) {
self.delaylist[name] = {
last:nw,
tt:0
};
setTimeout(function(){fn.call();},0);
}
};
this.debounced = function(name,fn,tm) {
var dd = self.delaylist[name];
var nw = (new Date()).getTime();      
self.delaylist[name] = fn;
if (!dd) {        
setTimeout(function(){var fn=self.delaylist[name];self.delaylist[name]=false;fn.call();},tm);
}
};
var _onsync = false;
this.synched = function(name,fn) {
function requestSync() {
if (_onsync) return;
setAnimationFrame(function(){
_onsync = false;
for(name in self.synclist){
var fn = self.synclist[name];
if (fn) fn.call(self);
self.synclist[name] = false;
}
});
_onsync = true;
};    
self.synclist[name] = fn;
requestSync();
return name;
};
this.unsynched = function(name) {
if (self.synclist[name]) self.synclist[name] = false;
};
this.css = function(el,pars) {  // save & set
for(var n in pars) {
self.saved.css.push([el,n,el.css(n)]);
el.css(n,pars[n]);
}
};
this.scrollTop = function(val) {
return (typeof val == "undefined") ? self.getScrollTop() : self.setScrollTop(val);
};
this.scrollLeft = function(val) {
return (typeof val == "undefined") ? self.getScrollLeft() : self.setScrollLeft(val);
};
BezierClass = function(st,ed,spd,p1,p2,p3,p4) {
this.st = st;
this.ed = ed;
this.spd = spd;
this.p1 = p1||0;
this.p2 = p2||1;
this.p3 = p3||0;
this.p4 = p4||1;
this.ts = (new Date()).getTime();
this.df = this.ed-this.st;
};
BezierClass.prototype = {
B2:function(t){ return 3*t*t*(1-t) },
B3:function(t){ return 3*t*(1-t)*(1-t) },
B4:function(t){ return (1-t)*(1-t)*(1-t) },
getNow:function(){
var nw = (new Date()).getTime();
var pc = 1-((nw-this.ts)/this.spd);
var bz = this.B2(pc) + this.B3(pc) + this.B4(pc);
return (pc<0) ? this.ed : this.st+Math.round(this.df*bz);
},
update:function(ed,spd){
this.st = this.getNow();
this.ed = ed;
this.spd = spd;
this.ts = (new Date()).getTime();
this.df = this.ed-this.st;
return this;
}
};
if (this.ishwscroll) {  
this.doc.translate = {x:0,y:0,tx:"0px",ty:"0px"};
if (cap.hastranslate3d&&cap.isios) this.doc.css("-webkit-backface-visibility","hidden");  // prevent flickering http://stackoverflow.com/questions/3461441/      
function getMatrixValues() {
var tr = self.doc.css(cap.trstyle);
if (tr&&(tr.substr(0,6)=="matrix")) {
return tr.replace(/^.*\((.*)\)$/g, "$1").replace(/px/g,'').split(/, +/);
}
return false;
}
this.getScrollTop = function(last) {
if (!last) {
var mtx = getMatrixValues();
if (mtx) return (mtx.length==16) ? -mtx[13] : -mtx[5];  //matrix3d 16 on IE10
if (self.timerscroll&&self.timerscroll.bz) return self.timerscroll.bz.getNow();
}
return self.doc.translate.y;
};
this.getScrollLeft = function(last) {
if (!last) {
var mtx = getMatrixValues();          
if (mtx) return (mtx.length==16) ? -mtx[12] : -mtx[4];  //matrix3d 16 on IE10
if (self.timerscroll&&self.timerscroll.bh) return self.timerscroll.bh.getNow();
}
return self.doc.translate.x;
};
if (document.createEvent) {
this.notifyScrollEvent = function(el) {
var e = document.createEvent("UIEvents");
e.initUIEvent("scroll", false, true, window, 1);
el.dispatchEvent(e);
};
}
else if (document.fireEvent) {
this.notifyScrollEvent = function(el) {
var e = document.createEventObject();
el.fireEvent("onscroll");
e.cancelBubble = true; 
};
}
else {
this.notifyScrollEvent = function(el,add) {}; //NOPE
}
var cxscrollleft = -1; //(this.isrtlmode) ? 1 : -1;
if (cap.hastranslate3d&&self.opt.enabletranslate3d) {
this.setScrollTop = function(val,silent) {
self.doc.translate.y = val;
self.doc.translate.ty = (val*-1)+"px";
self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)");          
if (!silent) self.notifyScrollEvent(self.win[0]);
};
this.setScrollLeft = function(val,silent) {          
self.doc.translate.x = val;
self.doc.translate.tx = (val*cxscrollleft)+"px";
self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)");          
if (!silent) self.notifyScrollEvent(self.win[0]);
};
} else {
this.setScrollTop = function(val,silent) {
self.doc.translate.y = val;
self.doc.translate.ty = (val*-1)+"px";
self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")");
if (!silent) self.notifyScrollEvent(self.win[0]);          
};
this.setScrollLeft = function(val,silent) {        
self.doc.translate.x = val;
self.doc.translate.tx = (val*cxscrollleft)+"px";
self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")");
if (!silent) self.notifyScrollEvent(self.win[0]);
};
}
} else {
this.getScrollTop = function() {
return self.docscroll.scrollTop();
};
this.setScrollTop = function(val) {        
return self.docscroll.scrollTop(val);
};
this.getScrollLeft = function() {
return self.docscroll.scrollLeft();
};
this.setScrollLeft = function(val) {
return self.docscroll.scrollLeft(val);
};
}
this.getTarget = function(e) {
if (!e) return false;
if (e.target) return e.target;
if (e.srcElement) return e.srcElement;
return false;
};
this.hasParent = function(e,id) {
if (!e) return false;
var el = e.target||e.srcElement||e||false;
while (el && el.id != id) {
el = el.parentNode||false;
}
return (el!==false);
};
function getZIndex() {
var dom = self.win;
if ("zIndex" in dom) return dom.zIndex();  // use jQuery UI method when available
while (dom.length>0) {        
if (dom[0].nodeType==9) return false;
var zi = dom.css('zIndex');        
if (!isNaN(zi)&&zi!=0) return parseInt(zi);
dom = dom.parent();
}
return false;
};
var _convertBorderWidth = {"thin":1,"medium":3,"thick":5};
function getWidthToPixel(dom,prop,chkheight) {
var wd = dom.css(prop);
var px = parseFloat(wd);
if (isNaN(px)) {
px = _convertBorderWidth[wd]||0;
var brd = (px==3) ? ((chkheight)?(self.win.outerHeight() - self.win.innerHeight()):(self.win.outerWidth() - self.win.innerWidth())) : 1; //DON'T TRUST CSS
if (self.isie8&&px) px+=1;
return (brd) ? px : 0; 
}
return px;
};
this.getOffset = function() {
if (self.isfixed) return {top:parseFloat(self.win.css('top')),left:parseFloat(self.win.css('left'))};
if (!self.viewport) return self.win.offset();
var ww = self.win.offset();
var vp = self.viewport.offset();
return {top:ww.top-vp.top+self.viewport.scrollTop(),left:ww.left-vp.left+self.viewport.scrollLeft()};
};
this.updateScrollBar = function(len) {
var boxoffsetv = self.opt.railmargin['top']+self.opt.railmargin['bottom'];
var boxoffseth = self.opt.railhmargin['left']+self.opt.railhmargin['right'];
if (self.ishwscroll) {
self.rail.css({height:self.win.innerHeight()-boxoffsetv});
if (self.railh) self.railh.css({width:self.win.innerWidth()-boxoffseth});
} else {
var wpos = self.getOffset();
var pos = {top:wpos.top,left:wpos.left};
pos.top+= getWidthToPixel(self.win,'border-top-width',true);
var brd = (self.win.outerWidth() - self.win.innerWidth())/2;
pos.left+= (self.rail.align) ? self.win.outerWidth() - getWidthToPixel(self.win,'border-right-width') - self.rail.width : getWidthToPixel(self.win,'border-left-width');
var off = self.opt.railoffset;
if (off) {
if (off.top) pos.top+=off.top;
if (self.rail.align&&off.left) pos.left+=off.left;
}
if (!self.locked) self.rail.css({top:pos.top,left:pos.left,height:(len)?len.h-boxoffsetv:self.win.innerHeight()-boxoffsetv});
if (self.zoom) {          
self.zoom.css({top:pos.top+1,left:(self.rail.align==1) ? pos.left-20 : pos.left+self.rail.width+4});
}
if (self.railh&&!self.locked) {
var pos = {top:wpos.top,left:wpos.left};
var y = (self.railh.align) ? pos.top + getWidthToPixel(self.win,'border-top-width',true) + self.win.innerHeight() - self.railh.height : pos.top + getWidthToPixel(self.win,'border-top-width',true);
var x = pos.left + getWidthToPixel(self.win,'border-left-width') + self.opt.railhmargin['left'];
self.railh.css({top:y-self.opt.railhmargin['top'],left:x,width:self.railh.width-boxoffseth});
}
}
};
this.doRailClick = function(e,dbl,hr) {
var fn,pg,cur,pos;
if (self.locked) return;
self.cancelEvent(e);
if (dbl) {
fn = (hr) ? self.doScrollLeft : self.doScrollTop;
cur = (hr) ? ((e.pageX - self.railh.offset().left - (self.cursorwidth/2)) * self.scrollratio.x) : ((e.pageY - self.rail.offset().top - (self.cursorheight/2)) * self.scrollratio.y);
fn(cur);
} else {
fn = (hr) ? self.doScrollLeftBy : self.doScrollBy;
cur = (hr) ? self.scroll.x : self.scroll.y;
pos = (hr) ? e.pageX - self.railh.offset().left : e.pageY - self.rail.offset().top;
pg = (hr) ? self.view.w : self.view.h;        
(cur>=pos) ? fn(pg) : fn(-pg);
}
};
self.hasanimationframe = (setAnimationFrame);
self.hascancelanimationframe = (clearAnimationFrame);
if (!self.hasanimationframe) {
setAnimationFrame=function(fn){return setTimeout(fn,15-Math.floor((+new Date)/1000)%16)}; // 1000/60)};
clearAnimationFrame=clearInterval;
} 
else if (!self.hascancelanimationframe) clearAnimationFrame=function(){self.cancelAnimationFrame=true};
this.init = function() {
self.saved.css = [];
if (cap.isie7mobile) return true; // SORRY, DO NOT WORK!
if (cap.isoperamini) return true; // SORRY, DO NOT WORK!
if (cap.hasmstouch) self.css((self.ispage)?$("html"):self.win,{'-ms-touch-action':'none'});
self.zindex = "auto";
if (!self.ispage&&self.opt.zindex=="auto") {
self.zindex = getZIndex()||"auto";
} else {
self.zindex = self.opt.zindex;
}
if (!self.ispage&&self.zindex!="auto") {
if (self.zindex>globalmaxzindex) globalmaxzindex=self.zindex;
}
if (self.isie&&self.zindex==0&&self.opt.zindex=="auto") {  // fix IE auto == 0
self.zindex="auto";
}
/*      
self.ispage = true;
self.haswrapper = true;
self.docscroll = $("body");
*/
if (!self.ispage || (!cap.cantouch && !cap.isieold && !cap.isie9mobile)) {
var cont = self.docscroll;
if (self.ispage) cont = (self.haswrapper)?self.win:self.doc;
if (!cap.isie9mobile) self.css(cont,{'overflow-y':'hidden'});      
if (self.ispage&&cap.isie7) {
if (self.doc[0].nodeName=='BODY') self.css($("html"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue
else if (self.doc[0].nodeName=='HTML') self.css($("body"),{'overflow-y':'hidden'});  //IE7 double scrollbar issue
}
if (cap.isios&&!self.ispage&&!self.haswrapper) self.css($("body"),{"-webkit-overflow-scrolling":"touch"});  //force hw acceleration
var cursor = $(document.createElement('div'));
cursor.css({
position:"relative",top:0,"float":"right",width:self.opt.cursorwidth,height:"0px",
'background-color':self.opt.cursorcolor,
border:self.opt.cursorborder,
'background-clip':'padding-box',
'-webkit-border-radius':self.opt.cursorborderradius,
'-moz-border-radius':self.opt.cursorborderradius,
'border-radius':self.opt.cursorborderradius
});   
cursor.hborder = parseFloat(cursor.outerHeight() - cursor.innerHeight());        
self.cursor = cursor;        
var rail = $(document.createElement('div'));
rail.attr('id',self.id);
rail.addClass('nicescroll-rails');
var v,a,kp = ["left","right","top","bottom"];
for(var n in kp) {
a=kp[n];
v = self.opt.railpadding[a];
(v) ? rail.css("padding-"+a,v+"px") : self.opt.railpadding[a] = 0;
v2 = self.opt.railmargin[a];
(v2) ? rail.css("margin-"+a,v2+"px") : self.opt.railmargin[a] = 0;
}
rail.append(cursor);
rail.width = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerWidth()) + self.opt.railpadding['left'] + self.opt.railpadding['right'];
rail.css({width:rail.width+"px",'zIndex':self.zindex,"background":self.opt.background,cursor:"default"});        
rail.visibility = true;
rail.scrollable = true;
rail.align = (self.opt.railalign=="left") ? 0 : 1;
self.rail = rail;
self.rail.drag = false;
var zoom = false;
if (self.opt.boxzoom&&!self.ispage&&!cap.isieold) {
zoom = document.createElement('div');          
self.bind(zoom,"click",self.doZoom);
self.zoom = $(zoom);
self.zoom.css({"cursor":"pointer",'z-index':self.zindex,'backgroundImage':'url('+self.opt.scriptpath+'zoomico.png)','height':18,'width':18,'backgroundPosition':'0px 0px'});
if (self.opt.dblclickzoom) self.bind(self.win,"dblclick",self.doZoom);
if (cap.cantouch&&self.opt.gesturezoom) {
self.ongesturezoom = function(e) {
if (e.scale>1.5) self.doZoomIn(e);
if (e.scale<0.8) self.doZoomOut(e);
return self.cancelEvent(e);
};
self.bind(self.win,"gestureend",self.ongesturezoom);             
}
}
self.railh = false;
if (self.opt.horizrailenabled) {
self.css(cont,{'overflow-x':'hidden'});
var cursor = $(document.createElement('div'));
cursor.css({
position:"relative",top:0,height:self.opt.cursorwidth,width:"0px",
'background-color':self.opt.cursorcolor,
border:self.opt.cursorborder,
'background-clip':'padding-box',
'-webkit-border-radius':self.opt.cursorborderradius,
'-moz-border-radius':self.opt.cursorborderradius,
'border-radius':self.opt.cursorborderradius
});   
cursor.wborder = parseFloat(cursor.outerWidth() - cursor.innerWidth());
self.cursorh = cursor;
var railh = $(document.createElement('div'));
railh.attr('id',self.id+'-hr');
railh.addClass('nicescroll-rails');
railh.height = Math.max(parseFloat(self.opt.cursorwidth),cursor.outerHeight());
railh.css({height:railh.height+"px",'zIndex':self.zindex,"background":self.opt.background});
var v,v2,a,kp = ["left","right","top","bottom"]; 
for(var n in kp) {
a=kp[n];
v = self.opt.railhpadding[a];
(v) ? railh.css("padding-"+a,v+"px") : self.opt.railhpadding[a] = 0;
v2 = self.opt.railhmargin[a]; 
(v2) ? railh.css("margin-"+a,v2+"px") : self.opt.railhmargin[a] = 0;
}
railh.append(cursor);
railh.visibility = true;
railh.scrollable = true;
railh.align = (self.opt.railvalign=="top") ? 0 : 1;
self.railh = railh;
self.railh.drag = false;
}
if (self.ispage) {
rail.css({position:"fixed",top:"0px",height:self.win.height()-self.opt.railpadding['top']-self.opt.railpadding['bottom']-self.opt.railmargin['top']-self.opt.railmargin['bottom']});
(rail.align) ? rail.css({right:"0px"}) : rail.css({left:"0px"});
self.body.append(rail);
if (self.railh) {
railh.css({position:"fixed",left:"0px",width:self.win.width()-self.opt.railhpadding['left']-self.opt.railhpadding['right']-self.opt.railhmargin['left']-self.opt.railhmargin['right']});
(railh.align) ? railh.css({bottom:"0px"}) : railh.css({top:"0px"});
self.body.append(railh);
}
} else {          
if (self.ishwscroll) {
if (self.win.css('position')=='static') self.css(self.win,{'position':'relative'});
var bd = (self.win[0].nodeName == 'HTML') ? self.body : self.win;
if (self.zoom) {
self.zoom.css({position:"absolute",top:1,right:0,"margin-right":rail.width+4});
bd.append(self.zoom);
}
rail.css({position:"absolute",top:0});
(rail.align) ? rail.css({right:0}) : rail.css({left:0});
bd.append(rail);
if (railh) {
railh.css({position:"absolute",left:0,bottom:0});
(railh.align) ? railh.css({bottom:0}) : railh.css({top:0});
bd.append(railh);
}
} else {
self.isfixed = (self.win.css("position")=="fixed");
var rlpos = (self.isfixed) ? "fixed" : "absolute";
if (!self.isfixed) self.viewport = self.getViewport(self.win[0]);
if (self.viewport) {
self.body = self.viewport;              
if ((/fixed|relative|absolute/.test(self.viewport.css("position")))==false) self.css(self.viewport,{"position":"relative"});
}            
rail.css({position:rlpos});
if (self.zoom) self.zoom.css({position:rlpos});
self.updateScrollBar();
self.body.append(rail);
if (self.zoom) self.body.append(self.zoom);
if (self.railh) {
railh.css({position:rlpos});
self.body.append(railh);           
}
}
if (cap.isios) self.css(self.win,{'-webkit-tap-highlight-color':'rgba(0,0,0,0)','-webkit-touch-callout':'none'});  // prevent grey layer on click
if (cap.isie&&self.opt.disableoutline) self.win.attr("hideFocus","true");  // IE, prevent dotted rectangle on focused div
if (cap.iswebkit&&self.opt.disableoutline) self.win.css({"outline":"none"});
}
if (self.opt.autohidemode===false) {
self.autohidedom = false;
self.rail.css({opacity:self.opt.cursoropacitymax});          
if (self.railh) self.railh.css({opacity:self.opt.cursoropacitymax});
}
else if ((self.opt.autohidemode===true)||(self.opt.autohidemode==="leave")) {
self.autohidedom = $().add(self.rail);          
if (cap.isie8) self.autohidedom=self.autohidedom.add(self.cursor);
if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);
if (self.railh&&cap.isie8) self.autohidedom=self.autohidedom.add(self.cursorh);
}
else if (self.opt.autohidemode=="scroll") {
self.autohidedom = $().add(self.rail);
if (self.railh) self.autohidedom=self.autohidedom.add(self.railh);
}
else if (self.opt.autohidemode=="cursor") {
self.autohidedom = $().add(self.cursor);
if (self.railh) self.autohidedom=self.autohidedom.add(self.cursorh);
}
else if (self.opt.autohidemode=="hidden") {
self.autohidedom = false;
self.hide();
self.locked = false;
}
if (cap.isie9mobile) {
self.scrollmom = new ScrollMomentumClass2D(self);        
/*
var trace = function(msg) {
var db = $("#debug");
if (isNaN(msg)&&(typeof msg != "string")) {
var x = [];
for(var a in msg) {
x.push(a+":"+msg[a]);
}
msg ="{"+x.join(",")+"}";
}
if (db.children().length>0) {
db.children().eq(0).before("<div>"+msg+"</div>");
} else {
db.append("<div>"+msg+"</div>");
}
}
window.onerror = function(msg,url,ln) {
trace("ERR: "+msg+" at "+ln);
}
*/          
self.onmangotouch = function(e) {
var py = self.getScrollTop();
var px = self.getScrollLeft();
if ((py == self.scrollmom.lastscrolly)&&(px == self.scrollmom.lastscrollx)) return true;
var dfy = py-self.mangotouch.sy;
var dfx = px-self.mangotouch.sx;            
var df = Math.round(Math.sqrt(Math.pow(dfx,2)+Math.pow(dfy,2)));            
if (df==0) return;
var dry = (dfy<0)?-1:1;
var drx = (dfx<0)?-1:1;
var tm = +new Date();
if (self.mangotouch.lazy) clearTimeout(self.mangotouch.lazy);
if (((tm-self.mangotouch.tm)>80)||(self.mangotouch.dry!=dry)||(self.mangotouch.drx!=drx)) {
self.scrollmom.stop();
self.scrollmom.reset(px,py);
self.mangotouch.sy = py;
self.mangotouch.ly = py;
self.mangotouch.sx = px;
self.mangotouch.lx = px;
self.mangotouch.dry = dry;
self.mangotouch.drx = drx;
self.mangotouch.tm = tm;
} else {
self.scrollmom.stop();
self.scrollmom.update(self.mangotouch.sx-dfx,self.mangotouch.sy-dfy);
var gap = tm - self.mangotouch.tm;              
self.mangotouch.tm = tm;
var ds = Math.max(Math.abs(self.mangotouch.ly-py),Math.abs(self.mangotouch.lx-px));
self.mangotouch.ly = py;
self.mangotouch.lx = px;
if (ds>2) {
self.mangotouch.lazy = setTimeout(function(){
self.mangotouch.lazy = false;
self.mangotouch.dry = 0;
self.mangotouch.drx = 0;
self.mangotouch.tm = 0;                  
self.scrollmom.doMomentum(30);
},100);
}
}
};
var top = self.getScrollTop();
var lef = self.getScrollLeft();
self.mangotouch = {sy:top,ly:top,dry:0,sx:lef,lx:lef,drx:0,lazy:false,tm:0};
self.bind(self.docscroll,"scroll",self.onmangotouch);
} else {
if (cap.cantouch||self.istouchcapable||self.opt.touchbehavior||cap.hasmstouch) {
self.scrollmom = new ScrollMomentumClass2D(self);
self.ontouchstart = function(e) {
if (e.pointerType&&e.pointerType!=2) return false;
self.hasmoving = false;
if (!self.locked) {
if (cap.hasmstouch) {
var tg = (e.target) ? e.target : false;
while (tg) {
var nc = $(tg).getNiceScroll();
if ((nc.length>0)&&(nc[0].me == self.me)) break;
if (nc.length>0) return false;
if ((tg.nodeName=='DIV')&&(tg.id==self.id)) break;
tg = (tg.parentNode) ? tg.parentNode : false;
}
}
self.cancelScroll();
var tg = self.getTarget(e);
if (tg) {
var skp = (/INPUT/i.test(tg.nodeName))&&(/range/i.test(tg.type));
if (skp) return self.stopPropagation(e);
}
if (!("clientX" in e) && ("changedTouches" in e)) {
e.clientX = e.changedTouches[0].clientX;
e.clientY = e.changedTouches[0].clientY;
}
if (self.forcescreen) {
var le = e;
var e = {"original":(e.original)?e.original:e};
e.clientX = le.screenX;
e.clientY = le.screenY;    
}
self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:false};
if (self.ispage||!self.opt.directionlockdeadzone) {
self.rail.drag.dl = "f";
} else {
var view = {
w:$(window).width(),
h:$(window).height()
};
var page = {
w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),
h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)
};
var maxh = Math.max(0,page.h - view.h);
var maxw = Math.max(0,page.w - view.w);                
if (!self.rail.scrollable&&self.railh.scrollable) self.rail.drag.ck = (maxh>0) ? "v" : false;
else if (self.rail.scrollable&&!self.railh.scrollable) self.rail.drag.ck = (maxw>0) ? "h" : false;
else self.rail.drag.ck = false;
if (!self.rail.drag.ck) self.rail.drag.dl = "f";
}
if (self.opt.touchbehavior&&self.isiframe&&cap.isie) {
var wp = self.win.position();
self.rail.drag.x+=wp.left;
self.rail.drag.y+=wp.top;
}
self.hasmoving = false;
self.lastmouseup = false;
self.scrollmom.reset(e.clientX,e.clientY);
if (!cap.cantouch&&!this.istouchcapable&&!cap.hasmstouch) {
var ip = (tg)?/INPUT|SELECT|TEXTAREA/i.test(tg.nodeName):false;
if (!ip) {
if (!self.ispage&&cap.hasmousecapture) tg.setCapture();                   
if (self.opt.touchbehavior) {                   
if (tg.onclick&&!(tg._onclick||false)) {  // intercept DOM0 onclick event
tg._onclick = tg.onclick;
tg.onclick = function(e){
if (self.hasmoving) return false;
tg._onclick.call(this,e);
}
}
return self.cancelEvent(e);
}
return self.stopPropagation(e);
}
if (/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr('type'))) {
pc = {"tg":tg,"click":false};
self.preventclick = pc;
}
}
}
};
self.ontouchend = function(e) {
if (e.pointerType&&e.pointerType!=2) return false;
if (self.rail.drag&&(self.rail.drag.pt==2)) {
self.scrollmom.doMomentum();
self.rail.drag = false;
if (self.hasmoving) {                  
self.lastmouseup = true;
self.hideCursor();
if (cap.hasmousecapture) document.releaseCapture();
if (!cap.cantouch) return self.cancelEvent(e);
}                            
}                        
};
var moveneedoffset = (self.opt.touchbehavior&&self.isiframe&&!cap.hasmousecapture);
self.ontouchmove = function(e,byiframe) {
if (e.pointerType&&e.pointerType!=2) return false;
if (self.rail.drag&&(self.rail.drag.pt==2)) {
if (cap.cantouch&&(typeof e.original == "undefined")) return true;  // prevent ios "ghost" events by clickable elements
self.hasmoving = true;
if (self.preventclick&&!self.preventclick.click) {
self.preventclick.click = self.preventclick.tg.onclick||false;                
self.preventclick.tg.onclick = self.onpreventclick;
}
var ev = $.extend({"original":e},e);
e = ev;
if (("changedTouches" in e)) {
e.clientX = e.changedTouches[0].clientX;
e.clientY = e.changedTouches[0].clientY;
}                
if (self.forcescreen) {
var le = e;
var e = {"original":(e.original)?e.original:e};
e.clientX = le.screenX;
e.clientY = le.screenY;      
}
var ofx = ofy = 0;
if (moveneedoffset&&!byiframe) {
var wp = self.win.position();
ofx=-wp.left;
ofy=-wp.top;
}                
var fy = e.clientY + ofy;
var my = (fy-self.rail.drag.y);
var fx = e.clientX + ofx;
var mx = (fx-self.rail.drag.x);
var ny = self.rail.drag.st-my;
if (self.ishwscroll&&self.opt.bouncescroll) {
if (ny<0) {
ny = Math.round(ny/2);
}
else if (ny>self.page.maxh) {
ny = self.page.maxh+Math.round((ny-self.page.maxh)/2);
}
} else {
if (ny<0) {ny=0;fy=0}
if (ny>self.page.maxh) {ny=self.page.maxh;fy=0}
}
if (self.railh&&self.railh.scrollable) {
var nx = self.rail.drag.sl-mx;; //(self.isrtlmode) ? mx-self.rail.drag.sl : self.rail.drag.sl-mx;
if (self.ishwscroll&&self.opt.bouncescroll) {                  
if (nx<0) {
nx = Math.round(nx/2);
}
else if (nx>self.page.maxw) {
nx = self.page.maxw+Math.round((nx-self.page.maxw)/2);
}
} else {
if (nx<0) {nx=0;fx=0}
if (nx>self.page.maxw) {nx=self.page.maxw;fx=0}
}
}
var grabbed = false;
if (self.rail.drag.dl) {
grabbed = true;
if (self.rail.drag.dl=="v") nx = self.rail.drag.sl;
else if (self.rail.drag.dl=="h") ny = self.rail.drag.st;                  
} else {
var ay = Math.abs(my);
var ax = Math.abs(mx);
var dz = self.opt.directionlockdeadzone;
if (self.rail.drag.ck=="v") {    
if (ay>dz&&(ax<=(ay*0.3))) {
self.rail.drag = false;                      
return true;
}
else if (ax>dz) {
self.rail.drag.dl="f";                      
$("body").scrollTop($("body").scrollTop());  // stop iOS native scrolling (when active javascript has blocked)
}
}
else if (self.rail.drag.ck=="h") {
if (ax>dz&&(ay<=(ax*0.3))) {
self.rail.drag = false;                      
return true;
}
else if (ay>dz) {                      
self.rail.drag.dl="f";
$("body").scrollLeft($("body").scrollLeft());  // stop iOS native scrolling (when active javascript has blocked)
}
}  
}
self.synched("touchmove",function(){
if (self.rail.drag&&(self.rail.drag.pt==2)) {
if (self.prepareTransition) self.prepareTransition(0);
if (self.rail.scrollable) self.setScrollTop(ny);
self.scrollmom.update(fx,fy);
if (self.railh&&self.railh.scrollable) {
self.setScrollLeft(nx);
self.showCursor(ny,nx);
} else {
self.showCursor(ny);
}
if (cap.isie10) document.selection.clear();
}
});
if (cap.ischrome&&self.istouchcapable) grabbed=false;  //chrome touch emulation doesn't like!
if (grabbed) return self.cancelEvent(e);
}
};
}
self.onmousedown = function(e,hronly) {    
if (self.rail.drag&&self.rail.drag.pt!=1) return;
if (self.locked) return self.cancelEvent(e);            
self.cancelScroll();              
self.rail.drag = {x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:(!!hronly)};
var tg = self.getTarget(e);
if (!self.ispage&&cap.hasmousecapture) tg.setCapture();
if (self.isiframe&&!cap.hasmousecapture) {
self.saved["csspointerevents"] = self.doc.css("pointer-events");
self.css(self.doc,{"pointer-events":"none"});
}
self.hasmoving=false;
return self.cancelEvent(e);
};
self.onmouseup = function(e) {
if (self.rail.drag) {
if (cap.hasmousecapture) document.releaseCapture();
if (self.isiframe&&!cap.hasmousecapture) self.doc.css("pointer-events",self.saved["csspointerevents"]);
if(self.rail.drag.pt!=1)return;
self.rail.drag = false;
if (self.hasmoving) self.triggerScrollEnd();  // TODO - check &&!self.scrollrunning
return self.cancelEvent(e);
}
};        
self.onmousemove = function(e) {
if (self.rail.drag) {
if(self.rail.drag.pt!=1)return;
if (cap.ischrome&&e.which==0) return self.onmouseup(e);
self.cursorfreezed = true;
self.hasmoving = true;
if (self.rail.drag.hr) {
self.scroll.x = self.rail.drag.sx + (e.clientX-self.rail.drag.x);
if (self.scroll.x<0) self.scroll.x=0;
var mw = self.scrollvaluemaxw;
if (self.scroll.x>mw) self.scroll.x=mw;
} else {                
self.scroll.y = self.rail.drag.sy + (e.clientY-self.rail.drag.y);
if (self.scroll.y<0) self.scroll.y=0;
var my = self.scrollvaluemax;
if (self.scroll.y>my) self.scroll.y=my;
}
self.synched('mousemove',function(){
if (self.rail.drag&&(self.rail.drag.pt==1)) {
self.showCursor();
if (self.rail.drag.hr) self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed);
else self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),self.opt.cursordragspeed);
}
});
return self.cancelEvent(e);
} 
/*              
else {
self.checkarea = true;
}
*/              
};          
if (cap.cantouch||self.opt.touchbehavior) {
self.onpreventclick = function(e) {
if (self.preventclick) {
self.preventclick.tg.onclick = self.preventclick.click;
self.preventclick = false;            
return self.cancelEvent(e);
}
}
self.bind(self.win,"mousedown",self.ontouchstart);  // control content dragging
self.onclick = (cap.isios) ? false : function(e) { 
if (self.lastmouseup) {
self.lastmouseup = false;
return self.cancelEvent(e);
} else {
return true;
}
}; 
if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) {
self.css((self.ispage)?self.doc:self.win,{'cursor':cap.cursorgrabvalue});            
self.css(self.rail,{'cursor':cap.cursorgrabvalue});
}
} else {
function checkSelectionScroll(e) {
if (!self.selectiondrag) return;
if (e) {
var ww = self.win.outerHeight();
var df = (e.pageY - self.selectiondrag.top);
if (df>0&&df<ww) df=0;
if (df>=ww) df-=ww;
self.selectiondrag.df = df;                
}
if (self.selectiondrag.df==0) return;
var rt = -Math.floor(self.selectiondrag.df/6)*2;              
self.doScrollBy(rt);
self.debounced("doselectionscroll",function(){checkSelectionScroll()},50);
};
if ("getSelection" in document) {  // A grade - Major browsers
self.hasTextSelected = function() {  
return (document.getSelection().rangeCount>0);
};
} 
else if ("selection" in document) {  //IE9-
self.hasTextSelected = function() {
return (document.selection.type != "None");
};
} 
else {
self.hasTextSelected = function() {  // no support
return false;
};
}            
self.onselectionstart = function(e) {
if (self.ispage) return;
self.selectiondrag = self.win.offset();
};
self.onselectionend = function(e) {
self.selectiondrag = false;
};
self.onselectiondrag = function(e) {              
if (!self.selectiondrag) return;
if (self.hasTextSelected()) self.debounced("selectionscroll",function(){checkSelectionScroll(e)},250);
};
}
if (cap.hasmstouch) {
self.css(self.rail,{'-ms-touch-action':'none'});
self.css(self.cursor,{'-ms-touch-action':'none'});
self.bind(self.win,"MSPointerDown",self.ontouchstart);
self.bind(document,"MSPointerUp",self.ontouchend);
self.bind(document,"MSPointerMove",self.ontouchmove);
self.bind(self.cursor,"MSGestureHold",function(e){e.preventDefault()});
self.bind(self.cursor,"contextmenu",function(e){e.preventDefault()});
}
if (this.istouchcapable) {  //desktop with screen touch enabled
self.bind(self.win,"touchstart",self.ontouchstart);
self.bind(document,"touchend",self.ontouchend);
self.bind(document,"touchcancel",self.ontouchend);
self.bind(document,"touchmove",self.ontouchmove);            
}
self.bind(self.cursor,"mousedown",self.onmousedown);
self.bind(self.cursor,"mouseup",self.onmouseup);
if (self.railh) {
self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,true)});
self.bind(self.cursorh,"mouseup",self.onmouseup);
/*            
self.bind(self.cursorh,"mouseup",function(e){
if (self.rail.drag&&self.rail.drag.pt==2) return;
self.rail.drag = false;
self.hasmoving = false;
self.hideCursor();
if (cap.hasmousecapture) document.releaseCapture();
return self.cancelEvent(e);
});
*/
}
if (self.opt.cursordragontouch||!cap.cantouch&&!self.opt.touchbehavior) {
self.rail.css({"cursor":"default"});
self.railh&&self.railh.css({"cursor":"default"});          
self.jqbind(self.rail,"mouseenter",function() {
if (!self.win.is(":visible")) return false;
if (self.canshowonmouseevent) self.showCursor();
self.rail.active = true;
});
self.jqbind(self.rail,"mouseleave",function() { 
self.rail.active = false;
if (!self.rail.drag) self.hideCursor();
});
if (self.opt.sensitiverail) {
self.bind(self.rail,"click",function(e){self.doRailClick(e,false,false)});
self.bind(self.rail,"dblclick",function(e){self.doRailClick(e,true,false)});
self.bind(self.cursor,"click",function(e){self.cancelEvent(e)});
self.bind(self.cursor,"dblclick",function(e){self.cancelEvent(e)});
}
if (self.railh) {
self.jqbind(self.railh,"mouseenter",function() {
if (!self.win.is(":visible")) return false;
if (self.canshowonmouseevent) self.showCursor();
self.rail.active = true;
});          
self.jqbind(self.railh,"mouseleave",function() { 
self.rail.active = false;
if (!self.rail.drag) self.hideCursor();
});
if (self.opt.sensitiverail) {
self.bind(self.railh, "click", function(e){self.doRailClick(e,false,true)});
self.bind(self.railh, "dblclick", function(e){self.doRailClick(e, true, true) });
self.bind(self.cursorh, "click", function (e) { self.cancelEvent(e) });
self.bind(self.cursorh, "dblclick", function (e) { self.cancelEvent(e) });
}
}
}
if (!cap.cantouch&&!self.opt.touchbehavior) {
self.bind((cap.hasmousecapture)?self.win:document,"mouseup",self.onmouseup);            
self.bind(document,"mousemove",self.onmousemove);
if (self.onclick) self.bind(document,"click",self.onclick);
if (!self.ispage&&self.opt.enablescrollonselection) {
self.bind(self.win[0],"mousedown",self.onselectionstart);
self.bind(document,"mouseup",self.onselectionend);
self.bind(self.cursor,"mouseup",self.onselectionend);
if (self.cursorh) self.bind(self.cursorh,"mouseup",self.onselectionend);
self.bind(document,"mousemove",self.onselectiondrag);
}
if (self.zoom) {
self.jqbind(self.zoom,"mouseenter",function() {
if (self.canshowonmouseevent) self.showCursor();
self.rail.active = true;
});          
self.jqbind(self.zoom,"mouseleave",function() { 
self.rail.active = false;
if (!self.rail.drag) self.hideCursor();
});
}
} else {
self.bind((cap.hasmousecapture)?self.win:document,"mouseup",self.ontouchend);
self.bind(document,"mousemove",self.ontouchmove);
if (self.onclick) self.bind(document,"click",self.onclick);
if (self.opt.cursordragontouch) {
self.bind(self.cursor,"mousedown",self.onmousedown);
self.bind(self.cursor,"mousemove",self.onmousemove);
self.cursorh&&self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,true)});
self.cursorh&&self.bind(self.cursorh,"mousemove",self.onmousemove);
}
}
if (self.opt.enablemousewheel) {
if (!self.isiframe) self.bind((cap.isie&&self.ispage) ? document : self.win /*self.docscroll*/ ,"mousewheel",self.onmousewheel);
self.bind(self.rail,"mousewheel",self.onmousewheel);
if (self.railh) self.bind(self.railh,"mousewheel",self.onmousewheelhr);
}           
if (!self.ispage&&!cap.cantouch&&!(/HTML|^BODY/.test(self.win[0].nodeName))) {
if (!self.win.attr("tabindex")) self.win.attr({"tabindex":tabindexcounter++});
self.jqbind(self.win,"focus",function(e) {
domfocus = (self.getTarget(e)).id||true;
self.hasfocus = true;
if (self.canshowonmouseevent) self.noticeCursor();
});
self.jqbind(self.win,"blur",function(e) {
domfocus = false;
self.hasfocus = false;
});
self.jqbind(self.win,"mouseenter",function(e) {
mousefocus = (self.getTarget(e)).id||true;
self.hasmousefocus = true;
if (self.canshowonmouseevent) self.noticeCursor();
});
self.jqbind(self.win,"mouseleave",function() {
mousefocus = false;
self.hasmousefocus = false;
if (!self.rail.drag) self.hideCursor();
});
};
}  // !ie9mobile
self.onkeypress = function(e) {
if (self.locked&&self.page.maxh==0) return true;
e = (e) ? e : window.e;
var tg = self.getTarget(e);
if (tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)) {
var tp = tg.getAttribute('type')||tg.type||false;            
if ((!tp)||!(/submit|button|cancel/i.tp)) return true;
}
if ($(tg).attr('contenteditable')) return true;
if (self.hasfocus||(self.hasmousefocus&&!domfocus)||(self.ispage&&!domfocus&&!mousefocus)) {
var key = e.keyCode;
if (self.locked&&key!=27) return self.cancelEvent(e);
var ctrl = e.ctrlKey||false;
var shift = e.shiftKey || false;
var ret = false;
switch (key) {
case 38:
case 63233: //safari
self.doScrollBy(24*3);
ret = true;
break;
case 40:
case 63235: //safari
self.doScrollBy(-24*3);
ret = true;
break;
case 37:
case 63232: //safari
if (self.railh) {
(ctrl) ? self.doScrollLeft(0) : self.doScrollLeftBy(24*3);
ret = true;
}
break;
case 39:
case 63234: //safari
if (self.railh) {
(ctrl) ? self.doScrollLeft(self.page.maxw) : self.doScrollLeftBy(-24*3);
ret = true;
}
break;
case 33:
case 63276: // safari
self.doScrollBy(self.view.h);
ret = true;
break;
case 34:
case 63277: // safari
self.doScrollBy(-self.view.h);
ret = true;
break;
case 36:
case 63273: // safari                
(self.railh&&ctrl) ? self.doScrollPos(0,0) : self.doScrollTo(0);
ret = true;
break;
case 35:
case 63275: // safari
(self.railh&&ctrl) ? self.doScrollPos(self.page.maxw,self.page.maxh) : self.doScrollTo(self.page.maxh);
ret = true;
break;
case 32:
if (self.opt.spacebarenabled) {
(shift) ? self.doScrollBy(self.view.h) : self.doScrollBy(-self.view.h);
ret = true;
}
break;
case 27: // ESC
if (self.zoomactive) {
self.doZoom();
ret = true;
}
break;
}
if (ret) return self.cancelEvent(e);
}
};
if (self.opt.enablekeyboard) self.bind(document,(cap.isopera&&!cap.isopera12)?"keypress":"keydown",self.onkeypress);
self.bind(document,"keydown",function(e){
var ctrl = e.ctrlKey||false;
if (ctrl) self.wheelprevented = true;
});
self.bind(document,"keyup",function(e){
var ctrl = e.ctrlKey||false;
if (!ctrl) self.wheelprevented = false;
});
self.bind(window,'resize',self.lazyResize);
self.bind(window,'orientationchange',self.lazyResize);
self.bind(window,"load",self.lazyResize);
if (cap.ischrome&&!self.ispage&&!self.haswrapper) { //chrome void scrollbar bug - it persists in version 26
var tmp=self.win.attr("style");
var ww = parseFloat(self.win.css("width"))+1;
self.win.css('width',ww);
self.synched("chromefix",function(){self.win.attr("style",tmp)});
}
self.onAttributeChange = function(e) {
self.lazyResize(250);
};
if (!self.ispage&&!self.haswrapper) {
if (clsMutationObserver !== false) {
self.observer = new clsMutationObserver(function(mutations) {            
mutations.forEach(self.onAttributeChange);
});
self.observer.observe(self.win[0],{childList: true, characterData: false, attributes: true, subtree: false});
self.observerremover = new clsMutationObserver(function(mutations) {
mutations.forEach(function(mo){
if (mo.removedNodes.length>0) {
for (var dd in mo.removedNodes) {
if (mo.removedNodes[dd]==self.win[0]) return self.remove();
}
}
});
});
self.observerremover.observe(self.win[0].parentNode,{childList: true, characterData: false, attributes: false, subtree: false});
} else {        
self.bind(self.win,(cap.isie&&!cap.isie9)?"propertychange":"DOMAttrModified",self.onAttributeChange);            
if (cap.isie9) self.win[0].attachEvent("onpropertychange",self.onAttributeChange); //IE9 DOMAttrModified bug
self.bind(self.win,"DOMNodeRemoved",function(e){
if (e.target==self.win[0]) self.remove();
});
}
}
if (!self.ispage&&self.opt.boxzoom) self.bind(window,"resize",self.resizeZoom);
if (self.istextarea) self.bind(self.win,"mouseup",self.lazyResize);
self.lazyResize(30);
}
if (this.doc[0].nodeName == 'IFRAME') {
function oniframeload(e) {
self.iframexd = false;
try {
var doc = 'contentDocument' in this ? this.contentDocument : this.contentWindow.document;
var a = doc.domain;            
} catch(e){self.iframexd = true;doc=false};
if (self.iframexd) {
if ("console" in window) console.log('NiceScroll error: policy restriced iframe');
return true;  //cross-domain - I can't manage this        
}
self.forcescreen = true;
if (self.isiframe) {            
self.iframe = {
"doc":$(doc),
"html":self.doc.contents().find('html')[0],
"body":self.doc.contents().find('body')[0]
};
self.getContentSize = function(){
return {
w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),
h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)
};
};            
self.docscroll = $(self.iframe.body);//$(this.contentWindow);
}
if (!cap.isios&&self.opt.iframeautoresize&&!self.isiframe) {
self.win.scrollTop(0); // reset position
self.doc.height("");  //reset height to fix browser bug
var hh=Math.max(doc.getElementsByTagName('html')[0].scrollHeight,doc.body.scrollHeight);
self.doc.height(hh);          
}
self.lazyResize(30);
if (cap.isie7) self.css($(self.iframe.html),{'overflow-y':'hidden'});
self.css($(self.iframe.body),{'overflow-y':'hidden'});
if (cap.isios&&self.haswrapper) {
self.css($(doc.body),{'-webkit-transform':'translate3d(0,0,0)'});  // avoid iFrame content clipping - thanks to http://blog.derraab.com/2012/04/02/avoid-iframe-content-clipping-with-css-transform-on-ios/
}
if ('contentWindow' in this) {
self.bind(this.contentWindow,"scroll",self.onscroll);  //IE8 & minor
} else {          
self.bind(doc,"scroll",self.onscroll);
}                    
if (self.opt.enablemousewheel) {
self.bind(doc,"mousewheel",self.onmousewheel);
}
if (self.opt.enablekeyboard) self.bind(doc,(cap.isopera)?"keypress":"keydown",self.onkeypress);
if (cap.cantouch||self.opt.touchbehavior) {
self.bind(doc,"mousedown",self.ontouchstart);
self.bind(doc,"mousemove",function(e){self.ontouchmove(e,true)});
if (self.opt.grabcursorenabled&&cap.cursorgrabvalue) self.css($(doc.body),{'cursor':cap.cursorgrabvalue});
}
self.bind(doc,"mouseup",self.ontouchend);
if (self.zoom) {
if (self.opt.dblclickzoom) self.bind(doc,'dblclick',self.doZoom);
if (self.ongesturezoom) self.bind(doc,"gestureend",self.ongesturezoom);             
}
};
if (this.doc[0].readyState&&this.doc[0].readyState=="complete"){
setTimeout(function(){oniframeload.call(self.doc[0],false)},500);
}
self.bind(this.doc,"load",oniframeload);
}
};
this.showCursor = function(py,px) {
if (self.cursortimeout) {
clearTimeout(self.cursortimeout);
self.cursortimeout = 0;
}
if (!self.rail) return;
if (self.autohidedom) {
self.autohidedom.stop().css({opacity:self.opt.cursoropacitymax});
self.cursoractive = true;
}
if (!self.rail.drag||self.rail.drag.pt!=1) {      
if ((typeof py != "undefined")&&(py!==false)) {
self.scroll.y = Math.round(py * 1/self.scrollratio.y);
}
if (typeof px != "undefined") {
self.scroll.x = Math.round(px * 1/self.scrollratio.x);  //-cxscrollleft * Math.round(px * 1/self.scrollratio.x);
}
}
self.cursor.css({height:self.cursorheight,top:self.scroll.y}); 
if (self.cursorh) {
(!self.rail.align&&self.rail.visibility) ? self.cursorh.css({width:self.cursorwidth,left:self.scroll.x+self.rail.width}) : self.cursorh.css({width:self.cursorwidth,left:self.scroll.x});
self.cursoractive = true;
}
if (self.zoom) self.zoom.stop().css({opacity:self.opt.cursoropacitymax});      
};
this.hideCursor = function(tm) {
if (self.cursortimeout) return;
if (!self.rail) return;
if (!self.autohidedom) return;
if (self.hasmousefocus&&self.opt.autohidemode=="leave") return;
self.cursortimeout = setTimeout(function() {
if (!self.rail.active||!self.showonmouseevent) {          
self.autohidedom.stop().animate({opacity:self.opt.cursoropacitymin});
if (self.zoom) self.zoom.stop().animate({opacity:self.opt.cursoropacitymin});
self.cursoractive = false;
}
self.cursortimeout = 0;
},tm||self.opt.hidecursordelay);
};
this.noticeCursor = function(tm,py,px) {
self.showCursor(py,px);
if (!self.rail.active) self.hideCursor(tm);
};
this.getContentSize = 
(self.ispage) ?
function(){
return {
w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),
h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)
}
}
: (self.haswrapper) ?
function(){
return {
w:self.doc.outerWidth()+parseInt(self.win.css('paddingLeft'))+parseInt(self.win.css('paddingRight')),
h:self.doc.outerHeight()+parseInt(self.win.css('paddingTop'))+parseInt(self.win.css('paddingBottom'))
}
}
: function() {        
return {
w:self.docscroll[0].scrollWidth,
h:self.docscroll[0].scrollHeight
}
};
this.onResize = function(e,page) {
if (!self||!self.win) return false;
if (!self.haswrapper&&!self.ispage) {
if (self.win.css('display')=='none') {
if (self.visibility) self.hideRail().hideRailHr();
return false;
} else {          
if (!self.hidden&&!self.visibility) self.showRail().showRailHr();
}        
}
var premaxh = self.page.maxh;
var premaxw = self.page.maxw;
var preview = {h:self.view.h,w:self.view.w};   
self.view = {
w:(self.ispage) ? self.win.width() : parseInt(self.win[0].clientWidth),
h:(self.ispage) ? self.win.height() : parseInt(self.win[0].clientHeight)
};
self.page = (page) ? page : self.getContentSize();
self.page.maxh = Math.max(0,self.page.h - self.view.h);
self.page.maxw = Math.max(0,self.page.w - self.view.w);
if ((self.page.maxh==premaxh)&&(self.page.maxw==premaxw)&&(self.view.w==preview.w)) {
if (!self.ispage) {
var pos = self.win.offset();
if (self.lastposition) {
var lst = self.lastposition;
if ((lst.top==pos.top)&&(lst.left==pos.left)) return self; //nothing to do            
}
self.lastposition = pos;
} else {
return self; //nothing to do
}
}
if (self.page.maxh==0) {
self.hideRail();        
self.scrollvaluemax = 0;
self.scroll.y = 0;
self.scrollratio.y = 0;
self.cursorheight = 0;
self.setScrollTop(0);
self.rail.scrollable = false;
} else {       
self.rail.scrollable = true;
}
if (self.page.maxw==0) {
self.hideRailHr();
self.scrollvaluemaxw = 0;
self.scroll.x = 0;
self.scrollratio.x = 0;
self.cursorwidth = 0;
self.setScrollLeft(0);
self.railh.scrollable = false;
} else {        
self.railh.scrollable = true;
}
self.locked = (self.page.maxh==0)&&(self.page.maxw==0);
if (self.locked) {
if (!self.ispage) self.updateScrollBar(self.view);
return false;
}
if (!self.hidden&&!self.visibility) {
self.showRail().showRailHr();
}      
else if (!self.hidden&&!self.railh.visibility) self.showRailHr();
if (self.istextarea&&self.win.css('resize')&&self.win.css('resize')!='none') self.view.h-=20;      
self.cursorheight = Math.min(self.view.h,Math.round(self.view.h * (self.view.h / self.page.h)));
self.cursorheight = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorheight);
self.cursorwidth = Math.min(self.view.w,Math.round(self.view.w * (self.view.w / self.page.w)));
self.cursorwidth = (self.opt.cursorfixedheight) ? self.opt.cursorfixedheight : Math.max(self.opt.cursorminheight,self.cursorwidth-self.opt.railhpadding['left']-self.opt.railhpadding['right']);
self.scrollvaluemax = self.view.h-self.cursorheight-self.cursor.hborder-self.opt.railpadding['top']-self.opt.railpadding['bottom']-self.opt.railmargin['top']-self.opt.railmargin['bottom'];
if (self.railh) {
self.railh.width = (self.page.maxh>0) ? (self.view.w-self.rail.width) : self.view.w;
self.scrollvaluemaxw = self.railh.width-self.cursorwidth-self.cursorh.wborder-self.opt.railhpadding['left']-self.opt.railhpadding['right']-self.opt.railhmargin['left']-self.opt.railhmargin['right'];
}
/*      
if (self.checkrtlmode&&self.railh) {
self.checkrtlmode = false;
if (self.opt.rtlmode&&self.scroll.x==0) self.setScrollLeft(self.page.maxw);
}
*/      
if (!self.ispage) self.updateScrollBar(self.view);
self.scrollratio = {
x:(self.page.maxw/self.scrollvaluemaxw),
y:(self.page.maxh/self.scrollvaluemax)
};
var sy = self.getScrollTop();
if (sy>Math.abs(self.page.maxh)) {
self.doScrollTop(self.page.maxh);
} else {     
self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));
self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));
if (self.cursoractive) self.noticeCursor();     
}      
if (self.scroll.y&&(self.getScrollTop()==0)) self.doScrollTo(Math.floor(self.scroll.y*self.scrollratio.y));
return self;
};
this.resize = self.onResize;
this.lazyResize = function(tm) {   // event debounce
tm = (isNaN(tm)) ? 30 : tm;
self.delayed('resize',self.resize,tm);
return self;
};
function _modernWheelEvent(dom,name,fn,bubble) {      
self._bind(dom,name,function(e){
var  e = (e) ? e : window.event;
var event = {
original: e,
target: e.target || e.srcElement,
type: "wheel",
deltaMode: e.type == "MozMousePixelScroll" ? 0 : 1,
deltaX: 0,
deltaZ: 0,
preventDefault: function() {
e.preventDefault ? e.preventDefault() : e.returnValue = false;
return false;
},
stopImmediatePropagation: function() {
(e.stopImmediatePropagation) ? e.stopImmediatePropagation() : e.cancelBubble = true;
}
};
if (name=="mousewheel") {
event.deltaY = - 1/40 * e.wheelDelta;
e.wheelDeltaX && (event.deltaX = - 1/40 * e.wheelDeltaX);
} else {
event.deltaY = e.detail;
}
return fn.call(dom,event);      
},bubble);
};     
this._bind = function(el,name,fn,bubble) {  // primitive bind
self.events.push({e:el,n:name,f:fn,b:bubble,q:false});
if (el.addEventListener) {
el.addEventListener(name,fn,bubble||false);
}
else if (el.attachEvent) {
el.attachEvent("on"+name,fn);
}
else {
el["on"+name] = fn;        
}        
};
this.jqbind = function(dom,name,fn) {  // use jquery bind for non-native events (mouseenter/mouseleave)
self.events.push({e:dom,n:name,f:fn,q:true});
$(dom).bind(name,fn);
};
this.bind = function(dom,name,fn,bubble) {  // touch-oriented & fixing jquery bind
var el = ("jquery" in dom) ? dom[0] : dom;
if (name=='mousewheel') {
if ("onwheel" in self.win) {            
self._bind(el,"wheel",fn,bubble||false);
} else {            
var wname = (typeof document.onmousewheel != "undefined") ? "mousewheel" : "DOMMouseScroll";  // older IE/Firefox
_modernWheelEvent(el,wname,fn,bubble||false);
if (wname=="DOMMouseScroll") _modernWheelEvent(el,"MozMousePixelScroll",fn,bubble||false);  // Firefox legacy
}
} 
else if (el.addEventListener) {
if (cap.cantouch && /mouseup|mousedown|mousemove/.test(name)) {  // touch device support
var tt=(name=='mousedown')?'touchstart':(name=='mouseup')?'touchend':'touchmove';
self._bind(el,tt,function(e){
if (e.touches) {
if (e.touches.length<2) {var ev=(e.touches.length)?e.touches[0]:e;ev.original=e;fn.call(this,ev);}
} 
else if (e.changedTouches) {var ev=e.changedTouches[0];ev.original=e;fn.call(this,ev);}  //blackberry
},bubble||false);
}
self._bind(el,name,fn,bubble||false);
if (cap.cantouch && name=="mouseup") self._bind(el,"touchcancel",fn,bubble||false);
}
else {
self._bind(el,name,function(e) {
e = e||window.event||false;
if (e) {
if (e.srcElement) e.target=e.srcElement;
}
if (!("pageY" in e)) {
e.pageX = e.clientX + document.documentElement.scrollLeft;
e.pageY = e.clientY + document.documentElement.scrollTop; 
}
return ((fn.call(el,e)===false)||bubble===false) ? self.cancelEvent(e) : true;
});
} 
};
this._unbind = function(el,name,fn,bub) {  // primitive unbind
if (el.removeEventListener) {
el.removeEventListener(name,fn,bub);
}
else if (el.detachEvent) {
el.detachEvent('on'+name,fn);
} else {
el['on'+name] = false;
}
};
this.unbindAll = function() {
for(var a=0;a<self.events.length;a++) {
var r = self.events[a];        
(r.q) ? r.e.unbind(r.n,r.f) : self._unbind(r.e,r.n,r.f,r.b);
}
};
this.cancelEvent = function(e) {
var e = (e.original) ? e.original : (e) ? e : window.event||false;
if (!e) return false;      
if(e.preventDefault) e.preventDefault();
if(e.stopPropagation) e.stopPropagation();
if(e.preventManipulation) e.preventManipulation();  //IE10
e.cancelBubble = true;
e.cancel = true;
e.returnValue = false;
return false;
};
this.stopPropagation = function(e) {
var e = (e.original) ? e.original : (e) ? e : window.event||false;
if (!e) return false;
if (e.stopPropagation) return e.stopPropagation();
if (e.cancelBubble) e.cancelBubble=true;
return false;
};
this.showRail = function() {
if ((self.page.maxh!=0)&&(self.ispage||self.win.css('display')!='none')) {
self.visibility = true;
self.rail.visibility = true;
self.rail.css('display','block');
}
return self;
};
this.showRailHr = function() {
if (!self.railh) return self;
if ((self.page.maxw!=0)&&(self.ispage||self.win.css('display')!='none')) {
self.railh.visibility = true;
self.railh.css('display','block');
}
return self;
};
this.hideRail = function() {
self.visibility = false;
self.rail.visibility = false;
self.rail.css('display','none');
return self;
};
this.hideRailHr = function() {
if (!self.railh) return self;
self.railh.visibility = false;
self.railh.css('display','none');
return self;
};
this.show = function() {
self.hidden = false;
self.locked = false;
return self.showRail().showRailHr();
};
this.hide = function() {
self.hidden = true;
self.locked = true;
return self.hideRail().hideRailHr();
};
this.toggle = function() {
return (self.hidden) ? self.show() : self.hide();
};
this.remove = function() {
self.stop();
if (self.cursortimeout) clearTimeout(self.cursortimeout);
self.doZoomOut();
self.unbindAll();     
if (cap.isie9) self.win[0].detachEvent("onpropertychange",self.onAttributeChange); //IE9 DOMAttrModified bug
if (self.observer !== false) self.observer.disconnect();
if (self.observerremover !== false) self.observerremover.disconnect();      
self.events = null;
if (self.cursor) {
self.cursor.remove();
}
if (self.cursorh) {
self.cursorh.remove();
}
if (self.rail) {
self.rail.remove();
}
if (self.railh) {
self.railh.remove();
}
if (self.zoom) {
self.zoom.remove();
}
for(var a=0;a<self.saved.css.length;a++) {
var d=self.saved.css[a];
d[0].css(d[1],(typeof d[2]=="undefined") ? '' : d[2]);
}
self.saved = false;      
self.me.data('__nicescroll',''); //erase all traces
var lst = $.nicescroll;
lst.each(function(i){
if (!this) return;
if(this.id === self.id) {
delete lst[i];          
for(var b=++i;b<lst.length;b++,i++) lst[i]=lst[b];
lst.length--;
if (lst.length) delete lst[lst.length];
}
});      
for (var i in self) {
self[i] = null;
delete self[i];
}
self = null;
};
this.scrollstart = function(fn) {
this.onscrollstart = fn;
return self;
};
this.scrollend = function(fn) {
this.onscrollend = fn;
return self;
};
this.scrollcancel = function(fn) {
this.onscrollcancel = fn;
return self;
};
this.zoomin = function(fn) {
this.onzoomin = fn;
return self;
};
this.zoomout = function(fn) {
this.onzoomout = fn;
return self;
};
this.isScrollable = function(e) {      
var dom = (e.target) ? e.target : e;
if (dom.nodeName == 'OPTION') return true;
while (dom&&(dom.nodeType==1)&&!(/^BODY|HTML/.test(dom.nodeName))) {
var dd = $(dom);
var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';
if (/scroll|auto/.test(ov)) return (dom.clientHeight!=dom.scrollHeight);
dom = (dom.parentNode) ? dom.parentNode : false;        
}
return false;
};
this.getViewport = function(me) {      
var dom = (me&&me.parentNode) ? me.parentNode : false;
while (dom&&(dom.nodeType==1)&&!(/^BODY|HTML/.test(dom.nodeName))) {
var dd = $(dom);
if (/fixed|absolute/.test(dd.css("position"))) return dd;        
var ov = dd.css('overflowY')||dd.css('overflowX')||dd.css('overflow')||'';
if ((/scroll|auto/.test(ov))&&(dom.clientHeight!=dom.scrollHeight)) return dd;
if (dd.getNiceScroll().length>0) return dd;
dom = (dom.parentNode) ? dom.parentNode : false;
}
return (dom) ? $(dom) : false;
};
this.triggerScrollEnd = function() {
if (!self.onscrollend) return;
var px = self.getScrollLeft();
var py = self.getScrollTop();
var info = {"type":"scrollend","current":{"x":px,"y":py},"end":{"x":px,"y":py}};
self.onscrollend.call(self,info);   
}
function execScrollWheel(e,hr,chkscroll) {
var px,py;
var rt = 1;
if (e.deltaMode==0) {  // PIXEL
px = -Math.floor(e.deltaX*(self.opt.mousescrollstep/(18*3)));
py = -Math.floor(e.deltaY*(self.opt.mousescrollstep/(18*3)));
}
else if (e.deltaMode==1) {  // LINE
px = -Math.floor(e.deltaX*self.opt.mousescrollstep);
py = -Math.floor(e.deltaY*self.opt.mousescrollstep);
}
if (hr&&self.opt.oneaxismousemode&&(px==0)&&py) {  // classic vertical-only mousewheel + browser with x/y support 
px = py;
py = 0;
}
if (px) {
if (self.scrollmom) {self.scrollmom.stop()}
self.lastdeltax+=px;
self.debounced("mousewheelx",function(){var dt=self.lastdeltax;self.lastdeltax=0;if(!self.rail.drag){self.doScrollLeftBy(dt)}},15);
}
if (py) {
if (self.opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive) {
if (py<0) {
if (self.getScrollTop()>=self.page.maxh) return true;
} else {
if (self.getScrollTop()<=0) return true;
}
}
if (self.scrollmom) {self.scrollmom.stop()}
self.lastdeltay+=py;
self.debounced("mousewheely",function(){var dt=self.lastdeltay;self.lastdeltay=0;if(!self.rail.drag){self.doScrollBy(dt)}},15);
}
e.stopImmediatePropagation();
return e.preventDefault();
};
this.onmousewheel = function(e) {          
if (self.wheelprevented) return;
if (self.locked) {
self.debounced("checkunlock",self.resize,250);
return true;
}
if (self.rail.drag) return self.cancelEvent(e);
if (self.opt.oneaxismousemode=="auto"&&e.deltaX!=0) self.opt.oneaxismousemode = false;  // check two-axis mouse support (not very elegant)
if (self.opt.oneaxismousemode&&e.deltaX==0) {
if (!self.rail.scrollable) {
if (self.railh&&self.railh.scrollable) {
return self.onmousewheelhr(e);
} else {          
return true;
}
}
}
var nw = +(new Date());
var chk = false;
if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {
self.nativescrollingarea = self.isScrollable(e);
chk = true;
}
self.checkarea = nw;
if (self.nativescrollingarea) return true; // this isn't my business
var ret = execScrollWheel(e,false,chk);
if (ret) self.checkarea = 0;
return ret;
};
this.onmousewheelhr = function(e) {
if (self.wheelprevented) return;
if (self.locked||!self.railh.scrollable) return true;
if (self.rail.drag) return self.cancelEvent(e);
var nw = +(new Date());
var chk = false;
if (self.opt.preservenativescrolling&&((self.checkarea+600)<nw)) {
self.nativescrollingarea = self.isScrollable(e); 
chk = true;
}
self.checkarea = nw;
if (self.nativescrollingarea) return true; // this isn't my business
if (self.locked) return self.cancelEvent(e);
return execScrollWheel(e,true,chk);
};
this.stop = function() {
self.cancelScroll();
if (self.scrollmon) self.scrollmon.stop();
self.cursorfreezed = false;
self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));      
self.noticeCursor();
return self;
};
this.getTransitionSpeed = function(dif) {
var sp = Math.round(self.opt.scrollspeed*10);
var ex = Math.min(sp,Math.round((dif / 20) * self.opt.scrollspeed));
return (ex>20) ? ex : 0;
};
if (!self.opt.smoothscroll) {
this.doScrollLeft = function(x,spd) {  //direct
var y = self.getScrollTop();
self.doScrollPos(x,y,spd);
};      
this.doScrollTop = function(y,spd) {   //direct
var x = self.getScrollLeft();
self.doScrollPos(x,y,spd);
};
this.doScrollPos = function(x,y,spd) {  //direct
var nx = (x>self.page.maxw) ? self.page.maxw : x;
if (nx<0) nx=0;
var ny = (y>self.page.maxh) ? self.page.maxh : y;
if (ny<0) ny=0;
self.synched('scroll',function(){
self.setScrollTop(ny);
self.setScrollLeft(nx);
});
};
this.cancelScroll = function() {}; // direct
} 
else if (self.ishwscroll&&cap.hastransition&&self.opt.usetransition) {
this.prepareTransition = function(dif,istime) {
var ex = (istime) ? ((dif>20)?dif:0) : self.getTransitionSpeed(dif);        
var trans = (ex) ? cap.prefixstyle+'transform '+ex+'ms ease-out' : '';
if (!self.lasttransitionstyle||self.lasttransitionstyle!=trans) {
self.lasttransitionstyle = trans;
self.doc.css(cap.transitionstyle,trans);
}
return ex;
};
this.doScrollLeft = function(x,spd) {  //trans
var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();
self.doScrollPos(x,y,spd);
};      
this.doScrollTop = function(y,spd) {   //trans
var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();
self.doScrollPos(x,y,spd);
};
this.doScrollPos = function(x,y,spd) {  //trans
var py = self.getScrollTop();
var px = self.getScrollLeft();        
if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection      
if (self.opt.bouncescroll==false) {
if (y<0) y=0;
else if (y>self.page.maxh) y=self.page.maxh;
if (x<0) x=0;
else if (x>self.page.maxw) x=self.page.maxw;
}
if (self.scrollrunning&&x==self.newscrollx&&y==self.newscrolly) return false;
self.newscrolly = y;
self.newscrollx = x;
self.newscrollspeed = spd||false;
if (self.timer) return false;
self.timer = setTimeout(function(){
var top = self.getScrollTop();
var lft = self.getScrollLeft();
var dst = {};
dst.x = x-lft;
dst.y = y-top;
dst.px = lft;
dst.py = top;
var dd = Math.round(Math.sqrt(Math.pow(dst.x,2)+Math.pow(dst.y,2)));          
var ms = (self.newscrollspeed && self.newscrollspeed>1) ? self.newscrollspeed : self.getTransitionSpeed(dd);
if (self.newscrollspeed&&self.newscrollspeed<=1) ms*=self.newscrollspeed;
self.prepareTransition(ms,true);
if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);    
if (ms>0) {
if (!self.scrollrunning&&self.onscrollstart) {
var info = {"type":"scrollstart","current":{"x":lft,"y":top},"request":{"x":x,"y":y},"end":{"x":self.newscrollx,"y":self.newscrolly},"speed":ms};
self.onscrollstart.call(self,info);
}
if (cap.transitionend) {
if (!self.scrollendtrapped) {
self.scrollendtrapped = true;
self.bind(self.doc,cap.transitionend,self.onScrollTransitionEnd,false); //I have got to do something usefull!!
}
} else {              
if (self.scrollendtrapped) clearTimeout(self.scrollendtrapped);
self.scrollendtrapped = setTimeout(self.onScrollTransitionEnd,ms);  // simulate transitionend event
}
var py = top;
var px = lft;
self.timerscroll = {
bz: new BezierClass(py,self.newscrolly,ms,0,0,0.58,1),
bh: new BezierClass(px,self.newscrollx,ms,0,0,0.58,1)
};            
if (!self.cursorfreezed) self.timerscroll.tm=setInterval(function(){self.showCursor(self.getScrollTop(),self.getScrollLeft())},60);
}
self.synched("doScroll-set",function(){
self.timer = 0;
if (self.scrollendtrapped) self.scrollrunning = true;
self.setScrollTop(self.newscrolly);
self.setScrollLeft(self.newscrollx);
if (!self.scrollendtrapped) self.onScrollTransitionEnd();
});
},50);
};
this.cancelScroll = function() {
if (!self.scrollendtrapped) return true;        
var py = self.getScrollTop();
var px = self.getScrollLeft();
self.scrollrunning = false;
if (!cap.transitionend) clearTimeout(cap.transitionend);
self.scrollendtrapped = false;
self._unbind(self.doc,cap.transitionend,self.onScrollTransitionEnd);     
self.prepareTransition(0);
self.setScrollTop(py); // fire event onscroll
if (self.railh) self.setScrollLeft(px);
if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);
self.timerscroll = false;
self.cursorfreezed = false;
self.showCursor(py,px);
return self;
};
this.onScrollTransitionEnd = function() {                
if (self.scrollendtrapped) self._unbind(self.doc,cap.transitionend,self.onScrollTransitionEnd);
self.scrollendtrapped = false;        
self.prepareTransition(0);
if (self.timerscroll&&self.timerscroll.tm) clearInterval(self.timerscroll.tm);
self.timerscroll = false;        
var py = self.getScrollTop();
var px = self.getScrollLeft();
self.setScrollTop(py);  // fire event onscroll        
if (self.railh) self.setScrollLeft(px);  // fire event onscroll left
self.noticeCursor(false,py,px);     
self.cursorfreezed = false;
if (py<0) py=0
else if (py>self.page.maxh) py=self.page.maxh;
if (px<0) px=0
else if (px>self.page.maxw) px=self.page.maxw;
if((py!=self.newscrolly)||(px!=self.newscrollx)) return self.doScrollPos(px,py,self.opt.snapbackspeed);
if (self.onscrollend&&self.scrollrunning) {
self.triggerScrollEnd();
} 
self.scrollrunning = false;
};
} else {
this.doScrollLeft = function(x,spd) {  //no-trans
var y = (self.scrollrunning) ? self.newscrolly : self.getScrollTop();
self.doScrollPos(x,y,spd);
};
this.doScrollTop = function(y,spd) {  //no-trans
var x = (self.scrollrunning) ? self.newscrollx : self.getScrollLeft();
self.doScrollPos(x,y,spd);
};
this.doScrollPos = function(x,y,spd) {  //no-trans
var y = ((typeof y == "undefined")||(y===false)) ? self.getScrollTop(true) : y;
if  ((self.timer)&&(self.newscrolly==y)&&(self.newscrollx==x)) return true;
if (self.timer) clearAnimationFrame(self.timer);
self.timer = 0;      
var py = self.getScrollTop();
var px = self.getScrollLeft();
if (((self.newscrolly-py)*(y-py)<0)||((self.newscrollx-px)*(x-px)<0)) self.cancelScroll();  //inverted movement detection
self.newscrolly = y;
self.newscrollx = x;
if (!self.bouncescroll||!self.rail.visibility) {
if (self.newscrolly<0) {
self.newscrolly = 0;
}
else if (self.newscrolly>self.page.maxh) {
self.newscrolly = self.page.maxh;
}
}
if (!self.bouncescroll||!self.railh.visibility) {
if (self.newscrollx<0) {
self.newscrollx = 0;
}
else if (self.newscrollx>self.page.maxw) {
self.newscrollx = self.page.maxw;
}
}
self.dst = {};
self.dst.x = x-px;
self.dst.y = y-py;
self.dst.px = px;
self.dst.py = py;
var dst = Math.round(Math.sqrt(Math.pow(self.dst.x,2)+Math.pow(self.dst.y,2)));
self.dst.ax = self.dst.x / dst;
self.dst.ay = self.dst.y / dst;
var pa = 0;
var pe = dst;
if (self.dst.x==0) {
pa = py;
pe = y;
self.dst.ay = 1;
self.dst.py = 0;
} else if (self.dst.y==0) {
pa = px;
pe = x;
self.dst.ax = 1;
self.dst.px = 0;
}
var ms = self.getTransitionSpeed(dst);
if (spd&&spd<=1) ms*=spd;
if (ms>0) {
self.bzscroll = (self.bzscroll) ? self.bzscroll.update(pe,ms) : new BezierClass(pa,pe,ms,0,1,0,1);
} else {
self.bzscroll = false;
}
if (self.timer) return;
if ((py==self.page.maxh&&y>=self.page.maxh)||(px==self.page.maxw&&x>=self.page.maxw)) self.checkContentSize();
var sync = 1;
function scrolling() {          
if (self.cancelAnimationFrame) return true;
self.scrollrunning = true;
sync = 1-sync;
if (sync) return (self.timer = setAnimationFrame(scrolling)||1);
var done = 0;
var sc = sy = self.getScrollTop();
if (self.dst.ay) {            
sc = (self.bzscroll) ? self.dst.py + (self.bzscroll.getNow()*self.dst.ay) : self.newscrolly;
var dr=sc-sy;          
if ((dr<0&&sc<self.newscrolly)||(dr>0&&sc>self.newscrolly)) sc = self.newscrolly;
self.setScrollTop(sc);
if (sc == self.newscrolly) done=1;
} else {
done=1;
}
var scx = sx = self.getScrollLeft();
if (self.dst.ax) {            
scx = (self.bzscroll) ? self.dst.px + (self.bzscroll.getNow()*self.dst.ax) : self.newscrollx;            
var dr=scx-sx;
if ((dr<0&&scx<self.newscrollx)||(dr>0&&scx>self.newscrollx)) scx = self.newscrollx;
self.setScrollLeft(scx);
if (scx == self.newscrollx) done+=1;
} else {
done+=1;
}
if (done==2) {
self.timer = 0;
self.cursorfreezed = false;
self.bzscroll = false;
self.scrollrunning = false;
if (sc<0) sc=0;
else if (sc>self.page.maxh) sc=self.page.maxh;
if (scx<0) scx=0;
else if (scx>self.page.maxw) scx=self.page.maxw;
if ((scx!=self.newscrollx)||(sc!=self.newscrolly)) self.doScrollPos(scx,sc);
else {
if (self.onscrollend) {
/*              
var info = {"type":"scrollend","current":{"x":sx,"y":sy},"end":{"x":self.newscrollx,"y":self.newscrolly}};
self.onscrollend.call(self,info);
*/
self.triggerScrollEnd();
}             
} 
} else {
self.timer = setAnimationFrame(scrolling)||1;
}
};
self.cancelAnimationFrame=false;
self.timer = 1;
if (self.onscrollstart&&!self.scrollrunning) {
var info = {"type":"scrollstart","current":{"x":px,"y":py},"request":{"x":x,"y":y},"end":{"x":self.newscrollx,"y":self.newscrolly},"speed":ms};
self.onscrollstart.call(self,info);
}        
scrolling();
if ((py==self.page.maxh&&y>=py)||(px==self.page.maxw&&x>=px)) self.checkContentSize();
self.noticeCursor();
};
this.cancelScroll = function() {        
if (self.timer) clearAnimationFrame(self.timer);
self.timer = 0;
self.bzscroll = false;
self.scrollrunning = false;
return self;
};
}
this.doScrollBy = function(stp,relative) {
var ny = 0;
if (relative) {
ny = Math.floor((self.scroll.y-stp)*self.scrollratio.y)
} else {        
var sy = (self.timer) ? self.newscrolly : self.getScrollTop(true);
ny = sy-stp;
}
if (self.bouncescroll) {
var haf = Math.round(self.view.h/2);
if (ny<-haf) ny=-haf
else if (ny>(self.page.maxh+haf)) ny = (self.page.maxh+haf);
}
self.cursorfreezed = false;      
py = self.getScrollTop(true);
if (ny<0&&py<=0) return self.noticeCursor();      
else if (ny>self.page.maxh&&py>=self.page.maxh) {
self.checkContentSize();
return self.noticeCursor();
}
self.doScrollTop(ny);
};
this.doScrollLeftBy = function(stp,relative) {
var nx = 0;
if (relative) {
nx = Math.floor((self.scroll.x-stp)*self.scrollratio.x)
} else {
var sx = (self.timer) ? self.newscrollx : self.getScrollLeft(true);
nx = sx-stp;
}
if (self.bouncescroll) {
var haf = Math.round(self.view.w/2);
if (nx<-haf) nx=-haf;
else if (nx>(self.page.maxw+haf)) nx = (self.page.maxw+haf);
}
self.cursorfreezed = false;    
px = self.getScrollLeft(true);
if (nx<0&&px<=0) return self.noticeCursor();      
else if (nx>self.page.maxw&&px>=self.page.maxw) return self.noticeCursor();
self.doScrollLeft(nx);
};
this.doScrollTo = function(pos,relative) {
var ny = (relative) ? Math.round(pos*self.scrollratio.y) : pos;
if (ny<0) ny=0;
else if (ny>self.page.maxh) ny = self.page.maxh;
self.cursorfreezed = false;
self.doScrollTop(pos);
};
this.checkContentSize = function() {      
var pg = self.getContentSize();
if ((pg.h!=self.page.h)||(pg.w!=self.page.w)) self.resize(false,pg);
};
self.onscroll = function(e) {    
if (self.rail.drag) return;
if (!self.cursorfreezed) {
self.synched('scroll',function(){
self.scroll.y = Math.round(self.getScrollTop() * (1/self.scrollratio.y));
if (self.railh) self.scroll.x = Math.round(self.getScrollLeft() * (1/self.scrollratio.x));
self.noticeCursor();
});
}
};
self.bind(self.docscroll,"scroll",self.onscroll);
this.doZoomIn = function(e) {
if (self.zoomactive) return;
self.zoomactive = true;
self.zoomrestore = {
style:{}
};
var lst = ['position','top','left','zIndex','backgroundColor','marginTop','marginBottom','marginLeft','marginRight'];
var win = self.win[0].style;
for(var a in lst) {
var pp = lst[a];
self.zoomrestore.style[pp] = (typeof win[pp] != "undefined") ? win[pp] : '';        
}
self.zoomrestore.style.width = self.win.css('width');
self.zoomrestore.style.height = self.win.css('height');
self.zoomrestore.padding = {
w:self.win.outerWidth()-self.win.width(),
h:self.win.outerHeight()-self.win.height()
};
if (cap.isios4) {
self.zoomrestore.scrollTop = $(window).scrollTop();
$(window).scrollTop(0);
}
self.win.css({
"position":(cap.isios4)?"absolute":"fixed",
"top":0,
"left":0,
"z-index":globalmaxzindex+100,
"margin":"0px"
});
var bkg = self.win.css("backgroundColor");      
if (bkg==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(bkg)) self.win.css("backgroundColor","#fff");
self.rail.css({"z-index":globalmaxzindex+101});
self.zoom.css({"z-index":globalmaxzindex+102});      
self.zoom.css('backgroundPosition','0px -18px');
self.resizeZoom();
if (self.onzoomin) self.onzoomin.call(self);
return self.cancelEvent(e);
};
this.doZoomOut = function(e) {
if (!self.zoomactive) return;
self.zoomactive = false;
self.win.css("margin","");
self.win.css(self.zoomrestore.style);
if (cap.isios4) {
$(window).scrollTop(self.zoomrestore.scrollTop);
}
self.rail.css({"z-index":self.zindex});
self.zoom.css({"z-index":self.zindex});
self.zoomrestore = false;
self.zoom.css('backgroundPosition','0px 0px');
self.onResize();
if (self.onzoomout) self.onzoomout.call(self);
return self.cancelEvent(e);
};
this.doZoom = function(e) {
return (self.zoomactive) ? self.doZoomOut(e) : self.doZoomIn(e);
};
this.resizeZoom = function() {
if (!self.zoomactive) return;
var py = self.getScrollTop(); //preserve scrolling position
self.win.css({
width:$(window).width()-self.zoomrestore.padding.w+"px",
height:$(window).height()-self.zoomrestore.padding.h+"px"
});
self.onResize();
self.setScrollTop(Math.min(self.page.maxh,py));
};
this.init();
$.nicescroll.push(this);
};
var ScrollMomentumClass2D = function(nc) {
var self = this;
this.nc = nc;
this.lastx = 0;
this.lasty = 0;
this.speedx = 0;
this.speedy = 0;
this.lasttime = 0;
this.steptime = 0;
this.snapx = false;
this.snapy = false;
this.demulx = 0;
this.demuly = 0;
this.lastscrollx = -1;
this.lastscrolly = -1;
this.chkx = 0;
this.chky = 0;
this.timer = 0;
this.time = function() {
return +new Date();//beautifull hack
};
this.reset = function(px,py) {
self.stop();
var now = self.time();
self.steptime = 0;
self.lasttime = now;
self.speedx = 0;
self.speedy = 0;
self.lastx = px;
self.lasty = py;
self.lastscrollx = -1;
self.lastscrolly = -1;
};
this.update = function(px,py) {
var now = self.time();
self.steptime = now - self.lasttime;
self.lasttime = now;      
var dy = py - self.lasty;
var dx = px - self.lastx;
var sy = self.nc.getScrollTop();
var sx = self.nc.getScrollLeft();
var newy = sy + dy;
var newx = sx + dx;
self.snapx = (newx<0)||(newx>self.nc.page.maxw);
self.snapy = (newy<0)||(newy>self.nc.page.maxh);
self.speedx = dx;
self.speedy = dy;
self.lastx = px;
self.lasty = py;
};
this.stop = function() {
self.nc.unsynched("domomentum2d");
if (self.timer) clearTimeout(self.timer);
self.timer = 0;
self.lastscrollx = -1;
self.lastscrolly = -1;
};
this.doSnapy = function(nx,ny) {
var snap = false;
if (ny<0) {
ny=0;
snap=true;        
} 
else if (ny>self.nc.page.maxh) {
ny=self.nc.page.maxh;
snap=true;
}
if (nx<0) {
nx=0;
snap=true;        
} 
else if (nx>self.nc.page.maxw) {
nx=self.nc.page.maxw;
snap=true;
}
(snap) ? self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed) : self.nc.triggerScrollEnd();
};
this.doMomentum = function(gp) {
var t = self.time();
var l = (gp) ? t+gp : self.lasttime;
var sl = self.nc.getScrollLeft();
var st = self.nc.getScrollTop();
var pageh = self.nc.page.maxh;
var pagew = self.nc.page.maxw;
self.speedx = (pagew>0) ? Math.min(60,self.speedx) : 0;
self.speedy = (pageh>0) ? Math.min(60,self.speedy) : 0;
var chk = l && (t - l) <= 60;
if ((st<0)||(st>pageh)||(sl<0)||(sl>pagew)) chk = false;
var sy = (self.speedy && chk) ? self.speedy : false;
var sx = (self.speedx && chk) ? self.speedx : false;
if (sy||sx) {
var tm = Math.max(16,self.steptime); //timeout granularity
if (tm>50) {  // do smooth
var xm = tm/50;
self.speedx*=xm;
self.speedy*=xm;
tm = 50;
}
self.demulxy = 0;
self.lastscrollx = self.nc.getScrollLeft();
self.chkx = self.lastscrollx;
self.lastscrolly = self.nc.getScrollTop();
self.chky = self.lastscrolly;
var nx = self.lastscrollx;
var ny = self.lastscrolly;
var onscroll = function(){
var df = ((self.time()-t)>600) ? 0.04 : 0.02;
if (self.speedx) {
nx = Math.floor(self.lastscrollx - (self.speedx*(1-self.demulxy)));
self.lastscrollx = nx;
if ((nx<0)||(nx>pagew)) df=0.10;
}
if (self.speedy) {
ny = Math.floor(self.lastscrolly - (self.speedy*(1-self.demulxy)));
self.lastscrolly = ny;
if ((ny<0)||(ny>pageh)) df=0.10;
}
self.demulxy = Math.min(1,self.demulxy+df);
self.nc.synched("domomentum2d",function(){
if (self.speedx) {
var scx = self.nc.getScrollLeft();
if (scx!=self.chkx) self.stop();
self.chkx=nx;
self.nc.setScrollLeft(nx);
}
if (self.speedy) {
var scy = self.nc.getScrollTop();
if (scy!=self.chky) self.stop();          
self.chky=ny;
self.nc.setScrollTop(ny);
}
if(!self.timer) {
self.nc.hideCursor();
self.doSnapy(nx,ny);
}
});
if (self.demulxy<1) {            
self.timer = setTimeout(onscroll,tm);
} else {
self.stop();
self.nc.hideCursor();
self.doSnapy(nx,ny);
}
};
onscroll();
} else {
self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop());
}      
}
};
var _scrollTop = jQuery.fn.scrollTop; // preserve original function
jQuery.cssHooks["pageYOffset"] = {
get: function(elem,computed,extra) {      
var nice = $.data(elem,'__nicescroll')||false;
return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(elem);
},
set: function(elem,value) {
var nice = $.data(elem,'__nicescroll')||false;    
(nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call(elem,value);
return this;
}
};
/*  
$.fx.step["scrollTop"] = function(fx){    
$.cssHooks["scrollTop"].set( fx.elem, fx.now + fx.unit );
};
*/  
jQuery.fn.scrollTop = function(value) {    
if (typeof value == "undefined") {
var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;
return (nice&&nice.ishwscroll) ? nice.getScrollTop() : _scrollTop.call(this);
} else {      
return this.each(function() {
var nice = $.data(this,'__nicescroll')||false;
(nice&&nice.ishwscroll) ? nice.setScrollTop(parseInt(value)) : _scrollTop.call($(this),value);
});
}
};
var _scrollLeft = jQuery.fn.scrollLeft; // preserve original function
$.cssHooks.pageXOffset = {
get: function(elem,computed,extra) {
var nice = $.data(elem,'__nicescroll')||false;
return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(elem);
},
set: function(elem,value) {
var nice = $.data(elem,'__nicescroll')||false;    
(nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call(elem,value);
return this;
}
};
/*  
$.fx.step["scrollLeft"] = function(fx){
$.cssHooks["scrollLeft"].set( fx.elem, fx.now + fx.unit );
};  
*/  
jQuery.fn.scrollLeft = function(value) {    
if (typeof value == "undefined") {
var nice = (this[0]) ? $.data(this[0],'__nicescroll')||false : false;
return (nice&&nice.ishwscroll) ? nice.getScrollLeft() : _scrollLeft.call(this);
} else {
return this.each(function() {     
var nice = $.data(this,'__nicescroll')||false;
(nice&&nice.ishwscroll) ? nice.setScrollLeft(parseInt(value)) : _scrollLeft.call($(this),value);
});
}
};
var NiceScrollArray = function(doms) {
var self = this;
this.length = 0;
this.name = "nicescrollarray";
this.each = function(fn) {
for(var a=0,i=0;a<self.length;a++) fn.call(self[a],i++);
return self;
};
this.push = function(nice) {
self[self.length]=nice;
self.length++;
};
this.eq = function(idx) {
return self[idx];
};
if (doms) {
for(var a=0;a<doms.length;a++) {
var nice = $.data(doms[a],'__nicescroll')||false;
if (nice) {
this[this.length]=nice;
this.length++;
}
};
}
return this;
};
function mplex(el,lst,fn) {
for(var a=0;a<lst.length;a++) fn(el,lst[a]);
};  
mplex(
NiceScrollArray.prototype,
['show','hide','toggle','onResize','resize','remove','stop','doScrollPos'],
function(e,n) {
e[n] = function(){
var args = arguments;
return this.each(function(){          
this[n].apply(this,args);
});
};
}
);  
jQuery.fn.getNiceScroll = function(index) {
if (typeof index == "undefined") {
return new NiceScrollArray(this);
} else {      
var nice = this[index]&&$.data(this[index],'__nicescroll')||false;
return nice;
}
};
jQuery.extend(jQuery.expr[':'], {
nicescroll: function(a) {
return ($.data(a,'__nicescroll'))?true:false;
}
});  
$.fn.niceScroll = function(wrapper,opt) {        
if (typeof opt=="undefined") {
if ((typeof wrapper=="object")&&!("jquery" in wrapper)) {
opt = wrapper;
wrapper = false;        
}
}
var ret = new NiceScrollArray();
if (typeof opt=="undefined") opt = {};
if (wrapper||false) {      
opt.doc = $(wrapper);
opt.win = $(this);
}    
var docundef = !("doc" in opt);   
if (!docundef&&!("win" in opt)) opt.win = $(this);    
this.each(function() {
var nice = $(this).data('__nicescroll')||false;
if (!nice) {
opt.doc = (docundef) ? $(this) : opt.doc;
nice = new NiceScrollClass(opt,$(this));        
$(this).data('__nicescroll',nice);
}
ret.push(nice);
});
return (ret.length==1) ? ret[0] : ret;
};
window.NiceScroll = {
getjQuery:function(){return jQuery}
};
if (!$.nicescroll) {
$.nicescroll = new NiceScrollArray();
$.nicescroll.options = _globaloptions;
}
}));
;
;
/*! intlTelInput.custom.min.js */ 
;
;
(function(){"use strict";(function(t,n,r,i){function a(e,n){this.element=e;this.options=t.extend({},u,n);this._defaults=u;this.id=o++;this._name=s;this.init()}var s="intlTelInput",o=1,u={preferredCountries:["us","gb"],americaMode:false,onlyCountries:[],defaultStyling:true,autoHideDialCode:true,defaultCountry:""};a.prototype={init:function(){var i=this;if(this.options.onlyCountries.length>0){var s=[],o={};t.each(this.options.onlyCountries,function(e,t){var n=i._getCountryData(t,true);if(n){s.push(n);var r=n["calling-code"];if(o[r]){o[r].push(t)}else{o[r]=[t]}}});n.intlData={countries:s,countryCodes:o}}else{n.intlData=e}var u=[];t.each(this.options.preferredCountries,function(e,t){var n=i._getCountryData(t,false);if(n){u.push(n)}});if(this.options.defaultCountry){this.defaultCountry=this._getCountryData(this.options.defaultCountry,false)}else{this.defaultCountry=u.length?u[0]:intlData.countries[0]}this.telInput=t(this.element);if(!this.options.autoHideDialCode&&this.telInput.val()===""){this._resetToDialCode(this.defaultCountry["calling-code"])}var a="intl-tel-input";if(this.options.defaultStyling){a+=" pretty"}this.telInput.wrap(t("<div>",{"class":a}));var f=t("<div>",{"class":"flag-dropdown f16"}).insertBefore(this.telInput);var l=t("<div>",{"class":"selected-flag"}).appendTo(f);var c=this.defaultCountry.cca2;this.selectedFlagInner=t("<div>",{"class":"flag "+c}).appendTo(l);t("<div>",{"class":"down-arrow"}).appendTo(this.selectedFlagInner);this.countryList=t("<ul>",{"class":"country-list hide"}).appendTo(f);if(u.length){this._appendListItems(u,"preferred");t("<li>",{"class":"divider"}).appendTo(this.countryList)}this._appendListItems(intlData.countries,"");this.countryListItems=this.countryList.children(".country");this.countryListItems.first().addClass("active");if(this.options.autoHideDialCode){this.telInput.focusin(function(){var e=t.trim(i.telInput.val());if(e.length===0){var n=i.selectedFlagInner.attr("class").split(" ")[1];var r=i._getCountryData(n,false);i._resetToDialCode(r["calling-code"])}});this.telInput.focusout(function(){var e=t.trim(i.telInput.val());if(e.length>0){var n=i._getDialCode(e);if("+"+n==e){i.telInput.val("")}}})}this.telInput.keyup(function(){i._updateFlagFromInputVal()});i._updateFlagFromInputVal();l.click(function(e){if(i.countryList.hasClass("hide")){var n=i.countryList.children(".active");i._highlightListItem(n);i.countryList.removeClass("hide");i._scrollTo(n);var s=true;t("html").bind("click.intlTelInput"+i.id,function(e){if(!s){i._closeDropdown()}s=false});t(r).bind("keydown.intlTelInput"+i.id,function(e){if(e.which==38||e.which==40){e.preventDefault();var n=i.countryList.children(".highlight").first();var r=e.which==38?n.prev():n.next();if(r.length){if(r.hasClass("divider")){r=e.which==38?r.prev():r.next()}i._highlightListItem(r);i._scrollTo(r)}}else if(e.which==13){var s=i.countryList.children(".highlight").first();if(s.length){i._selectListItem(s)}}else if(e.which==9||e.which==27){i._closeDropdown()}else if(e.which>=97&&e.which<=122||e.which>=65&&e.which<=90){var o=String.fromCharCode(e.which);var u=i.countryListItems.filter(function(){return t(this).text().charAt(0)==o&&!t(this).hasClass("preferred")});if(u.length){var a=u.filter(".highlight").first();var f;if(a&&a.next()&&a.next().text().charAt(0)==o){f=a.next()}else{f=u.first()}i._highlightListItem(f);i._scrollTo(f)}}})}});this.countryListItems.mouseover(function(){i._highlightListItem(t(this))});this.countryListItems.click(function(e){var n=t(e.currentTarget);i._selectListItem(n)})},_updateFlagFromInputVal:function(){var e=this;var n,r=false;var i=this._getDialCode(this.telInput.val());if(i){var s=intlData.countryCodes[i];t.each(s,function(t,n){if(e.selectedFlagInner.hasClass(n)){r=true}});n=s[0]}else{n=this.defaultCountry.cca2}if(!r){this._selectFlag(n)}},_resetToDialCode:function(e){var t=e=="1"&&this.options.americaMode?"":"+"+e+" ";this.telInput.val(t)},_highlightListItem:function(e){this.countryListItems.removeClass("highlight");e.addClass("highlight")},_getCountryData:function(t,n){var r=n?e.countries:intlData.countries;for(var i=0;i<r.length;i++){if(r[i].cca2==t){return r[i]}}},_selectFlag:function(e){this.selectedFlagInner.attr("class","flag "+e);var t=this.countryListItems.children(".flag."+e).parent();this.countryListItems.removeClass("active");t.addClass("active")},_selectListItem:function(e){var t=e.attr("data-country-code");this._selectFlag(t);var n=this._updateNumber(e.attr("data-dial-code"));this.telInput.val(n);this.telInput.focus()},_closeDropdown:function(){this.countryList.addClass("hide");t(r).unbind("keydown.intlTelInput"+this.id);t("html").unbind("click.intlTelInput"+this.id)},_scrollTo:function(e){var t=this.countryList;var n=t.height();var r=t.offset().top;var i=r+n;var s=e.outerHeight();var o=e.offset().top;var u=o+s;var a=o-r+t.scrollTop();if(o<r){t.scrollTop(a)}else if(u>i){var f=n-s;t.scrollTop(a-f)}},_updateNumber:function(e){var n=this.telInput.val();var r="+"+this._getDialCode(n);var i="+"+e;var s;if(r.length>1){s=n.replace(r,i);if(n==r){s+=" "}}else if(n.length&&n.substr(0,1)!="+"){s=i+" "+t.trim(n)}else{s=i+" "}if(this.options.americaMode&&s.substring(0,3)=="+1 "){s=s.substring(3)}return s},_getDialCode:function(e){var n=t.trim(e).split(" ")[0];if(n.substring(0,1)=="+"){var r=n.replace(/\D/g,"").substring(0,4);for(var i=r.length;i>0;i--){r=r.substring(0,i);if(intlData.countryCodes[r]){return r}}}return""},_appendListItems:function(e,n){var r="";t.each(e,function(e,t){r+="<li class='country "+n+"' data-dial-code='"+t["calling-code"]+"' data-country-code='"+t.cca2+"'>";r+="<div class='flag "+t.cca2+"'></div>";r+="<span class='country-name'>"+t.name+"</span>";r+="<span class='dial-code'>+"+t["calling-code"]+"</span>";r+="</li>"});this.countryList.append(r)},setNumber:function(e){this.telInput.val(e);this._updateFlagFromInputVal()},selectCountry:function(e){if(!this.selectedFlagInner.hasClass(e)){this._selectFlag(e);if(!this.options.autoHideDialCode){var t=this._getCountryData(e,false);this._resetToDialCode(t["calling-code"])}}}};t.fn[s]=function(e){var n=arguments;if(e===i||typeof e==="object"){return this.each(function(){if(!t.data(this,"plugin_"+s)){t.data(this,"plugin_"+s,new a(this,e))}})}else if(typeof e==="string"&&e[0]!=="_"&&e!=="init"){var r;this.each(function(){var i=t.data(this,"plugin_"+s);if(i instanceof a&&typeof i[e]==="function"){r=i[e].apply(i,Array.prototype.slice.call(n,1))}});return r!==i?r:this}};t.fn[s].getCountryData=function(){return e};t.fn[s].setCountryData=function(t){e=t}})(jQuery,window,document);var e={countries:[{name:"Afghanistan",cca2:"af","calling-code":"93"},{name:"Albania",cca2:"al","calling-code":"355"},{name:"Algeria",cca2:"dz","calling-code":"213"},{name:"American Samoa",cca2:"as","calling-code":"1684"},{name:"Andorra",cca2:"ad","calling-code":"376"},{name:"Angola",cca2:"ao","calling-code":"244"},{name:"Anguilla",cca2:"ai","calling-code":"1264"},{name:"Antigua and Barbuda",cca2:"ag","calling-code":"1268"},{name:"Argentina",cca2:"ar","calling-code":"54"},{name:"Armenia",cca2:"am","calling-code":"374"},{name:"Aruba",cca2:"aw","calling-code":"297"},{name:"Australia",cca2:"au","calling-code":"61"},{name:"Austria",cca2:"at","calling-code":"43"},{name:"Azerbaijan",cca2:"az","calling-code":"994"},{name:"Bahamas",cca2:"bs","calling-code":"1242"},{name:"Bahrain",cca2:"bh","calling-code":"973"},{name:"Bangladesh",cca2:"bd","calling-code":"880"},{name:"Barbados",cca2:"bb","calling-code":"1246"},{name:"Belarus",cca2:"by","calling-code":"375"},{name:"Belgium",cca2:"be","calling-code":"32"},{name:"Belize",cca2:"bz","calling-code":"501"},{name:"Benin",cca2:"bj","calling-code":"229"},{name:"Bermuda",cca2:"bm","calling-code":"1441"},{name:"Bhutan",cca2:"bt","calling-code":"975"},{name:"Bolivia",cca2:"bo","calling-code":"591"},{name:"Bosnia and Herzegovina",cca2:"ba","calling-code":"387"},{name:"Botswana",cca2:"bw","calling-code":"267"},{name:"Brazil",cca2:"br","calling-code":"55"},{name:"Brunei",cca2:"bn","calling-code":"673"},{name:"Bulgaria",cca2:"bg","calling-code":"359"},{name:"Burkina Faso",cca2:"bf","calling-code":"226"},{name:"Burundi",cca2:"bi","calling-code":"257"},{name:"Cambodia",cca2:"kh","calling-code":"855"},{name:"Cameroon",cca2:"cm","calling-code":"237"},{name:"Canada",cca2:"ca","calling-code":"1"},{name:"Cape Verde",cca2:"cv","calling-code":"238"},{name:"Cayman Islands",cca2:"ky","calling-code":"1345"},{name:"Central African Republic",cca2:"cf","calling-code":"236"},{name:"Chad",cca2:"td","calling-code":"235"},{name:"Chile",cca2:"cl","calling-code":"56"},{name:"China",cca2:"cn","calling-code":"86"},{name:"Colombia",cca2:"co","calling-code":"57"},{name:"Comoros",cca2:"km","calling-code":"269"},{name:"Congo [DRC]",cca2:"cd","calling-code":"243"},{name:"Congo [Republic]",cca2:"cg","calling-code":"242"},{name:"Cook Islands",cca2:"ck","calling-code":"682"},{name:"Costa Rica",cca2:"cr","calling-code":"506"},{name:"Cote d'Ivoire",cca2:"ci","calling-code":"225"},{name:"Croatia",cca2:"hr","calling-code":"385"},{name:"Cuba",cca2:"cu","calling-code":"53"},{name:"Cyprus",cca2:"cy","calling-code":"357"},{name:"Czech Republic",cca2:"cz","calling-code":"420"},{name:"Denmark",cca2:"dk","calling-code":"45"},{name:"Djibouti",cca2:"dj","calling-code":"253"},{name:"Dominica",cca2:"dm","calling-code":"1767"},{name:"Dominican Republic",cca2:"do","calling-code":"1809"},{name:"Ecuador",cca2:"ec","calling-code":"593"},{name:"Egypt",cca2:"eg","calling-code":"20"},{name:"El Salvador",cca2:"sv","calling-code":"503"},{name:"Equatorial Guinea",cca2:"gq","calling-code":"240"},{name:"Eritrea",cca2:"er","calling-code":"291"},{name:"Estonia",cca2:"ee","calling-code":"372"},{name:"Ethiopia",cca2:"et","calling-code":"251"},{name:"Faroe Islands",cca2:"fo","calling-code":"298"},{name:"Fiji",cca2:"fj","calling-code":"679"},{name:"Finland",cca2:"fi","calling-code":"358"},{name:"France",cca2:"fr","calling-code":"33"},{name:"French Polynesia",cca2:"pf","calling-code":"689"},{name:"Gabon",cca2:"ga","calling-code":"241"},{name:"Gambia",cca2:"gm","calling-code":"220"},{name:"Georgia",cca2:"ge","calling-code":"995"},{name:"Germany",cca2:"de","calling-code":"49"},{name:"Ghana",cca2:"gh","calling-code":"233"},{name:"Gibraltar",cca2:"gi","calling-code":"350"},{name:"Greece",cca2:"gr","calling-code":"30"},{name:"Greenland",cca2:"gl","calling-code":"299"},{name:"Grenada",cca2:"gd","calling-code":"1473"},{name:"Guadeloupe",cca2:"gp","calling-code":"590"},{name:"Guam",cca2:"gu","calling-code":"1671"},{name:"Guatemala",cca2:"gt","calling-code":"502"},{name:"Guernsey",cca2:"gg","calling-code":"44"},{name:"Guinea",cca2:"gn","calling-code":"224"},{name:"Guinea-Bissau",cca2:"gw","calling-code":"245"},{name:"Guyana",cca2:"gy","calling-code":"592"},{name:"Haiti",cca2:"ht","calling-code":"509"},{name:"Honduras",cca2:"hn","calling-code":"504"},{name:"Hong Kong",cca2:"hk","calling-code":"852"},{name:"Hungary",cca2:"hu","calling-code":"36"},{name:"Iceland",cca2:"is","calling-code":"354"},{name:"India",cca2:"in","calling-code":"91"},{name:"Indonesia",cca2:"id","calling-code":"62"},{name:"Iran",cca2:"ir","calling-code":"98"},{name:"Iraq",cca2:"iq","calling-code":"964"},{name:"Ireland",cca2:"ie","calling-code":"353"},{name:"Isle of Man",cca2:"im","calling-code":"44"},{name:"Israel",cca2:"il","calling-code":"972"},{name:"Italy",cca2:"it","calling-code":"39"},{name:"Jamaica",cca2:"jm","calling-code":"1876"},{name:"Japan",cca2:"jp","calling-code":"81"},{name:"Jersey",cca2:"je","calling-code":"44"},{name:"Jordan",cca2:"jo","calling-code":"962"},{name:"Kazakhstan",cca2:"kz","calling-code":"7"},{name:"Kenya",cca2:"ke","calling-code":"254"},{name:"Kiribati",cca2:"ki","calling-code":"686"},{name:"Kuwait",cca2:"kw","calling-code":"965"},{name:"Kyrgyzstan",cca2:"kg","calling-code":"996"},{name:"Laos",cca2:"la","calling-code":"856"},{name:"Latvia",cca2:"lv","calling-code":"371"},{name:"Lebanon",cca2:"lb","calling-code":"961"},{name:"Lesotho",cca2:"ls","calling-code":"266"},{name:"Liberia",cca2:"lr","calling-code":"231"},{name:"Libya",cca2:"ly","calling-code":"218"},{name:"Liechtenstein",cca2:"li","calling-code":"423"},{name:"Lithuania",cca2:"lt","calling-code":"370"},{name:"Luxembourg",cca2:"lu","calling-code":"352"},{name:"Macau",cca2:"mo","calling-code":"853"},{name:"Macedonia [FYROM]",cca2:"mk","calling-code":"389"},{name:"Madagascar",cca2:"mg","calling-code":"261"},{name:"Malawi",cca2:"mw","calling-code":"265"},{name:"Malaysia",cca2:"my","calling-code":"60"},{name:"Maldives",cca2:"mv","calling-code":"960"},{name:"Mali",cca2:"ml","calling-code":"223"},{name:"Malta",cca2:"mt","calling-code":"356"},{name:"Marshall Islands",cca2:"mh","calling-code":"692"},{name:"Martinique",cca2:"mq","calling-code":"596"},{name:"Mauritania",cca2:"mr","calling-code":"222"},{name:"Mauritius",cca2:"mu","calling-code":"230"},{name:"Mexico",cca2:"mx","calling-code":"52"},{name:"Micronesia",cca2:"fm","calling-code":"691"},{name:"Moldova",cca2:"md","calling-code":"373"},{name:"Monaco",cca2:"mc","calling-code":"377"},{name:"Mongolia",cca2:"mn","calling-code":"976"},{name:"Montenegro",cca2:"me","calling-code":"382"},{name:"Montserrat",cca2:"ms","calling-code":"1664"},{name:"Morocco",cca2:"ma","calling-code":"212"},{name:"Mozambique",cca2:"mz","calling-code":"258"},{name:"Myanmar [Burma]",cca2:"mm","calling-code":"95"},{name:"Namibia",cca2:"na","calling-code":"264"},{name:"Nauru",cca2:"nr","calling-code":"674"},{name:"Nepal",cca2:"np","calling-code":"977"},{name:"Netherlands",cca2:"nl","calling-code":"31"},{name:"New Caledonia",cca2:"nc","calling-code":"687"},{name:"New Zealand",cca2:"nz","calling-code":"64"},{name:"Nicaragua",cca2:"ni","calling-code":"505"},{name:"Niger",cca2:"ne","calling-code":"227"},{name:"Nigeria",cca2:"ng","calling-code":"234"},{name:"North Korea",cca2:"kp","calling-code":"850"},{name:"Norway",cca2:"no","calling-code":"47"},{name:"Oman",cca2:"om","calling-code":"968"},{name:"Pakistan",cca2:"pk","calling-code":"92"},{name:"Palau",cca2:"pw","calling-code":"680"},{name:"Palestine",cca2:"ps","calling-code":"970"},{name:"Panama",cca2:"pa","calling-code":"507"},{name:"Papua New Guinea",cca2:"pg","calling-code":"675"},{name:"Paraguay",cca2:"py","calling-code":"595"},{name:"Peru",cca2:"pe","calling-code":"51"},{name:"Philippines",cca2:"ph","calling-code":"63"},{name:"Poland",cca2:"pl","calling-code":"48"},{name:"Portugal",cca2:"pt","calling-code":"351"},{name:"Puerto Rico",cca2:"pr","calling-code":"1787"},{name:"Qatar",cca2:"qa","calling-code":"974"},{name:"Reunion",cca2:"re","calling-code":"262"},{name:"Romania",cca2:"ro","calling-code":"40"},{name:"Russia",cca2:"ru","calling-code":"7"},{name:"Rwanda",cca2:"rw","calling-code":"250"},{name:"Saint Kitts and Nevis",cca2:"kn","calling-code":"1869"},{name:"Saint Lucia",cca2:"lc","calling-code":"1758"},{name:"Saint Vincent and the Grenadines",cca2:"vc","calling-code":"1784"},{name:"Samoa",cca2:"ws","calling-code":"685"},{name:"San Marino",cca2:"sm","calling-code":"378"},{name:"Sao Tome and Principe",cca2:"st","calling-code":"239"},{name:"Saudi Arabia",cca2:"sa","calling-code":"966"},{name:"Senegal",cca2:"sn","calling-code":"221"},{name:"Serbia",cca2:"rs","calling-code":"381"},{name:"Seychelles",cca2:"sc","calling-code":"248"},{name:"Sierra Leone",cca2:"sl","calling-code":"232"},{name:"Singapore",cca2:"sg","calling-code":"65"},{name:"Slovakia",cca2:"sk","calling-code":"421"},{name:"Slovenia",cca2:"si","calling-code":"386"},{name:"Solomon Islands",cca2:"sb","calling-code":"677"},{name:"Somalia",cca2:"so","calling-code":"252"},{name:"South Africa",cca2:"za","calling-code":"27"},{name:"South Korea",cca2:"kr","calling-code":"82"},{name:"Spain",cca2:"es","calling-code":"34"},{name:"Sri Lanka",cca2:"lk","calling-code":"94"},{name:"Sudan",cca2:"sd","calling-code":"249"},{name:"Suriname",cca2:"sr","calling-code":"597"},{name:"Swaziland",cca2:"sz","calling-code":"268"},{name:"Sweden",cca2:"se","calling-code":"46"},{name:"Switzerland",cca2:"ch","calling-code":"41"},{name:"Syria",cca2:"sy","calling-code":"963"},{name:"Taiwan",cca2:"tw","calling-code":"886"},{name:"Tajikistan",cca2:"tj","calling-code":"992"},{name:"Tanzania",cca2:"tz","calling-code":"255"},{name:"Thailand",cca2:"th","calling-code":"66"},{name:"Timor-Leste",cca2:"tl","calling-code":"670"},{name:"Togo",cca2:"tg","calling-code":"228"},{name:"Tonga",cca2:"to","calling-code":"676"},{name:"Trinidad and Tobago",cca2:"tt","calling-code":"1868"},{name:"Tunisia",cca2:"tn","calling-code":"216"},{name:"Turkey",cca2:"tr","calling-code":"90"},{name:"Turkmenistan",cca2:"tm","calling-code":"993"},{name:"Turks and Caicos Islands",cca2:"tc","calling-code":"1649"},{name:"Tuvalu",cca2:"tv","calling-code":"688"},{name:"Uganda",cca2:"ug","calling-code":"256"},{name:"Ukraine",cca2:"ua","calling-code":"380"},{name:"United Arab Emirates",cca2:"ae","calling-code":"971"},{name:"United Kingdom",cca2:"gb","calling-code":"44"},{name:"United States",cca2:"us","calling-code":"1"},{name:"Uruguay",cca2:"uy","calling-code":"598"},{name:"Uzbekistan",cca2:"uz","calling-code":"998"},{name:"Vanuatu",cca2:"vu","calling-code":"678"},{name:"Vatican City",cca2:"va","calling-code":"379"},{name:"Venezuela",cca2:"ve","calling-code":"58"},{name:"Vietnam",cca2:"vn","calling-code":"84"},{name:"British Virgin Islands",cca2:"vg","calling-code":"1284"},{name:"U.S. Virgin Islands",cca2:"vi","calling-code":"1340"},{name:"Western Sahara",cca2:"eh","calling-code":"212"},{name:"Yemen",cca2:"ye","calling-code":"967"},{name:"Zambia",cca2:"zm","calling-code":"260"},{name:"Zimbabwe",cca2:"zw","calling-code":"263"}],countryCodes:{1:["us","ca"],7:["ru","kz"],20:["eg"],27:["za"],30:["gr"],31:["nl"],32:["be"],33:["fr"],34:["es"],36:["hu"],39:["it"],40:["ro"],41:["ch"],43:["at"],44:["gb","gg","im","je"],45:["dk"],46:["se"],47:["no","sj"],48:["pl"],49:["de"],51:["pe"],52:["mx"],53:["cu"],54:["ar"],55:["br"],56:["cl"],57:["co"],58:["ve"],60:["my"],61:["au","cc","cx"],62:["id"],63:["ph"],64:["nz"],65:["sg"],66:["th"],81:["jp"],82:["kr"],84:["vn"],86:["cn"],90:["tr"],91:["in"],92:["pk"],93:["af"],94:["lk"],95:["mm"],98:["ir"],211:["ss"],212:["ma","eh"],213:["dz"],216:["tn"],218:["ly"],220:["gm"],221:["sn"],222:["mr"],223:["ml"],224:["gn"],225:["ci"],226:["bf"],227:["ne"],228:["tg"],229:["bj"],230:["mu"],231:["lr"],232:["sl"],233:["gh"],234:["ng"],235:["td"],236:["cf"],237:["cm"],238:["cv"],239:["st"],240:["gq"],241:["ga"],242:["cg"],243:["cd"],244:["ao"],245:["gw"],246:["io"],247:["ac"],248:["sc"],249:["sd"],250:["rw"],251:["et"],252:["so"],253:["dj"],254:["ke"],255:["tz"],256:["ug"],257:["bi"],258:["mz"],260:["zm"],261:["mg"],262:["re","yt"],263:["zw"],264:["na"],265:["mw"],266:["ls"],267:["bw"],268:["sz"],269:["km"],290:["sh"],291:["er"],297:["aw"],298:["fo"],299:["gl"],350:["gi"],351:["pt"],352:["lu"],353:["ie"],354:["is"],355:["al"],356:["mt"],357:["cy"],358:["fi","ax"],359:["bg"],370:["lt"],371:["lv"],372:["ee"],373:["md"],374:["am"],375:["by"],376:["ad"],377:["mc"],378:["sm"],379:["va"],380:["ua"],381:["rs"],382:["me"],385:["hr"],386:["si"],387:["ba"],389:["mk"],420:["cz"],421:["sk"],423:["li"],500:["fk"],501:["bz"],502:["gt"],503:["sv"],504:["hn"],505:["ni"],506:["cr"],507:["pa"],508:["pm"],509:["ht"],590:["gp","bl","mf"],591:["bo"],592:["gy"],593:["ec"],594:["gf"],595:["py"],596:["mq"],597:["sr"],598:["uy"],599:["cw","bq"],670:["tl"],672:["nf"],673:["bn"],674:["nr"],675:["pg"],676:["to"],677:["sb"],678:["vu"],679:["fj"],680:["pw"],681:["wf"],682:["ck"],683:["nu"],685:["ws"],686:["ki"],687:["nc"],688:["tv"],689:["pf"],690:["tk"],691:["fm"],692:["mh"],850:["kp"],852:["hk"],853:["mo"],855:["kh"],856:["la"],880:["bd"],886:["tw"],960:["mv"],961:["lb"],962:["jo"],963:["sy"],964:["iq"],965:["kw"],966:["sa"],967:["ye"],968:["om"],970:["ps"],971:["ae"],972:["il"],973:["bh"],974:["qa"],975:["bt"],976:["mn"],977:["np"],992:["tj"],993:["tm"],994:["az"],995:["ge"],996:["kg"],998:["uz"],1242:["bs"],1246:["bb"],1264:["ai"],1268:["ag"],1284:["vg"],1340:["vi"],1345:["ky"],1441:["bm"],1473:["gd"],1649:["tc"],1664:["ms"],1671:["gu"],1684:["as"],1758:["lc"],1767:["dm"],1784:["vc"],1787:["pr"],1809:["do"],1868:["tt"],1869:["kn"],1876:["jm"]}}})()
;
;
/*! jquery.animate-shadow-min.js */ 
;
;
/*
Shadow animation 1.11
http://www.bitstorm.org/jquery/shadow-animation/
Copyright 2011, 2013 Edwin Martin <edwin@bitstorm.org>
Contributors: Mark Carver, Xavier Lepretre and Jason Redding
Released under the MIT and GPL licenses.
*/
'use strict';jQuery(function(h){function r(b,m,d){var l=[];h.each(b,function(f){var g=[],e=b[f];f=m[f];e.b&&g.push("inset");"undefined"!==typeof f.left&&g.push(parseFloat(e.left+d*(f.left-e.left))+"px "+parseFloat(e.top+d*(f.top-e.top))+"px");"undefined"!==typeof f.blur&&g.push(parseFloat(e.blur+d*(f.blur-e.blur))+"px");"undefined"!==typeof f.a&&g.push(parseFloat(e.a+d*(f.a-e.a))+"px");if("undefined"!==typeof f.color){var p="rgb"+(h.support.rgba?"a":"")+"("+parseInt(e.color[0]+d*(f.color[0]-e.color[0]),
10)+","+parseInt(e.color[1]+d*(f.color[1]-e.color[1]),10)+","+parseInt(e.color[2]+d*(f.color[2]-e.color[2]),10);h.support.rgba&&(p+=","+parseFloat(e.color[3]+d*(f.color[3]-e.color[3])));g.push(p+")")}l.push(g.join(" "))});return l.join(", ")}function q(b){function m(){var a=/^inset\b/.exec(b.substring(c));return null!==a&&0<a.length?(k.b=!0,c+=a[0].length,!0):!1}function d(){var a=/^(-?[0-9\.]+)(?:px)?\s+(-?[0-9\.]+)(?:px)?(?:\s+(-?[0-9\.]+)(?:px)?)?(?:\s+(-?[0-9\.]+)(?:px)?)?/.exec(b.substring(c));
return null!==a&&0<a.length?(k.left=parseInt(a[1],10),k.top=parseInt(a[2],10),k.blur=a[3]?parseInt(a[3],10):0,k.a=a[4]?parseInt(a[4],10):0,c+=a[0].length,!0):!1}function l(){var a=/^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})/.exec(b.substring(c));if(null!==a&&0<a.length)return k.color=[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1],c+=a[0].length,!0;a=/^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])/.exec(b.substring(c));if(null!==a&&0<a.length)return k.color=[17*parseInt(a[1],16),17*parseInt(a[2],
16),17*parseInt(a[3],16),1],c+=a[0].length,!0;a=/^rgb\(\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*\)/.exec(b.substring(c));if(null!==a&&0<a.length)return k.color=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),1],c+=a[0].length,!0;a=/^rgba\(\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*,\s*([0-9\.]+)\s*\)/.exec(b.substring(c));return null!==a&&0<a.length?(k.color=[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10),parseFloat(a[4])],c+=a[0].length,!0):!1}function f(){var a=/^\s+/.exec(b.substring(c));
null!==a&&0<a.length&&(c+=a[0].length)}function g(){var a=/^\s*,\s*/.exec(b.substring(c));return null!==a&&0<a.length?(c+=a[0].length,!0):!1}function e(a){if(h.isPlainObject(a)){var b,e,c=0,d=[];h.isArray(a.color)&&(e=a.color,c=e.length);for(b=0;4>b;b++)b<c?d.push(e[b]):3===b?d.push(1):d.push(0)}return h.extend({left:0,top:0,blur:0,spread:0},a)}for(var p=[],c=0,n=b.length,k=e();c<n;)if(m())f();else if(d())f();else if(l())f();else if(g())p.push(e(k)),k={};else break;p.push(e(k));return p}h.extend(!0,
h,{support:{rgba:function(){var b=h("script:first"),m=b.css("color"),d=!1;if(/^rgba/.test(m))d=!0;else try{d=m!==b.css("color","rgba(0, 0, 0, 0.5)").css("color"),b.css("color",m)}catch(l){}b.removeAttr("style");return d}()}});var s=h("html").prop("style"),n;h.each(["boxShadow","MozBoxShadow","WebkitBoxShadow"],function(b,h){if("undefined"!==typeof s[h])return n=h,!1});n&&(h.Tween.propHooks.boxShadow={get:function(b){return h(b.elem).css(n)},set:function(b){var m=b.elem.style,d=q(h(b.elem)[0].style[n]||
h(b.elem).css(n)),l=q(b.end),f=Math.max(d.length,l.length),g;for(g=0;g<f;g++)l[g]=h.extend({},d[g],l[g]),d[g]?"color"in d[g]&&!1!==h.isArray(d[g].color)||(d[g].color=l[g].color||[0,0,0,0]):d[g]=q("0 0 0 0 rgba(0,0,0,0)")[0];b.run=function(b){b=r(d,l,b);m[n]=b}}})});
;
;
/*! stacktrace-0.6.4.min.js */ 
;
;
(function(global,factory){if(typeof exports==="object"){module.exports=factory()}else if(typeof define==="function"&&define.amd){define(factory)}else{global.printStackTrace=factory()}})(this,function(){function printStackTrace(options){options=options||{guess:true};var ex=options.e||null,guess=!!options.guess,mode=options.mode||null;var p=new printStackTrace.implementation,result=p.run(ex,mode);return guess?p.guessAnonymousFunctions(result):result}printStackTrace.implementation=function(){};printStackTrace.implementation.prototype={run:function(ex,mode){ex=ex||this.createException();mode=mode||this.mode(ex);if(mode==="other"){return this.other(arguments.callee)}else{return this[mode](ex)}},createException:function(){try{this.undef()}catch(e){return e}},mode:function(e){if(typeof window!=="undefined"&&window.navigator.userAgent.indexOf("PhantomJS")>-1){return"phantomjs"}if(e["arguments"]&&e.stack){return"chrome"}if(e.stack&&e.sourceURL){return"safari"}if(e.stack&&e.number){return"ie"}if(e.stack&&e.fileName){return"firefox"}if(e.message&&e["opera#sourceloc"]){if(!e.stacktrace){return"opera9"}if(e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return"opera9"}return"opera10a"}if(e.message&&e.stack&&e.stacktrace){if(e.stacktrace.indexOf("called from line")<0){return"opera10b"}return"opera11"}if(e.stack&&!e.fileName){return"chrome"}return"other"},instrumentFunction:function(context,functionName,callback){context=context||window;var original=context[functionName];context[functionName]=function instrumented(){callback.call(this,printStackTrace().slice(4));return context[functionName]._instrumented.apply(this,arguments)};context[functionName]._instrumented=original},deinstrumentFunction:function(context,functionName){if(context[functionName].constructor===Function&&context[functionName]._instrumented&&context[functionName]._instrumented.constructor===Function){context[functionName]=context[functionName]._instrumented}},chrome:function(e){return(e.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,"$1@$2").split("\n").slice(0,-1)},safari:function(e){return e.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(e){return e.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(e){return e.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(e){var ANON="{anonymous}",lineRE=/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;var lines=e.stacktrace.split("\n"),result=[];for(var i=0,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){var location=match[4]+":"+match[1]+":"+match[2];var fnName=match[3]||"global code";fnName=fnName.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,ANON);result.push(fnName+"@"+location+" -- "+lines[i+1].replace(/^\s+/,""))}}return result},opera10b:function(e){var lineRE=/^(.*)@(.+):(\d+)$/;var lines=e.stacktrace.split("\n"),result=[];for(var i=0,len=lines.length;i<len;i++){var match=lineRE.exec(lines[i]);if(match){var fnName=match[1]?match[1]+"()":"global code";result.push(fnName+"@"+match[2]+":"+match[3])}}return result},opera10a:function(e){var ANON="{anonymous}",lineRE=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var lines=e.stacktrace.split("\n"),result=[];for(var i=0,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){var fnName=match[3]||ANON;result.push(fnName+"()@"+match[2]+":"+match[1]+" -- "+lines[i+1].replace(/^\s+/,""))}}return result},opera9:function(e){var ANON="{anonymous}",lineRE=/Line (\d+).*script (?:in )?(\S+)/i;var lines=e.message.split("\n"),result=[];for(var i=2,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push(ANON+"()@"+match[2]+":"+match[1]+" -- "+lines[i+1].replace(/^\s+/,""))}}return result},phantomjs:function(e){var ANON="{anonymous}",lineRE=/(\S+) \((\S+)\)/i;var lines=e.stack.split("\n"),result=[];for(var i=1,len=lines.length;i<len;i++){lines[i]=lines[i].replace(/^\s+at\s+/gm,"");var match=lineRE.exec(lines[i]);if(match){result.push(match[1]+"()@"+match[2])}else{result.push(ANON+"()@"+lines[i])}}return result},other:function(curr){var ANON="{anonymous}",fnRE=/function(?:\s+([\w$]+))?\s*\(/,stack=[],fn,args,maxStackSize=10;var slice=Array.prototype.slice;while(curr&&stack.length<maxStackSize){fn=fnRE.test(curr.toString())?RegExp.$1||ANON:ANON;try{args=slice.call(curr["arguments"]||[])}catch(e){args=["Cannot access arguments: "+e]}stack[stack.length]=fn+"("+this.stringifyArguments(args)+")";try{curr=curr.caller}catch(e){stack[stack.length]="Cannot access caller: "+e;break}}return stack},stringifyArguments:function(args){var result=[];var slice=Array.prototype.slice;for(var i=0;i<args.length;++i){var arg=args[i];if(arg===undefined){result[i]="undefined"}else if(arg===null){result[i]="null"}else if(arg.constructor){if(arg.constructor===Array){if(arg.length<3){result[i]="["+this.stringifyArguments(arg)+"]"}else{result[i]="["+this.stringifyArguments(slice.call(arg,0,1))+"..."+this.stringifyArguments(slice.call(arg,-1))+"]"}}else if(arg.constructor===Object){result[i]="#object"}else if(arg.constructor===Function){result[i]="#function"}else if(arg.constructor===String){result[i]='"'+arg+'"'}else if(arg.constructor===Number){result[i]=arg}else{result[i]="?"}}}return result.join(",")},sourceCache:{},ajax:function(url){var req=this.createXMLHTTPObject();if(req){try{req.open("GET",url,false);req.send(null);return req.responseText}catch(e){}}return""},createXMLHTTPObject:function(){var xmlhttp,XMLHttpFactories=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];for(var i=0;i<XMLHttpFactories.length;i++){try{xmlhttp=XMLHttpFactories[i]();this.createXMLHTTPObject=XMLHttpFactories[i];return xmlhttp}catch(e){}}},isSameDomain:function(url){return typeof location!=="undefined"&&url.indexOf(location.hostname)!==-1},getSource:function(url){if(!(url in this.sourceCache)){this.sourceCache[url]=this.ajax(url).split("\n")}return this.sourceCache[url]},guessAnonymousFunctions:function(stack){for(var i=0;i<stack.length;++i){var reStack=/\{anonymous\}\(.*\)@(.*)/,reRef=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,frame=stack[i],ref=reStack.exec(frame);if(ref){var m=reRef.exec(ref[1]);if(m){var file=m[1],lineno=m[2],charno=m[3]||0;if(file&&this.isSameDomain(file)&&lineno){var functionName=this.guessAnonymousFunction(file,lineno,charno);stack[i]=frame.replace("{anonymous}",functionName)}}}}return stack},guessAnonymousFunction:function(url,lineNo,charNo){var ret;try{ret=this.findFunctionName(this.getSource(url),lineNo)}catch(e){ret="getSource failed with url: "+url+", exception: "+e.toString()}return ret},findFunctionName:function(source,lineNo){var reFunctionDeclaration=/function\s+([^(]*?)\s*\(([^)]*)\)/;var reFunctionExpression=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/;var reFunctionEvaluation=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/;var code="",line,maxLines=Math.min(lineNo,20),m,commentPos;for(var i=0;i<maxLines;++i){line=source[lineNo-i-1];commentPos=line.indexOf("//");if(commentPos>=0){line=line.substr(0,commentPos)}if(line){code=line+code;m=reFunctionExpression.exec(code);if(m&&m[1]){return m[1]}m=reFunctionDeclaration.exec(code);if(m&&m[1]){return m[1]}m=reFunctionEvaluation.exec(code);if(m&&m[1]){return m[1]}}}return"(?)"}};return printStackTrace});

;
;
/*! pusher-2.2.4.min.js */ 
;
;
/*!
* Pusher JavaScript Library v2.2.4
* http://pusher.com/
*
* Copyright 2014, Pusher
* Released under the MIT licence.
*/
(function(){function b(a,d){(null===a||void 0===a)&&b.warn("Warning","You must pass your app key when you instantiate Pusher.");d=d||{};var c=this;this.key=a;this.config=b.Util.extend(b.getGlobalConfig(),d.cluster?b.getClusterConfig(d.cluster):{},d);this.channels=new b.Channels;this.global_emitter=new b.EventsDispatcher;this.sessionID=Math.floor(1E9*Math.random());this.timeline=new b.Timeline(this.key,this.sessionID,{cluster:this.config.cluster,features:b.Util.getClientFeatures(),params:this.config.timelineParams||
{},limit:50,level:b.Timeline.INFO,version:b.VERSION});this.config.disableStats||(this.timelineSender=new b.TimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/jsonp"}));this.connection=new b.ConnectionManager(this.key,b.Util.extend({getStrategy:function(a){a=b.Util.extend({},c.config,a);return b.StrategyBuilder.build(b.getDefaultStrategy(a),a)},timeline:this.timeline,activityTimeout:this.config.activity_timeout,pongTimeout:this.config.pong_timeout,unavailableTimeout:this.config.unavailable_timeout},
this.config,{encrypted:this.isEncrypted()}));this.connection.bind("connected",function(){c.subscribeAll();c.timelineSender&&c.timelineSender.send(c.connection.isEncrypted())});this.connection.bind("message",function(a){var d=0===a.event.indexOf("pusher_internal:");if(a.channel){var b=c.channel(a.channel);b&&b.handleEvent(a.event,a.data)}d||c.global_emitter.emit(a.event,a.data)});this.connection.bind("disconnected",function(){c.channels.disconnect()});this.connection.bind("error",function(a){b.warn("Error",
a)});b.instances.push(this);this.timeline.info({instances:b.instances.length});b.isReady&&c.connect()}var c=b.prototype;b.instances=[];b.isReady=!1;b.debug=function(){b.log&&b.log(b.Util.stringify.apply(this,arguments))};b.warn=function(){var a=b.Util.stringify.apply(this,arguments);window.console&&(window.console.warn?window.console.warn(a):window.console.log&&window.console.log(a));b.log&&b.log(a)};b.ready=function(){b.isReady=!0;for(var a=0,d=b.instances.length;a<d;a++)b.instances[a].connect()};
c.channel=function(a){return this.channels.find(a)};c.allChannels=function(){return this.channels.all()};c.connect=function(){this.connection.connect();if(this.timelineSender&&!this.timelineSenderTimer){var a=this.connection.isEncrypted(),d=this.timelineSender;this.timelineSenderTimer=new b.PeriodicTimer(6E4,function(){d.send(a)})}};c.disconnect=function(){this.connection.disconnect();this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)};c.bind=function(a,
d){this.global_emitter.bind(a,d);return this};c.bind_all=function(a){this.global_emitter.bind_all(a);return this};c.subscribeAll=function(){for(var a in this.channels.channels)this.channels.channels.hasOwnProperty(a)&&this.subscribe(a)};c.subscribe=function(a){a=this.channels.add(a,this);"connected"===this.connection.state&&a.subscribe();return a};c.unsubscribe=function(a){a=this.channels.remove(a);"connected"===this.connection.state&&a.unsubscribe()};c.send_event=function(a,d,b){return this.connection.send_event(a,
d,b)};c.isEncrypted=function(){return"https:"===b.Util.getDocument().location.protocol?!0:Boolean(this.config.encrypted)};b.HTTP={};this.Pusher=b}).call(this);
(function(){function b(a){window.clearTimeout(a)}function c(a){window.clearInterval(a)}function a(a,d,b,c){var k=this;this.clear=d;this.timer=a(function(){null!==k.timer&&(k.timer=c(k.timer))},b)}var d=a.prototype;d.isRunning=function(){return null!==this.timer};d.ensureAborted=function(){this.timer&&(this.clear(this.timer),this.timer=null)};Pusher.Timer=function(d,c){return new a(setTimeout,b,d,function(a){c();return null})};Pusher.PeriodicTimer=function(d,b){return new a(setInterval,c,d,function(a){b();
return a})}}).call(this);
(function(){Pusher.Util={now:function(){return Date.now?Date.now():(new Date).valueOf()},defer:function(b){return new Pusher.Timer(0,b)},extend:function(b){for(var c=1;c<arguments.length;c++){var a=arguments[c],d;for(d in a)b[d]=a[d]&&a[d].constructor&&a[d].constructor===Object?Pusher.Util.extend(b[d]||{},a[d]):a[d]}return b},stringify:function(){for(var b=["Pusher"],c=0;c<arguments.length;c++)"string"===typeof arguments[c]?b.push(arguments[c]):void 0===window.JSON?b.push(arguments[c].toString()):b.push(JSON.stringify(arguments[c]));
return b.join(" : ")},arrayIndexOf:function(b,c){var a=Array.prototype.indexOf;if(null===b)return-1;if(a&&b.indexOf===a)return b.indexOf(c);for(var a=0,d=b.length;a<d;a++)if(b[a]===c)return a;return-1},objectApply:function(b,c){for(var a in b)Object.prototype.hasOwnProperty.call(b,a)&&c(b[a],a,b)},keys:function(b){var c=[];Pusher.Util.objectApply(b,function(a,d){c.push(d)});return c},values:function(b){var c=[];Pusher.Util.objectApply(b,function(a){c.push(a)});return c},apply:function(b,c,a){for(var d=
0;d<b.length;d++)c.call(a||window,b[d],d,b)},map:function(b,c){for(var a=[],d=0;d<b.length;d++)a.push(c(b[d],d,b,a));return a},mapObject:function(b,c){var a={};Pusher.Util.objectApply(b,function(d,b){a[b]=c(d)});return a},filter:function(b,c){c=c||function(a){return!!a};for(var a=[],d=0;d<b.length;d++)c(b[d],d,b,a)&&a.push(b[d]);return a},filterObject:function(b,c){var a={};Pusher.Util.objectApply(b,function(d,h){if(c&&c(d,h,b,a)||Boolean(d))a[h]=d});return a},flatten:function(b){var c=[];Pusher.Util.objectApply(b,
function(a,d){c.push([d,a])});return c},any:function(b,c){for(var a=0;a<b.length;a++)if(c(b[a],a,b))return!0;return!1},all:function(b,c){for(var a=0;a<b.length;a++)if(!c(b[a],a,b))return!1;return!0},method:function(b){var c=Array.prototype.slice.call(arguments,1);return function(a){return a[b].apply(a,c.concat(arguments))}},getWindow:function(){return window},getDocument:function(){return document},getNavigator:function(){return navigator},getLocalStorage:function(){try{return window.localStorage}catch(b){}},
getClientFeatures:function(){return Pusher.Util.keys(Pusher.Util.filterObject({ws:Pusher.WSTransport,flash:Pusher.FlashTransport},function(b){return b.isSupported({})}))},addWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},removeWindowListener:function(b,c){var a=Pusher.Util.getWindow();void 0!==a.addEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},isXHRSupported:function(){var b=window.XMLHttpRequest;
return Boolean(b)&&void 0!==(new b).withCredentials},isXDRSupported:function(b){b=b?"https:":"http:";var c=Pusher.Util.getDocument().location.protocol;return Boolean(window.XDomainRequest)&&c===b}}}).call(this);
(function(){Pusher.VERSION="2.2.4";Pusher.PROTOCOL=7;Pusher.host="ws.pusherapp.com";Pusher.ws_port=80;Pusher.wss_port=443;Pusher.sockjs_host="sockjs.pusher.com";Pusher.sockjs_http_port=80;Pusher.sockjs_https_port=443;Pusher.sockjs_path="/pusher";Pusher.stats_host="stats.pusher.com";Pusher.channel_auth_endpoint="/pusher/auth";Pusher.channel_auth_transport="ajax";Pusher.activity_timeout=12E4;Pusher.pong_timeout=3E4;Pusher.unavailable_timeout=1E4;Pusher.cdn_http="http://js.pusher.com/";Pusher.cdn_https=
"https://js.pusher.com/";Pusher.dependency_suffix=".min";Pusher.getDefaultStrategy=function(b){return[[":def","ws_options",{hostUnencrypted:b.wsHost+":"+b.wsPort,hostEncrypted:b.wsHost+":"+b.wssPort}],[":def","wss_options",[":extend",":ws_options",{encrypted:!0}]],[":def","sockjs_options",{hostUnencrypted:b.httpHost+":"+b.httpPort,hostEncrypted:b.httpHost+":"+b.httpsPort,httpPath:b.httpPath}],[":def","timeouts",{loop:!0,timeout:15E3,timeoutLimit:6E4}],[":def","ws_manager",[":transport_manager",{lives:2,
minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def","streaming_manager",[":transport_manager",{lives:2,minPingDelay:1E4,maxPingDelay:b.activity_timeout}]],[":def_transport","ws","ws",3,":ws_options",":ws_manager"],[":def_transport","wss","ws",3,":wss_options",":ws_manager"],[":def_transport","flash","flash",2,":ws_options",":ws_manager"],[":def_transport","sockjs","sockjs",1,":sockjs_options"],[":def_transport","xhr_streaming","xhr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport",
"xdr_streaming","xdr_streaming",1,":sockjs_options",":streaming_manager"],[":def_transport","xhr_polling","xhr_polling",1,":sockjs_options"],[":def_transport","xdr_polling","xdr_polling",1,":sockjs_options"],[":def","ws_loop",[":sequential",":timeouts",":ws"]],[":def","wss_loop",[":sequential",":timeouts",":wss"]],[":def","flash_loop",[":sequential",":timeouts",":flash"]],[":def","sockjs_loop",[":sequential",":timeouts",":sockjs"]],[":def","streaming_loop",[":sequential",":timeouts",[":if",[":is_supported",
":xhr_streaming"],":xhr_streaming",":xdr_streaming"]]],[":def","polling_loop",[":sequential",":timeouts",[":if",[":is_supported",":xhr_polling"],":xhr_polling",":xdr_polling"]]],[":def","http_loop",[":if",[":is_supported",":streaming_loop"],[":best_connected_ever",":streaming_loop",[":delayed",4E3,[":polling_loop"]]],[":polling_loop"]]],[":def","http_fallback_loop",[":if",[":is_supported",":http_loop"],[":http_loop"],[":sockjs_loop"]]],[":def","strategy",[":cached",18E5,[":first_connected",[":if",
[":is_supported",":ws"],b.encrypted?[":best_connected_ever",":ws_loop",[":delayed",2E3,[":http_fallback_loop"]]]:[":best_connected_ever",":ws_loop",[":delayed",2E3,[":wss_loop"]],[":delayed",5E3,[":http_fallback_loop"]]],[":if",[":is_supported",":flash"],[":best_connected_ever",":flash_loop",[":delayed",2E3,[":http_fallback_loop"]]],[":http_fallback_loop"]]]]]]]}}).call(this);
(function(){Pusher.getGlobalConfig=function(){return{wsHost:Pusher.host,wsPort:Pusher.ws_port,wssPort:Pusher.wss_port,httpHost:Pusher.sockjs_host,httpPort:Pusher.sockjs_http_port,httpsPort:Pusher.sockjs_https_port,httpPath:Pusher.sockjs_path,statsHost:Pusher.stats_host,authEndpoint:Pusher.channel_auth_endpoint,authTransport:Pusher.channel_auth_transport,activity_timeout:Pusher.activity_timeout,pong_timeout:Pusher.pong_timeout,unavailable_timeout:Pusher.unavailable_timeout}};Pusher.getClusterConfig=
function(b){return{wsHost:"ws-"+b+".pusher.com",httpHost:"sockjs-"+b+".pusher.com"}}}).call(this);(function(){function b(b){var a=function(a){Error.call(this,a);this.name=b};Pusher.Util.extend(a.prototype,Error.prototype);return a}Pusher.Errors={BadEventName:b("BadEventName"),RequestTimedOut:b("RequestTimedOut"),TransportPriorityTooLow:b("TransportPriorityTooLow"),TransportClosed:b("TransportClosed"),UnsupportedTransport:b("UnsupportedTransport"),UnsupportedStrategy:b("UnsupportedStrategy")}}).call(this);
(function(){function b(a){this.callbacks=new c;this.global_callbacks=[];this.failThrough=a}function c(){this._callbacks={}}var a=b.prototype;a.bind=function(a,b,c){this.callbacks.add(a,b,c);return this};a.bind_all=function(a){this.global_callbacks.push(a);return this};a.unbind=function(a,b,c){this.callbacks.remove(a,b,c);return this};a.unbind_all=function(a,b){this.callbacks.remove(a,b);return this};a.emit=function(a,b){var c;for(c=0;c<this.global_callbacks.length;c++)this.global_callbacks[c](a,b);
var e=this.callbacks.get(a);if(e&&0<e.length)for(c=0;c<e.length;c++)e[c].fn.call(e[c].context||window,b);else this.failThrough&&this.failThrough(a,b);return this};c.prototype.get=function(a){return this._callbacks["_"+a]};c.prototype.add=function(a,b,c){a="_"+a;this._callbacks[a]=this._callbacks[a]||[];this._callbacks[a].push({fn:b,context:c})};c.prototype.remove=function(a,b,c){!a&&!b&&!c?this._callbacks={}:(a=a?["_"+a]:Pusher.Util.keys(this._callbacks),b||c?Pusher.Util.apply(a,function(a){this._callbacks[a]=
Pusher.Util.filter(this._callbacks[a]||[],function(a){return b&&b!==a.fn||c&&c!==a.context});0===this._callbacks[a].length&&delete this._callbacks[a]},this):Pusher.Util.apply(a,function(a){delete this._callbacks[a]},this))};Pusher.EventsDispatcher=b}).call(this);
(function(){function b(a,d){this.lastId=0;this.prefix=a;this.name=d}var c=b.prototype;c.create=function(a){this.lastId++;var d=this.lastId,b=this.prefix+d,c=this.name+"["+d+"]",e=!1,f=function(){e||(a.apply(null,arguments),e=!0)};this[d]=f;return{number:d,id:b,name:c,callback:f}};c.remove=function(a){delete this[a.number]};Pusher.ScriptReceiverFactory=b;Pusher.ScriptReceivers=new b("_pusher_script_","Pusher.ScriptReceivers")}).call(this);
(function(){function b(a){this.src=a}var c=b.prototype;c.send=function(a){var d=this,b="Error loading "+d.src;d.script=document.createElement("script");d.script.id=a.id;d.script.src=d.src;d.script.type="text/javascript";d.script.charset="UTF-8";d.script.addEventListener?(d.script.onerror=function(){a.callback(b)},d.script.onload=function(){a.callback(null)}):d.script.onreadystatechange=function(){("loaded"===d.script.readyState||"complete"===d.script.readyState)&&a.callback(null)};void 0===d.script.async&&
document.attachEvent&&/opera/i.test(navigator.userAgent)?(d.errorScript=document.createElement("script"),d.errorScript.id=a.id+"_error",d.errorScript.text=a.name+"('"+b+"');",d.script.async=d.errorScript.async=!1):d.script.async=!0;var c=document.getElementsByTagName("head")[0];c.insertBefore(d.script,c.firstChild);d.errorScript&&c.insertBefore(d.errorScript,d.script.nextSibling)};c.cleanup=function(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null);this.script&&
this.script.parentNode&&this.script.parentNode.removeChild(this.script);this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript);this.errorScript=this.script=null};Pusher.ScriptRequest=b}).call(this);
(function(){function b(a){this.options=a;this.receivers=a.receivers||Pusher.ScriptReceivers;this.loading={}}var c=b.prototype;c.load=function(a,d,b){var c=this;if(c.loading[a]&&0<c.loading[a].length)c.loading[a].push(b);else{c.loading[a]=[b];var e=new Pusher.ScriptRequest(c.getPath(a,d)),f=c.receivers.create(function(d){c.receivers.remove(f);if(c.loading[a]){var b=c.loading[a];delete c.loading[a];for(var h=function(a){a||e.cleanup()},m=0;m<b.length;m++)b[m](d,h)}});e.send(f)}};c.getRoot=function(a){var d=
Pusher.Util.getDocument().location.protocol;return(a&&a.encrypted||"https:"===d?this.options.cdn_https:this.options.cdn_http).replace(/\/*$/,"")+"/"+this.options.version};c.getPath=function(a,d){return this.getRoot(d)+"/"+a+this.options.suffix+".js"};Pusher.DependencyLoader=b}).call(this);
(function(){function b(){Pusher.ready()}function c(a){document.body?a():setTimeout(function(){c(a)},0)}function a(){c(b)}Pusher.DependenciesReceivers=new Pusher.ScriptReceiverFactory("_pusher_dependencies","Pusher.DependenciesReceivers");Pusher.Dependencies=new Pusher.DependencyLoader({cdn_http:Pusher.cdn_http,cdn_https:Pusher.cdn_https,version:Pusher.VERSION,suffix:Pusher.dependency_suffix,receivers:Pusher.DependenciesReceivers});window.JSON?a():Pusher.Dependencies.load("json2",{},a)})();
(function(){for(var b=String.fromCharCode,c=0;64>c;c++)"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(c);var a=function(a){var d=a.charCodeAt(0);return 128>d?a:2048>d?b(192|d>>>6)+b(128|d&63):b(224|d>>>12&15)+b(128|d>>>6&63)+b(128|d&63)},d=function(a){var d=[0,2,1][a.length%3];a=a.charCodeAt(0)<<16|(1<a.length?a.charCodeAt(1):0)<<8|(2<a.length?a.charCodeAt(2):0);return["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>18),"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>
12&63),2<=d?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>>6&63),1<=d?"=":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a&63)].join("")},h=window.btoa||function(a){return a.replace(/[\s\S]{1,3}/g,d)};Pusher.Base64={encode:function(d){return h(d.replace(/[^\x00-\x7F]/g,a))}}}).call(this);
(function(){function b(a,b){this.url=a;this.data=b}function c(a){return Pusher.Util.mapObject(a,function(a){"object"===typeof a&&(a=JSON.stringify(a));return encodeURIComponent(Pusher.Base64.encode(a.toString()))})}var a=b.prototype;a.send=function(a){if(!this.request){var b=Pusher.Util.filterObject(this.data,function(a){return void 0!==a}),b=Pusher.Util.map(Pusher.Util.flatten(c(b)),Pusher.Util.method("join","=")).join("&");this.request=new Pusher.ScriptRequest(this.url+"/"+a.number+"?"+b);this.request.send(a)}};
a.cleanup=function(){this.request&&this.request.cleanup()};Pusher.JSONPRequest=b}).call(this);
(function(){function b(a,d,b){this.key=a;this.session=d;this.events=[];this.options=b||{};this.uniqueID=this.sent=0}var c=b.prototype;b.ERROR=3;b.INFO=6;b.DEBUG=7;c.log=function(a,d){a<=this.options.level&&(this.events.push(Pusher.Util.extend({},d,{timestamp:Pusher.Util.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())};c.error=function(a){this.log(b.ERROR,a)};c.info=function(a){this.log(b.INFO,a)};c.debug=function(a){this.log(b.DEBUG,a)};c.isEmpty=function(){return 0===
this.events.length};c.send=function(a,d){var b=this,c=Pusher.Util.extend({session:b.session,bundle:b.sent+1,key:b.key,lib:"js",version:b.options.version,cluster:b.options.cluster,features:b.options.features,timeline:b.events},b.options.params);b.events=[];a(c,function(a,c){a||b.sent++;d&&d(a,c)});return!0};c.generateUniqueID=function(){this.uniqueID++;return this.uniqueID};Pusher.Timeline=b}).call(this);
(function(){function b(b,a){this.timeline=b;this.options=a||{}}b.prototype.send=function(b,a){var d=this;d.timeline.isEmpty()||d.timeline.send(function(a,g){var e=new Pusher.JSONPRequest("http"+(b?"s":"")+"://"+(d.host||d.options.host)+d.options.path,a),f=Pusher.ScriptReceivers.create(function(a,b){Pusher.ScriptReceivers.remove(f);e.cleanup();b&&b.host&&(d.host=b.host);g&&g(a,b)});e.send(f)},a)};Pusher.TimelineSender=b}).call(this);
(function(){function b(a){this.strategies=a}function c(a,b,c){var h=Pusher.Util.map(a,function(a,d,h,g){return a.connect(b,c(d,g))});return{abort:function(){Pusher.Util.apply(h,d)},forceMinPriority:function(a){Pusher.Util.apply(h,function(b){b.forceMinPriority(a)})}}}function a(a){return Pusher.Util.all(a,function(a){return Boolean(a.error)})}function d(a){!a.error&&!a.aborted&&(a.abort(),a.aborted=!0)}var h=b.prototype;h.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))};
h.connect=function(b,d){return c(this.strategies,b,function(b,c){return function(h,g){(c[b].error=h)?a(c)&&d(!0):(Pusher.Util.apply(c,function(a){a.forceMinPriority(g.transport.priority)}),d(null,g))}})};Pusher.BestConnectedEverStrategy=b}).call(this);
(function(){function b(a,b,d){this.strategy=a;this.transports=b;this.ttl=d.ttl||18E5;this.encrypted=d.encrypted;this.timeline=d.timeline}function c(a){return"pusherTransport"+(a?"Encrypted":"Unencrypted")}function a(a){var b=Pusher.Util.getLocalStorage();if(b)try{var h=b[c(a)];if(h)return JSON.parse(h)}catch(k){d(a)}return null}function d(a){var b=Pusher.Util.getLocalStorage();if(b)try{delete b[c(a)]}catch(d){}}var h=b.prototype;h.isSupported=function(){return this.strategy.isSupported()};h.connect=
function(b,h){var f=this.encrypted,k=a(f),l=[this.strategy];if(k&&k.timestamp+this.ttl>=Pusher.Util.now()){var n=this.transports[k.transport];n&&(this.timeline.info({cached:!0,transport:k.transport,latency:k.latency}),l.push(new Pusher.SequentialStrategy([n],{timeout:2*k.latency+1E3,failFast:!0})))}var m=Pusher.Util.now(),p=l.pop().connect(b,function s(a,k){if(a)d(f),0<l.length?(m=Pusher.Util.now(),p=l.pop().connect(b,s)):h(a);else{var n=k.transport.name,t=Pusher.Util.now()-m,r=Pusher.Util.getLocalStorage();
if(r)try{r[c(f)]=JSON.stringify({timestamp:Pusher.Util.now(),transport:n,latency:t})}catch(u){}h(null,k)}});return{abort:function(){p.abort()},forceMinPriority:function(a){b=a;p&&p.forceMinPriority(a)}}};Pusher.CachedStrategy=b}).call(this);
(function(){function b(a,b){this.strategy=a;this.options={delay:b.delay}}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()};c.connect=function(a,b){var c=this.strategy,g,e=new Pusher.Timer(this.options.delay,function(){g=c.connect(a,b)});return{abort:function(){e.ensureAborted();g&&g.abort()},forceMinPriority:function(b){a=b;g&&g.forceMinPriority(b)}}};Pusher.DelayedStrategy=b}).call(this);
(function(){function b(a){this.strategy=a}var c=b.prototype;c.isSupported=function(){return this.strategy.isSupported()};c.connect=function(a,b){var c=this.strategy.connect(a,function(a,e){e&&c.abort();b(a,e)});return c};Pusher.FirstConnectedStrategy=b}).call(this);
(function(){function b(a,b,c){this.test=a;this.trueBranch=b;this.falseBranch=c}var c=b.prototype;c.isSupported=function(){return(this.test()?this.trueBranch:this.falseBranch).isSupported()};c.connect=function(a,b){return(this.test()?this.trueBranch:this.falseBranch).connect(a,b)};Pusher.IfStrategy=b}).call(this);
(function(){function b(a,b){this.strategies=a;this.loop=Boolean(b.loop);this.failFast=Boolean(b.failFast);this.timeout=b.timeout;this.timeoutLimit=b.timeoutLimit}var c=b.prototype;c.isSupported=function(){return Pusher.Util.any(this.strategies,Pusher.Util.method("isSupported"))};c.connect=function(a,b){var c=this,g=this.strategies,e=0,f=this.timeout,k=null,l=function(n,m){m?b(null,m):(e+=1,c.loop&&(e%=g.length),e<g.length?(f&&(f*=2,c.timeoutLimit&&(f=Math.min(f,c.timeoutLimit))),k=c.tryStrategy(g[e],
a,{timeout:f,failFast:c.failFast},l)):b(!0))},k=this.tryStrategy(g[e],a,{timeout:f,failFast:this.failFast},l);return{abort:function(){k.abort()},forceMinPriority:function(b){a=b;k&&k.forceMinPriority(b)}}};c.tryStrategy=function(a,b,c,g){var e=null,f=null;0<c.timeout&&(e=new Pusher.Timer(c.timeout,function(){f.abort();g(!0)}));f=a.connect(b,function(a,b){if(!a||!e||!e.isRunning()||c.failFast)e&&e.ensureAborted(),g(a,b)});return{abort:function(){e&&e.ensureAborted();f.abort()},forceMinPriority:function(a){f.forceMinPriority(a)}}};
Pusher.SequentialStrategy=b}).call(this);
(function(){function b(a,b,c,e){this.name=a;this.priority=b;this.transport=c;this.options=e||{}}function c(a,b){Pusher.Util.defer(function(){b(a)});return{abort:function(){},forceMinPriority:function(){}}}var a=b.prototype;a.isSupported=function(){return this.transport.isSupported({encrypted:this.options.encrypted})};a.connect=function(a,b){if(this.isSupported()){if(this.priority<a)return c(new Pusher.Errors.TransportPriorityTooLow,b)}else return c(new Pusher.Errors.UnsupportedStrategy,b);var g=this,
e=!1,f=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),k=null,l=function(){f.unbind("initialized",l);f.connect()},n=function(){k=new Pusher.Handshake(f,function(a){e=!0;q();b(null,a)})},m=function(a){q();b(a)},p=function(){q();b(new Pusher.Errors.TransportClosed(f))},q=function(){f.unbind("initialized",l);f.unbind("open",n);f.unbind("error",m);f.unbind("closed",p)};f.bind("initialized",l);f.bind("open",n);f.bind("error",m);f.bind("closed",p);f.initialize();return{abort:function(){e||
(q(),k?k.close():f.close())},forceMinPriority:function(a){e||g.priority<a&&(k?k.close():f.close())}}};Pusher.TransportStrategy=b}).call(this);
(function(){function b(a,b,c){return a+(b.encrypted?"s":"")+"://"+(b.encrypted?b.hostEncrypted:b.hostUnencrypted)+c}function c(a,b){return"/app/"+a+("?protocol="+Pusher.PROTOCOL+"&client=js&version="+Pusher.VERSION+(b?"&"+b:""))}Pusher.URLSchemes={ws:{getInitial:function(a,d){return b("ws",d,c(a,"flash=false"))}},flash:{getInitial:function(a,d){return b("ws",d,c(a,"flash=true"))}},sockjs:{getInitial:function(a,c){return b("http",c,c.httpPath||"/pusher","")},getPath:function(a,b){return c(a)}},http:{getInitial:function(a,
d){var h=(d.httpPath||"/pusher")+c(a);return b("http",d,h)}}}}).call(this);
(function(){function b(a,b,c,g,e){Pusher.EventsDispatcher.call(this);this.hooks=a;this.name=b;this.priority=c;this.key=g;this.options=e;this.state="new";this.timeline=e.timeline;this.activityTimeout=e.activityTimeout;this.id=this.timeline.generateUniqueID()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.handlesActivityChecks=function(){return Boolean(this.hooks.handlesActivityChecks)};c.supportsPing=function(){return Boolean(this.hooks.supportsPing)};c.initialize=function(){var a=
this;a.timeline.info(a.buildTimelineMessage({transport:a.name+(a.options.encrypted?"s":"")}));a.hooks.beforeInitialize&&a.hooks.beforeInitialize.call(a);if(a.hooks.isInitialized())a.changeState("initialized");else if(a.hooks.file)a.changeState("initializing"),Pusher.Dependencies.load(a.hooks.file,{encrypted:a.options.encrypted},function(b,c){if(a.hooks.isInitialized())a.changeState("initialized"),c(!0);else{if(b)a.onError(b);a.onClose();c(!1)}});else a.onClose()};c.connect=function(){var a=this;if(a.socket||
"initialized"!==a.state)return!1;var b=a.hooks.urls.getInitial(a.key,a.options);try{a.socket=a.hooks.getSocket(b,a.options)}catch(c){return Pusher.Util.defer(function(){a.onError(c);a.changeState("closed")}),!1}a.bindListeners();Pusher.debug("Connecting",{transport:a.name,url:b});a.changeState("connecting");return!0};c.close=function(){return this.socket?(this.socket.close(),!0):!1};c.send=function(a){var b=this;return"open"===b.state?(Pusher.Util.defer(function(){b.socket&&b.socket.send(a)}),!0):
!1};c.ping=function(){"open"===this.state&&this.supportsPing()&&this.socket.ping()};c.onOpen=function(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options));this.changeState("open");this.socket.onopen=void 0};c.onError=function(a){this.emit("error",{type:"WebSocketError",error:a});this.timeline.error(this.buildTimelineMessage({error:a.toString()}))};c.onClose=function(a){a?this.changeState("closed",{code:a.code,reason:a.reason,wasClean:a.wasClean}):
this.changeState("closed");this.unbindListeners();this.socket=void 0};c.onMessage=function(a){this.emit("message",a)};c.onActivity=function(){this.emit("activity")};c.bindListeners=function(){var a=this;a.socket.onopen=function(){a.onOpen()};a.socket.onerror=function(b){a.onError(b)};a.socket.onclose=function(b){a.onClose(b)};a.socket.onmessage=function(b){a.onMessage(b)};a.supportsPing()&&(a.socket.onactivity=function(){a.onActivity()})};c.unbindListeners=function(){this.socket&&(this.socket.onopen=
void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))};c.changeState=function(a,b){this.state=a;this.timeline.info(this.buildTimelineMessage({state:a,params:b}));this.emit(a,b)};c.buildTimelineMessage=function(a){return Pusher.Util.extend({cid:this.id},a)};Pusher.TransportConnection=b}).call(this);
(function(){function b(a){this.hooks=a}var c=b.prototype;c.isSupported=function(a){return this.hooks.isSupported(a)};c.createConnection=function(a,b,c,g){return new Pusher.TransportConnection(this.hooks,a,b,c,g)};Pusher.Transport=b}).call(this);
(function(){Pusher.WSTransport=new Pusher.Transport({urls:Pusher.URLSchemes.ws,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return Boolean(window.WebSocket||window.MozWebSocket)},isSupported:function(){return Boolean(window.WebSocket||window.MozWebSocket)},getSocket:function(a){return new (window.WebSocket||window.MozWebSocket)(a)}});Pusher.FlashTransport=new Pusher.Transport({file:"flashfallback",urls:Pusher.URLSchemes.flash,handlesActivityChecks:!1,supportsPing:!1,isSupported:function(){try{return Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(a){try{var b=
Pusher.Util.getNavigator();return Boolean(b&&b.mimeTypes&&void 0!==b.mimeTypes["application/x-shockwave-flash"])}catch(c){return!1}}},beforeInitialize:function(){void 0===window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR&&(window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR=!0);window.WEB_SOCKET_SWF_LOCATION=Pusher.Dependencies.getRoot({encrypted:this.options.encrypted})+"/WebSocketMain.swf"},isInitialized:function(){return void 0!==window.FlashWebSocket},getSocket:function(a){return new FlashWebSocket(a)}});
Pusher.SockJSTransport=new Pusher.Transport({file:"sockjs",urls:Pusher.URLSchemes.sockjs,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return void 0!==window.SockJS},getSocket:function(a,b){return new SockJS(a,null,{js_path:Pusher.Dependencies.getPath("sockjs",{encrypted:b.encrypted}),ignore_null_origin:b.ignoreNullOrigin})},beforeOpen:function(a,b){a.send(JSON.stringify({path:b}))}});var b={urls:Pusher.URLSchemes.http,handlesActivityChecks:!1,
supportsPing:!0,isInitialized:function(){return Boolean(Pusher.HTTP.Socket)}},c=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getStreamingSocket(a)}},b),b=Pusher.Util.extend({getSocket:function(a){return Pusher.HTTP.getPollingSocket(a)}},b),a={file:"xhr",isSupported:Pusher.Util.isXHRSupported},d={file:"xdr",isSupported:function(a){return Pusher.Util.isXDRSupported(a.encrypted)}};Pusher.XHRStreamingTransport=new Pusher.Transport(Pusher.Util.extend({},c,a));Pusher.XDRStreamingTransport=
new Pusher.Transport(Pusher.Util.extend({},c,d));Pusher.XHRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,a));Pusher.XDRPollingTransport=new Pusher.Transport(Pusher.Util.extend({},b,d))}).call(this);
(function(){function b(a,b,c){this.manager=a;this.transport=b;this.minPingDelay=c.minPingDelay;this.maxPingDelay=c.maxPingDelay;this.pingDelay=void 0}var c=b.prototype;c.createConnection=function(a,b,c,g){var e=this;g=Pusher.Util.extend({},g,{activityTimeout:e.pingDelay});var f=e.transport.createConnection(a,b,c,g),k=null,l=function(){f.unbind("open",l);f.bind("closed",n);k=Pusher.Util.now()},n=function(a){f.unbind("closed",n);1002===a.code||1003===a.code?e.manager.reportDeath():!a.wasClean&&k&&(a=
Pusher.Util.now()-k,a<2*e.maxPingDelay&&(e.manager.reportDeath(),e.pingDelay=Math.max(a/2,e.minPingDelay)))};f.bind("open",l);return f};c.isSupported=function(a){return this.manager.isAlive()&&this.transport.isSupported(a)};Pusher.AssistantToTheTransportManager=b}).call(this);
(function(){function b(a){this.options=a||{};this.livesLeft=this.options.lives||Infinity}var c=b.prototype;c.getAssistant=function(a){return new Pusher.AssistantToTheTransportManager(this,a,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})};c.isAlive=function(){return 0<this.livesLeft};c.reportDeath=function(){this.livesLeft-=1};Pusher.TransportManager=b}).call(this);
(function(){function b(a){return function(b){return[a.apply(this,arguments),b]}}function c(a,b){if(0===a.length)return[[],b];var h=d(a[0],b),e=c(a.slice(1),h[1]);return[[h[0]].concat(e[0]),e[1]]}function a(a,b){if("string"===typeof a[0]&&":"===a[0].charAt(0)){var h=b[a[0].slice(1)];if(1<a.length){if("function"!==typeof h)throw"Calling non-function "+a[0];var e=[Pusher.Util.extend({},b)].concat(Pusher.Util.map(a.slice(1),function(a){return d(a,Pusher.Util.extend({},b))[0]}));return h.apply(this,e)}return[h,
b]}return c(a,b)}function d(b,c){if("string"===typeof b){var d;if("string"===typeof b&&":"===b.charAt(0)){d=c[b.slice(1)];if(void 0===d)throw"Undefined symbol "+b;d=[d,c]}else d=[b,c];return d}return"object"===typeof b&&b instanceof Array&&0<b.length?a(b,c):[b,c]}var h={ws:Pusher.WSTransport,flash:Pusher.FlashTransport,sockjs:Pusher.SockJSTransport,xhr_streaming:Pusher.XHRStreamingTransport,xdr_streaming:Pusher.XDRStreamingTransport,xhr_polling:Pusher.XHRPollingTransport,xdr_polling:Pusher.XDRPollingTransport},
g={isSupported:function(){return!1},connect:function(a,b){var c=Pusher.Util.defer(function(){b(new Pusher.Errors.UnsupportedStrategy)});return{abort:function(){c.ensureAborted()},forceMinPriority:function(){}}}},e={extend:function(a,b,c){return[Pusher.Util.extend({},b,c),a]},def:function(a,b,c){if(void 0!==a[b])throw"Redefining symbol "+b;a[b]=c;return[void 0,a]},def_transport:function(a,b,c,d,e,p){var q=h[c];if(!q)throw new Pusher.Errors.UnsupportedTransport(c);c=(!a.enabledTransports||-1!==Pusher.Util.arrayIndexOf(a.enabledTransports,
b))&&(!a.disabledTransports||-1===Pusher.Util.arrayIndexOf(a.disabledTransports,b))&&("flash"!==b||!0!==a.disableFlash)?new Pusher.TransportStrategy(b,d,p?p.getAssistant(q):q,Pusher.Util.extend({key:a.key,encrypted:a.encrypted,timeline:a.timeline,ignoreNullOrigin:a.ignoreNullOrigin},e)):g;d=a.def(a,b,c)[1];d.transports=a.transports||{};d.transports[b]=c;return[void 0,d]},transport_manager:b(function(a,b){return new Pusher.TransportManager(b)}),sequential:b(function(a,b){var c=Array.prototype.slice.call(arguments,
2);return new Pusher.SequentialStrategy(c,b)}),cached:b(function(a,b,c){return new Pusher.CachedStrategy(c,a.transports,{ttl:b,timeline:a.timeline,encrypted:a.encrypted})}),first_connected:b(function(a,b){return new Pusher.FirstConnectedStrategy(b)}),best_connected_ever:b(function(){var a=Array.prototype.slice.call(arguments,1);return new Pusher.BestConnectedEverStrategy(a)}),delayed:b(function(a,b,c){return new Pusher.DelayedStrategy(c,{delay:b})}),"if":b(function(a,b,c,d){return new Pusher.IfStrategy(b,
c,d)}),is_supported:b(function(a,b){return function(){return b.isSupported()}})};Pusher.StrategyBuilder={build:function(a,b){var c=Pusher.Util.extend({},e,b);return d(a,c)[1].strategy}}}).call(this);
(function(){Pusher.Protocol={decodeMessage:function(b){try{var c=JSON.parse(b.data);if("string"===typeof c.data)try{c.data=JSON.parse(c.data)}catch(a){if(!(a instanceof SyntaxError))throw a;}return c}catch(d){throw{type:"MessageParseError",error:d,data:b.data};}},encodeMessage:function(b){return JSON.stringify(b)},processHandshake:function(b){b=this.decodeMessage(b);if("pusher:connection_established"===b.event){if(!b.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",
id:b.data.socket_id,activityTimeout:1E3*b.data.activity_timeout}}if("pusher:error"===b.event)return{action:this.getCloseAction(b.data),error:this.getCloseError(b.data)};throw"Invalid handshake";},getCloseAction:function(b){return 4E3>b.code?1002<=b.code&&1004>=b.code?"backoff":null:4E3===b.code?"ssl_only":4100>b.code?"refused":4200>b.code?"backoff":4300>b.code?"retry":"refused"},getCloseError:function(b){return 1E3!==b.code&&1001!==b.code?{type:"PusherError",data:{code:b.code,message:b.reason||b.message}}:
null}}}).call(this);
(function(){function b(a,b){Pusher.EventsDispatcher.call(this);this.id=a;this.transport=b;this.activityTimeout=b.activityTimeout;this.bindListeners()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.handlesActivityChecks=function(){return this.transport.handlesActivityChecks()};c.send=function(a){return this.transport.send(a)};c.send_event=function(a,b,c){a={event:a,data:b};c&&(a.channel=c);Pusher.debug("Event sent",a);return this.send(Pusher.Protocol.encodeMessage(a))};c.ping=
function(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})};c.close=function(){this.transport.close()};c.bindListeners=function(){var a=this,b={message:function(b){var c;try{c=Pusher.Protocol.decodeMessage(b)}catch(d){a.emit("error",{type:"MessageParseError",error:d,data:b.data})}if(void 0!==c){Pusher.debug("Event recd",c);switch(c.event){case "pusher:error":a.emit("error",{type:"PusherError",data:c.data});break;case "pusher:ping":a.emit("ping");break;case "pusher:pong":a.emit("pong")}a.emit("message",
c)}},activity:function(){a.emit("activity")},error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(b){c();b&&b.code&&a.handleCloseEvent(b);a.transport=null;a.emit("closed")}},c=function(){Pusher.Util.objectApply(b,function(b,c){a.transport.unbind(c,b)})};Pusher.Util.objectApply(b,function(b,c){a.transport.bind(c,b)})};c.handleCloseEvent=function(a){var b=Pusher.Protocol.getCloseAction(a);(a=Pusher.Protocol.getCloseError(a))&&this.emit("error",a);b&&this.emit(b)};Pusher.Connection=
b}).call(this);
(function(){function b(a,b){this.transport=a;this.callback=b;this.bindListeners()}var c=b.prototype;c.close=function(){this.unbindListeners();this.transport.close()};c.bindListeners=function(){var a=this;a.onMessage=function(b){a.unbindListeners();try{var c=Pusher.Protocol.processHandshake(b);"connected"===c.action?a.finish("connected",{connection:new Pusher.Connection(c.id,a.transport),activityTimeout:c.activityTimeout}):(a.finish(c.action,{error:c.error}),a.transport.close())}catch(g){a.finish("error",{error:g}),
a.transport.close()}};a.onClosed=function(b){a.unbindListeners();var c=Pusher.Protocol.getCloseAction(b)||"backoff";b=Pusher.Protocol.getCloseError(b);a.finish(c,{error:b})};a.transport.bind("message",a.onMessage);a.transport.bind("closed",a.onClosed)};c.unbindListeners=function(){this.transport.unbind("message",this.onMessage);this.transport.unbind("closed",this.onClosed)};c.finish=function(a,b){this.callback(Pusher.Util.extend({transport:this.transport,action:a},b))};Pusher.Handshake=b}).call(this);
(function(){function b(a,b){Pusher.EventsDispatcher.call(this);this.key=a;this.options=b||{};this.state="initialized";this.connection=null;this.encrypted=!!b.encrypted;this.timeline=this.options.timeline;this.connectionCallbacks=this.buildConnectionCallbacks();this.errorCallbacks=this.buildErrorCallbacks();this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var c=this;Pusher.Network.bind("online",function(){c.timeline.info({netinfo:"online"});("connecting"===c.state||"unavailable"===
c.state)&&c.retryIn(0)});Pusher.Network.bind("offline",function(){c.timeline.info({netinfo:"offline"});c.connection&&c.sendActivityCheck()});this.updateStrategy()}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.connect=function(){!this.connection&&!this.runner&&(this.strategy.isSupported()?(this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()):this.updateState("failed"))};c.send=function(a){return this.connection?this.connection.send(a):!1};
c.send_event=function(a,b,c){return this.connection?this.connection.send_event(a,b,c):!1};c.disconnect=function(){this.disconnectInternally();this.updateState("disconnected")};c.isEncrypted=function(){return this.encrypted};c.startConnecting=function(){var a=this,b=function(c,g){c?a.runner=a.strategy.connect(0,b):"error"===g.action?(a.emit("error",{type:"HandshakeError",error:g.error}),a.timeline.error({handshakeError:g.error})):(a.abortConnecting(),a.handshakeCallbacks[g.action](g))};a.runner=a.strategy.connect(0,
b)};c.abortConnecting=function(){this.runner&&(this.runner.abort(),this.runner=null)};c.disconnectInternally=function(){this.abortConnecting();this.clearRetryTimer();this.clearUnavailableTimer();this.connection&&this.abandonConnection().close()};c.updateStrategy=function(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,encrypted:this.encrypted})};c.retryIn=function(a){var b=this;b.timeline.info({action:"retry",delay:a});0<a&&b.emit("connecting_in",Math.round(a/1E3));b.retryTimer=
new Pusher.Timer(a||0,function(){b.disconnectInternally();b.connect()})};c.clearRetryTimer=function(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)};c.setUnavailableTimer=function(){var a=this;a.unavailableTimer=new Pusher.Timer(a.options.unavailableTimeout,function(){a.updateState("unavailable")})};c.clearUnavailableTimer=function(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()};c.sendActivityCheck=function(){var a=this;a.stopActivityCheck();a.connection.ping();
a.activityTimer=new Pusher.Timer(a.options.pongTimeout,function(){a.timeline.error({pong_timed_out:a.options.pongTimeout});a.retryIn(0)})};c.resetActivityCheck=function(){var a=this;a.stopActivityCheck();a.connection.handlesActivityChecks()||(a.activityTimer=new Pusher.Timer(a.activityTimeout,function(){a.sendActivityCheck()}))};c.stopActivityCheck=function(){this.activityTimer&&this.activityTimer.ensureAborted()};c.buildConnectionCallbacks=function(){var a=this;return{message:function(b){a.resetActivityCheck();
a.emit("message",b)},ping:function(){a.send_event("pusher:pong",{})},activity:function(){a.resetActivityCheck()},error:function(b){a.emit("error",{type:"WebSocketError",error:b})},closed:function(){a.abandonConnection();a.shouldRetry()&&a.retryIn(1E3)}}};c.buildHandshakeCallbacks=function(a){var b=this;return Pusher.Util.extend({},a,{connected:function(a){b.activityTimeout=Math.min(b.options.activityTimeout,a.activityTimeout,a.connection.activityTimeout||Infinity);b.clearUnavailableTimer();b.setConnection(a.connection);
b.socket_id=b.connection.id;b.updateState("connected",{socket_id:b.socket_id})}})};c.buildErrorCallbacks=function(){function a(a){return function(c){c.error&&b.emit("error",{type:"WebSocketError",error:c.error});a(c)}}var b=this;return{ssl_only:a(function(){b.encrypted=!0;b.updateStrategy();b.retryIn(0)}),refused:a(function(){b.disconnect()}),backoff:a(function(){b.retryIn(1E3)}),retry:a(function(){b.retryIn(0)})}};c.setConnection=function(a){this.connection=a;for(var b in this.connectionCallbacks)this.connection.bind(b,
this.connectionCallbacks[b]);this.resetActivityCheck()};c.abandonConnection=function(){if(this.connection){this.stopActivityCheck();for(var a in this.connectionCallbacks)this.connection.unbind(a,this.connectionCallbacks[a]);a=this.connection;this.connection=null;return a}};c.updateState=function(a,b){var c=this.state;this.state=a;c!==a&&(Pusher.debug("State changed",c+" -> "+a),this.timeline.info({state:a,params:b}),this.emit("state_change",{previous:c,current:a}),this.emit(a,b))};c.shouldRetry=function(){return"connecting"===
this.state||"connected"===this.state};Pusher.ConnectionManager=b}).call(this);
(function(){function b(){Pusher.EventsDispatcher.call(this);var b=this;void 0!==window.addEventListener&&(window.addEventListener("online",function(){b.emit("online")},!1),window.addEventListener("offline",function(){b.emit("offline")},!1))}Pusher.Util.extend(b.prototype,Pusher.EventsDispatcher.prototype);b.prototype.isOnline=function(){return void 0===window.navigator.onLine?!0:window.navigator.onLine};Pusher.NetInfo=b;Pusher.Network=new b}).call(this);
(function(){function b(){this.reset()}var c=b.prototype;c.get=function(a){return Object.prototype.hasOwnProperty.call(this.members,a)?{id:a,info:this.members[a]}:null};c.each=function(a){var b=this;Pusher.Util.objectApply(b.members,function(c,g){a(b.get(g))})};c.setMyID=function(a){this.myID=a};c.onSubscription=function(a){this.members=a.presence.hash;this.count=a.presence.count;this.me=this.get(this.myID)};c.addMember=function(a){null===this.get(a.user_id)&&this.count++;this.members[a.user_id]=a.user_info;
return this.get(a.user_id)};c.removeMember=function(a){var b=this.get(a.user_id);b&&(delete this.members[a.user_id],this.count--);return b};c.reset=function(){this.members={};this.count=0;this.me=this.myID=null};Pusher.Members=b}).call(this);
(function(){function b(a,b){Pusher.EventsDispatcher.call(this,function(b,c){Pusher.debug("No callbacks on "+a+" for "+b)});this.name=a;this.pusher=b;this.subscribed=!1}var c=b.prototype;Pusher.Util.extend(c,Pusher.EventsDispatcher.prototype);c.authorize=function(a,b){return b(!1,{})};c.trigger=function(a,b){if(0!==a.indexOf("client-"))throw new Pusher.Errors.BadEventName("Event '"+a+"' does not start with 'client-'");return this.pusher.send_event(a,b,this.name)};c.disconnect=function(){this.subscribed=
!1};c.handleEvent=function(a,b){0===a.indexOf("pusher_internal:")?"pusher_internal:subscription_succeeded"===a&&(this.subscribed=!0,this.emit("pusher:subscription_succeeded",b)):this.emit(a,b)};c.subscribe=function(){var a=this;a.authorize(a.pusher.connection.socket_id,function(b,c){b?a.handleEvent("pusher:subscription_error",c):a.pusher.send_event("pusher:subscribe",{auth:c.auth,channel_data:c.channel_data,channel:a.name})})};c.unsubscribe=function(){this.pusher.send_event("pusher:unsubscribe",{channel:this.name})};
Pusher.Channel=b}).call(this);(function(){function b(a,b){Pusher.Channel.call(this,a,b)}var c=b.prototype;Pusher.Util.extend(c,Pusher.Channel.prototype);c.authorize=function(a,b){return(new Pusher.Channel.Authorizer(this,this.pusher.config)).authorize(a,b)};Pusher.PrivateChannel=b}).call(this);
(function(){function b(a,b){Pusher.PrivateChannel.call(this,a,b);this.members=new Pusher.Members}var c=b.prototype;Pusher.Util.extend(c,Pusher.PrivateChannel.prototype);c.authorize=function(a,b){var c=this;Pusher.PrivateChannel.prototype.authorize.call(c,a,function(a,e){if(!a){if(void 0===e.channel_data){Pusher.warn("Invalid auth response for channel '"+c.name+"', expected 'channel_data' field");b("Invalid auth response");return}var f=JSON.parse(e.channel_data);c.members.setMyID(f.user_id)}b(a,e)})};
c.handleEvent=function(a,b){switch(a){case "pusher_internal:subscription_succeeded":this.members.onSubscription(b);this.subscribed=!0;this.emit("pusher:subscription_succeeded",this.members);break;case "pusher_internal:member_added":var c=this.members.addMember(b);this.emit("pusher:member_added",c);break;case "pusher_internal:member_removed":(c=this.members.removeMember(b))&&this.emit("pusher:member_removed",c);break;default:Pusher.PrivateChannel.prototype.handleEvent.call(this,a,b)}};c.disconnect=
function(){this.members.reset();Pusher.PrivateChannel.prototype.disconnect.call(this)};Pusher.PresenceChannel=b}).call(this);
(function(){function b(){this.channels={}}var c=b.prototype;c.add=function(a,b){if(!this.channels[a]){var c=this.channels,g;g=0===a.indexOf("private-")?new Pusher.PrivateChannel(a,b):0===a.indexOf("presence-")?new Pusher.PresenceChannel(a,b):new Pusher.Channel(a,b);c[a]=g}return this.channels[a]};c.all=function(a){return Pusher.Util.values(this.channels)};c.find=function(a){return this.channels[a]};c.remove=function(a){var b=this.channels[a];delete this.channels[a];return b};c.disconnect=function(){Pusher.Util.objectApply(this.channels,
function(a){a.disconnect()})};Pusher.Channels=b}).call(this);
(function(){Pusher.Channel.Authorizer=function(b,a){this.channel=b;this.type=a.authTransport;this.options=a;this.authOptions=(a||{}).auth||{}};Pusher.Channel.Authorizer.prototype={composeQuery:function(b){b="socket_id="+encodeURIComponent(b)+"&channel_name="+encodeURIComponent(this.channel.name);for(var a in this.authOptions.params)b+="&"+encodeURIComponent(a)+"="+encodeURIComponent(this.authOptions.params[a]);return b},authorize:function(b,a){return Pusher.authorizers[this.type].call(this,b,a)}};
var b=1;Pusher.auth_callbacks={};Pusher.authorizers={ajax:function(b,a){var d;d=Pusher.XHR?new Pusher.XHR:window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");d.open("POST",this.options.authEndpoint,!0);d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var h in this.authOptions.headers)d.setRequestHeader(h,this.authOptions.headers[h]);d.onreadystatechange=function(){if(4===d.readyState)if(200===d.status){var b,c=!1;try{b=JSON.parse(d.responseText),
c=!0}catch(f){a(!0,"JSON returned from webapp was invalid, yet status code was 200. Data was: "+d.responseText)}c&&a(!1,b)}else Pusher.warn("Couldn't get auth info from your webapp",d.status),a(!0,d.status)};d.send(this.composeQuery(b));return d},jsonp:function(c,a){void 0!==this.authOptions.headers&&Pusher.warn("Warn","To send headers with the auth request, you must use AJAX, rather than JSONP.");var d=b.toString();b++;var h=Pusher.Util.getDocument(),g=h.createElement("script");Pusher.auth_callbacks[d]=
function(b){a(!1,b)};g.src=this.options.authEndpoint+"?callback="+encodeURIComponent("Pusher.auth_callbacks['"+d+"']")+"&"+this.composeQuery(c);d=h.getElementsByTagName("head")[0]||h.documentElement;d.insertBefore(g,d.firstChild)}}}).call(this);
;
;
/*! nprogress.js */ 
;
;
/*! NProgress (c) 2013, Rico Sta. Cruz
*  http://ricostacruz.com/nprogress */
;(function(factory) {
if (typeof module === 'function') {
module.exports = factory(this.jQuery || require('jquery'));
} else {
this.NProgress = factory(this.jQuery);
}
})(function($) {
var NProgress = {};
NProgress.version = '0.1.2';
var Settings = NProgress.settings = {
minimum: 0.08,
easing: 'ease',
positionUsing: '',
speed: 200,
trickle: true,
trickleRate: 0.02,
trickleSpeed: 800,
showSpinner: true,
template: '<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'
};
/**
* Updates configuration.
*
*     NProgress.configure({
*       minimum: 0.1
*     });
*/
NProgress.configure = function(options) {
$.extend(Settings, options);
return this;
};
/**
* Last number.
*/
NProgress.status = null;
/**
* Sets the progress bar status, where `n` is a number from `0.0` to `1.0`.
*
*     NProgress.set(0.4);
*     NProgress.set(1.0);
*/
NProgress.set = function(n) {
var started = NProgress.isStarted();
n = clamp(n, Settings.minimum, 1);
NProgress.status = (n === 1 ? null : n);
var $progress = NProgress.render(!started),
$bar      = $progress.find('[role="bar"]'),
speed     = Settings.speed,
ease      = Settings.easing;
$progress[0].offsetWidth; /* Repaint */
$progress.queue(function(next) {
if (Settings.positionUsing === '') Settings.positionUsing = NProgress.getPositioningCSS();
$bar.css(barPositionCSS(n, speed, ease));
if (n === 1) {
$progress.css({ transition: 'none', opacity: 1 });
$progress[0].offsetWidth; /* Repaint */
setTimeout(function() {
$progress.css({ transition: 'all '+speed+'ms linear', opacity: 0 });
setTimeout(function() {
NProgress.remove();
next();
}, speed);
}, speed);
} else {
setTimeout(next, speed * 0.9);
}
});
return this;
};
NProgress.isStarted = function() {
return typeof NProgress.status === 'number';
};
/**
* Shows the progress bar.
* This is the same as setting the status to 0%, except that it doesn't go backwards.
*
*     NProgress.start();
*
*/
NProgress.start = function() {
if (!NProgress.status) NProgress.set(0);
var work = function() {
setTimeout(function() {
if (!NProgress.status) return;
NProgress.trickle();
work();
}, Settings.trickleSpeed);
};
if (Settings.trickle) work();
return this;
};
/**
* Hides the progress bar.
* This is the *sort of* the same as setting the status to 100%, with the
* difference being `done()` makes some placebo effect of some realistic motion.
*
*     NProgress.done();
*
* If `true` is passed, it will show the progress bar even if its hidden.
*
*     NProgress.done(true);
*/
NProgress.done = function(force) {
if (!force && !NProgress.status) return this;
var started = NProgress.isStarted();
var $progress = NProgress.render(!started);
$progress.clearQueue();
return NProgress.inc(0.3 + 0.5 * Math.random()).set(1);
};
/**
* Increments by a random amount.
*/
NProgress.inc = function(amount) {
var n = NProgress.status;
if (!n) {
return NProgress.start();
} else {
if (typeof amount !== 'number') {
amount = (1 - n) * clamp(Math.random() * n, 0.1, 0.95);
}
n = clamp(n + amount, 0, 0.994);
return NProgress.set(n);
}
};
NProgress.trickle = function() {
return NProgress.inc(Math.random() * Settings.trickleRate);
};
/**
* (Internal) renders the progress bar markup based on the `template`
* setting.
*/
NProgress.render = function(fromStart) {
if (NProgress.isRendered()) return $("#nprogress");
$('html').addClass('nprogress-busy');
var $el = $("<div id='nprogress'>")
.html(Settings.template);
var perc = fromStart ? '-100' : toBarPerc(NProgress.status || 0);
$el.find('[role="bar"]').css({
transition: 'all 0 linear',
transform: 'translate3d('+perc+'%,0,0)'
});
if (!Settings.showSpinner)
$el.find('[role="spinner"]').remove();
$el.appendTo(document.body);
return $el;
};
/**
* Removes the element. Opposite of render().
*/
NProgress.remove = function() {
$('html').removeClass('nprogress-busy');
$('#nprogress').remove();
};
/**
* Checks if the progress bar is rendered.
*/
NProgress.isRendered = function() {
return ($("#nprogress").length > 0);
};
/**
* Determine which positioning CSS rule to use.
*/
NProgress.getPositioningCSS = function() {
var bodyStyle = document.body.style;
var vendorPrefix = ('WebkitTransform' in bodyStyle) ? 'Webkit' :
('MozTransform' in bodyStyle) ? 'Moz' :
('msTransform' in bodyStyle) ? 'ms' :
('OTransform' in bodyStyle) ? 'O' : '';
if (vendorPrefix + 'Perspective' in bodyStyle) {
return 'translate3d';
} else if (vendorPrefix + 'Transform' in bodyStyle) {
return 'translate';
} else {
return 'margin';
}
};
/**
* Helpers
*/
function clamp(n, min, max) {
if (n < min) return min;
if (n > max) return max;
return n;
}
/**
* (Internal) converts a percentage (`0..1`) to a bar translateX
* percentage (`-100%..0%`).
*/
function toBarPerc(n) {
return (-1 + n) * 100;
}
/**
* (Internal) returns the correct CSS for changing the bar's
* position given an n percentage, and speed and ease from Settings
*/
function barPositionCSS(n, speed, ease) {
var barCSS;
if (Settings.positionUsing === 'translate3d') {
barCSS = { transform: 'translate3d('+toBarPerc(n)+'%,0,0)' };
} else if (Settings.positionUsing === 'translate') {
barCSS = { transform: 'translate('+toBarPerc(n)+'%,0)' };
} else {
barCSS = { 'margin-left': toBarPerc(n)+'%' };
}
barCSS.transition = 'all '+speed+'ms '+ease;
return barCSS;
}
return NProgress;
});
;
;
/*! filesize.min.js */ 
;
;
/*
2013 Jason Mulligan
@license BSD-3 <https://raw.github.com/avoidwork/filesize.js/master/LICENSE>
@link http://filesizejs.com
@module filesize
@version 2.0.0
*/
(function(r){function f(f,c){var b="",g=!1,l=6,a,h,q,d,m,n,p,e,k;if(isNaN(f))throw Error("Invalid arguments");c=c||{};h=!0===c.bits;e=!0===c.unix;a=void 0!==c.base?c.base:e?2:10;m=void 0!==c.round?c.round:e?1:2;k=void 0!==c.spacer?c.spacer:e?"":" ";d=Number(f);(q=0>d)&&(d=-d);if(0===d)b=e?"0":"0"+k+"B";else for(p=s[a][h?"bits":"bytes"];l--;)if(n=p[l][1],a=p[l][0],d>=n){t.test(a)&&(g=!0,m=0);b=(d/n).toFixed(m);!g&&e?(h&&u.test(a)&&(a=a.toLowerCase()),a=a.charAt(0),g=v.exec(b),h||"k"!==a||(a="K"),null!==
g&&void 0!==g[1]&&w.test(g[1])&&(b=parseInt(b,x)),b+=k+a):e||(b+=k+a);break}q&&(b="-"+b);return b}var u=/b$/,t=/^B$/,x=10,v=/\.(.*)/,w=/^0$/,s={2:{bits:[["B",1],["kb",128],["Mb",131072],["Gb",134217728],["Tb",137438953472],["Pb",0x800000000000]],bytes:[["B",1],["kB",1024],["MB",1048576],["GB",1073741824],["TB",1099511627776],["PB",0x4000000000000]]},10:{bits:[["B",1],["kb",125],["Mb",125E3],["Gb",125E6],["Tb",125E9],["Pb",125E12]],bytes:[["B",1],["kB",1E3],["MB",1E6],["GB",1E9],["TB",1E12],["PB",
1E15]]}};"undefined"!==typeof exports?module.exports=f:"function"===typeof define?define(function(){return f}):r.filesize=f})(this);

;
;
/*! jquery.mousewheel.js */ 
;
;
/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
* Licensed under the MIT License (LICENSE.txt).
*
* Version: 3.1.6
*
* Requires: jQuery 1.2.2+
*/
(function (factory) {
if ( typeof define === 'function' && define.amd ) {
define(['jquery'], factory);
} else if (typeof exports === 'object') {
module.exports = factory;
} else {
factory(jQuery);
}
}(function ($) {
var toFix  = ['wheel', 'mousewheel', 'DOMMouseScroll', 'MozMousePixelScroll'],
toBind = ( 'onwheel' in document || document.documentMode >= 9 ) ?
['wheel'] : ['mousewheel', 'DomMouseScroll', 'MozMousePixelScroll'],
slice  = Array.prototype.slice,
nullLowestDeltaTimeout, lowestDelta;
if ( $.event.fixHooks ) {
for ( var i = toFix.length; i; ) {
$.event.fixHooks[ toFix[--i] ] = $.event.mouseHooks;
}
}
$.event.special.mousewheel = {
version: '3.1.6',
setup: function() {
if ( this.addEventListener ) {
for ( var i = toBind.length; i; ) {
this.addEventListener( toBind[--i], handler, false );
}
} else {
this.onmousewheel = handler;
}
},
teardown: function() {
if ( this.removeEventListener ) {
for ( var i = toBind.length; i; ) {
this.removeEventListener( toBind[--i], handler, false );
}
} else {
this.onmousewheel = null;
}
}
};
$.fn.extend({
mousewheel: function(fn) {
return fn ? this.bind('mousewheel', fn) : this.trigger('mousewheel');
},
unmousewheel: function(fn) {
return this.unbind('mousewheel', fn);
}
});
function handler(event) {
var orgEvent   = event || window.event,
args       = slice.call(arguments, 1),
delta      = 0,
deltaX     = 0,
deltaY     = 0,
absDelta   = 0;
event = $.event.fix(orgEvent);
event.type = 'mousewheel';
if ( 'detail'      in orgEvent ) { deltaY = orgEvent.detail * -1;      }
if ( 'wheelDelta'  in orgEvent ) { deltaY = orgEvent.wheelDelta;       }
if ( 'wheelDeltaY' in orgEvent ) { deltaY = orgEvent.wheelDeltaY;      }
if ( 'wheelDeltaX' in orgEvent ) { deltaX = orgEvent.wheelDeltaX * -1; }
if ( 'axis' in orgEvent && orgEvent.axis === orgEvent.HORIZONTAL_AXIS ) {
deltaX = deltaY * -1;
deltaY = 0;
}
delta = deltaY === 0 ? deltaX : deltaY;
if ( 'deltaY' in orgEvent ) {
deltaY = orgEvent.deltaY * -1;
delta  = deltaY;
}
if ( 'deltaX' in orgEvent ) {
deltaX = orgEvent.deltaX;
if ( deltaY === 0 ) { delta  = deltaX * -1; }
}
if ( deltaY === 0 && deltaX === 0 ) { return; }
absDelta = Math.max( Math.abs(deltaY), Math.abs(deltaX) );
if ( !lowestDelta || absDelta < lowestDelta ) {
lowestDelta = absDelta;
}
delta  = Math[ delta  >= 1 ? 'floor' : 'ceil' ](delta  / lowestDelta);
deltaX = Math[ deltaX >= 1 ? 'floor' : 'ceil' ](deltaX / lowestDelta);
deltaY = Math[ deltaY >= 1 ? 'floor' : 'ceil' ](deltaY / lowestDelta);
event.deltaX = deltaX;
event.deltaY = deltaY;
event.deltaFactor = lowestDelta;
args.unshift(event, delta, deltaX, deltaY);
if (nullLowestDeltaTimeout) { clearTimeout(nullLowestDeltaTimeout); }
nullLowestDeltaTimeout = setTimeout(nullLowestDelta, 200);
return ($.event.dispatch || $.event.handle).apply(this, args);
}
function nullLowestDelta() {
lowestDelta = null;
}
}));
;
;
/*! jquery.specialscroll.js */ 
;
;
/*
James Padolsey
Special scroll events for jQuery
Found here: http://james.padolsey.com/javascript/special-scroll-events-for-jquery/
*/
(function(){
var special = jQuery.event.special,
uid1 = 'D' + (+new Date()),
uid2 = 'D' + (+new Date() + 1);
special.scrollstart = {
setup: function() {
var timer,
handler =  function(evt) {
var _self = this,
_args = arguments;
if (timer) {
clearTimeout(timer);
} else {
evt.type = 'scrollstart';
jQuery.event.handle.apply(_self, _args);
}
timer = setTimeout( function(){
timer = null;
}, special.scrollstop.latency);
};
jQuery(this).bind('scroll', handler).data(uid1, handler);
},
teardown: function(){
jQuery(this).unbind( 'scroll', jQuery(this).data(uid1) );
}
};
special.scrollstop = {
latency: 300,
setup: function() {
var timer,
handler = function(evt) {
var _self = this,
_args = arguments;
if (timer) {
clearTimeout(timer);
}
timer = setTimeout( function(){
timer = null;
evt.type = 'scrollstop';
jQuery.event.handle.apply(_self, _args);
}, special.scrollstop.latency);
};
jQuery(this).bind('scroll', handler).data(uid2, handler);
},
teardown: function() {
jQuery(this).unbind( 'scroll', jQuery(this).data(uid2) );
}
};
})();
;
;
/*! jquery.cookie.js */ 
;
;
/*!
* jQuery Cookie Plugin v1.4.0
* https://github.com/carhartl/jquery-cookie
*
* Copyright 2013 Klaus Hartl
* Released under the MIT license
*/
(function (factory) {
if (typeof define === 'function' && define.amd) {
define(['jquery'], factory);
} else {
factory(jQuery);
}
}(function ($) {
var pluses = /\+/g;
function encode(s) {
return config.raw ? s : encodeURIComponent(s);
}
function decode(s) {
return config.raw ? s : decodeURIComponent(s);
}
function stringifyCookieValue(value) {
return encode(config.json ? JSON.stringify(value) : String(value));
}
function parseCookieValue(s) {
if (s.indexOf('"') === 0) {
s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
}
try {
s = decodeURIComponent(s.replace(pluses, ' '));
return config.json ? JSON.parse(s) : s;
} catch(e) {}
}
function read(s, converter) {
var value = config.raw ? s : parseCookieValue(s);
return $.isFunction(converter) ? converter(value) : value;
}
var config = $.cookie = function (key, value, options) {
if (value !== undefined && !$.isFunction(value)) {
options = $.extend({}, config.defaults, options);
if (typeof options.expires === 'number') {
var days = options.expires, t = options.expires = new Date();
t.setTime(+t + days * 864e+5);
}
return (document.cookie = [
encode(key), '=', stringifyCookieValue(value),
options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
options.path    ? '; path=' + options.path : '',
options.domain  ? '; domain=' + options.domain : '',
options.secure  ? '; secure' : ''
].join(''));
}
var result = key ? undefined : {};
var cookies = document.cookie ? document.cookie.split('; ') : [];
for (var i = 0, l = cookies.length; i < l; i++) {
var parts = cookies[i].split('=');
var name = decode(parts.shift());
var cookie = parts.join('=');
if (key && key === name) {
result = read(cookie, value);
break;
}
if (!key && (cookie = read(cookie)) !== undefined) {
result[name] = cookie;
}
}
return result;
};
config.defaults = {};
$.removeCookie = function (key, options) {
if ($.cookie(key) === undefined) {
return false;
}
$.cookie(key, '', $.extend({}, options, { expires: -1 }));
return !$.cookie(key);
};
}));
;
;
/*! TweenLite.min.js */ 
;
;
/*!
* VERSION: 1.16.1
* DATE: 2015-03-13
* UPDATES AND DOCS AT: http://greensock.com
*
* @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
* This work is subject to the terms at http://greensock.com/standard-license or for
* Club GreenSock members, the software agreement that was issued with your membership.
* 
* @author: Jack Doyle, jack@greensock.com
*/
(function(t,e){"use strict";var i=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!i.TweenLite){var s,r,n,a,o,l=function(t){var e,s=t.split("."),r=i;for(e=0;s.length>e;e++)r[s[e]]=r=r[s[e]]||{};return r},h=l("com.greensock"),_=1e-10,u=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},m=function(){},f=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),c={},p=function(s,r,n,a){this.sc=c[s]?c[s].sc:[],c[s]=this,this.gsClass=null,this.func=n;var o=[];this.check=function(h){for(var _,u,m,f,d=r.length,v=d;--d>-1;)(_=c[r[d]]||new p(r[d],[])).gsClass?(o[d]=_.gsClass,v--):h&&_.sc.push(this);if(0===v&&n)for(u=("com.greensock."+s).split("."),m=u.pop(),f=l(u.join("."))[m]=this.gsClass=n.apply(n,o),a&&(i[m]=f,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+s.split(".").pop(),[],function(){return f}):s===e&&"undefined"!=typeof module&&module.exports&&(module.exports=f)),d=0;this.sc.length>d;d++)this.sc[d].check()},this.check(!0)},d=t._gsDefine=function(t,e,i,s){return new p(t,e,i,s)},v=h._class=function(t,e,i){return e=e||function(){},d(t,[],function(){return e},i),e};d.globals=i;var g=[0,0,1,1],T=[],y=v("easing.Ease",function(t,e,i,s){this._func=t,this._type=i||0,this._power=s||0,this._params=e?g.concat(e):g},!0),w=y.map={},P=y.register=function(t,e,i,s){for(var r,n,a,o,l=e.split(","),_=l.length,u=(i||"easeIn,easeOut,easeInOut").split(",");--_>-1;)for(n=l[_],r=s?v("easing."+n,null,!0):h.easing[n]||{},a=u.length;--a>-1;)o=u[a],w[n+"."+o]=w[o+n]=r[o]=t.getRatio?t:t[o]||new t};for(n=y.prototype,n._calcEnd=!1,n.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,s=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===i?s*=s:2===i?s*=s*s:3===i?s*=s*s*s:4===i&&(s*=s*s*s*s),1===e?1-s:2===e?s:.5>t?s/2:1-s/2},s=["Linear","Quad","Cubic","Quart","Quint,Strong"],r=s.length;--r>-1;)n=s[r]+",Power"+r,P(new y(null,null,1,r),n,"easeOut",!0),P(new y(null,null,2,r),n,"easeIn"+(0===r?",easeNone":"")),P(new y(null,null,3,r),n,"easeInOut");w.linear=h.easing.Linear.easeIn,w.swing=h.easing.Quad.easeInOut;var b=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});n=b.prototype,n.addEventListener=function(t,e,i,s,r){r=r||0;var n,l,h=this._listeners[t],_=0;for(null==h&&(this._listeners[t]=h=[]),l=h.length;--l>-1;)n=h[l],n.c===e&&n.s===i?h.splice(l,1):0===_&&r>n.pr&&(_=l+1);h.splice(_,0,{c:e,s:i,up:s,pr:r}),this!==a||o||a.wake()},n.removeEventListener=function(t,e){var i,s=this._listeners[t];if(s)for(i=s.length;--i>-1;)if(s[i].c===e)return s.splice(i,1),void 0},n.dispatchEvent=function(t){var e,i,s,r=this._listeners[t];if(r)for(e=r.length,i=this._eventTarget;--e>-1;)s=r[e],s&&(s.up?s.c.call(s.s||i,{type:t,target:i}):s.c.call(s.s||i))};var k=t.requestAnimationFrame,S=t.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},x=A();for(s=["ms","moz","webkit","o"],r=s.length;--r>-1&&!k;)k=t[s[r]+"RequestAnimationFrame"],S=t[s[r]+"CancelAnimationFrame"]||t[s[r]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var i,s,r,n,l,h=this,u=A(),f=e!==!1&&k,c=500,p=33,d="tick",v=function(t){var e,a,o=A()-x;o>c&&(u+=o-p),x+=o,h.time=(x-u)/1e3,e=h.time-l,(!i||e>0||t===!0)&&(h.frame++,l+=e+(e>=n?.004:n-e),a=!0),t!==!0&&(r=s(v)),a&&h.dispatchEvent(d)};b.call(h),h.time=h.frame=0,h.tick=function(){v(!0)},h.lagSmoothing=function(t,e){c=t||1/_,p=Math.min(e,c,0)},h.sleep=function(){null!=r&&(f&&S?S(r):clearTimeout(r),s=m,r=null,h===a&&(o=!1))},h.wake=function(){null!==r?h.sleep():h.frame>10&&(x=A()-c+5),s=0===i?m:f&&k?k:function(t){return setTimeout(t,0|1e3*(l-h.time)+1)},h===a&&(o=!0),v(2)},h.fps=function(t){return arguments.length?(i=t,n=1/(i||60),l=this.time+n,h.wake(),void 0):i},h.useRAF=function(t){return arguments.length?(h.sleep(),f=t,h.fps(i),void 0):f},h.fps(t),setTimeout(function(){f&&5>h.frame&&h.useRAF(!1)},1500)}),n=h.Ticker.prototype=new h.events.EventDispatcher,n.constructor=h.Ticker;var R=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,B){o||a.wake();var i=this.vars.useFrames?q:B;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});a=R.ticker=new h.Ticker,n=R.prototype,n._dirty=n._gc=n._initted=n._paused=!1,n._totalTime=n._time=0,n._rawPrevTime=-1,n._next=n._last=n._onUpdate=n._timeline=n.timeline=null,n._paused=!1;var C=function(){o&&A()-x>2e3&&a.wake(),setTimeout(C,2e3)};C(),n.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},n.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},n.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},n.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},n.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},n.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},n.render=function(){},n.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},n.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=i&&i+this.totalDuration()/this._timeScale>t},n._enabled=function(t,e){return o||a.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},n._kill=function(){return this._enabled(!1,!1)},n.kill=function(t,e){return this._kill(t,e),this},n._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},n._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},n.eventCallback=function(t,e,i,s){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=f(i)&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[t+"Scope"]=s),"onUpdate"===t&&(this._onUpdate=e)}return this},n.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},n.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},n.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},n.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},n.totalTime=function(t,e,i){if(o||a.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var s=this._totalDuration,r=this._timeline;if(t>s&&!i&&(t=s),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?s-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),z.length&&$())}return this},n.progress=n.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},n.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},n.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},n.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||_,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},n.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},n.paused=function(t){if(!arguments.length)return this._paused;var e,i,s=this._timeline;return t!=this._paused&&s&&(o||t||a.wake(),e=s.rawTime(),i=e-this._pauseTime,!t&&s.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&this.render(s.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,!0,!0)),this._gc&&!t&&this._enabled(!0,!1),this};var D=v("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});n=D.prototype=new R,n.constructor=D,n.kill()._gc=!1,n._first=n._last=n._recent=null,n._sortChildren=!1,n.add=n.insert=function(t,e){var i,s;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),i=this._last,this._sortChildren)for(s=t._startTime;i&&i._startTime>s;)i=i._prev;return i?(t._next=i._next,i._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=i,this._recent=t,this._timeline&&this._uncache(!0),this},n._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},n.render=function(t,e,i){var s,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)s=r._next,(r._active||t>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=s},n.rawTime=function(){return o||a.wake(),this._totalTime};var I=v("TweenLite",function(e,i,s){if(R.call(this,i,s),this.render=I.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:I.selector(e)||e;var r,n,a,o=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?Q[I.defaultOverwrite]:"number"==typeof l?l>>0:Q[l],(o||e instanceof Array||e.push&&f(e))&&"number"!=typeof e[0])for(this._targets=a=u(e),this._propLookup=[],this._siblings=[],r=0;a.length>r;r++)n=a[r],n?"string"!=typeof n?n.length&&n!==t&&n[0]&&(n[0]===t||n[0].nodeType&&n[0].style&&!n.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(u(n))):(this._siblings[r]=K(n,this,!1),1===l&&this._siblings[r].length>1&&J(n,this,null,1,this._siblings[r])):(n=a[r--]=I.selector(n),"string"==typeof n&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=K(e,this,!1),1===l&&this._siblings.length>1&&J(e,this,null,1,this._siblings);(this.vars.immediateRender||0===i&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-_,this.render(-this._delay))},!0),E=function(e){return e&&e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},O=function(t,e){var i,s={};for(i in t)G[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!U[i]||U[i]&&U[i]._autoCSS)||(s[i]=t[i],delete t[i]);t.css=s};n=I.prototype=new R,n.constructor=I,n.kill()._gc=!1,n.ratio=0,n._firstPT=n._targets=n._overwrittenProps=n._startAt=null,n._notifyPluginsOfEnabled=n._lazy=!1,I.version="1.16.1",I.defaultEase=n._ease=new y(null,null,1,1),I.defaultOverwrite="auto",I.ticker=a,I.autoSleep=120,I.lagSmoothing=function(t,e){a.lagSmoothing(t,e)},I.selector=t.$||t.jQuery||function(e){var i=t.$||t.jQuery;return i?(I.selector=i,i(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var z=[],L={},N=I._internals={isArray:f,isSelector:E,lazyTweens:z},U=I._plugins={},F=N.tweenLookup={},j=0,G=N.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1},Q={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},q=R._rootFramesTimeline=new D,B=R._rootTimeline=new D,M=30,$=N.lazyRender=function(){var t,e=z.length;for(L={};--e>-1;)t=z[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);z.length=0};B._startTime=a.time,q._startTime=a.frame,B._active=q._active=!0,setTimeout($,1),R._updateRoot=I.render=function(){var t,e,i;if(z.length&&$(),B.render((a.time-B._startTime)*B._timeScale,!1,!1),q.render((a.frame-q._startTime)*q._timeScale,!1,!1),z.length&&$(),a.frame>=M){M=a.frame+(parseInt(I.autoSleep,10)||120);for(i in F){for(e=F[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete F[i]}if(i=B._first,(!i||i._paused)&&I.autoSleep&&!q._first&&1===a._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||a.sleep()}}},a.addEventListener("tick",R._updateRoot);var K=function(t,e,i){var s,r,n=t._gsTweenID;if(F[n||(t._gsTweenID=n="t"+j++)]||(F[n]={target:t,tweens:[]}),e&&(s=F[n].tweens,s[r=s.length]=e,i))for(;--r>-1;)s[r]===e&&s.splice(r,1);return F[n].tweens},H=function(t,e,i,s){var r,n,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,s)),a=I.onOverwrite,a&&(n=a(t,e,i,s)),r!==!1&&n!==!1},J=function(t,e,i,s,r){var n,a,o,l;if(1===s||s>=4){for(l=r.length,n=0;l>n;n++)if((o=r[n])!==e)o._gc||H(o,e)&&o._enabled(!1,!1)&&(a=!0);else if(5===s)break;return a}var h,u=e._startTime+_,m=[],f=0,c=0===e._duration;for(n=r.length;--n>-1;)(o=r[n])===e||o._gc||o._paused||(o._timeline!==e._timeline?(h=h||V(e,0,c),0===V(o,h,c)&&(m[f++]=o)):u>=o._startTime&&o._startTime+o.totalDuration()/o._timeScale>u&&((c||!o._initted)&&2e-10>=u-o._startTime||(m[f++]=o)));for(n=f;--n>-1;)if(o=m[n],2===s&&o._kill(i,t,e)&&(a=!0),2!==s||!o._firstPT&&o._initted){if(2!==s&&!H(o,e))continue;o._enabled(!1,!1)&&(a=!0)}return a},V=function(t,e,i){for(var s=t._timeline,r=s._timeScale,n=t._startTime;s._timeline;){if(n+=s._startTime,r*=s._timeScale,s._paused)return-100;s=s._timeline}return n/=r,n>e?n-e:i&&n===e||!t._initted&&2*_>n-e?_:(n+=t.totalDuration()/t._timeScale/r)>e+_?0:n-e-_};n._init=function(){var t,e,i,s,r,n=this.vars,a=this._overwrittenProps,o=this._duration,l=!!n.immediateRender,h=n.ease;if(n.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(s in n.startAt)r[s]=n.startAt[s];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&n.lazy!==!1,r.startAt=r.delay=null,this._startAt=I.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==o)return}else if(n.runBackwards&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(s in n)G[s]&&"autoCSS"!==s||(i[s]=n[s]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&n.lazy!==!1,i.immediateRender=l,this._startAt=I.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof y?h:"function"==typeof h?new y(h,n.easeParams):w[h]||I.defaultEase:I.defaultEase,n.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,n.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],a?a[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,a);if(e&&I._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),n.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=n.onUpdate,this._initted=!0},n._initProps=function(e,i,s,r){var n,a,o,l,h,_;if(null==e)return!1;L[e._gsTweenID]&&$(),this.vars.css||e.style&&e!==t&&e.nodeType&&U.css&&this.vars.autoCSS!==!1&&O(this.vars,e);for(n in this.vars){if(_=this.vars[n],G[n])_&&(_ instanceof Array||_.push&&f(_))&&-1!==_.join("").indexOf("{self}")&&(this.vars[n]=_=this._swapSelfInParams(_,this));else if(U[n]&&(l=new U[n])._onInitTween(e,this.vars[n],this)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:!0,n:n,pg:!0,pr:l._priority},a=l._overwriteProps.length;--a>-1;)i[l._overwriteProps[a]]=this._firstPT;(l._priority||l._onInitAllProps)&&(o=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=i[n]=h={_next:this._firstPT,t:e,p:n,f:"function"==typeof e[n],n:n,pg:!1,pr:0},h.s=h.f?e[n.indexOf("set")||"function"!=typeof e["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(e[n]),h.c="string"==typeof _&&"="===_.charAt(1)?parseInt(_.charAt(0)+"1",10)*Number(_.substr(2)):Number(_)-h.s||0;h&&h._next&&(h._next._prev=h)}return r&&this._kill(r,e)?this._initProps(e,i,s,r):this._overwrite>1&&this._firstPT&&s.length>1&&J(e,this,i,this._overwrite,s)?(this._kill(i,e),this._initProps(e,i,s,r)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(L[e._gsTweenID]=!0),o)},n.render=function(t,e,i){var s,r,n,a,o=this._time,l=this._duration,h=this._rawPrevTime;if(t>=l)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(s=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>h||h===_&&"isPause"!==this.data)&&h!==t&&(i=!0,h>_&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||h===t?t:_);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===l&&h>0)&&(r="onReverseComplete",s=this._reversed),0>t&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||i)&&(h>=0&&(h!==_||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||h===t?t:_)),this._initted||(i=!0);else if(this._totalTime=this._time=t,this._easeType){var u=t/l,m=this._easeType,f=this._easePower;(1===m||3===m&&u>=.5)&&(u=1-u),3===m&&(u*=2),1===f?u*=u:2===f?u*=u*u:3===f?u*=u*u*u:4===f&&(u*=u*u*u*u),this.ratio=1===m?1-u:2===m?u:.5>t/l?u/2:1-u/2}else this.ratio=this._ease.getRatio(t/l);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=o,this._rawPrevTime=h,z.push(this),this._lazy=[t,e],void 0;this._time&&!s?this.ratio=this._ease.getRatio(this._time/l):s&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==o&&t>=0&&(this._active=!0),0===o&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0!==this._time||0===l)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||T))),n=this._firstPT;n;)n.f?n.t[n.p](n.c*this.ratio+n.s):n.t[n.p]=n.c*this.ratio+n.s,n=n._next;this._onUpdate&&(0>t&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==o||s)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||T)),r&&(!this._gc||i)&&(0>t&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),s&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||T),0===l&&this._rawPrevTime===_&&a!==_&&(this._rawPrevTime=0))}},n._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:I.selector(e)||e;var s,r,n,a,o,l,h,_,u;if((f(e)||E(e))&&"number"!=typeof e[0])for(s=e.length;--s>-1;)this._kill(t,e[s])&&(l=!0);else{if(this._targets){for(s=this._targets.length;--s>-1;)if(e===this._targets[s]){o=this._propLookup[s]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[s]=t?this._overwrittenProps[s]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){if(h=t||o,_=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill),i&&(I.onOverwrite||this.vars.onOverwrite)){for(n in h)o[n]&&(u||(u=[]),u.push(n));if(!H(this,i,e,u))return!1}for(n in h)(a=o[n])&&(a.pg&&a.t._kill(h)&&(l=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[n]),_&&(r[n]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},n.invalidate=function(){return this._notifyPluginsOfEnabled&&I._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-_,this.render(-this._delay)),this},n._enabled=function(t,e){if(o||a.wake(),t&&this._gc){var i,s=this._targets;if(s)for(i=s.length;--i>-1;)this._siblings[i]=K(s[i],this,!0);else this._siblings=K(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?I._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},I.to=function(t,e,i){return new I(t,e,i)},I.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new I(t,e,i)},I.fromTo=function(t,e,i,s){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,new I(t,e,s)},I.delayedCall=function(t,e,i,s,r){return new I(e,0,{delay:t,onComplete:e,onCompleteParams:i,onCompleteScope:s,onReverseComplete:e,onReverseCompleteParams:i,onReverseCompleteScope:s,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},I.set=function(t,e){return new I(t,0,e)},I.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:I.selector(t)||t;var i,s,r,n;if((f(t)||E(t))&&"number"!=typeof t[0]){for(i=t.length,s=[];--i>-1;)s=s.concat(I.getTweensOf(t[i],e));for(i=s.length;--i>-1;)for(n=s[i],r=i;--r>-1;)n===s[r]&&s.splice(i,1)}else for(s=K(t).concat(),i=s.length;--i>-1;)(s[i]._gc||e&&!s[i].isActive())&&s.splice(i,1);return s},I.killTweensOf=I.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var s=I.getTweensOf(t,e),r=s.length;--r>-1;)s[r]._kill(i,t)};var W=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=W.prototype},!0);if(n=W.prototype,W.version="1.10.1",W.API=2,n._firstPT=null,n._addTween=function(t,e,i,s,r,n){var a,o;return null!=s&&(a="number"==typeof s||"="!==s.charAt(1)?Number(s)-i:parseInt(s.charAt(0)+"1",10)*Number(s.substr(2)))?(this._firstPT=o={_next:this._firstPT,t:t,p:e,s:i,c:a,f:"function"==typeof t[e],n:r||e,r:n},o._next&&(o._next._prev=o),o):void 0},n.setRatio=function(t){for(var e,i=this._firstPT,s=1e-6;i;)e=i.c*t+i.s,i.r?e=Math.round(e):s>e&&e>-s&&(e=0),i.f?i.t[i.p](e):i.t[i.p]=e,i=i._next},n._kill=function(t){var e,i=this._overwriteProps,s=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;s;)null!=t[s.n]&&(s._next&&(s._next._prev=s._prev),s._prev?(s._prev._next=s._next,s._prev=null):this._firstPT===s&&(this._firstPT=s._next)),s=s._next;return!1},n._roundProps=function(t,e){for(var i=this._firstPT;i;)(t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")])&&(i.r=e),i=i._next},I._onPluginEvent=function(t,e){var i,s,r,n,a,o=e._firstPT;if("_onInitAllProps"===t){for(;o;){for(a=o._next,s=r;s&&s.pr>o.pr;)s=s._next;(o._prev=s?s._prev:n)?o._prev._next=o:r=o,(o._next=s)?s._prev=o:n=o,o=a}o=e._firstPT=r}for(;o;)o.pg&&"function"==typeof o.t[t]&&o.t[t]()&&(i=!0),o=o._next;return i},W.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===W.API&&(U[(new t[e])._propName]=t[e]);return!0},d.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,s=t.priority||0,r=t.overwriteProps,n={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},a=v("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){W.call(this,i,s),this._overwriteProps=r||[]},t.global===!0),o=a.prototype=new W(i);o.constructor=a,a.API=t.API;for(e in n)"function"==typeof t[e]&&(o[n[e]]=t[e]);return a.version=t.version,W.activate([a]),a},s=t._gsQueue){for(r=0;s.length>r;r++)s[r]();for(n in c)c[n].func||t.console.log("GSAP encountered missing dependency: com.greensock."+n)}o=!1}})("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");
;
;
/*! TimelineLite.min.js */ 
;
;
/*!
* VERSION: 1.16.1
* DATE: 2015-03-13
* UPDATES AND DOCS AT: http://greensock.com
*
* @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
* This work is subject to the terms at http://greensock.com/standard-license or for
* Club GreenSock members, the software agreement that was issued with your membership.
* 
* @author: Jack Doyle, jack@greensock.com
*/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var s=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,s,r=this.vars;for(s in r)i=r[s],h(i)&&-1!==i.join("").indexOf("{self}")&&(r[s]=this._swapSelfInParams(i));h(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,n=i._internals,a=s._internals={},o=n.isSelector,h=n.isArray,l=n.lazyTweens,_=n.lazyRender,u=[],p=_gsScope._gsDefine.globals,f=function(t){var e,i={};for(e in t)i[e]=t[e];return i},c=a.pauseCallback=function(t,e,i,s){var n,a=t._timeline,o=a._totalTime,h=t._startTime,l=0>t._rawPrevTime||0===t._rawPrevTime&&a._reversed,_=l?0:r,p=l?r:0;if(e||!this._forcingPlayhead){for(a.pause(h),n=t._prev;n&&n._startTime===h;)n._rawPrevTime=p,n=n._prev;for(n=t._next;n&&n._startTime===h;)n._rawPrevTime=_,n=n._next;e&&e.apply(s||a,i||u),(this._forcingPlayhead||!a._paused)&&a.seek(o)}},m=function(t){var e,i=[],s=t.length;for(e=0;e!==s;i.push(t[e++]));return i},d=s.prototype=new e;return s.version="1.16.1",d.constructor=s,d.kill()._gc=d._forcingPlayhead=!1,d.to=function(t,e,s,r){var n=s.repeat&&p.TweenMax||i;return e?this.add(new n(t,e,s),r):this.set(t,s,r)},d.from=function(t,e,s,r){return this.add((s.repeat&&p.TweenMax||i).from(t,e,s),r)},d.fromTo=function(t,e,s,r,n){var a=r.repeat&&p.TweenMax||i;return e?this.add(a.fromTo(t,e,s,r),n):this.set(t,r,n)},d.staggerTo=function(t,e,r,n,a,h,l,_){var u,p=new s({onComplete:h,onCompleteParams:l,onCompleteScope:_,smoothChildTiming:this.smoothChildTiming});for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],o(t)&&(t=m(t)),n=n||0,0>n&&(t=m(t),t.reverse(),n*=-1),u=0;t.length>u;u++)r.startAt&&(r.startAt=f(r.startAt)),p.to(t[u],e,f(r),u*n);return this.add(p,a)},d.staggerFrom=function(t,e,i,s,r,n,a,o){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,s,r,n,a,o)},d.staggerFromTo=function(t,e,i,s,r,n,a,o,h){return s.startAt=i,s.immediateRender=0!=s.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,s,r,n,a,o,h)},d.call=function(t,e,s,r){return this.add(i.delayedCall(0,t,e,s),r)},d.set=function(t,e,s){return s=this._parseTimeOrLabel(s,0,!0),null==e.immediateRender&&(e.immediateRender=s===this._time&&!this._paused),this.add(new i(t,0,e),s)},s.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,n,a=new s(t),o=a._timeline;for(null==e&&(e=!0),o._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=o._time,r=o._first;r;)n=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=n;return o.add(a,0),a},d.add=function(r,n,a,o){var l,_,u,p,f,c;if("number"!=typeof n&&(n=this._parseTimeOrLabel(n,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&h(r)){for(a=a||"normal",o=o||0,l=n,_=r.length,u=0;_>u;u++)h(p=r[u])&&(p=new s({tweens:p})),this.add(p,l),"string"!=typeof p&&"function"!=typeof p&&("sequence"===a?l=p._startTime+p.totalDuration()/p._timeScale:"start"===a&&(p._startTime-=p.delay())),l+=o;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,n);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,n),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(f=this,c=f.rawTime()>r._startTime;f._timeline;)c&&f._timeline.smoothChildTiming?f.totalTime(f._totalTime,!0):f._gc&&f._enabled(!0,!1),f=f._timeline;return this},d.remove=function(e){if(e instanceof t)return this._remove(e,!1);if(e instanceof Array||e&&e.push&&h(e)){for(var i=e.length;--i>-1;)this.remove(e[i]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},d._remove=function(t,i){e.prototype._remove.call(this,t,i);var s=this._last;return s?this._time>s._startTime+s._totalDuration/s._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},d.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},d.insert=d.insertMultiple=function(t,e,i,s){return this.add(t,e||0,i,s)},d.appendMultiple=function(t,e,i,s){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,s)},d.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},d.addPause=function(t,e,s,r){var n=i.delayedCall(0,c,["{self}",e,s,r],this);return n.data="isPause",this.add(n,t)},d.removeLabel=function(t){return delete this._labels[t],this},d.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},d._parseTimeOrLabel=function(e,i,s,r){var n;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&h(r)))for(n=r.length;--n>-1;)r[n]instanceof t&&r[n].timeline===this&&this.remove(r[n]);if("string"==typeof i)return this._parseTimeOrLabel(i,s&&"number"==typeof e&&null==this._labels[i]?e-this.duration():0,s);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=this.duration());else{if(n=e.indexOf("="),-1===n)return null==this._labels[e]?s?this._labels[e]=this.duration()+i:i:this._labels[e]+i;i=parseInt(e.charAt(n-1)+"1",10)*Number(e.substr(n+1)),e=n>1?this._parseTimeOrLabel(e.substr(0,n-1),0,s):this.duration()}return Number(e)+i},d.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},d.stop=function(){return this.paused(!0)},d.gotoAndPlay=function(t,e){return this.play(t,e)},d.gotoAndStop=function(t,e){return this.pause(t,e)},d.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var s,n,a,o,h,p=this._dirty?this.totalDuration():this._totalDuration,f=this._time,c=this._startTime,m=this._timeScale,d=this._paused;if(t>=p)this._totalTime=this._time=p,this._reversed||this._hasPausedChild()||(n=!0,o="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===t||0>this._rawPrevTime||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(h=!0,this._rawPrevTime>r&&(o="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=p+1e-4;else if(1e-7>t)if(this._totalTime=this._time=0,(0!==f||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||0>t&&this._rawPrevTime>=0))&&(o="onReverseComplete",n=this._reversed),0>t)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=n=!0,o="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&n)for(s=this._first;s&&0===s._startTime;)s._duration||(n=!1),s=s._next;t=0,this._initted||(h=!0)}else this._totalTime=this._time=this._rawPrevTime=t;if(this._time!==f&&this._first||i||h){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==f&&t>0&&(this._active=!0),0===f&&this.vars.onStart&&0!==this._time&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||u)),this._time>=f)for(s=this._first;s&&(a=s._next,!this._paused||d);)(s._active||s._startTime<=this._time&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;else for(s=this._last;s&&(a=s._prev,!this._paused||d);)(s._active||f>=s._startTime&&!s._paused&&!s._gc)&&(s._reversed?s.render((s._dirty?s.totalDuration():s._totalDuration)-(t-s._startTime)*s._timeScale,e,i):s.render((t-s._startTime)*s._timeScale,e,i)),s=a;this._onUpdate&&(e||(l.length&&_(),this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||u))),o&&(this._gc||(c===this._startTime||m!==this._timeScale)&&(0===this._time||p>=this.totalDuration())&&(n&&(l.length&&_(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this.vars[o].apply(this.vars[o+"Scope"]||this,this.vars[o+"Params"]||u)))}},d._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof s&&t._hasPausedChild())return!0;t=t._next}return!1},d.getChildren=function(t,e,s,r){r=r||-9999999999;for(var n=[],a=this._first,o=0;a;)r>a._startTime||(a instanceof i?e!==!1&&(n[o++]=a):(s!==!1&&(n[o++]=a),t!==!1&&(n=n.concat(a.getChildren(!0,e,s)),o=n.length))),a=a._next;return n},d.getTweensOf=function(t,e){var s,r,n=this._gc,a=[],o=0;for(n&&this._enabled(!0,!0),s=i.getTweensOf(t),r=s.length;--r>-1;)(s[r].timeline===this||e&&this._contains(s[r]))&&(a[o++]=s[r]);return n&&this._enabled(!1,!0),a},d.recent=function(){return this._recent},d._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},d.shiftChildren=function(t,e,i){i=i||0;for(var s,r=this._first,n=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(s in n)n[s]>=i&&(n[s]+=t);return this._uncache(!0)},d._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),s=i.length,r=!1;--s>-1;)i[s]._kill(t,e)&&(r=!0);return r},d.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},d.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},d._enabled=function(t,i){if(t===this._gc)for(var s=this._first;s;)s._enabled(t,!0),s=s._next;return e.prototype._enabled.call(this,t,i)},d.totalTime=function(){this._forcingPlayhead=!0;var e=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},d.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},d.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,s=0,r=this._last,n=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>n&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):n=r._startTime,0>r._startTime&&!r._paused&&(s-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),n=0),i=r._startTime+r._totalDuration/r._timeScale,i>s&&(s=i),r=e;this._duration=this._totalDuration=s,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==t&&this.timeScale(this._totalDuration/t),this},d.paused=function(e){if(!e)for(var i=this._first,s=this._time;i;)i._startTime===s&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},d.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},d.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},s},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=e())}("TimelineLite");
;
;
/*! EasePack.min.js */ 
;
;
/*!
* VERSION: beta 1.15.2
* DATE: 2015-01-27
* UPDATES AND DOCS AT: http://greensock.com
*
* @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
* This work is subject to the terms at http://greensock.com/standard-license or for
* Club GreenSock members, the software agreement that was issued with your membership.
* 
* @author: Jack Doyle, jack@greensock.com
**/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,s,r=_gsScope.GreenSockGlobals||_gsScope,n=r.com.greensock,a=2*Math.PI,o=Math.PI/2,h=n._class,l=function(e,i){var s=h("easing."+e,function(){},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,s},_=t.register||function(){},u=function(t,e,i,s){var r=h("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new s},!0);return _(r,t),r},c=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var s=h("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=s.prototype=new t;return r.constructor=s,r.getRatio=i,r.config=function(t){return new s(t)},s},f=u("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),m=h("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),d=m.prototype=new t;return d.constructor=m,d.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},m.ease=new m(.7,.7),d.config=m.config=function(t,e,i){return new m(t,e,i)},e=h("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),d=e.prototype=new t,d.constructor=e,d.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},d.config=e.config=function(t){return new e(t)},i=h("easing.RoughEase",function(e){e=e||{};for(var i,s,r,n,a,o,h=e.taper||"none",l=[],_=0,u=0|(e.points||20),p=u,f=e.randomize!==!1,m=e.clamp===!0,d=e.template instanceof t?e.template:null,g="number"==typeof e.strength?.4*e.strength:.4;--p>-1;)i=f?Math.random():1/u*p,s=d?d.getRatio(i):i,"none"===h?r=g:"out"===h?(n=1-i,r=n*n*g):"in"===h?r=i*i*g:.5>i?(n=2*i,r=.5*n*n*g):(n=2*(1-i),r=.5*n*n*g),f?s+=Math.random()*r-.5*r:p%2?s+=.5*r:s-=.5*r,m&&(s>1?s=1:0>s&&(s=0)),l[_++]={x:i,y:s};for(l.sort(function(t,e){return t.x-e.x}),o=new c(1,1,null),p=u;--p>-1;)a=l[p],o=new c(a.x,a.y,o);this._prev=new c(0,0,0!==o.t?o:o.next)},!0),d=i.prototype=new t,d.constructor=i,d.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},d.config=function(t){return new i(t)},i.ease=new i,u("Bounce",l("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),l("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),l("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),u("Circ",l("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),l("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),l("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),s=function(e,i,s){var r=h("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||s)/(1>t?t:1),this._p3=this._p2/a*(Math.asin(1/this._p1)||0),this._p2=a/this._p2},!0),n=r.prototype=new t;return n.constructor=r,n.getRatio=i,n.config=function(t,e){return new r(t,e)},r},u("Elastic",s("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),s("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),s("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)+1},.45)),u("Expo",l("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),l("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),l("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),u("Sine",l("SineOut",function(t){return Math.sin(t*o)}),l("SineIn",function(t){return-Math.cos(t*o)+1}),l("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),h("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),_(r.SlowMo,"SlowMo","ease,"),_(i,"RoughEase","ease,"),_(e,"SteppedEase","ease,"),f},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
;
;
/*! CSSPlugin.min.js */ 
;
;
/*!
* VERSION: 1.16.1
* DATE: 2015-03-13
* UPDATES AND DOCS AT: http://www.greensock.com
*
* @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
* This work is subject to the terms at http://greensock.com/standard-license or for
* Club GreenSock members, the software agreement that was issued with your membership.
* 
* @author: Jack Doyle, jack@greensock.com
*/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,r,s,n,a=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=a.prototype.setRatio},o=_gsScope._gsDefine.globals,l={},h=a.prototype=new t("css");h.constructor=a,a.version="1.16.1",a.API=2,a.defaultTransformPerspective=0,a.defaultSkewType="compensated",h="px",a.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var u,f,p,c,_,d,m=/(?:\d|\-\d|\.\d|\-\.\d)+/g,g=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,v=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,y=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,x=/(?:\d|\-|\+|=|#|\.)*/g,T=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,b=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,S=/([A-Z])/g,C=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},R=/(?:Left|Right|Width)/i,A=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,M=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,D=/,(?=[^\)]*(?:\(|$))/gi,N=Math.PI/180,L=180/Math.PI,X={},z=document,E=function(t){return z.createElementNS?z.createElementNS("http://www.w3.org/1999/xhtml",t):z.createElement(t)},F=E("div"),I=E("img"),Y=a._internals={_specialProps:l},B=navigator.userAgent,U=function(){var t=B.indexOf("Android"),e=E("a");return p=-1!==B.indexOf("Safari")&&-1===B.indexOf("Chrome")&&(-1===t||Number(B.substr(t+8,1))>3),_=p&&6>Number(B.substr(B.indexOf("Version/")+8,1)),c=-1!==B.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(B)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(B))&&(d=parseFloat(RegExp.$1)),e?(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity)):!1}(),j=function(t){return T.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},V=function(t){window.console&&console.log(t)},W="",q="",G=function(t,e){e=e||F;var i,r,s=e.style;if(void 0!==s[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],r=5;--r>-1&&void 0===s[i[r]+t];);return r>=0?(q=3===r?"ms":i[r],W="-"+q.toLowerCase()+"-",q+t):null},H=z.defaultView?z.defaultView.getComputedStyle:function(){},Q=a.getStyle=function(t,e,i,r,s){var n;return U||"opacity"!==e?(!r&&t.style[e]?n=t.style[e]:(i=i||H(t))?n=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(S,"-$1").toLowerCase()):t.currentStyle&&(n=t.currentStyle[e]),null==s||n&&"none"!==n&&"auto"!==n&&"auto auto"!==n?n:s):j(t)},Z=Y.convertToPixels=function(t,i,r,s,n){if("px"===s||!s)return r;if("auto"===s||!r)return 0;var o,l,h,u=R.test(i),f=t,p=F.style,c=0>r;if(c&&(r=-r),"%"===s&&-1!==i.indexOf("border"))o=r/100*(u?t.clientWidth:t.clientHeight);else{if(p.cssText="border:0 solid red;position:"+Q(t,"position")+";line-height:0;","%"!==s&&f.appendChild)p[u?"borderLeftWidth":"borderTopWidth"]=r+s;else{if(f=t.parentNode||z.body,l=f._gsCache,h=e.ticker.frame,l&&u&&l.time===h)return l.width*r/100;p[u?"width":"height"]=r+s}f.appendChild(F),o=parseFloat(F[u?"offsetWidth":"offsetHeight"]),f.removeChild(F),u&&"%"===s&&a.cacheWidths!==!1&&(l=f._gsCache=f._gsCache||{},l.time=h,l.width=100*(o/r)),0!==o||n||(o=Z(t,i,r,s,!0))}return c?-o:o},$=Y.calculateOffset=function(t,e,i){if("absolute"!==Q(t,"position",i))return 0;var r="left"===e?"Left":"Top",s=Q(t,"margin"+r,i);return t["offset"+r]-(Z(t,e,parseFloat(s),s.replace(x,""))||0)},K=function(t,e){var i,r,s,n={};if(e=e||H(t,null))if(i=e.length)for(;--i>-1;)s=e[i],(-1===s.indexOf("-transform")||be===s)&&(n[s.replace(C,k)]=e.getPropertyValue(s));else for(i in e)(-1===i.indexOf("Transform")||we===i)&&(n[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===n[i]&&(n[i.replace(C,k)]=e[i]);return U||(n.opacity=j(t)),r=De(t,e,!1),n.rotation=r.rotation,n.skewX=r.skewX,n.scaleX=r.scaleX,n.scaleY=r.scaleY,n.x=r.x,n.y=r.y,Se&&(n.z=r.z,n.rotationX=r.rotationX,n.rotationY=r.rotationY,n.scaleZ=r.scaleZ),n.filters&&delete n.filters,n},J=function(t,e,i,r,s){var n,a,o,l={},h=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(n=i[a])||s&&s[a])&&-1===a.indexOf("Origin")&&("number"==typeof n||"string"==typeof n)&&(l[a]="auto"!==n||"left"!==a&&"top"!==a?""!==n&&"auto"!==n&&"none"!==n||"string"!=typeof e[a]||""===e[a].replace(y,"")?n:0:$(t,a),void 0!==h[a]&&(o=new ce(h,a,h[a],o)));if(r)for(a in r)"className"!==a&&(l[a]=r[a]);return{difs:l,firstMPT:o}},te={width:["Left","Right"],height:["Top","Bottom"]},ee=["marginLeft","marginRight","marginTop","marginBottom"],ie=function(t,e,i){var r=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),s=te[e],n=s.length;for(i=i||H(t,null);--n>-1;)r-=parseFloat(Q(t,"padding"+s[n],i,!0))||0,r-=parseFloat(Q(t,"border"+s[n]+"Width",i,!0))||0;return r},re=function(t,e){(null==t||""===t||"auto"===t||"auto auto"===t)&&(t="0 0");var i=t.split(" "),r=-1!==t.indexOf("left")?"0%":-1!==t.indexOf("right")?"100%":i[0],s=-1!==t.indexOf("top")?"0%":-1!==t.indexOf("bottom")?"100%":i[1];return null==s?s="center"===r?"50%":"0":"center"===s&&(s="50%"),("center"===r||isNaN(parseFloat(r))&&-1===(r+"").indexOf("="))&&(r="50%"),t=r+" "+s+(i.length>2?" "+i[2]:""),e&&(e.oxp=-1!==r.indexOf("%"),e.oyp=-1!==s.indexOf("%"),e.oxr="="===r.charAt(1),e.oyr="="===s.charAt(1),e.ox=parseFloat(r.replace(y,"")),e.oy=parseFloat(s.replace(y,"")),e.v=t),e||t},se=function(t,e){return"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)},ne=function(t,e){return null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)},ae=function(t,e,i,r){var s,n,a,o,l,h=1e-6;return null==t?o=e:"number"==typeof t?o=t:(s=360,n=t.split("_"),l="="===t.charAt(1),a=(l?parseInt(t.charAt(0)+"1",10)*parseFloat(n[0].substr(2)):parseFloat(n[0]))*(-1===t.indexOf("rad")?1:L)-(l?0:e),n.length&&(r&&(r[i]=e+a),-1!==t.indexOf("short")&&(a%=s,a!==a%(s/2)&&(a=0>a?a+s:a-s)),-1!==t.indexOf("_cw")&&0>a?a=(a+9999999999*s)%s-(0|a/s)*s:-1!==t.indexOf("ccw")&&a>0&&(a=(a-9999999999*s)%s-(0|a/s)*s)),o=e+a),h>o&&o>-h&&(o=0),o},oe={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},le=function(t,e,i){return t=0>t?t+1:t>1?t-1:t,0|255*(1>6*t?e+6*(i-e)*t:.5>t?i:2>3*t?e+6*(i-e)*(2/3-t):e)+.5},he=a.parseColor=function(t){var e,i,r,s,n,a;return t&&""!==t?"number"==typeof t?[t>>16,255&t>>8,255&t]:(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),oe[t]?oe[t]:"#"===t.charAt(0)?(4===t.length&&(e=t.charAt(1),i=t.charAt(2),r=t.charAt(3),t="#"+e+e+i+i+r+r),t=parseInt(t.substr(1),16),[t>>16,255&t>>8,255&t]):"hsl"===t.substr(0,3)?(t=t.match(m),s=Number(t[0])%360/360,n=Number(t[1])/100,a=Number(t[2])/100,i=.5>=a?a*(n+1):a+n-a*n,e=2*a-i,t.length>3&&(t[3]=Number(t[3])),t[0]=le(s+1/3,e,i),t[1]=le(s,e,i),t[2]=le(s-1/3,e,i),t):(t=t.match(m)||oe.transparent,t[0]=Number(t[0]),t[1]=Number(t[1]),t[2]=Number(t[2]),t.length>3&&(t[3]=Number(t[3])),t)):oe.black},ue="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(h in oe)ue+="|"+h+"\\b";ue=RegExp(ue+")","gi");var fe=function(t,e,i,r){if(null==t)return function(t){return t};var s,n=e?(t.match(ue)||[""])[0]:"",a=t.split(n).join("").match(v)||[],o=t.substr(0,t.indexOf(a[0])),l=")"===t.charAt(t.length-1)?")":"",h=-1!==t.indexOf(" ")?" ":",",u=a.length,f=u>0?a[0].replace(m,""):"";return u?s=e?function(t){var e,p,c,_;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(_=t.replace(D,"|").split("|"),c=0;_.length>c;c++)_[c]=s(_[c]);return _.join(",")}if(e=(t.match(ue)||[n])[0],p=t.split(e).join("").match(v)||[],c=p.length,u>c--)for(;u>++c;)p[c]=i?p[0|(c-1)/2]:a[c];return o+p.join(h)+h+e+l+(-1!==t.indexOf("inset")?" inset":"")}:function(t){var e,n,p;if("number"==typeof t)t+=f;else if(r&&D.test(t)){for(n=t.replace(D,"|").split("|"),p=0;n.length>p;p++)n[p]=s(n[p]);return n.join(",")}if(e=t.match(v)||[],p=e.length,u>p--)for(;u>++p;)e[p]=i?e[0|(p-1)/2]:a[p];return o+e.join(h)+l}:function(t){return t}},pe=function(t){return t=t.split(","),function(e,i,r,s,n,a,o){var l,h=(i+"").split(" ");for(o={},l=0;4>l;l++)o[t[l]]=h[l]=h[l]||h[(l-1)/2>>0];return s.parse(e,o,n,a)}},ce=(Y._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,r,s,n=this.data,a=n.proxy,o=n.firstMPT,l=1e-6;o;)e=a[o.v],o.r?e=Math.round(e):l>e&&e>-l&&(e=0),o.t[o.p]=e,o=o._next;if(n.autoRotate&&(n.autoRotate.rotation=a.rotation),1===t)for(o=n.firstMPT;o;){if(i=o.t,i.type){if(1===i.type){for(s=i.xs0+i.s+i.xs1,r=1;i.l>r;r++)s+=i["xn"+r]+i["xs"+(r+1)];i.e=s}}else i.e=i.s+i.xs0;o=o._next}},function(t,e,i,r,s){this.t=t,this.p=e,this.v=i,this.r=s,r&&(r._prev=this,this._next=r)}),_e=(Y._parseToProxy=function(t,e,i,r,s,n){var a,o,l,h,u,f=r,p={},c={},_=i._transform,d=X;for(i._transform=null,X=e,r=u=i.parse(t,e,r,s),X=d,n&&(i._transform=_,f&&(f._prev=null,f._prev&&(f._prev._next=null)));r&&r!==f;){if(1>=r.type&&(o=r.p,c[o]=r.s+r.c,p[o]=r.s,n||(h=new ce(r,"s",o,h,r.r),r.c=0),1===r.type))for(a=r.l;--a>0;)l="xn"+a,o=r.p+"_"+l,c[o]=r.data[l],p[o]=r[l],n||(h=new ce(r,l,o,h,r.rxp[l]));r=r._next}return{proxy:p,end:c,firstMPT:h,pt:u}},Y.CSSPropTween=function(t,e,r,s,a,o,l,h,u,f,p){this.t=t,this.p=e,this.s=r,this.c=s,this.n=l||e,t instanceof _e||n.push(this.n),this.r=h,this.type=o||0,u&&(this.pr=u,i=!0),this.b=void 0===f?r:f,this.e=void 0===p?r+s:p,a&&(this._next=a,a._prev=this)}),de=a.parseComplex=function(t,e,i,r,s,n,a,o,l,h){i=i||n||"",a=new _e(t,e,0,0,a,h?2:1,null,!1,o,i,r),r+="";var f,p,c,_,d,v,y,x,T,w,b,S,C=i.split(", ").join(",").split(" "),O=r.split(", ").join(",").split(" "),k=C.length,R=u!==!1;for((-1!==r.indexOf(",")||-1!==i.indexOf(","))&&(C=C.join(" ").replace(D,", ").split(" "),O=O.join(" ").replace(D,", ").split(" "),k=C.length),k!==O.length&&(C=(n||"").split(" "),k=C.length),a.plugin=l,a.setRatio=h,f=0;k>f;f++)if(_=C[f],d=O[f],x=parseFloat(_),x||0===x)a.appendXtra("",x,se(d,x),d.replace(g,""),R&&-1!==d.indexOf("px"),!0);else if(s&&("#"===_.charAt(0)||oe[_]||P.test(_)))S=","===d.charAt(d.length-1)?"),":")",_=he(_),d=he(d),T=_.length+d.length>6,T&&!U&&0===d[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[f]).join("transparent")):(U||(T=!1),a.appendXtra(T?"rgba(":"rgb(",_[0],d[0]-_[0],",",!0,!0).appendXtra("",_[1],d[1]-_[1],",",!0).appendXtra("",_[2],d[2]-_[2],T?",":S,!0),T&&(_=4>_.length?1:_[3],a.appendXtra("",_,(4>d.length?1:d[3])-_,S,!1)));else if(v=_.match(m)){if(y=d.match(g),!y||y.length!==v.length)return a;for(c=0,p=0;v.length>p;p++)b=v[p],w=_.indexOf(b,c),a.appendXtra(_.substr(c,w-c),Number(b),se(y[p],b),"",R&&"px"===_.substr(w+b.length,2),0===p),c=w+b.length;a["xs"+a.l]+=_.substr(c)}else a["xs"+a.l]+=a.l?" "+_:_;if(-1!==r.indexOf("=")&&a.data){for(S=a.xs0+a.data.s,f=1;a.l>f;f++)S+=a["xs"+f]+a.data["xn"+f];a.e=S+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},me=9;for(h=_e.prototype,h.l=h.pr=0;--me>0;)h["xn"+me]=0,h["xs"+me]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,r,s,n){var a=this,o=a.l;return a["xs"+o]+=n&&o?" "+t:t||"",i||0===o||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=r||"",o>0?(a.data["xn"+o]=e+i,a.rxp["xn"+o]=s,a["xn"+o]=e,a.plugin||(a.xfirst=new _e(a,"xn"+o,e,i,a.xfirst||a,0,a.n,s,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=s,a)):(a["xs"+o]+=e+(r||""),a)};var ge=function(t,e){e=e||{},this.p=e.prefix?G(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||fe(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},ve=Y._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var r,s,n=t.split(","),a=e.defaultValue;for(i=i||[a],r=0;n.length>r;r++)e.prefix=0===r&&e.prefix,e.defaultValue=i[r]||a,s=new ge(n[r],e)},ye=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";ve(t,{parser:function(t,i,r,s,n,a,h){var u=o.com.greensock.plugins[e];return u?(u._cssRegister(),l[r].parse(t,i,r,s,n,a,h)):(V("Error: "+e+" js file not loaded."),n)}})}};h=ge.prototype,h.parseComplex=function(t,e,i,r,s,n){var a,o,l,h,u,f,p=this.keyword;if(this.multi&&(D.test(i)||D.test(e)?(o=e.replace(D,"|").split("|"),l=i.replace(D,"|").split("|")):p&&(o=[e],l=[i])),l){for(h=l.length>o.length?l.length:o.length,a=0;h>a;a++)e=o[a]=o[a]||this.dflt,i=l[a]=l[a]||this.dflt,p&&(u=e.indexOf(p),f=i.indexOf(p),u!==f&&(-1===f?o[a]=o[a].split(p).join(""):-1===u&&(o[a]+=" "+p)));e=o.join(", "),i=l.join(", ")}return de(t,this.p,e,i,this.clrs,this.dflt,r,this.pr,s,n)},h.parse=function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,this.p,s,!1,this.dflt)),this.format(e),n,a)},a.registerSpecialProp=function(t,e,i){ve(t,{parser:function(t,r,s,n,a,o){var l=new _e(t,s,0,0,a,2,s,!1,i);return l.plugin=o,l.setRatio=e(t,r,n._tween,s),l},priority:i})},a.useSVGTransformAttr=p;var xe,Te="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),we=G("transform"),be=W+"transform",Pe=G("transformOrigin"),Se=null!==G("perspective"),Ce=Y.Transform=function(){this.perspective=parseFloat(a.defaultTransformPerspective)||0,this.force3D=a.defaultForce3D!==!1&&Se?a.defaultForce3D||"auto":!1},Oe=window.SVGElement,ke=function(t,e,i){var r,s=z.createElementNS("http://www.w3.org/2000/svg",t),n=/([a-z])([A-Z])/g;for(r in i)s.setAttributeNS(null,r.replace(n,"$1-$2").toLowerCase(),i[r]);return e.appendChild(s),s},Re=z.documentElement,Ae=function(){var t,e,i,r=d||/Android/i.test(B)&&!window.chrome;return z.createElementNS&&!r&&(t=ke("svg",Re),e=ke("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[Pe]="50% 50%",e.style[we]="scaleX(0.5)",r=i===e.getBoundingClientRect().width&&!(c&&Se),Re.removeChild(t)),r}(),Me=function(t,e,i,r){var s,n;r&&(n=r.split(" ")).length||(s=t.getBBox(),e=re(e).split(" "),n=[(-1!==e[0].indexOf("%")?parseFloat(e[0])/100*s.width:parseFloat(e[0]))+s.x,(-1!==e[1].indexOf("%")?parseFloat(e[1])/100*s.height:parseFloat(e[1]))+s.y]),i.xOrigin=parseFloat(n[0]),i.yOrigin=parseFloat(n[1]),t.setAttribute("data-svg-origin",n.join(" "))},De=Y.getTransform=function(t,e,i,r){if(t._gsTransform&&i&&!r)return t._gsTransform;var n,o,l,h,u,f,p,c,_,d,m=i?t._gsTransform||new Ce:new Ce,g=0>m.scaleX,v=2e-5,y=1e5,x=Se?parseFloat(Q(t,Pe,e,!1,"0 0 0").split(" ")[2])||m.zOrigin||0:0,T=parseFloat(a.defaultTransformPerspective)||0;if(we?o=Q(t,be,e,!0):t.currentStyle&&(o=t.currentStyle.filter.match(A),o=o&&4===o.length?[o[0].substr(4),Number(o[2].substr(4)),Number(o[1].substr(4)),o[3].substr(4),m.x||0,m.y||0].join(","):""),n=!o||"none"===o||"matrix(1, 0, 0, 1, 0, 0)"===o,m.svg=!!(Oe&&"function"==typeof t.getBBox&&t.getCTM&&(!t.parentNode||t.parentNode.getBBox&&t.parentNode.getCTM)),m.svg&&(n&&-1!==(t.style[we]+"").indexOf("matrix")&&(o=t.style[we],n=!1),Me(t,Q(t,Pe,s,!1,"50% 50%")+"",m,t.getAttribute("data-svg-origin")),xe=a.useSVGTransformAttr||Ae,l=t.getAttribute("transform"),n&&l&&-1!==l.indexOf("matrix")&&(o=l,n=0)),!n){for(l=(o||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],h=l.length;--h>-1;)u=Number(l[h]),l[h]=(f=u-(u|=0))?(0|f*y+(0>f?-.5:.5))/y+u:u;if(16===l.length){var w,b,P,S,C,O=l[0],k=l[1],R=l[2],M=l[3],D=l[4],N=l[5],X=l[6],z=l[7],E=l[8],F=l[9],I=l[10],Y=l[12],B=l[13],U=l[14],j=l[11],V=Math.atan2(X,I);m.zOrigin&&(U=-m.zOrigin,Y=E*U-l[12],B=F*U-l[13],U=I*U+m.zOrigin-l[14]),m.rotationX=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),w=D*S+E*C,b=N*S+F*C,P=X*S+I*C,E=D*-C+E*S,F=N*-C+F*S,I=X*-C+I*S,j=z*-C+j*S,D=w,N=b,X=P),V=Math.atan2(E,I),m.rotationY=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),w=O*S-E*C,b=k*S-F*C,P=R*S-I*C,F=k*C+F*S,I=R*C+I*S,j=M*C+j*S,O=w,k=b,R=P),V=Math.atan2(k,O),m.rotation=V*L,V&&(S=Math.cos(-V),C=Math.sin(-V),O=O*S+D*C,b=k*S+N*C,N=k*-C+N*S,X=R*-C+X*S,k=b),m.rotationX&&Math.abs(m.rotationX)+Math.abs(m.rotation)>359.9&&(m.rotationX=m.rotation=0,m.rotationY+=180),m.scaleX=(0|Math.sqrt(O*O+k*k)*y+.5)/y,m.scaleY=(0|Math.sqrt(N*N+F*F)*y+.5)/y,m.scaleZ=(0|Math.sqrt(X*X+I*I)*y+.5)/y,m.skewX=0,m.perspective=j?1/(0>j?-j:j):0,m.x=Y,m.y=B,m.z=U,m.svg&&(m.x-=m.xOrigin-(m.xOrigin*O-m.yOrigin*D),m.y-=m.yOrigin-(m.yOrigin*k-m.xOrigin*N))}else if(!(Se&&!r&&l.length&&m.x===l[4]&&m.y===l[5]&&(m.rotationX||m.rotationY)||void 0!==m.x&&"none"===Q(t,"display",e))){var W=l.length>=6,q=W?l[0]:1,G=l[1]||0,H=l[2]||0,Z=W?l[3]:1;m.x=l[4]||0,m.y=l[5]||0,p=Math.sqrt(q*q+G*G),c=Math.sqrt(Z*Z+H*H),_=q||G?Math.atan2(G,q)*L:m.rotation||0,d=H||Z?Math.atan2(H,Z)*L+_:m.skewX||0,Math.abs(d)>90&&270>Math.abs(d)&&(g?(p*=-1,d+=0>=_?180:-180,_+=0>=_?180:-180):(c*=-1,d+=0>=d?180:-180)),m.scaleX=p,m.scaleY=c,m.rotation=_,m.skewX=d,Se&&(m.rotationX=m.rotationY=m.z=0,m.perspective=T,m.scaleZ=1),m.svg&&(m.x-=m.xOrigin-(m.xOrigin*q-m.yOrigin*G),m.y-=m.yOrigin-(m.yOrigin*Z-m.xOrigin*H))}m.zOrigin=x;for(h in m)v>m[h]&&m[h]>-v&&(m[h]=0)}return i&&(t._gsTransform=m,m.svg&&(xe&&t.style[we]?ze(t.style,we):!xe&&t.getAttribute("transform")&&t.removeAttribute("transform"))),m},Ne=function(t){var e,i,r=this.data,s=-r.rotation*N,n=s+r.skewX*N,a=1e5,o=(0|Math.cos(s)*r.scaleX*a)/a,l=(0|Math.sin(s)*r.scaleX*a)/a,h=(0|Math.sin(n)*-r.scaleY*a)/a,u=(0|Math.cos(n)*r.scaleY*a)/a,f=this.t.style,p=this.t.currentStyle;if(p){i=l,l=-h,h=-i,e=p.filter,f.filter="";var c,_,m=this.t.offsetWidth,g=this.t.offsetHeight,v="absolute"!==p.position,y="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+l+", M21="+h+", M22="+u,w=r.x+m*r.xPercent/100,b=r.y+g*r.yPercent/100;if(null!=r.ox&&(c=(r.oxp?.01*m*r.ox:r.ox)-m/2,_=(r.oyp?.01*g*r.oy:r.oy)-g/2,w+=c-(c*o+_*l),b+=_-(c*h+_*u)),v?(c=m/2,_=g/2,y+=", Dx="+(c-(c*o+_*l)+w)+", Dy="+(_-(c*h+_*u)+b)+")"):y+=", sizingMethod='auto expand')",f.filter=-1!==e.indexOf("DXImageTransform.Microsoft.Matrix(")?e.replace(M,y):y+" "+e,(0===t||1===t)&&1===o&&0===l&&0===h&&1===u&&(v&&-1===y.indexOf("Dx=0, Dy=0")||T.test(e)&&100!==parseFloat(RegExp.$1)||-1===e.indexOf("gradient("&&e.indexOf("Alpha"))&&f.removeAttribute("filter")),!v){var P,S,C,O=8>d?1:-1;for(c=r.ieOffsetX||0,_=r.ieOffsetY||0,r.ieOffsetX=Math.round((m-((0>o?-o:o)*m+(0>l?-l:l)*g))/2+w),r.ieOffsetY=Math.round((g-((0>u?-u:u)*g+(0>h?-h:h)*m))/2+b),me=0;4>me;me++)S=ee[me],P=p[S],i=-1!==P.indexOf("px")?parseFloat(P):Z(this.t,S,parseFloat(P),P.replace(x,""))||0,C=i!==r[S]?2>me?-r.ieOffsetX:-r.ieOffsetY:2>me?c-r.ieOffsetX:_-r.ieOffsetY,f[S]=(r[S]=Math.round(i-C*(0===me||2===me?1:O)))+"px"}}},Le=Y.set3DTransformRatio=Y.setTransformRatio=function(t){var e,i,r,s,n,a,o,l,h,u,f,p,_,d,m,g,v,y,x,T,w,b,P,S=this.data,C=this.t.style,O=S.rotation,k=S.rotationX,R=S.rotationY,A=S.scaleX,M=S.scaleY,D=S.scaleZ,L=S.x,X=S.y,z=S.z,E=S.svg,F=S.perspective,I=S.force3D;if(!(((1!==t&&0!==t||"auto"!==I||this.tween._totalTime!==this.tween._totalDuration&&this.tween._totalTime)&&I||z||F||R||k)&&(!xe||!E)&&Se))return O||S.skewX||E?(O*=N,b=S.skewX*N,P=1e5,e=Math.cos(O)*A,s=Math.sin(O)*A,i=Math.sin(O-b)*-M,n=Math.cos(O-b)*M,b&&"simple"===S.skewType&&(v=Math.tan(b),v=Math.sqrt(1+v*v),i*=v,n*=v,S.skewY&&(e*=v,s*=v)),E&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),X+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n),d=1e-6,d>L&&L>-d&&(L=0),d>X&&X>-d&&(X=0)),x=(0|e*P)/P+","+(0|s*P)/P+","+(0|i*P)/P+","+(0|n*P)/P+","+L+","+X+")",E&&xe?this.t.setAttribute("transform","matrix("+x):C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+x):C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix(":"matrix(")+A+",0,0,"+M+","+L+","+X+")",void 0;if(c&&(d=1e-4,d>A&&A>-d&&(A=D=2e-5),d>M&&M>-d&&(M=D=2e-5),!F||S.z||S.rotationX||S.rotationY||(F=0)),O||S.skewX)O*=N,m=e=Math.cos(O),g=s=Math.sin(O),S.skewX&&(O-=S.skewX*N,m=Math.cos(O),g=Math.sin(O),"simple"===S.skewType&&(v=Math.tan(S.skewX*N),v=Math.sqrt(1+v*v),m*=v,g*=v,S.skewY&&(e*=v,s*=v))),i=-g,n=m;else{if(!(R||k||1!==D||F||E))return C[we]=(S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) translate3d(":"translate3d(")+L+"px,"+X+"px,"+z+"px)"+(1!==A||1!==M?" scale("+A+","+M+")":""),void 0;e=n=1,i=s=0}h=1,r=a=o=l=u=f=0,p=F?-1/F:0,_=S.zOrigin,d=1e-6,T=",",w="0",O=R*N,O&&(m=Math.cos(O),g=Math.sin(O),o=-g,u=p*-g,r=e*g,a=s*g,h=m,p*=m,e*=m,s*=m),O=k*N,O&&(m=Math.cos(O),g=Math.sin(O),v=i*m+r*g,y=n*m+a*g,l=h*g,f=p*g,r=i*-g+r*m,a=n*-g+a*m,h*=m,p*=m,i=v,n=y),1!==D&&(r*=D,a*=D,h*=D,p*=D),1!==M&&(i*=M,n*=M,l*=M,f*=M),1!==A&&(e*=A,s*=A,o*=A,u*=A),(_||E)&&(_&&(L+=r*-_,X+=a*-_,z+=h*-_+_),E&&(L+=S.xOrigin-(S.xOrigin*e+S.yOrigin*i),X+=S.yOrigin-(S.xOrigin*s+S.yOrigin*n)),d>L&&L>-d&&(L=w),d>X&&X>-d&&(X=w),d>z&&z>-d&&(z=0)),x=S.xPercent||S.yPercent?"translate("+S.xPercent+"%,"+S.yPercent+"%) matrix3d(":"matrix3d(",x+=(d>e&&e>-d?w:e)+T+(d>s&&s>-d?w:s)+T+(d>o&&o>-d?w:o),x+=T+(d>u&&u>-d?w:u)+T+(d>i&&i>-d?w:i)+T+(d>n&&n>-d?w:n),k||R?(x+=T+(d>l&&l>-d?w:l)+T+(d>f&&f>-d?w:f)+T+(d>r&&r>-d?w:r),x+=T+(d>a&&a>-d?w:a)+T+(d>h&&h>-d?w:h)+T+(d>p&&p>-d?w:p)+T):x+=",0,0,0,0,1,0,",x+=L+T+X+T+z+T+(F?1+-z/F:1)+")",C[we]=x};h=Ce.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=0,h.scaleX=h.scaleY=h.scaleZ=1,ve("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent",{parser:function(t,e,i,r,n,o,l){if(r._lastParsedTransform===l)return n;r._lastParsedTransform=l;var h,u,f,p,c,_,d,m=r._transform=De(t,s,!0,l.parseTransform),g=t.style,v=1e-6,y=Te.length,x=l,T={};if("string"==typeof x.transform&&we)f=F.style,f[we]=x.transform,f.display="block",f.position="absolute",z.body.appendChild(F),h=De(F,null,!1),z.body.removeChild(F);else if("object"==typeof x){if(h={scaleX:ne(null!=x.scaleX?x.scaleX:x.scale,m.scaleX),scaleY:ne(null!=x.scaleY?x.scaleY:x.scale,m.scaleY),scaleZ:ne(x.scaleZ,m.scaleZ),x:ne(x.x,m.x),y:ne(x.y,m.y),z:ne(x.z,m.z),xPercent:ne(x.xPercent,m.xPercent),yPercent:ne(x.yPercent,m.yPercent),perspective:ne(x.transformPerspective,m.perspective)},d=x.directionalRotation,null!=d)if("object"==typeof d)for(f in d)x[f]=d[f];else x.rotation=d;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(h.x=0,h.xPercent=ne(x.x,m.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(h.y=0,h.yPercent=ne(x.y,m.yPercent)),h.rotation=ae("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:m.rotation,m.rotation,"rotation",T),Se&&(h.rotationX=ae("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":m.rotationX||0,m.rotationX,"rotationX",T),h.rotationY=ae("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":m.rotationY||0,m.rotationY,"rotationY",T)),h.skewX=null==x.skewX?m.skewX:ae(x.skewX,m.skewX),h.skewY=null==x.skewY?m.skewY:ae(x.skewY,m.skewY),(u=h.skewY-m.skewY)&&(h.skewX+=u,h.rotation+=u)}for(Se&&null!=x.force3D&&(m.force3D=x.force3D,_=!0),m.skewType=x.skewType||m.skewType||a.defaultSkewType,c=m.force3D||m.z||m.rotationX||m.rotationY||h.z||h.rotationX||h.rotationY||h.perspective,c||null==x.scale||(h.scaleZ=1);--y>-1;)i=Te[y],p=h[i]-m[i],(p>v||-v>p||null!=x[i]||null!=X[i])&&(_=!0,n=new _e(m,i,m[i],p,n),i in T&&(n.e=T[i]),n.xs0=0,n.plugin=o,r._overwriteProps.push(n.n));return p=x.transformOrigin,m.svg&&(p||x.svgOrigin)&&(Me(t,re(p),h,x.svgOrigin),n=new _e(m,"xOrigin",m.xOrigin,h.xOrigin-m.xOrigin,n,-1,"transformOrigin"),n.b=m.xOrigin,n.e=n.xs0=h.xOrigin,n=new _e(m,"yOrigin",m.yOrigin,h.yOrigin-m.yOrigin,n,-1,"transformOrigin"),n.b=m.yOrigin,n.e=n.xs0=h.yOrigin,p=xe?null:"0px 0px"),(p||Se&&c&&m.zOrigin)&&(we?(_=!0,i=Pe,p=(p||Q(t,i,s,!1,"50% 50%"))+"",n=new _e(g,i,0,0,n,-1,"transformOrigin"),n.b=g[i],n.plugin=o,Se?(f=m.zOrigin,p=p.split(" "),m.zOrigin=(p.length>2&&(0===f||"0px"!==p[2])?parseFloat(p[2]):f)||0,n.xs0=n.e=p[0]+" "+(p[1]||"50%")+" 0px",n=new _e(m,"zOrigin",0,0,n,-1,n.n),n.b=f,n.xs0=n.e=m.zOrigin):n.xs0=n.e=p):re(p+"",m)),_&&(r._transformType=m.svg&&xe||!c&&3!==this._transformType?2:3),n},prefix:!0}),ve("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ve("borderRadius",{defaultValue:"0px",parser:function(t,e,i,n,a){e=this.format(e);var o,l,h,u,f,p,c,_,d,m,g,v,y,x,T,w,b=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],P=t.style;for(d=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),o=e.split(" "),l=0;b.length>l;l++)this.p.indexOf("border")&&(b[l]=G(b[l])),f=u=Q(t,b[l],s,!1,"0px"),-1!==f.indexOf(" ")&&(u=f.split(" "),f=u[0],u=u[1]),p=h=o[l],c=parseFloat(f),v=f.substr((c+"").length),y="="===p.charAt(1),y?(_=parseInt(p.charAt(0)+"1",10),p=p.substr(2),_*=parseFloat(p),g=p.substr((_+"").length-(0>_?1:0))||""):(_=parseFloat(p),g=p.substr((_+"").length)),""===g&&(g=r[i]||v),g!==v&&(x=Z(t,"borderLeft",c,v),T=Z(t,"borderTop",c,v),"%"===g?(f=100*(x/d)+"%",u=100*(T/m)+"%"):"em"===g?(w=Z(t,"borderLeft",1,"em"),f=x/w+"em",u=T/w+"em"):(f=x+"px",u=T+"px"),y&&(p=parseFloat(f)+_+g,h=parseFloat(u)+_+g)),a=de(P,b[l],f+" "+u,p+" "+h,!1,"0px",a);return a},prefix:!0,formatter:fe("0px 0px 0px 0px",!1,!0)}),ve("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,r,n,a){var o,l,h,u,f,p,c="background-position",_=s||H(t,null),m=this.format((_?d?_.getPropertyValue(c+"-x")+" "+_.getPropertyValue(c+"-y"):_.getPropertyValue(c):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),g=this.format(e);if(-1!==m.indexOf("%")!=(-1!==g.indexOf("%"))&&(p=Q(t,"backgroundImage").replace(O,""),p&&"none"!==p)){for(o=m.split(" "),l=g.split(" "),I.setAttribute("src",p),h=2;--h>-1;)m=o[h],u=-1!==m.indexOf("%"),u!==(-1!==l[h].indexOf("%"))&&(f=0===h?t.offsetWidth-I.width:t.offsetHeight-I.height,o[h]=u?parseFloat(m)/100*f+"px":100*(parseFloat(m)/f)+"%");m=o.join(" ")}return this.parseComplex(t.style,m,g,n,a)},formatter:re}),ve("backgroundSize",{defaultValue:"0 0",formatter:re}),ve("perspective",{defaultValue:"0px",prefix:!0}),ve("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ve("transformStyle",{prefix:!0}),ve("backfaceVisibility",{prefix:!0}),ve("userSelect",{prefix:!0}),ve("margin",{parser:pe("marginTop,marginRight,marginBottom,marginLeft")}),ve("padding",{parser:pe("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ve("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,r,n,a){var o,l,h;return 9>d?(l=t.currentStyle,h=8>d?" ":",",o="rect("+l.clipTop+h+l.clipRight+h+l.clipBottom+h+l.clipLeft+")",e=this.format(e).split(",").join(h)):(o=this.format(Q(t,this.p,s,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,o,e,n,a)}}),ve("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ve("autoRound,strictUnits",{parser:function(t,e,i,r,s){return s}}),ve("border",{defaultValue:"0px solid #000",parser:function(t,e,i,r,n,a){return this.parseComplex(t.style,this.format(Q(t,"borderTopWidth",s,!1,"0px")+" "+Q(t,"borderTopStyle",s,!1,"solid")+" "+Q(t,"borderTopColor",s,!1,"#000")),this.format(e),n,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(ue)||["#000"])[0]}}),ve("borderWidth",{parser:pe("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ve("float,cssFloat,styleFloat",{parser:function(t,e,i,r,s){var n=t.style,a="cssFloat"in n?"cssFloat":"styleFloat";return new _e(n,a,0,0,s,-1,i,!1,0,n[a],e)}});var Xe=function(t){var e,i=this.t,r=i.filter||Q(this.data,"filter")||"",s=0|this.s+this.c*t;100===s&&(-1===r.indexOf("atrix(")&&-1===r.indexOf("radient(")&&-1===r.indexOf("oader(")?(i.removeAttribute("filter"),e=!Q(this.data,"filter")):(i.filter=r.replace(b,""),e=!0)),e||(this.xn1&&(i.filter=r=r||"alpha(opacity="+s+")"),-1===r.indexOf("pacity")?0===s&&this.xn1||(i.filter=r+" alpha(opacity="+s+")"):i.filter=r.replace(T,"opacity="+s))};ve("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,r,n,a){var o=parseFloat(Q(t,"opacity",s,!1,"1")),l=t.style,h="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+o),h&&1===o&&"hidden"===Q(t,"visibility",s)&&0!==e&&(o=0),U?n=new _e(l,"opacity",o,e-o,n):(n=new _e(l,"opacity",100*o,100*(e-o),n),n.xn1=h?1:0,l.zoom=1,n.type=2,n.b="alpha(opacity="+n.s+")",n.e="alpha(opacity="+(n.s+n.c)+")",n.data=t,n.plugin=a,n.setRatio=Xe),h&&(n=new _e(l,"visibility",0,0,n,-1,null,!1,0,0!==o?"inherit":"hidden",0===e?"hidden":"inherit"),n.xs0="inherit",r._overwriteProps.push(n.n),r._overwriteProps.push(i)),n}});var ze=function(t,e){e&&(t.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),t.removeProperty(e.replace(S,"-$1").toLowerCase())):t.removeAttribute(e))},Ee=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:ze(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ve("className",{parser:function(t,e,r,n,a,o,l){var h,u,f,p,c,_=t.getAttribute("class")||"",d=t.style.cssText;if(a=n._classNamePT=new _e(t,r,0,0,a,2),a.setRatio=Ee,a.pr=-11,i=!0,a.b=_,u=K(t,s),f=t._gsClassPT){for(p={},c=f.data;c;)p[c.p]=1,c=c._next;f.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:_.replace(RegExp("\\s*\\b"+e.substr(2)+"\\b"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),h=J(t,u,K(t),l,p),t.setAttribute("class",_),a.data=h.firstMPT,t.style.cssText=d,a=a.xfirst=n.parse(t,h.difs,a,o)}});var Fe=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,r,s,n,a=this.t.style,o=l.transform.parse;if("all"===this.e)a.cssText="",s=!0;else for(e=this.e.split(" ").join("").split(","),r=e.length;--r>-1;)i=e[r],l[i]&&(l[i].parse===o?s=!0:i="transformOrigin"===i?Pe:l[i].p),ze(a,i);s&&(ze(a,we),n=this.t._gsTransform,n&&(n.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ve("clearProps",{parser:function(t,e,r,s,n){return n=new _e(t,r,0,0,n,2),n.setRatio=Fe,n.e=e,n.pr=-10,n.data=s._tween,i=!0,n}}),h="bezier,throwProps,physicsProps,physics2D".split(","),me=h.length;me--;)ye(h[me]);h=a.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o){if(!t.nodeType)return!1;this._target=t,this._tween=o,this._vars=e,u=e.autoRound,i=!1,r=e.suffixMap||a.suffixMap,s=H(t,""),n=this._overwriteProps;var h,c,d,m,g,v,y,x,T,b=t.style;if(f&&""===b.zIndex&&(h=Q(t,"zIndex",s),("auto"===h||""===h)&&this._addLazySet(b,"zIndex",0)),"string"==typeof e&&(m=b.cssText,h=K(t,s),b.cssText=m+";"+e,h=J(t,h,K(t)).difs,!U&&w.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,b.cssText=m),this._firstPT=c=e.className?l.className.parse(t,e.className,"className",this,null,null,e):this.parse(t,e,null),this._transformType){for(T=3===this._transformType,we?p&&(f=!0,""===b.zIndex&&(y=Q(t,"zIndex",s),("auto"===y||""===y)&&this._addLazySet(b,"zIndex",0)),_&&this._addLazySet(b,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(T?"visible":"hidden"))):b.zoom=1,d=c;d&&d._next;)d=d._next;x=new _e(t,"transform",0,0,null,2),this._linkCSSP(x,null,d),x.setRatio=we?Le:Ne,x.data=this._transform||De(t,s,!0),x.tween=o,x.pr=-1,n.pop()}if(i){for(;c;){for(v=c._next,d=m;d&&d.pr>c.pr;)d=d._next;(c._prev=d?d._prev:g)?c._prev._next=c:m=c,(c._next=d)?d._prev=c:g=c,c=v}this._firstPT=m}return!0},h.parse=function(t,e,i,n){var a,o,h,f,p,c,_,d,m,g,v=t.style;for(a in e)c=e[a],o=l[a],o?i=o.parse(t,c,a,this,i,n,e):(p=Q(t,a,s)+"",m="string"==typeof c,"color"===a||"fill"===a||"stroke"===a||-1!==a.indexOf("Color")||m&&P.test(c)?(m||(c=he(c),c=(c.length>3?"rgba(":"rgb(")+c.join(",")+")"),i=de(v,a,p,c,!0,"transparent",i,0,n)):!m||-1===c.indexOf(" ")&&-1===c.indexOf(",")?(h=parseFloat(p),_=h||0===h?p.substr((h+"").length):"",(""===p||"auto"===p)&&("width"===a||"height"===a?(h=ie(t,a,s),_="px"):"left"===a||"top"===a?(h=$(t,a,s),_="px"):(h="opacity"!==a?0:1,_="")),g=m&&"="===c.charAt(1),g?(f=parseInt(c.charAt(0)+"1",10),c=c.substr(2),f*=parseFloat(c),d=c.replace(x,"")):(f=parseFloat(c),d=m?c.replace(x,""):""),""===d&&(d=a in r?r[a]:_),c=f||0===f?(g?f+h:f)+d:e[a],_!==d&&""!==d&&(f||0===f)&&h&&(h=Z(t,a,h,_),"%"===d?(h/=Z(t,a,100,"%")/100,e.strictUnits!==!0&&(p=h+"%")):"em"===d?h/=Z(t,a,1,"em"):"px"!==d&&(f=Z(t,a,f,d),d="px"),g&&(f||0===f)&&(c=f+h+d)),g&&(f+=h),!h&&0!==h||!f&&0!==f?void 0!==v[a]&&(c||"NaN"!=c+""&&null!=c)?(i=new _e(v,a,f||h||0,0,i,-1,a,!1,0,p,c),i.xs0="none"!==c||"display"!==a&&-1===a.indexOf("Style")?c:p):V("invalid "+a+" tween value: "+e[a]):(i=new _e(v,a,h,f-h,i,0,a,u!==!1&&("px"===d||"zIndex"===a),0,p,c),i.xs0=d)):i=de(v,a,p,c,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);
return i},h.setRatio=function(t){var e,i,r,s=this._firstPT,n=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;s;){if(e=s.c*t+s.s,s.r?e=Math.round(e):n>e&&e>-n&&(e=0),s.type)if(1===s.type)if(r=s.l,2===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2;else if(3===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3;else if(4===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4;else if(5===r)s.t[s.p]=s.xs0+e+s.xs1+s.xn1+s.xs2+s.xn2+s.xs3+s.xn3+s.xs4+s.xn4+s.xs5;else{for(i=s.xs0+e+s.xs1,r=1;s.l>r;r++)i+=s["xn"+r]+s["xs"+(r+1)];s.t[s.p]=i}else-1===s.type?s.t[s.p]=s.xs0:s.setRatio&&s.setRatio(t);else s.t[s.p]=e+s.xs0;s=s._next}else for(;s;)2!==s.type?s.t[s.p]=s.b:s.setRatio(t),s=s._next;else for(;s;)2!==s.type?s.t[s.p]=s.e:s.setRatio(t),s=s._next},h._enableTransforms=function(t){this._transform=this._transform||De(this._target,s,!0),this._transformType=this._transform.svg&&xe||!t&&3!==this._transformType?2:3};var Ie=function(){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var r=this._firstPT=new _e(t,e,0,0,this._firstPT,2);r.e=i,r.setRatio=Ie,r.data=this},h._linkCSSP=function(t,e,i,r){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,r=!0),i?i._next=t:r||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._kill=function(e){var i,r,s,n=e;if(e.autoAlpha||e.alpha){n={};for(r in e)n[r]=e[r];n.opacity=1,n.autoAlpha&&(n.visibility=1)}return e.className&&(i=this._classNamePT)&&(s=i.xfirst,s&&s._prev?this._linkCSSP(s._prev,i._next,s._prev._prev):s===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,s._prev),this._classNamePT=null),t.prototype._kill.call(this,n)};var Ye=function(t,e,i){var r,s,n,a;if(t.slice)for(s=t.length;--s>-1;)Ye(t[s],e,i);else for(r=t.childNodes,s=r.length;--s>-1;)n=r[s],a=n.type,n.style&&(e.push(K(n)),i&&i.push(n)),1!==a&&9!==a&&11!==a||!n.childNodes.length||Ye(n,e,i)};return a.cascadeTo=function(t,i,r){var s,n,a,o,l=e.to(t,i,r),h=[l],u=[],f=[],p=[],c=e._internals.reservedProps;for(t=l._targets||l.target,Ye(t,u,p),l.render(i,!0,!0),Ye(t,f),l.render(0,!0,!0),l._enabled(!0),s=p.length;--s>-1;)if(n=J(p[s],u[s],f[s]),n.firstMPT){n=n.difs;for(a in r)c[a]&&(n[a]=r[a]);o={};for(a in n)o[a]=u[s][a];h.push(e.fromTo(p[s],i,o,n))}return h},t.activate([a]),a},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(t){"use strict";var e=function(){return(_gsScope.GreenSockGlobals||_gsScope)[t]};"function"==typeof define&&define.amd?define(["TweenLite"],e):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=e())}("CSSPlugin");
;
;
/*! RoundPropsPlugin.min.js */ 
;
;
/*!
* VERSION: beta 1.4.1
* DATE: 2014-07-17
* UPDATES AND DOCS AT: http://www.greensock.com
*
* @license Copyright (c) 2008-2015, GreenSock. All rights reserved.
* This work is subject to the terms at http://greensock.com/standard-license or for
* Club GreenSock members, the software agreement that was issued with your membership.
* 
* @author: Jack Doyle, jack@greensock.com
**/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=_gsScope._gsDefine.plugin({propName:"roundProps",version:"1.4.1",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=t.prototype;e._onInitAllProps=function(){for(var t,e,i,r=this._tween,s=r.vars.roundProps instanceof Array?r.vars.roundProps:r.vars.roundProps.split(","),n=s.length,a={},o=r._propLookup.roundProps;--n>-1;)a[s[n]]=1;for(n=s.length;--n>-1;)for(t=s[n],e=r._firstPT;e;)i=e._next,e.pg?e.t._roundProps(a,!0):e.n===t&&(this._add(e.t,t,e.s,e.c),i&&(i._prev=e._prev),e._prev?e._prev._next=i:r._firstPT===e&&(r._firstPT=i),e._next=e._prev=null,r._propLookup[t]=o),e=i;return!1},e._add=function(t,e,i,r){this._addTween(t,e,i,i+r,e,!0),this._overwriteProps.push(e)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
;
;
/*! offline.js */ 
;
;
var InVision = angular.module( "InVision", [ "ngResource", "ngRoute", "ngSanitize", "mention" ] );
(function( ng, app ) {
app.constant( "MAX_COMMENT_LIKES_DISPLAYED", 10 );
app.config(
function( $locationProvider, $routeProvider, $provide ){
$locationProvider.hashPrefix( "" );
var routes = [
{
resource: "/screens",
action: "preview"
},
{
resource: "/screens/:screenID",
action: "preview"
},
{
resource: "/screens/:screenID/title",
action: "title"
}
];
angular.forEach(
routes,
function( route, index, collection ){
$routeProvider.when(
route.resource,
{
resource: route.resource,
action: route.action
}
);
}
);
$routeProvider.otherwise({
redirectTo: "/screens"
});
var browser = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
if (browser && parseInt(browser[2], 10) >= 45) {
$provide.decorator('$sniffer', ['$delegate', function($delegate) {
$delegate.history = false;
return $delegate;
}]);
}
}
);
})( angular, InVision );
;
;
/*! mention.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention", [])
.controller( "mention.MentionController", mentionController );
function mentionController(
_,
candidatesPartial,
mentionService,
mentionShortcutService,
mentionStorage,
$scope
) {
var vm = this;
var MAX_MATCHES = 250;
vm.$onInit = $onInit;
vm.searchPeople = searchPeople;
vm.selectPerson = selectPerson;
vm.addMention = addMention;
function $onInit() {
initialize();
}
function initialize() {
if (!$scope.hasMentions) {
return;
}
candidatesPartial.load();
}
/**
* Takes the existingMention data and extracts the human-readable
* term, returning it.
*
* @param {Object} existingMention - mention data from the getMentionedUser method
* @returns {String} the extracted, human-readable term
*/
function getTermFromExistingMention( existingMention ) {
if ( existingMention.email ) {
return existingMention.email;
}
return existingMention.name;
}
/**
* Replaces the existing, encoded mention text with a readable
* version of the mention, and returns that readable version
*
* @param {Object} existingMention - mention data from the getMentionedUser method
* @param {Object} mentionInfo - mention data from the getTriggerInfo method
* @returns {String} the extracted, human-readable term
*/
function handleExistingMention( existingMention, mentionInfo ) {
var startPos = mentionInfo.mentionPosition;
var endPos = startPos + mentionInfo.mentionText.length + 1;
var term = getTermFromExistingMention( existingMention );
mentionService.replaceInputText(
mentionInfo.mentionSelectedElement,
mentionInfo.mentionTriggerChar + term,
startPos,
endPos
);
return term;
}
/**
* Loops over the `people` array and returns a new array where
* the appropriate values (determined by triggerChar) match the
* specified term
*
* @param {String} triggerChar - determines which filter algorithm to use
* @param {String} currentTerm - the value that will be matched against
* @returns {Array} the filtered list of people
*/
function generatePeopleList( triggerChar, currentTerm ) {
var term = currentTerm || "";
var upperCaseTerm = term.toUpperCase();
var mentionShortcuts = buildShortcuts();
var handlers = {
"@": function handleMentions( item ) {
var name = item.name.replace( /\s*/g, "" ).toUpperCase();
return ~name.indexOf( upperCaseTerm );
},
"+": function handleEmailMentions( item ) {
var email = ( item.email || "" ).toUpperCase();
return ~email.indexOf( upperCaseTerm );
}
};
var handler = handlers[triggerChar] || function noop() {};
var matches = _.filter( mentionShortcuts.concat(candidatesPartial.data.candidates.candidates), handler );
if (matches.length > MAX_MATCHES) {
return {
isOverMax: true,
matches: []
};
}
return {
isOverMax: false,
matches: matches
};
}
function searchPeople( mentionInfo ) {
var term = mentionInfo.mentionText || "";
var triggerChar = mentionInfo.mentionTriggerChar;
var existingMention = mentionService.getMentionedUser( term );
if ( existingMention ) {
term = handleExistingMention( existingMention, mentionInfo );
}
var peopleList = generatePeopleList( triggerChar, term );
var peopleListIsPopulated = peopleList.matches.length > 0;
var termHasValue = term.length > 0;
var isMention = triggerChar === "@";
var isDefaultView = isMention && !termHasValue;
var noMatches = isMention && termHasValue && !peopleListIsPopulated && !peopleList.isOverMax;
var overMax = isMention && termHasValue && peopleList.isOverMax;
var isNewUser = isMention && term.length > 2 && !peopleListIsPopulated;
vm.view = "default";
if ( isDefaultView ) {
vm.view = "defaultNoTerm";
}
if ( noMatches ) {
vm.view = "noCandidates";
}
if ( overMax ) {
vm.view = "overMax";
}
if ( isNewUser ) {
vm.view = "newUser";
}
vm.people = peopleList.matches;
}
function selectPerson( person ) {
var triggerChar = "@";
var name = person.name.replace( /\s/g, "" );
var id = person.id;
var isShortcut = person.role === "shortcut";
if ( !id && !isShortcut ) {
triggerChar = "+";
id = mentionService.isEmailAddress( person.email ) ? person.email : null;
name = id;
}
if ( id || isShortcut ) {
return triggerChar + name;
}
return person.name;
}
function addMention( person, startPos ) {
mentionStorage.insert( person, startPos );
}
function buildShortcuts() {
var shortcuts = mentionShortcutService.getShortcuts();
return [_.find(shortcuts, function(s) {
return s.name === "project";
})];
}
}
})( angular );
;
;
/*! mention-utilities.js */ 
;
;
(function( ng, app ) {
"use strict";
if (typeof module !== "undefined" && module.exports) {
module.exports = MentionUtilities(null);
} else if (app) {
app.service("mentionUtilities", MentionUtilities);
}
function MentionUtilities($log) {
var PUNCTUATION = "\x21-\x2f\x3a-\x40\x5b-\x60\x7b-\x7e";
var SPACES = "\x00-\x20";
var NAME_TO_MENTION_TEXT_RE = new RegExp("[" + SPACES + PUNCTUATION + "]+", "g");
var MENTION_STRINGPATTERN = "(@[\\S]+(?:[" + PUNCTUATION + "]+|$)?)";	// @mention followed by punctuation, space or end of line
var EMAIL_ADDRESS_STRINGPATTERN = "([^@\\s]+@[^@\\s]+\\.\\w{2}[\\.\\w]*)";
var VISIBLE_MENTION_STRINGPATTERN =
"(^|\\s)" +               // Start of text or whitespace
"(?:" +                   // non-capturing group
MENTION_STRINGPATTERN +
"|\\+(" +                 // Pattern OR, leading "+", start capture group
EMAIL_ADDRESS_STRINGPATTERN +
"))";                     // Close email capture group, then non-capturing group
var VISIBLE_MENTION_RE = new RegExp( VISIBLE_MENTION_STRINGPATTERN, "g" );
var EMAIL_RE = new RegExp(EMAIL_ADDRESS_STRINGPATTERN);
var TRAILING_PUNCTUATION_RE = new RegExp("[" + PUNCTUATION + "]+$", "g");
var defaultOptions = {
candidates: [],
conversationMembers: [],
debug: false,				// Set to true to log debug info
existingMentions: [],
maxCandidates: 300,   		// If there are more than this many candidates, they will not be searched.
members: [],
searchCandidates: true		// Set to true to search single matches in candidates
};
return ({
findMentions: findMentions,
isEmailAddress: isEmailAddress,
nameToMentionText: nameToMentionText,
replaceMalformedEmails: replaceMalformedEmails,
userToMention: userToMention,
hasInvites: hasInvites,
hasNonInvites: hasNonInvites
});
function log() {
if ($log) {
$log.log.apply($log, arguments);
} else if (window && window.console) {
window.console.log.apply(window.console, arguments);
}
}
function nameToMentionText(name) {
var result = "@" + name.replace(NAME_TO_MENTION_TEXT_RE, '');
return result;
}
function userToMention( user ) {
return {
userID: user.id || user.userID,
text: nameToMentionText( user.name )
};
}
function findMentions( commentText, userOptions ) {
var options = ng.copy(defaultOptions);
if (ng.isObject(userOptions)) {
ng.extend(options, userOptions);
}
var results = [];
var toReplace = [];
var match;
var text;
var cursorPos = 0;
var existingMention;
var newMention;
var matchingCandidates;
var mentionShortcut;
var email;
var existingMentions = options.existingMentions;
var candidates = options.candidates;
var members = options.members;
var conversationMembers = options.conversationMembers;
if ( !ng.isArray( existingMentions ) ) {
throw ("if provided, existingMentions must be an array");
}
if ( !ng.isArray( candidates ) ) {
throw ("if provided, candidates must be an array");
}
if (options.debug) {
log("commentText:", commentText);
}
if (options.searchCandidates && candidates.length <= options.maxCandidates) {
_.each(candidates, function(candidate) {
candidate.mentionText = nameToMentionText(candidate.name).toLowerCase();
});
}
while ( match = VISIBLE_MENTION_RE.exec( commentText ) ) {
if (options.debug) {
log("Checking mention match:", match[2], "index:", match.index, match);
}
matchingCandidates = [];
existingMention = null;
newMention = null;
email = null;
cursorPos = match.index + match[1].length;
text = match[2] || match[3]; // different capture groups for @Name and +z@email.com
text = text.replace(/[\s,.!?\-]$/,"");
mentionShortcut = text === "@project" || text === "@conversation";
text = text.replace(TRAILING_PUNCTUATION_RE, '');
if (options.debug) {
log("Text with trailing punctuation stripped:", text);
}
existingMention = _.find(
existingMentions,
{"text": text, "startPos": cursorPos}
);
if ( existingMention && !mentionShortcut ) {
if ( options.debug ) {
log("Have exact match with existing mention");
}
results.push( existingMention );
continue;
}
existingMention = _.find(
existingMentions,
{"text": text}
);
if ( existingMention && !mentionShortcut ) {
if ( options.debug ) {
log("Have text match different startPos with existing mention");
}
newMention = ng.copy( existingMention );
newMention.startPos = cursorPos;
results.push( newMention );
continue;
}
if (!!members.length && text === "@project") {
_.each( members, function(member) {
newMention = {
userID: member.id,
text: text,
name: member.name,
startPos: cursorPos
};
results.push( newMention );
});
continue;
}
if (!!conversationMembers.length && text === "@conversation") {
_.each( conversationMembers, function(member) {
newMention = {
userID: member.id,
text: text,
name: member.name,
startPos: cursorPos
};
results.push( newMention );
});
continue;
}
if ( options.searchCandidates && candidates.length <= options.maxCandidates ) {
_.each( candidates, function( candidate ) {
if (candidate.mentionText === text.toLowerCase() && candidate.role !== 'shortcut') {
matchingCandidates.push(ng.copy(candidate));
}
});
if ( matchingCandidates.length === 1 ) {
if ( options.debug ) {
log("Have single candidate which matches text");
}
newMention = {
userID: matchingCandidates[ 0 ].id,
text: text,
name: matchingCandidates[ 0 ].name,
startPos: cursorPos
};
results.push( newMention );
continue;
}
}
if (isEmailAddress(text)) {
if (text.charAt(0) === "@" || text.charAt(0) === "+") {
text = text.slice(1, text.length);
}
if ( options.debug ) {
log("Have apparently-valid email address");
}
newMention = {
startPos: cursorPos,
text: "+" + text,
email: text
};
results.push(newMention);
}
}
if (options.debug) {
log(results.length + " mentions in " + commentText + ":---------");
_.each(results, function(m) {
log(JSON.stringify(m));
});
}
return results;
}
function isEmailAddress(text) {
return text.match(EMAIL_RE);
}
function replaceMalformedEmails(commentText, mentions) {
mentions.forEach(function (item) {
var slicedText = item.text.slice(1,item.text.length);
if (isEmailAddress(slicedText)) {
var malformedEmail = "@" + slicedText;
if (commentText.indexOf(malformedEmail) !== -1) {
commentText = commentText.replace(malformedEmail, "+" + slicedText);
}
}
});
return commentText;
}
function hasInvites( mentions ) {
var containsInvite = false;
for ( var i=0;i<mentions.length;i++ ) {
if ( mentions[i].text.substring(0,1) === "+" ) {
containsInvite = true;
break;
}
}
return containsInvite;
}
function hasNonInvites( mentions ) {
var containsMention = false;
for ( var i=0;i<mentions.length;i++) {
if ( mentions[i].text.substring(0,1) === "@" ) {
containsMention = true;
break;
}
}
return containsMention;
}
}
})( angular, InVision );
;
;
/*! empty.js */ 
;
;

;
;
/*! global-uploader.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invGlobalUploader", Directive );
var uploader;
var screenSourceIntroPref = {
isLoaded: false,
showScreenSourceModal: true
};
var retinaNotice = {
isActive: false,
beenSeen: false
};
var isMissingFileExtension = function( filename ) {
var extensionPattern = /\.[^.]+$/i;
return( ! extensionPattern.test( filename ) );
};
var isNotUploading = function() {
return( uploader.state === plupload.STOPPED );
};
var isPDF = function( name ) {
var pattern = /\.(pdf)$/i;
return(
pattern.test( name )
);
};
var isSourceFile = function( name ) {
var pattern = /\.(psd|ai|sketch)$/i;
return(
pattern.test( name )
);
};
var isLayerExtractionFile = function( name ) {
var pattern = /\.(psd|ai|sketch|pdf)$/i;
return(
pattern.test( name )
);
};
var isValidFilename = function( name ) {
var pattern = /\.(gif|jpe?g|png|pdf|psd|ai|sketch)$/i;
return(
pattern.test( name )
);
};
var isImage = function( name ) {
var pattern = /\.(gif|jpe?g|png)$/i;
return (
pattern.test( name )
);
};
var getFileExtension = function( name ) {
return name.split(".").pop();
}
/** @ngInject */
function Directive(
$rootScope,
$timeout,
_,
analyticsService,
boardService,
clientEvents,
errorLogService,
modelEvents,
screenService,
sessionService,
userPreferenceService,
utilityService
) {
var MB_BYTES = ( 1024 * 1024 );
var maxInBytes = ( MB_BYTES * 15 );
var maxInBytesEnglish = "15 MB";
var _projectID;
var _uploadType = "screen";
var _uploadSource = ""; // helps track where the image was being uploaded from within the app.
var _screenType = "";
var _boardID;
var _boardGroupID;
var addingFiles = false;
var _internalQueue = [];
var _skipQueueChangedEvent = false;
var link = function(scope, element){
$rootScope.globalUploadInfo = {
upload: {
files: [],
statusText: ''
},
sync: {
files: [],
processed: [],
statusText: ''
}
};
element.find('body').append('<button id="globalPluploadButton"></button>');
var uploadButton = $('#globalPluploadButton');
uploader = new plupload.Uploader({
runtimes: "html5",
url: "/api/screens",
multipart: false,
method: 'put',
max_retries: 3,
browse_button: "globalPluploadButton",
headers: {}
});
uploader.settings.headers["x-amz-server-side-encryption"] = "AES256";
uploader.bind( "BeforeUpload", handleBeforeUpload );
uploader.bind( "QueueChanged", handleQueueChanged );
uploader.bind( "FilesAdded", handleFilesAdded );
uploader.bind( "FileUploaded", handleFileUploaded);
uploader.bind( "UploadComplete", handleUploadComplete);
uploader.bind( "Error", handleError );
uploader.bind( "UploadProgress", handleUploadProgress);
uploader.init();
scope.$on('globalUploadBrowse', function(e, projectID){
_uploadType = 'screen';
_projectID = projectID;
_screenType = '';
uploadButton.trigger('click');
});
scope.$on('globalUploadBoardsBrowse', function(e, boardID, boardGroupID) {
_uploadType = 'boardItem';
_boardID = boardID;
_boardGroupID = boardGroupID;
uploadButton.trigger('click');
});
scope.$on('globalUploadBoardHeaderBrowse', function(e, boardID) {
_uploadType = 'boardPhotoHeader';
_boardID = boardID;
uploadButton.trigger('click');
});
scope.$on('globalUploadLoadingScreen', function(e, projectID){
_uploadType = "screen";
_projectID = projectID;
_screenType = "LoadingScreen";
uploadButton.trigger("click");
});
scope.$on("globalUploadPasteScreen", function( event, projectID, file, filename ) {
_uploadType = "screen";
_uploadSource = "screens_tab";
_projectID = projectID;
uploader.addFile( file, filename );
});
scope.$on('globalUploadPlaceholderScreen', function(e, file, suggestedSort, dividerID, projectID, workflowStatusID){
_uploadType = "screen";
_projectID = projectID;
var filesToAdd = [];
var file = new plupload.File(new mOxie.File(null, file), file.name);
file.getSource().suggestedSort = suggestedSort;
file.getSource().dividerID = dividerID;
file.getSource().projectID = projectID;
file.getSource().isPlaceholder = 1;
file.getSource().workflowStatusID = workflowStatusID || 0;
file.getSource().forceCreate = 1;
filesToAdd.push( file );
setTimeout(function() {
uploader.trigger( "FilesAdded", filesToAdd );
}, 1);
});
scope.$on("globalUploadAddScreens", function(e, files, suggestedSort, dividerID, projectID) {
_uploadType = "screen";
_uploadSource = "screens_tab";
_projectID = projectID;
var filesToAdd = [];
for ( var i = ( files.length - 1 ) ; i >= 0 ; i-- ) {
var file = new plupload.File(new mOxie.File(null, files[i]), files[i].name);
file.getSource().suggestedSort = suggestedSort;
file.getSource().dividerID = dividerID;
file.getSource().projectID = projectID;
filesToAdd.push(file);
}
filesToAdd = _.sortOnPropertyUsingNaturalOrder( filesToAdd, "name" );
if(filesToAdd.length) {
setTimeout(function() {
uploader.trigger( "FilesAdded", filesToAdd );
}, 1);
}
});
scope.$on('globalUploadReplaceScreen', function(e, file, screenID, projectID, isPlaceholder){
_uploadType = 'screen';
_projectID = projectID;
var filesToAdd = [];
var file = new plupload.File(new mOxie.File(null, file));
file.getSource().screenID = screenID;
file.getSource().projectID = projectID;
file.getSource().isPlaceholder = isPlaceholder || 0;
filesToAdd.push( file );
setTimeout(function(){
uploader.trigger( 'FilesAdded', filesToAdd );
},1);
});
scope.$on('globalUploadAddBoardItems', function(e, files, suggestedSort, boardGroupID, boardID){
_uploadType = 'boardItem';
_boardID = boardID;
var filesToAdd = [];
for ( var i = ( files.length - 1 ) ; i >= 0 ; i-- ){
var file = new plupload.File(new mOxie.File(null, files[i]), files[i].name);
file.getSource().suggestedSort = suggestedSort + i;
file.getSource().boardGroupID = boardGroupID;
file.getSource().boardID = boardID;
filesToAdd.push(file);
}
filesToAdd = _.sortOnPropertyUsingNaturalOrder( filesToAdd, "name" );
if(filesToAdd.length){
setTimeout(function(){
uploader.trigger( 'FilesAdded', filesToAdd );
},1);
}
});
scope.$on('globalUploadAddBoardHeaderImage', function(e, files, boardID){
_uploadType = 'boardPhotoHeader';
_boardID = boardID;
var filesToAdd = [];
for ( var i = ( files.length - 1 ) ; i >= 0 ; i-- ){
var file = new plupload.File(new mOxie.File(null, files[i]));
file.getSource().boardID = boardID;
filesToAdd.push( file );
}
setTimeout(function(){
uploader.trigger( 'FilesAdded', filesToAdd );
},1);
});
$rootScope.globalUploadStatusText = function() {
return $rootScope.globalUploadInfo.upload.statusText + $rootScope.globalUploadInfo.sync.statusText;
};
function validateFiles( files ) {
var filesToAdd = [];
var fileExcludedBasedOnName = null;
var i;
var triggerExtractionWarning = false;
var failedFileExtensions = [];
for ( i = ( files.length - 1 ); i >= 0; i-- ){
var file = files[i];
if (_uploadType !== "boardItem" &&
_uploadType !== "boardPhotoHeader" &&
isSourceFile(file.name)
) {
failedFileExtensions.push(getFileExtension(file.name))
triggerExtractionWarning = true;
delete files[ i ];
} else if ( ! isValidFilename( file.name ) || utilityService.isHTML( file.name ) ) {
fileExcludedBasedOnName = file.name;
delete files[ i ];
} else if (file.size > maxInBytes && !isPDF(file.name) && !isSourceFile(file.name)) { // limit the max file size, unless it's a PDF or a screen source file
$timeout(function() {
scope.openModalWindow(
"imageFileTooLarge",
( "\"" + file.name + "\" is a little too big. Try uploading an image that's under " + maxInBytesEnglish + "." )
);
});
delete files[ i ];
}else{
filesToAdd.unshift(file);
}
}
if( !! fileExcludedBasedOnName ) {
$timeout(function() {
scope.openModalWindow( "error", "The file, \"" + fileExcludedBasedOnName + ",\" was skipped since it doesn't appear to be an image file." );
});
}
if (triggerExtractionWarning) {
$timeout(function() {
scope.openModalWindow( "onboardingCraftFullScreen", { fileExtensions: failedFileExtensions } );
});
}
return filesToAdd;
}
function validateBoardFiles( files ) {
var filesToAdd = [];
var fileIsMissingExtension = null;
var i;
for ( i = ( files.length - 1 ); i >= 0; i-- ){
var file = files[i];
if ( isMissingFileExtension( file.name ) ) {
fileIsMissingExtension = file.name;
delete files[ i ];
}else if ( file.size > maxInBytes && isImage( file.name ) ) { // limit the max file size, unless it's a PDF or a screen source file
$timeout(function() {
scope.openModalWindow(
"imageFileTooLarge",
( "\"" + file.name + "\" is a little too big. Try uploading an image that's under " + maxInBytesEnglish + "." )
);
});
delete files[ i ];
}else{
filesToAdd.unshift(file);
}
}
if( !! fileIsMissingExtension ) {
$timeout(function() {
scope.openModalWindow( "error", "The file, \"" + fileIsMissingExtension + ",\" was skipped since it doesn't appear to be a valid file." );
});
}
return filesToAdd;
}
function validateBoardHeaderFiles( files ) {
var filesToAdd = [];
var fileExcludedBasedOnName = null;
if( files.length > 1 ) {
scope.openModalWindow("error", "You can only use a single image as the header.");
} else {
for ( var i = ( files.length - 1 ) ; i >= 0 ; i-- ){
var file = files[i];
if( ! isImage( file.name ) ) {
$timeout(function() {
scope.openModalWindow("error", "Header images must have a .jpg, .png, or .gif extension.");
});
}else if (file.size > maxInBytes) { // limit the max file size, unless it's a PDF or a screen source file
$timeout(function() {
scope.openModalWindow(
"imageFileTooLarge",
( "\"" + file.name + "\" is a little too big. Try uploading an image that's under " + maxInBytesEnglish + "." )
);
});
} else {
filesToAdd.push(file);
}
}
}
return filesToAdd;
}
function handleFilesAdded( up, files ){
if ( up.state === plupload.UPLOADING ) {
_internalQueue.push(files);
return;
}
if ( _uploadType === "boardItem" ) {
files = validateBoardFiles(files);
} else if ( _uploadType === "boardPhotoHeader" ) {
files = validateBoardHeaderFiles(files);
} else {
files = validateFiles(files);
}
_removeInvalidFiles(up, files);
if ( files.length === 0 ) {
return;
}
clientEvents.forNamespace("globalUploader")
.trigger("filesAdded", {
type: _uploadType,
source: _uploadSource
}
);
var user = sessionService.user;
scope.$apply(function(){
if(!$rootScope.globalUploadInfo.upload.files.length){
$rootScope.globalUploadInfo.upload.statusText = 'Initializing Upload...';
}
scope.$broadcast('hideUploadOverlay');
});
var requestFiles = [];
var tempFiles = [];
var tempScreens = [];
var maintainedSort = -1;
var boardID = 0;
if(_uploadType === "screen"){
var projectID = files[0].getSource().projectID || _projectID;
var isLoadingScreen = false;
if(_screenType === "LoadingScreen"){
if(files.length > 1){
scope.openModalWindow( "error", "You can only select one Loading Screen" );
return;
}else if(isLayerExtractionFile(files[0].name)){
scope.openModalWindow( "error", "You can't use a source file for a Loading Screen" );
return;
}else{
isLoadingScreen = true;
}
}
files.forEach(function(file, index){
tempFiles.push(file);
up.files.splice(_.findIndex(up.files, { id: file.id}), 1);
var dividerID = typeof file.getSource().dividerID === 'undefined' ? -1 : file.getSource().dividerID;
var suggestedSort = file.getSource().suggestedSort || -1;
var screenID = file.getSource().screenID || 0;
var screenTypeID = 1;
var requestFile = {
file: file.name,
uid: file.id,
isPlaceholder: file.getSource().isPlaceholder || 0,
workflowStatusID: file.getSource().workflowStatusID || 0,
forceCreate: file.getSource().forceCreate || 0
};
if(isLoadingScreen){
suggestedSort = 1;
dividerID = 0;
screenTypeID = 3;
requestFile.isLoadingScreen = true;
}
if( suggestedSort !== -1 ){
suggestedSort = suggestedSort + index;
}
if ( !isLayerExtractionFile(file.name) ){
tempScreens.push({
file: file,
user: user,
projectID: projectID,
dividerID: dividerID,
suggestedSort: suggestedSort,
screenID: screenID,
screenTypeID: screenTypeID
});
}
if(screenID){
requestFile.screenid = screenID;
}else{
requestFile.suggestedSort = suggestedSort;
requestFile.dividerID = dividerID;
}
requestFiles.push(requestFile);
});
InvScreens.actions.addTempScreens(tempScreens);
var screensToUpdate = [];
screenService.requestUpload(requestFiles, projectID).then(function(signedFiles){
signedFiles.forEach(function(signedFile, index){
var file = _.find(tempFiles, {id: signedFile.uid});
file.getSource().signedUrl = signedFile.signedurl;
file.getSource().projectID = projectID;
if( !file.getSource().screenID && !isLayerExtractionFile(file.name) ){
screensToUpdate.push({
file: file,
projectID: projectID,
id: signedFile.id,
name: signedFile.name,
sort: signedFile.sort
});
}
if(isLayerExtractionFile(file.name)){
var syncFile = {
name: file.name,
projectID: projectID,
groupID: projectID,
status: "uploading",
screens: 0,
assetID: 0
};
$rootScope.globalUploadInfo.sync.files.push(syncFile);
scope.$broadcast('setShowingUploadingFiles', true);
}
$rootScope.globalUploadInfo.upload.files.push({
projectID: projectID,
name: file.name,
id: signedFile.id || file.getSource().screenID || 0,
percent: 0,
uploaded: false
});
up.files.push(file);
});
InvScreens.actions.updateTempScreens(screensToUpdate);
$timeout(updateGlobalUploadInfo);
tempFiles = requestFiles = null;
up.start();
}, function(){
tempFiles = requestFiles = null;
});
}else if ( _uploadType === "boardItem" ){
var boardGroupID = files[0].getSource().boardGroupID || _boardGroupID;
boardID = files[0].getSource().boardID || _boardID;
if( !! files ) {
files.forEach(function(file, index){
tempFiles.push(file);
up.files.splice(_.findIndex(up.files, { id: file.id}), 1);
var boardItemID = file.getSource().boardItemID || 0;
if(
file.type.indexOf("image/") >= 0 &&
["psd", "sketch", "ai"].indexOf(file.name.split('.').pop().toLowerCase()) === -1
) {
var fileName = file.name;
fileName = fileName.replace(/\.[^/.]+$/, "");
fileName = fileName.replace(/[_-]/g, " ");
fileName = fileName.replace(/\w\S*/g, function( match ) {
return match.charAt(0).toUpperCase() + match.substr(1);
});
file.getSource().title = fileName;
} else {
file.getSource().title = file.name;
}
var title = file.getSource().title;
var sort = file.getSource().suggestedSort || -1;
var requestFile = {
file: file.name,
uid: file.id,
title: title,
sort: sort
};
InvBoards.actions.addTempItem(file, user, boardID, boardGroupID, title, sort);
requestFiles.push(requestFile);
});
}
boardService.requestUpload(requestFiles, boardGroupID).then(function(signedFiles){
signedFiles.forEach(function(signedFile, index){
var file = _.find(tempFiles, {id: signedFile.uid});
file.getSource().signedUrl = signedFile.signedurl;
file.getSource().boardID = boardID;
InvBoards.actions.updateTempItem(file, boardID, signedFile.id);
$rootScope.globalUploadInfo.upload.files.push({
boardID: boardID,
id: signedFile.id || file.getSource().boardItemID || 0,
percent: 0,
name: file.name,
uploaded: false
});
up.files.push(file);
});
$timeout(updateGlobalUploadInfo);
tempFiles = requestFiles = null;
up.start();
}, function(){
tempFiles = requestFiles = null;
});
}else if ( _uploadType === "boardPhotoHeader" ){
requestFiles = [];
tempFiles = [];
boardID = files[0].getSource().boardID || _boardID;
files.forEach(function(file, index){
file.getSource().boardID = boardID;
tempFiles.push(file);
up.files.splice(_.findIndex(up.files, { id: file.id}), 1);
var requestFile = {
file: file.name,
uid: file.id
};
InvBoards.actions.addTempHeader(boardID, file);
requestFiles.push(requestFile);
});
boardService.requestPhotoHeaderUpload(requestFiles[0], boardID).then(function(signedFiles){
signedFiles.forEach(function(signedFile, index){
var file = _.find(tempFiles, {id: signedFile.uid});
file.getSource().signedUrl = signedFile.signedurl;
file.getSource().boardID = boardID;
$rootScope.globalUploadInfo.upload.files.push({
boardID: boardID,
name: file.name,
percent: 0,
uploaded: false
});
up.files.push(file);
});
$timeout(updateGlobalUploadInfo);
tempFiles = requestFiles = null;
up.start();
}, function(){
tempFiles = requestFiles = null;
});
}
_screenType = "";
}
function _removeInvalidFiles(up, files) {
var filesToRemove = [];
up.files.forEach(function(file) {
var validFile = _.find(files, { id: file.id });
if (!validFile) {
filesToRemove.push(file);
};
});
_skipQueueChangedEvent = true;
filesToRemove.forEach(function(file) {
up.removeFile(file); // this will trigger "QueueChanged" event
});
_skipQueueChangedEvent = false;
}
function handleBeforeUpload(up, file ){
up.settings.url = file.getSource().signedUrl;
file.status = plupload.UPLOADING;
up.trigger( "UploadFile", file );
return false;
}
function findUploadingFile(file){
var info;
if(file.getSource().projectID){
info = _.find($rootScope.globalUploadInfo.upload.files,
{'name':file.name, 'projectID': file.getSource().projectID, 'uploaded': false});
}else if(file.getSource().boardID){
info = _.find($rootScope.globalUploadInfo.upload.files,
{'name':file.name, 'boardID': file.getSource().boardID, 'uploaded': false});
}
return info;
}
function handleFileUploaded(up, file){
trackUpload("Success", file);
if(file.getSource().hasOwnProperty('projectID')){
asyncRetinaModalNotificationCheck([file]);
}
$timeout(function(){
var uploadInfo = findUploadingFile(file);
var syncFile = _.find($rootScope.globalUploadInfo.sync.files,
{'name':file.name, 'groupID': file.getSource().projectID, 'status': 'uploading'});
if(uploadInfo){
uploadInfo.uploaded = true;
}
if(syncFile){
syncFile.status = "initializing";
}
updateGlobalUploadInfo();
});
}
function isRetinaImage(img) {
if (img.width >= 2000) {
return true;
}
return false;
}
function readUploadedFiles(files) {
return files.map(function(file) {
return new Promise(function(accept) {
var reader = new FileReader();
reader.onloadend = function() {
accept(reader.result);
};
reader.readAsDataURL(file.getNative());
});
});
}
function loadImageURLs(urls) {
var promises = urls.map(function(src) {
return new Promise(function(accept) {
var img = new Image();
img.onload = function() {
accept(img);
};
img.src = src;
});
});
return Promise.all(promises);
}
function extractDimensions(images) {
return images.some(function(img) {
return isRetinaImage(img);
});
}
function handleRetinaModalOpen(isRetinaScreen) {
if (isRetinaScreen && !retinaNotice.isActive) {
retinaNotice.isActive = true;
$timeout(_.noop)
.then(scope.openModalWindow.bind(this, 'retinaHelper'));
}
}
function asyncRetinaModalNotificationCheck(files) {
retinaNotice.beenSeen = sessionService.user.showretinahelpermodal === '1';
if (!retinaNotice.beenSeen && !retinaNotice.isActive) {
Promise.all(readUploadedFiles(files))
.then(loadImageURLs)
.then(extractDimensions)
.then(handleRetinaModalOpen);
}
}
function handleUploadComplete(){
$timeout(updateGlobalUploadInfo);
if (_internalQueue.length) {
var _files = _internalQueue.shift();
handleFilesAdded(uploader, _files);
}
}
function handleQueueChanged( up ) {
if ( _skipQueueChangedEvent ) {
return;
}
if ( up.files.length && up.state === plupload.STOPPED ) {
up.start();
}
}
function handleUploadProgress( up, file ){
$timeout(function(){
var uploadInfo = findUploadingFile(file);
if(uploadInfo){
uploadInfo.percent = file.percent;
}
});
}
function handleError( up, error ) {
if ( error.file ) {
scope.openModalWindow( "error", "Looks like some of your files did not finish uploading. Please re-upload any files that did not complete." );
}
error.toString = function() {
var data = {
type: "GlobalUploaderError",
code: error.code,
message: error.message,
response: ( error.response || "" ),
responseHeaders: ( error.responseHeaders || "" ),
status: ( error.status || "" )
};
if ( error.file ) {
data.file = {
id: error.file.id,
name: error.file.name,
percent: error.file.percent,
size: error.file.size,
status: error.file.status,
type: error.file.type
};
console.log("error file:", error.file);
trackUpload("Failure", error.file);
} else {
data.file = "Error is not file related.";
}
return( ng.toJson( data ) );
};
errorLogService.exceptionHandler( error );
}
function checkScreenSourceIntro(){
if( !screenSourceIntroPref.isLoaded ){
userPreferenceService.getPreferenceTypeByName( "showScreenSourceIntro", true, "boolean" ).then(
function( typeResponse ) {
userPreferenceService.getUserPreferenceById( typeResponse.data.id ).then(
function( valueResponse ) {
if( valueResponse.exists === "true" && valueResponse.data.value === "0" ){
screenSourceIntroPref.showScreenSourceModal = false;
} else {
screenSourceIntroPref.showScreenSourceModal = true;
}
screenSourceIntroPref.isLoaded = true;
typeResponse = null;
valueResponse = null;
}
);
}
);
}
}
var isListeningToUnload = false;
var unloadMessage = "Closing the window will cancel your current uploads.";
var showUnloadMessage = function (e) {
(e || window.event).returnValue = unloadMessage;
return unloadMessage;
};
function updateGlobalUploadInfo(){
var uploadInfo = $rootScope.globalUploadInfo;
var uploadedCount = _.filter(uploadInfo.upload.files, 'uploaded', true).length;
var syncCompleteCount = _.filter(uploadInfo.sync.files, {'status' : 'complete'}).length;
var syncFailCount = _.filter(uploadInfo.sync.files, {'status' : 'failed'}).length;
if( (syncCompleteCount+syncFailCount) === uploadInfo.sync.files.length){
uploadInfo.sync.statusText = '';
uploadInfo.sync.files = [];
}
if(uploadedCount === uploadInfo.upload.files.length){
uploadInfo.upload.statusText = '';
uploadInfo.upload.files = [];
}
if(uploadInfo.upload.files.length){
uploadInfo.upload.statusText = 'Uploading ' + uploadedCount + ' of  ' + (uploadInfo.upload.files.length).toString() + ' files';
}else if( uploadInfo.sync.files.length ){
uploadInfo.sync.statusText = 'Syncing ' + (syncCompleteCount+1).toString() + ' of  ' + (uploadInfo.sync.files.length).toString() + ' files';
}
if(!uploadInfo.upload.files.length && !uploadInfo.sync.files.length){
scope.$broadcast('setShowingUploadingFiles', false);
}
if (!uploadInfo.upload.files.length) {
window.removeEventListener("beforeunload", showUnloadMessage);
isListeningToUnload = false;
} else if( !isListeningToUnload ) {
window.addEventListener("beforeunload", showUnloadMessage);
isListeningToUnload = true;
}
}
function trackUpload(status, file) {
var fileType = file.name.split(".").pop();
switch ( fileType ) {
case "psd":
analyticsService.track("PSD " + status);
break;
case "sketch":
analyticsService.track("Sketch " + status);
break;
}
if ( _uploadSource === "screens_tab" ) {
analyticsService.track( "Screen.UploadedFrontend",
{
ScreenUploadedStatus: status,
FileType: fileType
}
);
}
}
modelEvents.on('showScreenSourceModalPreferenceUpdated.globalUploader', function(event, pref) {
if ( pref === 0 ){
screenSourceIntroPref.showScreenSourceModal = false;
}
});
modelEvents.on('selectiveSyncFilesUploading.globalUploader', function( event, files, groupID, groupType, props ) {
if ( groupType === "board" ) {
for ( var i=0, length=files.length; i<length; i++ ) {
var id = files[i].entityID;
var sort = -1;
var randomProgress = Math.random() * (64 - 20) + 20;
files[i].id = files[i].entityID;
InvBoards.actions.addTempItem(files[i], props.userID, groupID, props.boardGroupID, files[i].title, sort);
InvBoards.actions.updateTempItem(files[i], groupID, id);
$rootScope.globalUploadInfo.upload.files.push({
name: files[i].name,
uploaded: false,
id: id,
percent: randomProgress,
groupID: groupID,
groupType: groupType,
oauthApp: props.oauthApp
});
}
$timeout(updateGlobalUploadInfo);
} else if (groupType === "project") {
for ( var i=0, length=files.length; i<length; i++ ) {
var objID = files[i].screenID || files[i].entityID;
var id = isLayerExtractionFile(files[i].name) ? 0 : objID;
var randomProgress = Math.random() * (64 - 20) + 20;
$rootScope.globalUploadInfo.upload.files.push({
name: files[i].name,
uploaded: false,
id: id,
percent: randomProgress,
groupID: groupID,
groupType: groupType,
oauthApp: props.oauthApp
});
if(isLayerExtractionFile(files[i].name)){
var syncFile = {
name: files[i].name,
groupID: groupID,
status: "uploading",
screens: 0,
assetID: 0
};
$rootScope.globalUploadInfo.sync.files.push(syncFile);
scope.$broadcast('setShowingUploadingFiles', true);
}
}
$timeout(updateGlobalUploadInfo);
}
});
modelEvents.on( "selectiveSyncFileUploadComplete.globalUploader", function( event, groupID, fileName){
var uploadInfo = _.find($rootScope.globalUploadInfo.upload.files,
{'name': fileName, 'groupID': groupID, 'uploaded': false});
var syncFile = _.find($rootScope.globalUploadInfo.sync.files,
{'name': fileName, 'groupID': groupID, 'status': 'uploading'});
if (uploadInfo) {
uploadInfo.uploaded = true;
if (uploadInfo.groupType === "board" && !!uploadInfo.oauthApp) {
InvBoards.actions.syncBoardItemUploadComplete(uploadInfo.oauthApp);
}
}
if(syncFile){
syncFile.status = "initializing";
}
$timeout(updateGlobalUploadInfo);
});
modelEvents.on('screenSourceUploaded.globalUploader', function( event, screenSource ) {
var clientFilename = screenSource.asset.clientFilename;
var syncFile = _.find($rootScope.globalUploadInfo.sync.files, {'name': clientFilename, 'groupID': screenSource.asset.projectID, 'assetID': 0});
if(syncFile){
syncFile.status = 'processing';
syncFile.assetID = screenSource.asset.id;
syncFile.screens = screenSource.info.screens ? screenSource.info.screens.length : [];
}
$timeout(updateGlobalUploadInfo);
});
modelEvents.on('screenSourceSyncUpdated.globalUploader', function( event, assetID, status, projectID ) {
var uploadingFile = _.find($rootScope.globalUploadInfo.sync.files, {'assetID': assetID, 'groupID': projectID});
if(uploadingFile){
if( status === 'complete' && $rootScope.globalUploadInfo.sync.files.length ){
uploadingFile.status = 'complete';
} else if( status === "failed" || status === "inspected" || status === "cancelled" || status === "killed" ){
uploadingFile.status = 'failed';
}else if(uploadingFile){
uploadingFile.status = 'processing';
}
}
$timeout(updateGlobalUploadInfo);
});
scope.$on('$destroy', function() {
modelEvents.off('showScreenSourceModalPreferenceUpdated.globalUploader');
modelEvents.off('selectiveSyncFilesUploading.globalUploader');
modelEvents.off('screenSourceUploaded.globalUploader');
modelEvents.off('selectiveSyncFileUploadComplete.globalUploader');
modelEvents.off('screenSourceSyncUpdated.globalUploader');
});
checkScreenSourceIntro();
};
return({
link: link,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! loading.js */ 
;
;
/**
* Loading directive to display loading animation.
* Usage: <span loading="isLoading"></span>
*/
angular.module("InVision")
.directive("loading", function() {
var ua = window.navigator.userAgent;
var msie = ua.indexOf("MSIE ");
var template;
if (msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./)) {
template = "<div class=\"dots\"><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>";
} else {
template = "<div class=\"loader\"><svg class=\"circular\"><circle class=\"path\" cx=\"32\" cy=\"32\" r=\"30\" fill=\"none\" stroke-width=\"4\"></svg></div>";
}
return {
restrict: "AE",
replace: true,
template: "<div class=\"loading-directive\" ng-show=\"isLoading\">" + template + "</div>",
scope: {
isLoading: "=loading"
}
};
});
;
;
/*! mobile-transition-layer.js */ 
;
;
(function(ng, app) {
var _DEBUG_ = _DEBUG_ || false;
var _STANDALONE_ = window._STANDALONE_ || false;
app
.directive('invMobileTransitionLayer', Directive);
/** @ngInject */
function Directive($timeout, $log, _, transitionsService, config, screenService, autoImagePreloader) {
var vm = {};
return {
link:        linkFunction,
restrict:    'A',
templateUrl: '/assets/apps/common/views/directives' +
'/mobile-transition-layer.htm'
};
function linkFunction($scope, element) {
var
$element       = ng.element(element),
$wrapper       = $element.find('.inner2'),
$fixedElements = {
curr: [],
targ: []
},
$curr,
$targ;
var transitionFeatureFlag = $scope.transitionFeatureFlag || false;
vm.initalised  = false;
vm.isPreparing = false;
vm.isPlaying   = false;
vm.isUpdating  = false;
vm.transitionTypes = {
2:  'slide-right',
3:  'slide-left',
4:  'slide-up',
5:  'slide-down',
6:  'flip-right',
7:  'flip-left',
8:  'dissolve',
9:  'flow',
10: 'pop',
11: 'push-right',
12: 'push-left',
13: 'slide-fade'
};
vm.specialTransitions = [2, 3, 11, 12];
$scope.Math = Math;
$scope.getBackgroundColor = getBackgroundColor;
$scope.screenInHotspot    = screenInHotspot;
$scope.transitionScreen   = screenService.getCurrentScreen();
$scope.transitionScreens  = [];
$scope.pushDownFixedHeader = $scope.isAndroid ? ( $scope.statusBarPushDown || 0 ) : 0;
$scope.addStatusBarHeight =
( ($scope.config && $scope.config.mobileStatusbarIsOpaque) || (config && config.project && config.project.mobileStatusbarIsOpaque) )
&& $scope.isInAppMode
&& !vm.isAndroid ? true : false;
$scope.$on('mobile:transition:prepare', prepareTransitions);
$scope.$on('mobile:transition:run', doTransition);
$scope.$on('mobile:transition:updateCurrent', updateCurrentScreen);
$scope.$on('mobile:transition:init', initTransitionScreens);
if (!$scope.isMobileShare) {
initTransitionScreens({}, true);
}
function updateCurrentScreen(event, cb) {
if (_DEBUG_) $log.info('invMobileTransitionLayer.updateCurrentScreen');
if (vm.isUpdating) return false;
vm.isUpdating = true;
$scope.transitionScreen = screenService.getScreenClickedOn();
if (cb) {
return $timeout(cb)
.then(function () {
vm.isUpdating = false;
});
}
vm.isUpdating = false;
return false;
}
function initTransitionScreens(event, update) {
if (_DEBUG_) $log.info('invMobileTransitionLayer.initTransitionScreens');
if (!transitionFeatureFlag) {
if (_.isFunction(screenService.getScreens)) {
$scope.transitionScreens = screenService.getScreens();
}
if ( $scope.screens && $scope.screens.length ) {
$scope.transitionScreens = $scope.screens;
} else if (!$scope.isMobileShare && !$scope.transitionScreens.length ) {
$scope.transitionScreens = $scope.screens;
}
$scope.transitionScreens = augmentScreens($scope.transitionScreens);
}
return $timeout(function () {
$scope.$emit('mobile:transition:ready');
if (update) {
updateCurrentScreen()
}
});
}
function screenInHotspot(id) {
return _.some($scope.transitionScreen.hotspots, {targetScreenID: id});
}
function getBackgroundColor(screen) {
if (_.isEmpty(screen)) return;
var color = screen.backgroundColor;
if (!color) {
color = screen.extended.fixedFooterBackground;
}
return color.length === 6 ? '#' + color : color;
}
function prepareTransitions() {
if (_DEBUG_) $log.info('invMobileTransitionLayer.prepareTransitions');
if (vm.isPreparing) return false;
vm.isPreparing = true;
var data              = $scope.transitionData;
var current           = data.currentScreen;
var target            = data.targetScreen;
var maintainScrollPos = data.maintainScrollPosition || false;
var transitionName    = vm.transitionTypes[data.transitionTypeID];
if (transitionFeatureFlag) {
$scope.$apply(function() {
$scope.currentScreen = current;
$scope.targetScreen = target;
});
$curr = element.find("#current-screen");
$targ = element.find("#next-screen");
} else {
$curr = element.find("#transition-picture-" + current.id);
$targ = element.find("#transition-picture-" + target.id);
}
$element.addClass('will-transition');
if ( current.fixedHeaderHeight
&& current.fixedHeaderHeight === target.fixedHeaderHeight
&& _.contains(vm.specialTransitions, data.transitionTypeID) ) {
$curr.addClass('equal-height-header');
$targ.addClass('equal-height-header');
ripOutFixedElements('.fixed-header');
}
if ( current.fixedFooterHeight
&& current.fixedFooterHeight === target.fixedFooterHeight
&& _.contains(vm.specialTransitions, data.transitionTypeID) ) {
$curr.addClass('equal-height-footer');
$targ.addClass('equal-height-footer');
ripOutFixedElements('.fixed-footer');
}
var scrollPos = -(data.scrollPosition);
$curr.find('img:first').css({
marginTop: scrollPos
});
$targ.find('img:first').css({
marginTop: maintainScrollPos ? scrollPos : 0
});
transitionsService.configure(
$curr,
$targ,
$wrapper,
$fixedElements
);
$element.addClass(transitionName);
transitionsService[transitionName]();
}
function doTransition() {
if (_DEBUG_) $log.info('invMobileTransitionLayer.doTransition');
if (vm.isPlaying) return false;
vm.isPlaying = true;
$element.addClass('is-transitioning');
transitionsService.play(animationOverCallback);
}
function ripOutFixedElements(elementClass) {
if (_DEBUG_) $log.info('ripOutFixedElements');
var $ripCurr = $curr.find(elementClass).clone();
var $ripTarg = $targ.find(elementClass).clone();
$ripCurr.addClass('current');
$ripTarg.addClass('target');
$element.append($ripCurr);
$element.append($ripTarg);
$fixedElements.curr.push($ripCurr);
$fixedElements.targ.push($ripTarg);
}
function animationOverCallback() {
if (_DEBUG_) $log.info('animationOverCallback');
var nodes;
var id            = $scope.transitionData.transitionTypeID;
var removeClasses = [
vm.transitionTypes[id],
'is-transitioning',
'will-transition'
].join(' ');
var cleanupClasses = [
'equal-height-header',
'equal-height-footer'
].join(' ');
$targ.removeClass(cleanupClasses);
$curr.removeClass(cleanupClasses);
$element.removeClass(removeClasses);
vm.isPreparing = false;
vm.isPlaying = false;
if (transitionFeatureFlag) {
$scope.$apply(function() {
$scope.currentScreen = null;
$scope.targetScreen = null;
});
}
if ($fixedElements.curr.length) {
nodes = $fixedElements.curr.concat($fixedElements.targ);
_.forEach(nodes, function(node) {
node.remove();
});
$fixedElements.curr = [];
$fixedElements.targ = [];
}
return $scope.setIsTransitioning(false);
}
function augmentScreens(screens) {
var filteredScreens = screens.filter(
function operator( screen ) {
return( screen.id );
}
);
return _.map(filteredScreens, function addDisplayScale(screen) {
if ( !$scope.isMobileShare ) {
return screen;
}
if (screen.displayScale) {
return screen;
} else {
screen.displayScale = (+($scope.deviceTemplate.viewportWidth) / screen.width);
}
return screen;
});
}
$scope.getImageUrl = function( url ) {
return autoImagePreloader.previous( url ) || url;
};
}
}
})(angular, InVision);
;
;
/*! modal.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invModal", Directive );
/** @ngInject */
function Directive(
$document,
$timeout,
$window,
emojiService,
keyCommandsService,
modalWindowRequest
) {
var linkFunction = function( $scope, $element, attributes ) {
var $win = $(window);
var isClosedByPlugin = true;
var modalType = ( attributes.invModalType || "top" );
var settings = {
keyboard: false,
backdrop: "static"
};
var isOpen = false;
var isDestroyed = false;
var unlistenToKeyCommands = keyCommandsService.listen(
{
"Escape": handleEscapeEvent
},
{
priority: 1000,
allowInputCapture: true,
terminalWhitelist: [
"Modify.K"
]
}
);
if ( modalWindowRequest.isSuppressFade() && $element.is( ".animate" ) ) {
$element.removeClass( "animate" );
$element.on(
"shown.invModal",
function() {
$timeout(function() {
$element.addClass( "animate" );
}, 150);
}
);
}
$element
.addClass("modal")
.modal(settings);
var $backdrop = $(".modal-backdrop");
$backdrop
.addClass("animate-in " + $element.attr("id") );
setModalPosition();
function forcePositive(number) {
return number < 0 ? 0 : number;
}
function handleEscapeEvent( event ) {
event.preventDefault();
$scope.closeModalWindow();
}
function setModalPosition() {
$timeout(function() {
if ( isDestroyed ) {
return;
}
var newCSS = {
top: $win.scrollTop(),
left: $win.scrollLeft(),
marginLeft: forcePositive( Math.round( ( $win.outerWidth() - $element.outerWidth() ) / 2 ) ),
marginTop: forcePositive( Math.round( ( $win.outerHeight() - $element.outerHeight() ) / 2 ) )
};
$element
.css(newCSS)
.attr( "tabindex", -1 )
.addClass("animate-in");
if (isOpen) {
$element.addClass("open");
$scope.$emit("modal.isWindowOpen", true);
}
$('.invisible-modal-padding-fix').css('height', 1000);
isOpen = true;
});
}
$element.on(
"hidden.invModal",
function() {
$scope.$emit( "modalWindowHidden" );
$scope.$emit("modal.isWindowOpen", false);
$('.invisible-modal-padding-fix').css('height', 0);
$timeout( ng.noop );
}
);
$element.on(
"shown.invModal",
function() {
if ( modalType !== "top" ) {
return;
}
setModalPosition();
}
);
$win.on("resize.invModal", setModalPosition);
$backdrop
.on("click.invModal", function(e) {
e.preventDefault();
$scope.closeModalWindow();
});
$scope.$on("resizeModal", setModalPosition);
$scope.$on(
"closeModalWindowWithoutFade",
function() {
$scope.closeModalWindow( true );
}
);
$scope.$on(
"$destroy",
function() {
isDestroyed = true;
$win.off("resize.invModal");
$element.off( "hide.invModal" );
$element.off( "hidden.invModal" );
$element.off( "shown.invModal" );
$element.removeClass("animate-in");
$element.removeClass("animate-out");
unlistenToKeyCommands();
$backdrop.off("click.invModal");
}
);
$scope.closeModalWindow = function( suppressFade ) {
if ( emojiService && emojiService.isPopoverActiveOnModal() ) {
emojiService.setPopoverOnModal( false );
return;
}
if ( emojiService && emojiService.isTypeaheadActiveOnModal() ) {
emojiService.setTypeaheadOnModal( false );
return;
}
isClosedByPlugin = false;
if ( suppressFade ) {
$(".modal-backdrop").removeClass("animate-in");
$element.modal("hide");
} else {
$element.addClass("animate-out");
$(".modal-backdrop").removeClass("animate-in");
$timeout(function closeModal() {
if ( ! isDestroyed ) {
$element.modal("hide");
}
}, 200);
}
};
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! react-component.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invReactComponent", Directive );
/** @ngInject */
function Directive() {
var linkFunction = function( scope, element ) {
var remount = function(){
ReactDOM.unmountComponentAtNode(element[0]);
ReactDOM.render(
React.createFactory(scope.reactComponent)(scope.reactProps),
element[0],
function() {
if ( scope.reactRootRenderedMethod ) {
scope.reactRootRenderedMethod();
}
}
);
};
scope.$watch('reactRemount', function() {
remount();
});
scope.$on('$destroy', function() {
ReactDOM.unmountComponentAtNode(element[0]);
});
};
return({
restrict: 'E',
link: linkFunction,
scope: {
reactComponent: '=',
reactProps: '=',
reactRootRenderedMethod: '=',
reactRemount: '='
}
});
}
})( angular, InVision );
;
;
/*! tooltip.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invTooltip", Directive );
/** @ngInject */
function Directive( $ ) {
function escapeHtml( str ){
var safeContent = String( str )
.replace( /&/g, "&amp;" )
.replace( /"/g, "&quot;" )
.replace( /'/g, "&apos;" )
.replace( /</g, "&lt;" )
.replace( />/g, "&gt;" )
;
safeContent = safeContent
.replace( /&lt;(br)\s*\/?&gt;/ig, "<$1 />" )
.replace( /&lt;(\/)?(strong|em)&gt;/ig, "<$1$2>" )
;
return( safeContent );
}
function handleMouseEnter( event ) {
$.data( this, "isShowing", true );
}
function handleMouseLeave( event ) {
$.data( this, "isShowing", false );
}
function link( $scope, element, attributes ) {
function tryToKillTooltip () {
if ( tooltipInstance ) {
tooltipInstance.show = ng.noop;
if ( tooltipInstance.$tip ) {
tooltipInstance.$tip.remove();
}
}
element.tooltip( "destroy" );
}
function getOptions() {
return {
placement: function() {
return( element.attr("placement") || "top" );
},
delay: 100,
title: function() {
return( escapeHtml( attributes.invTooltip ) );
},
template: '<div class="tooltip ' +
(attributes.tooltipWidth === 'content' ? 'content-width' : styleClass) +
'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'
};
}
function handleTooltipDisabledChange( newValue ) {
newValue = ( newValue || "false" );
var isEnabled = ( newValue === "false" );
if ( isEnabled ) {
var tooltipOptions = getOptions();
element.tooltip( tooltipOptions );
tooltipInstance = element.data( "tooltip" );
} else {
tryToKillTooltip();
}
}
var tooltipInstance = null;
var styleClass = ( attributes.tooltipstyleclass || "" );
element
.on( "mouseenter", handleMouseEnter )
.on( "mouseleave", handleMouseLeave )
;
attributes.$observe(
"invTooltip",
function handleTooltipChange( newValue ) {
if ( element.data('isShowing') ) {
if ( newValue.length > 0 ) {
tooltipInstance.show();
} else {
tooltipInstance.hide();
}
}
}
);
attributes.$observe(
"dynamicclass",
function handleTooltipChange( newValue, oldValue ) {
if ( element.data('isShowing') ) {
if ( oldValue ) {
tooltipInstance.$tip.removeClass(oldValue);
}
tooltipInstance.$tip.addClass(newValue);
tooltipInstance.show();
}
}
);
if ( attributes.tooltipDisabled ) {
attributes.$observe( "tooltipDisabled", handleTooltipDisabledChange );
} else {
handleTooltipDisabledChange( "false" );
}
$scope.$on(
"$destroy",
function handleDestroyEvent() {
tryToKillTooltip();
$scope = element = attributes = tooltipInstance = styleClass = null;
tryToKillTooltip = getOptions = null;
}
);
}
return({
link: link,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! key-commands-helper.js */ 
;
;
(function( ng, app ) {
"use strict";
var OS_MODIFIER = buildOsModifier();
var KEY_ALIAS = {
command: "meta",
ctrl: "control",
del: "delete",
down: "arrowdown",
esc: "escape",
left: "arrowleft",
mod: OS_MODIFIER.key,
modify: OS_MODIFIER.key,
right: "arrowright",
up: "arrowup"
};
var KEY_MAP = {
"\b": "Backspace",
"\t": "Tab",
"\x7F": "Delete",
"\x1B": "Escape",
"Del": "Delete",
"Esc": "Escape",
"Left": "ArrowLeft",
"Right": "ArrowRight",
"Up": "ArrowUp",
"Down": "ArrowDown",
"Menu": "ContextMenu",
"Scroll": "ScrollLock",
"Win": "OS",
" ": "Space",
"Spacebar": "Space",
".": "Dot"
};
function buildOsModifier() {
var macOsPattern = /Mac|iPod|iPhone|iPad/;
if ( macOsPattern.test( window.navigator.platform ) ) {
return({
long: "Command",
short: "Cmd",
key: "meta"
});
} else {
return({
long: "Control",
short: "Ctrl",
key: "control"
});
}
}
app.factory( "keyCommandsHelper", keyCommandsHelperFactory );
function keyCommandsHelperFactory() {
var normalizedKeys = Object.create( null );
return({
getKeyFromEvent: getKeyFromEvent,
getOsModifier: getOsModifier,
isEvent: isEvent,
isEventFromInput: isEventFromInput,
normalizeKey: normalizeKey
});
function getKeyFromEvent( event ) {
var key = ( event.key || event.keyIdentifier || "Unidentified" );
if ( key.indexOf( "U+" ) === 0 ) {
key = String.fromCharCode( parseInt( key.slice( 2 ), 16 ) );
}
var mappedKey = ( KEY_MAP[ key ] || key ).toLowerCase();
var parts = [ mappedKey ];
if ( event.altKey && ( mappedKey !== "alt" ) ) {
parts.push( "Alt" );
}
if ( event.ctrlKey && ( mappedKey !== "control" ) ) {
parts.push( "Control" );
}
if ( event.metaKey && ( mappedKey !== "meta" ) ) {
parts.push( "Meta" );
}
if ( event.shiftKey && ( mappedKey !== "shift" ) ) {
parts.push( "Shift" );
}
return( normalizeKey( parts.join( "." ) ) );
}
function getOsModifier() {
return( OS_MODIFIER );
}
function isEvent( event, key ) {
return( getKeyFromEvent( event ) === normalizeKey( key ) );
}
function isEventFromInput( event ) {
if ( event.target && event.target.nodeName ) {
switch ( event.target.nodeName ) {
case "INPUT":
case "SELECT":
case "TEXTAREA":
return( true );
break;
default:
return( false );
break;
}
}
return( false );
}
function normalizeKey( key ) {
if ( ! normalizedKeys[ key ] ) {
normalizedKeys[ key ] = key
.toLowerCase()
.split( "." )
.map(
function operator( segment ) {
return( KEY_ALIAS[ segment ] || segment );
}
)
.sort()
.join( "." )
;
}
return( normalizedKeys[ key ] );
}
}
})( angular, InVision );
;
;
/*! key-commands-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "keyCommandsService", KeyCommandsFactory );
function KeyCommandsFactory(
$document,
$rootScope,
keyCommandsHelper
) {
var helper = keyCommandsHelper;
var listeners = [];
$document.on( "keydown", handleKeyboardEvent );
return({
listen: listen,
getOsModifier: helper.getOsModifier
});
function listen( bindings, options ) {
options = ( options || {} );
var listener = {
bindings: normalizeBindings( bindings ),
priority: ( options.priority || 0 ),
isTerminal: normalizeIsTerminal( options.isTerminal ),
terminalWhitelist: normalizeTerminalWhitelist( options.terminalWhitelist ),
allowInputCapture: normalizeAllowInputCapture( options.allowInputCapture ),
allowInputCaptureTest: normalizeAllowInputCaptureTest( options.allowInputCaptureTest )
};
addListener( listener );
return(
function unlisten() {
removeListener( listener );
}
);
}
function addListener( listenerToAdd ) {
listeners.push( listenerToAdd );
listeners.sort(
function comparator( a, b ) {
if ( a.priority === b.priority ) {
return( 0 );
}
return( ( a.priority > b.priority ) ? -1 : 1 );
}
);
}
function handleKeyboardEvent( event ) {
var listenersCopy = listeners.slice();
var key = helper.getKeyFromEvent( event );
var isInputEvent = helper.isEventFromInput( event );
var listenerCount = listeners.length;
var handler = null;
for ( var i = 0 ; i < listenerCount ; i++ ) {
var listener = listenersCopy[ i ];
if ( handler = listener.bindings[ key ] ) {
if (
! isInputEvent ||
listener.allowInputCapture ||
( listener.allowInputCaptureTest && listener.allowInputCaptureTest( event, key ) )
) {
var result = $rootScope.$apply(
function guardedExecution() {
return( handler( event ) );
}
);
if ( result === false ) {
return;
} else if ( result === true ) {
continue;
}
}
if ( listener.isTerminal === "match" ) {
return;
}
}
if ( ( listener.isTerminal === true ) && ! listener.terminalWhitelist[ key ] ) {
return;
}
} // END: For-loop.
}
function normalizeAllowInputCapture( allowInputCapture ) {
if ( allowInputCapture === undefined ) {
return( false );
}
return( allowInputCapture );
}
function normalizeAllowInputCaptureTest( allowInputCaptureTest ) {
if ( allowInputCaptureTest === undefined ) {
return( null );
}
return( allowInputCaptureTest );
}
function normalizeBindings( bindings ) {
var normalized = Object.create( null );
for ( var key in bindings ) {
normalized[ helper.normalizeKey( key ) ] = bindings[ key ];
}
return( normalized );
}
function normalizeIsTerminal( isTerminal ) {
if ( isTerminal === undefined ) {
return( true );
}
return( isTerminal );
}
function normalizeTerminalWhitelist( keys ) {
var normalized = Object.create( null );
if ( keys ) {
keys.forEach(
function iterator( key ) {
normalized[ helper.normalizeKey( key ) ] = true;
}
);
}
return( normalized );
}
function removeListener( listenerToRemove ) {
listeners = listeners.filter(
function operator( listener ) {
return( listener !== listenerToRemove );
}
);
}
}
})( angular, InVision );
;
;
/*! key-commands.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invKeyCommands", KeyCommandsDirective );
function KeyCommandsDirective( _, keyCommandsHelper ) {
return({
link: link,
restrict: "A"
});
function link( scope, element, attributes ) {
var keyCommandsConfig = _.assign( Object.create( null ), scope.$eval( attributes.invKeyCommands ) );
init();
function handleKeydownEvent( event ) {
for ( var command in keyCommandsConfig ) {
if ( ! keyCommandsHelper.isEvent( event, command ) ) {
continue;
}
event.preventDefault();
scope.$apply(
function updateViewModel() {
scope.$eval(
keyCommandsConfig[ command ],
{
$event: event,
command: command
}
);
}
);
return;
}
}
function init() {
scope.$on(
"$destroy",
function handleDestroy() {
element.off( "keydown", handleKeydownEvent );
}
);
element.on( "keydown", handleKeydownEvent );
}
}
}
[
{
directive: "invKeyCommandEnter",
command: "Enter"
},
{
directive: "invKeyCommandModEnter",
command: "Mod.Enter"
},
{
directive: "invKeyCommandEscape",
command: "Escape"
}
].forEach(
function iterator( settings ) {
app.directive( settings.directive, SingleKeyCommandDirective );
function SingleKeyCommandDirective( _, keyCommandsHelper ) {
return({
link: link,
restrict: "A"
});
function link( scope, element, attributes ) {
init();
function handleKeydownEvent( event ) {
if ( ! keyCommandsHelper.isEvent( event, settings.command ) ) {
return;
}
event.preventDefault();
scope.$apply(
function updateViewModel() {
scope.$eval(
attributes[ settings.directive ],
{
$event: event,
command: settings.command
}
);
}
);
}
function init() {
scope.$on(
"$destroy",
function handleDestroy() {
element.off( "keydown", handleKeydownEvent );
}
);
element.on( "keydown", handleKeydownEvent );
}
}
}
}
);
})( angular, InVision );
;
;
/*! analytics-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "analyticsService", Service );
/** @ngInject */
function Service(
$window,
$interval,
$q,
$timeout,
moment,
config,
cookieManager,
errorLogService,
_
) {
var amplitudeIdentifyGrowthQueue = [];
var amplitudeFinishedInit = false;
var segmentUserId = '';
var planName = false;
var vendorPrefixByDefault = config.serverType === "PREVIEW"; // RAIN-1403 - By default, everything on Preview should prefix by VendorID, to avoid all collision with MT
var eventAllowList = {
"CommandCenter.Action": true,
"CommandCenter.ActionType": true,
"Company.Administrators.Action": true,
"Company.BulkRemoveMembers.Action": true,
"Company.CreateMailBlast.Action": true,
"Company.Invitation.Action": true,
"Company.MailBlast.Action": true,
"Company.MailBlasts.Action": true,
"Company.Member.Action": true,
"Company.Team.Action": true,
"Company.Teams.Action": true,
"CompanyInvitationDocumentsModal.Action": true,
"CompanyMemberDocumentsModal.Action": true,
"CompanyTeamMembersModal.Action": true,
"Console.ExitMenu.Action": true,
"Console.Flow.Action": true,
"Console.HotspotPopup.Action": true,
"DuplicatePrototypeModal": true,
"EditShareModal.Action": true,
"ExportPrototypeModal.Action": true,
"FixedElementsModal.Action": true,
"Inbox.Action": true,
"InviteCompanyMembersModal.Action": true,
"MoveConversationToScreen.Action": true,
"Project.Backgrounds.Action": true,
"Project.Comments.Action": true,
"Project.Feeds.Action": true,
"Project.Members.Action": true,
"Project.Placeholders.Action": true,
"Project.ShareDisclaimers.Action": true,
"Project.Shares.Action": true,
"Project.Tasks.Action": true,
"ReassignPrototypesModal.Action": true,
"ScreenCompareModal.Action": true,
"ScreenPlaceholderModal.Action": true,
"SearchCenter.Action": true,
"SearchCenter.PrototypePreview.Action": true,
"Share.Flow.Action": true,
"ShareDisclaimerModal.Action": true,
"ShareLink.BrowseMode": true,
"ShareLink.TitleMode": true,
"Space.Detail.Action": true,
"Team.List.Action": true,
"Team.List.Invitations.Action": true,
"Team.List.My.Action": true,
"Team.List.Other.Action": true,
"Team.Reporting.Action": true,
"V7CallToAction.Switch": true,
"V7CallToAction.Try": true
};
function identifyUser( user, currentSubscription, additionalTraits ) {
if ( !$window.analytics || !config || !user || !currentSubscription ) {
return;
}
var nameSplit = splitName( user.name );
var agent = navigator.userAgent||navigator.vendor||window.opera;
var ismobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(agent)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(agent.substr(0,4));
try {
additionalTraits = Object.assign({}, additionalTraits);
} catch (error) {
additionalTraits = {}
}
var traits = {
bucket: user.bucketID,
createdAt: moment(user.userCreatedAt).unix(),
createdAtDateFormatIso8601: moment(user.userCreatedAt).toISOString(),
name: user.name,
firstname: nameSplit.firstname,
lastname: nameSplit.lastname,
email: user.email,
referring_source: user.source,
plan_name: currentSubscription.name,
lifecyclestage: translateSubscriptionToLifecycleStage( currentSubscription ),
subscriptionexpiresat: currentSubscription.expiresAt,
lastKnownIPAddress: user.lastKnownIpAddress,
"feature_inspect-v-1": false,
"feature_inspect-v-3": true,
"feature_inspect-v-3-enterprise": true,
"feature_inspect-asset-manager": true,
isSingleTenant: config.singleTenantConfig.useSingleTenantAnalytics,
customer_status: config.isCustomer ? "Existing Customer" : "Potential Customer",
invisionVersion: "6.0",
last_device_used: ismobile ? 'mobile' : 'desktop'
};
traits = Object.assign(traits, additionalTraits);
if ( traits.lastname.length === 0 ) {
delete traits.lastname;
}
var momentDate = moment( currentSubscription.projectGracePeriodEndsAt );
if ( momentDate.isValid() ) {
traits.gracePeriodEndsAt = momentDate.toJSON();
}
if ( user.companyInfo && user.companyInfo.subdomain !== "" ) {
traits.usagedataid = user.companyInfo.subdomain;
}
if ( user.companyInfo && typeof user.companyInfo.sfdcAccountID !== "undefined" &&
user.companyInfo.sfdcAccountID !== "" &&
user.companyInfo.sfdcAccountID !== "#N/A"
){
traits.sfdcaccountid = user.companyInfo.sfdcAccountID;
}
if ( typeof user.companyMembership !== "undefined" &&
typeof user.companyMembership.roleName !== "undefined" &&
user.companyMembership.roleName !== ""
){
traits.enterprise_role = user.companyMembership.roleName;
}
if ( typeof user.companyMembership !== "undefined" &&
typeof user.companyMembership.companyID !== "undefined" &&
user.companyInfo.companyID > 0
){
if (
typeof user.companyInfo !== "undefined" &&
typeof user.companyInfo.providers !== "undefined" &&
Array.isArray( user.companyInfo.providers ) &&
user.companyInfo.providers.length > 0
){
traits.sso = true;
} else {
traits.sso = false;
}
}
traits.derived_plan = getPlanAffiliation(user, currentSubscription);
var context = {};
var userID = formatUserId(user.id,vendorPrefixByDefault);
segmentUserId = userID;
var callback = function () {
if ( typeof $window.mixpanel !== "undefined" && $window.mixpanel != null ) {
$window.mixpanel.name_tag(null);
}
};
$window.analytics.ready(function() {
if (typeof $window.mixpanel !== 'undefined' && $window.mixpanel != null) {
$window.mixpanel.reset();
$window.mixpanel.identify(userID);
}
if (
typeof ga !== 'undefined'
&& typeof ga === 'function'
&& ['LIVE', 'PREVIEW'].indexOf(config.serverType) !== -1
) {
ga('create', 'UA-24306919-3', 'projects.invisionapp.com', {'name': 'appTracker'} );
var gaDimensions = {};
gaDimensions.dimension1 = config.isCustomer ? "Existing Customer" : "Potential Customer";
ga( 'appTracker.send', 'pageview', gaDimensions);
}
});
$window.analytics.identify( userID, traits, context, callback );
var growthTraits = {
"Full Name": user.name,
Email: user.email,
"Plan Name": traits.plan_name,
"Current Plan Name": getCurrentPlan(user, currentSubscription),
"Signup Date": moment(user.userCreatedAt).format("YYYY-MM-DD HH:mm:ss"),
"Most Recent IP Address": user.lastKnownIpAddress,
"Last Activity": moment(user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss"),
"Plan Affiliation": getPlanAffiliation(user, currentSubscription),
"Prototype Count": user.prototypeCountForQuota,
"Over Prototype Limit": (user.prototypeCountForQuota > currentSubscription.maxProjectCount ? "True" : "False")
};
if (user.paymentInfo){
var normalizedPaymentInfo = normalizePaymentTrackingInfo(user.paymentInfo);
growthTraits["Credit Card Expiration"] = normalizedPaymentInfo.cardExpiryDate || null;
growthTraits["Credit Card Expiration Remaining Days"] = normalizedPaymentInfo.cardExpiryRemainingDays || null;
}
identifyGrowth( user.id, growthTraits );
}
function translateSubscriptionToLifecycleStage( subscription ) {
var planNamesToConsiderLeads = [ "Free" ];
var lifecycleStage = "lead";
var hasQualifyingCustomerPlan = planNamesToConsiderLeads.indexOf( subscription.name ) < 0;
var hasPaidPlan = subscription.price > 0;
var shouldBeConsideredCustomer = hasQualifyingCustomerPlan && hasPaidPlan;
if ( shouldBeConsideredCustomer ) {
lifecycleStage = "customer";
}
return lifecycleStage;
}
function isSelfServeLocation (){
return window.location.hostname.split(".")[0] === 'projects' ? 'True' : 'False';
}
function splitName( name ) {
var split = name.split(/\s/);
var parts = {
firstname: "",
lastname: ""
};
if ( split.length === 1 ) {
parts.firstname = split[0];
} else if ( split.length > 1 ) {
parts.firstname = split[0];
parts.lastname = split[ split.length - 1 ];
}
return parts;
}
function segmentIo() {
try {
$timeout( segmentIoSync, 10, false );
} catch (error) {
errorLogService.exceptionHandler( error );
}
}
function segmentIoSync() {
if ( window.analytics && typeof window.analytics.load === "function" ) {
if ( config.allowExternalScripts !== false ) {
window.analytics.load(config.segmentIoKey);
window.analytics.page({
url: filterPasswords(document.URL),
search: filterPasswords(window.location.search),
referrer: filterPasswords(document.referrer)
});
}
}
}
function outbrain() {
$timeout( outbrainSync, 10, false );
}
function outbrainSync() {
window.OB_ADV_ID = 13797;
if ( config.allowExternalScripts !== false ) {
loadScript('//widgets.outbrain.com/obtp.js');
}
}
function optimizelyCampaignDecided(event) {
try {
var experimentId  = event.data.decision.experimentId;
var variationId = event.data.decision.variationId;
if (!experimentId || !variationId) {
return;
}
var experiment = _.find(event.data.campaign.experiments, function(item) {
return item.id === experimentId;
});
var variation = experiment && experiment.variations ? _.find(experiment.variations, function(item) {
return item.id === variationId;
}) : null;
trackGrowth("Experiment Viewed", {
experimentId: experimentId,
experimentName: experiment ? experiment.name : '',
variationId: variationId,
variationName: variation ? variation.name  : ''
});
} catch (e) {
console.error("Optimizely data was not in expected format");
}
};
function setupTrackGrowthForOptimizelyCampaigns() {
}
function loadScript(url, cb) {
var el = document.createElement('script');
el.async = true;
el.src = url;
if (cb && angular.isFunction(cb)) {
el.onload = el.onreadystatechange = cb;
}
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(el, s);
}
function hashString(stringToHash) {
var hash = 0, i, chr, len;
if (stringToHash.length === 0) return hash;
for (i = 0, len = stringToHash.length; i < len; i++) {
chr   = stringToHash.charCodeAt(i);
hash  = ((hash << 5) - hash) + chr;
hash |= 0; // Convert to 32bit integer
}
return hash;
}
function getPlanAffiliation(user, subscription) {
if (!user || !subscription) {
return false;
}
var planAffiliation = subscription.name;
if (user.hasCompanyMembership) {
planAffiliation = 'Enterprise';
} else if (user.isTeamPlanMember) {
planAffiliation = 'Team';
}
return planAffiliation;
}
function getCurrentPlan(user, subscription) {
if (!user || !subscription) {
return false;
}
var currentPlan = subscription.name;
if (user.companyInfo && (user.companyInfo.companystatusid == 1 || user.companyInfo.companystatusid == 7)) {
currentPlan = 'Enterprise'
}
return currentPlan
}
function setSubscriptionInfo(user, subscription) {
planName = getCurrentPlan(user, subscription);
if (planName) {
document.cookie = "INV_CUSTOMER_PLAN_NAME=" + encodeURI(planName) + ";domain=.invisionapp.com;path=/;secure;SameSite=None";
}
}
function initGrowthAnalytics(user, subscription) {
setSubscriptionInfo(user, subscription);
window.amplitudeQueue = window.amplitudeQueue || [];
window.InvGrowth = window.InvGrowth || {
trackGrowth: trackGrowth,
trackGrowthPage: trackGrowthPage
};
$timeout( function () {
amplitudeInit();
}, 10, false );
}
function  amplitudeInit() {
var initParams = {
saveEvents: true,
includeUtm: true,
includeReferrer: true,
batchEvents: true,
includeGclid: true,
eventUploadThreshold: 10,
eventUploadPeriodMillis: 1000
};
if ( config.amplitudeKey && window.amplitude ) {
try {
window.amplitude.getInstance().init(config.amplitudeKey, null, initParams, function(defaultInstance) {
getSafeAmplitudeInstance().init(config.amplitudeKey, null, initParams, function(instance) {
amplitudeFinishedInit = true;
if(window.amplitudeQueue && window.amplitudeQueue.length) {
try {
window.amplitudeQueue.forEach(function(args) {
getSafeAmplitudeInstance().logEvent(args[0], applyRequiredGrowthProps(args[1]));
});
} catch (error) {
errorLogService.exceptionHandler( error );
}
}
if(amplitudeIdentifyGrowthQueue.length) {
try {
amplitudeIdentifyGrowthQueue.forEach(function(args) {
amplitudeIdentify.apply(instance, args);
});
} catch (error) {
errorLogService.exceptionHandler( error );
}
}
window.amplitudeQueue = {
push: function(args) {
trackGrowth.apply(this, args);
}
};
});
});
} catch (error) {
errorLogService.exceptionHandler( error );
}
}
}
function amplitudeIdentify( id, traits ) {
var userID = formatUserId(id, vendorPrefixByDefault);
if ( amplitudeFinishedInit ) {
try {
getSafeAmplitudeInstance().setUserId( userID );
getSafeAmplitudeInstance().setUserProperties( traits );
} catch ( error ) {
errorLogService.exceptionHandler( error );
}
} else {
if ( config.amplitudeKey ) {
amplitudeIdentifyGrowthQueue.push([id, traits]);
}
}
}
function identifyGrowth(id, traits){
amplitudeIdentify(id, traits);
}
function appendGrowthUserAttribute(key, val){
try {
if(amplitudeFinishedInit){
var traits = {};
traits[key] = val;
getSafeAmplitudeInstance().setUserProperties(traits);
}
} catch (error) {
errorLogService.exceptionHandler(error);
}
}
function normalizePaymentTrackingInfo(paymentInfo) {
var normalized = {};
if (paymentInfo && paymentInfo.cardExpirationYear > 0 && paymentInfo.cardExpirationMonth > 0) {
try {
var expirationDate = moment.utc(paymentInfo.cardExpirationYear + ' ' + paymentInfo.cardExpirationMonth + ' 01', 'YYYY MM DD').endOf('month');
var expirationDateInstance = new Date(expirationDate.format());
if(!isNaN(expirationDateInstance.getTime())){
normalized = {
cardExpiryDate: expirationDateInstance,
cardExpiryRemainingDays: expirationDate.diff(moment.utc(), 'days')
};
}
}catch(e){
console.error(e);
}
}
return normalized;
}
function applyRequiredGrowthProps(props){
return _.extend({
"Plan Name": planName || undefined,
"Self Serve": isSelfServeLocation()
}, props);
}
function getSafeAmplitudeInstance() {
var amplitudeStandaloneInstance;
try {
var defaultInstance = window.amplitude && window.amplitude.getInstance();
var amplitudeStandaloneInstance = window.amplitude && window.amplitude.getInstance("standalone");
if (defaultInstance) {
amplitudeStandaloneInstance.setDeviceId(defaultInstance.options.deviceId);
amplitudeStandaloneInstance.setSessionId(defaultInstance._sessionId);
}
} catch ( error ) {
errorLogService.exceptionHandler( error );
}
var consoleNoop = function(){
errorLogService.exceptionHandler( 'Tried to use amplitude but standalone instance did not exist' );
}
return ( amplitudeStandaloneInstance ) ? amplitudeStandaloneInstance : {
init: consoleNoop,
logEvent: consoleNoop,
logRevenue: consoleNoop,
setUserId: consoleNoop,
setUserProperties: consoleNoop,
setOptOut: consoleNoop,
setVersionName: consoleNoop,
setDomain: consoleNoop,
setDeviceId: consoleNoop,
setGlobalUserProperties: consoleNoop,
identify: consoleNoop,
clearUserProperties: consoleNoop,
setGroup: consoleNoop,
logRevenueV2: consoleNoop,
regenerateDeviceId: consoleNoop,
logEventWithTimestamp: consoleNoop,
logEventWithGroups: consoleNoop,
setSessionId: consoleNoop
};
}
function trackGrowth(event, props) {
if ( ! eventAllowList.hasOwnProperty( event ) ) {
return;
}
var props = applyRequiredGrowthProps(props);
try {
if ( amplitudeFinishedInit ) {
getSafeAmplitudeInstance().logEvent(event, props);
} else if (config.amplitudeKey) {
window.amplitudeQueue = window.amplitudeQueue || [];
window.amplitudeQueue.push([event, props]);
}
} catch ( error ) {
errorLogService.exceptionHandler( error );
}
}
function trackGrowthPage(name, category) {
var sanitizedURL = filterPasswords(document.URL)
var sanitizedReferrer = filterPasswords(document.referrer)
var properties = {
"Page Name": name || "",
"Category Name": category || "",
"Title": document.title,
"URL": sanitizedURL,
"Path": window.location.pathname,
"Referrer": sanitizedReferrer,
"Optimizely Loaded": false
};
var event = "App - Browsing - Visit Page";
trackGrowth(event, properties);
}
function formatUserId(userId, preferVendorID) {
var subdomain = window.location.hostname.split(".")[0];
var userKey = (config.singleTenantConfig && config.singleTenantConfig.useSingleTenantAnalytics) ? subdomain + "-" + userId : userId;
if ( config.serverType == "LOCAL" && config.uniqueLocalUserPrefix && config.uniqueLocalUserPrefix.length > 0 ) {
userKey = config.uniqueLocalUserPrefix + "-" + userKey;
}
if (preferVendorID){
return config.vendorID || (config.user || {}).vendorID || userKey;
}
return userKey;
}
function clearLocalData() {
try {
cookieManager.removeCookiesMatchingPatterns([
/amplitude_id.*standaloneinvisionapp\.com/i
]);
}catch (e){
console.error(e);
}
}
function track( event, properties, options ) {
properties = ( properties || {} );
options = ( options || {} );
if (
( typeof( properties ) !== "object" ) ||
( typeof( options ) !== "object" )
) {
return;
}
options.integrations = ( options.integrations || {} );
options.integrations.Amplitude = eventAllowList.hasOwnProperty( event );
if ( $window.analytics ){
if ( typeof $window.analytics['user'] === 'function' ){
var user = $window.analytics.user();
if ( user && segmentUserId && segmentUserId != user.id() ) {
$window.analytics.identify( segmentUserId );
}
}
if ( typeof $window.analytics['track'] === 'function' ) {
if ( config.vendorID && ! properties.vendorId ) {
if (properties.vendorID) {
properties.vendorId = properties.vendorID;
delete properties.vendorID;
} else {
properties.vendorId = config.vendorID;
}
}
if (
config.companySettings &&
config.companySettings.isEnterprise &&
config.companySettings.companyCUID
) {
properties.companyCUID = config.companySettings.companyCUID;
}
$window.analytics['track'].call($window.analytics, event, properties, options);
}
}
}
function filterPasswords(s){
if ( s.indexOf("password=")>0){
return s.substring(0,  s.indexOf("password="))
}
return s
}
return {
identifyUser: identifyUser,
identifyGrowth: identifyGrowth,
normalizePaymentTrackingInfo: normalizePaymentTrackingInfo,
appendGrowthUserAttribute: appendGrowthUserAttribute,
initGrowthAnalytics: initGrowthAnalytics,
track: track,
trackGrowth: trackGrowth,
trackGrowthPage: trackGrowthPage,
debug: ($window.analytics && $window.analytics.debug) || angular.noop,
segmentIo: segmentIo,
googleAnalytics: angular.noop, // TODO: Remove all references to this
outbrain: outbrain,
setupTrackGrowthForOptimizelyCampaigns: setupTrackGrowthForOptimizelyCampaigns,
setSubscriptionInfo: setSubscriptionInfo,
clearLocalData: clearLocalData
};
}
})( angular, InVision );
;
;
/*! api-client.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "apiClient", ApiClientFactory );
function ApiClientFactory(
$http,
$log,
$q
) {
return({
delete: deleteRequest,
get: getRequest,
makeRequest: makeRequest,
post: postRequest
});
/**
* I perform a DELETE request.
*/
function deleteRequest( options ) {
var retry = coalesce( options.retry, false );
return(
makeRequest({
method: "DELETE",
url: options.url,
params: options.params,
data: options.data,
retry: retry
})
);
}
/**
* I perform a GET request.
*/
function getRequest( options ) {
var retry = coalesce( options.retry, true );
return(
makeRequest({
method: "GET",
url: options.url,
params: options.params,
retry: retry
})
);
}
/**
* I perform a request with the given configuration.
*/
function makeRequest( options ) {
var method = coalesce( options.method, "GET" ).toUpperCase();
var url = coalesce( options.url, "" );
var params = coalesce( options.params, null );
var data = coalesce( options.data, null );
var retry = coalesce( options.retry, false );
var retryDurations = ( retry )
? [ 500, 1000, 2000, 4000, 0 ]
: [ 0 ]
;
var deferred = $q.defer();
executeInternal();
return( deferred.promise );
function executeInternal() {
$http({
method: method,
url: url,
params: params,
data: data
}).then(
function handleSuccess( response ) {
deferred.resolve( response.data );
},
function handleError( response ) {
var retryDuration = retryDurations.shift();
if ( retryDuration && isRetriableStatus( response.status ) ) {
logRetryAttempt( retryDuration );
setTimeout( executeInternal, retryDuration );
return;
}
deferred.reject( unwrapError( response ) );
}
);
}
}
/**
* I perform a POST request.
*/
function postRequest( options ) {
var retry = coalesce( options.retry, false );
return(
makeRequest({
method: "POST",
url: options.url,
params: options.params,
data: options.data,
retry: retry
})
);
}
/**
* I return the fallback value if  the given value is undefined or null.
*/
function coalesce( value, fallbackValue ) {
if ( ( value === null ) || ( value === undefined ) ) {
return( fallbackValue );
}
return( value );
}
/**
* I determine if the given HTTP error response represents a retriable request.
*/
function isRetriableStatus( status ) {
return(
( status === -1 )  || // Network failure (as of AngularJS 1.7.5 upgrade).
( status === 0 )   || // Network failure.
( status === 408 ) || // Request timeout.
( status === 499 ) || // Nginx closed client request.
( status >= 500 )     // All server-side errors.
);
}
/**
* I log the retry attempt to the console.
*/
function logRetryAttempt( retryDuration ) {
$log.warn( "Attempting retry in ", retryDuration, "milliseconds." );
}
/**
* I take the error response and try to return the data as valid JSON. If the data
* is NOT JSON, then I return a default response.
*/
function unwrapError( httpResponse ) {
var debug = unwrapErrorDebugData( httpResponse );
try {
var response = ng.fromJson( httpResponse.data );
if (
ng.isString( response ) ||
( response === null ) ||
( response === undefined )
) {
response = {
originalReponse: response,
code: -1,
id: -1
};
}
response.debug = debug;
return( response );
} catch ( error ) {
return({
debug: debug,
originalError: error.message,
code: -2,
id: -2
});
}
}
/**
* I create a data structure to aide in the debugging of the given error.
*/
function unwrapErrorDebugData( httpResponse ) {
try {
return({
context: "common/api-client",
method: httpResponse.config.method,
url: httpResponse.config.url,
status: httpResponse.status,
statusText: httpResponse.statusText
});
} catch ( unwrapError ) {
return({
context: "common/api-client"
});
}
}
}
})( angular, InVision );
;
;
/*! client-events.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "clientEvents", ClientEventsFactory );
function ClientEventsFactory( _ ) {
var bindings = [];
return({
add: add,
forNamespace: forNamespace,
remove: remove,
trigger: trigger
});
function add( namespace, eventType, eventHandler, context ) {
testNamespace( namespace );
testEventType( eventType );
testEventHandler( eventHandler );
bindings.push({
namespace: namespace,
eventType: eventType,
eventHandler: eventHandler,
context: ( context || null )
});
return( this );
}
function forNamespace( namespace ) {
return({
add: _.partial( add, namespace ),
forNamespace: forNamespace,
remove: _.partial( remove, namespace ),
trigger: trigger
});
}
function remove( namespace, eventType, eventHandler ) {
bindings = _.reject(
bindings,
function operator( binding ) {
return( bindingMatches( binding, namespace, eventType, eventHandler ) );
}
);
return( this );
}
function trigger( eventType ) {
var eventArguments = Array.prototype.slice.call( arguments );
var event = eventArguments[ 0 ] = {
type: eventType
};
_.each(
bindings,
function iterator( binding ) {
if ( binding.eventType === eventType ) {
binding.eventHandler.apply( binding.context, eventArguments );
}
}
);
return( event );
}
function bindingMatches( binding, namespace, eventType, eventHandler ) {
return(
( binding.namespace === namespace ) &&
( ! eventType || ( binding.eventType === eventType ) ) &&
( ! eventHandler || ( binding.eventHandler === eventHandler ) )
);
}
function testEventHandler( newEventHandler ) {
if ( ! _.isFunction( newEventHandler ) ) {
throw( new Error( "EventHandler must be a function." ) );
}
}
function testEventType( newEventType ) {
if ( ! _.isString( newEventType ) ) {
throw( new Error( "EventType must be a string value." ) );
}
if ( ! _.trim( newEventType ) ) {
throw( new Error( "EventType must not be empty." ) );
}
}
function testNamespace( newNamespace ) {
if ( ! _.isString( newNamespace ) ) {
throw( new Error( "Namespace must be a string value." ) );
}
if ( ! _.trim( newNamespace ) ) {
throw( new Error( "Namespace must not be empty." ) );
}
}
}
})( angular, InVision );
;
;
/*! comment-object-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "commentObjectService", CommentObjectService );
function CommentObjectService() {
var current = {
objectType: null,	// One of "project" or "board"
objectID: 0,			// The id of the project or board which is currently selected
conversationID: 0
};
return ({
get: function() {
return current;
},
reset: function() {
current = {
objectType: null,
objectID: 0,
conversationID: 0
};
},
set: function( objectType, opts ) {
if ( objectType !== null ) { // Allow setting objectType to null
if ( objectType !== "project" && objectType !== "board" ) {
throw ("Bug alert. When setting the comment object type, you must pass either 'project' or 'board'. You passed " + objectType + ".");
}
}
this.reset();
current = {
objectType: objectType,
objectID: opts.objectID,
conversationID: opts.conversationID
};
}
});
}
})( angular, InVision );
;
;
/*! cookie-manager-service.js */ 
;
;
(function (ng, app) {
"use strict";
app.factory("cookieManager", CookieManager);
/** @ngInject */
function CookieManager() {
return {
getCookies: function () {
var cookies = {};
try {
if (document.cookie && document.cookie !== '') {
document.cookie.split(';').forEach(function(kvGroup){
var nameVal = kvGroup.split("=");
nameVal[0] = nameVal[0].replace(/^ /, '');
cookies[decodeURIComponent(nameVal[0])] = decodeURIComponent(nameVal[1]);
});
}
} catch (e) {
console.error(e);
}
return cookies;
},
removeCookie: function (cookieName) {
if (cookieName) {
try {
document.cookie = cookieName + '=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=.invisionapp.com;';
} catch (e) {
console.error(e);
}
}
},
removeCookiesMatchingPatterns: function (patterns){
var self = this;
try {
var cookies = self.getCookies();
Object.keys(cookies).forEach(function (key) {
var shouldDelete = patterns.some(function (pattern) {
return pattern.test(key);
});
if (shouldDelete) {
self.removeCookie(key);
}
});
} catch (e) {
console.error(e);
}
}
};
}
})(angular, InVision);
;
;
/*! date-helper.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "dateHelper", Service );
/** @ngInject */
function Service() {
this.dayAsStringMap = [
{
"long": "Sunday",
"short": "Sun"
},
{
"long": "Monday",
"short": "Mon"
},
{
"long": "Tuesday",
"short": "Tue"
},
{
"long": "Wednesday",
"short": "Wed"
},
{
"long": "Thursday",
"short": "Thr"
},
{
"long": "Friday",
"short": "Fri"
},
{
"long": "Saturday",
"short": "Sat"
}
];
this.monthAsStringMap = [
{
"long": "January",
"short": "Jan"
},
{
"long": "February",
"short": "Feb"
},
{
"long": "March",
"short": "Mar"
},
{
"long": "April",
"short": "Apr"
},
{
"long": "May",
"short": "May"
},
{
"long": "June",
"short": "Jun"
},
{
"long": "July",
"short": "Jul"
},
{
"long": "August",
"short": "Aug"
},
{
"long": "September",
"short": "Sep"
},
{
"long": "October",
"short": "Oct"
},
{
"long": "November",
"short": "Nov"
},
{
"long": "December",
"short": "Dec"
}
];
return( this );
}
Service.prototype = {
add: function( datetime, count, unit ) {
var newDatetime = this.duplicate( datetime );
switch ( unit.toLowerCase() ) {
case "y":
newDatetime.setFullYear( newDatetime.getFullYear() + count );
break;
case "m":
newDatetime.setMonth( newDatetime.getMonth() + count );
break;
case "d":
newDatetime.setDate( newDatetime.getDate() + count );
break;
case "w":
newDatetime.setDate( newDatetime.getDate() + ( count * 7 ) );
break;
case "h":
newDatetime.setTime( newDatetime.getTime() + ( count * 1000 * 60 * 60 ) );
break;
case "n":
newDatetime.setTime( newDatetime.getTime() + ( count * 1000 * 60 ) );
break;
case "s":
newDatetime.setTime( newDatetime.getTime() + ( count * 1000 ) );
break;
case "l":
newDatetime.setTime( newDatetime.getTime() + count );
break;
}
return( newDatetime );
},
addDays: function( datetime, dayCount ) {
var newDatetime = this.duplicate( datetime );
newDatetime.setDate( newDatetime.getDate() + dayCount );
return( newDatetime );
},
addLeadingZero: function( value ) {
if ( value.toString().length === 1 ) {
return( "0" + value );
}
return( value );
},
convertSecondsToMinutes: function( seconds, excludeZeroMinute ) {
var minutes = Math.floor( seconds / 60 );
var remainingSeconds = ( seconds % 60 );
if (
( excludeZeroMinute === true ) &&
( minutes === 0 )
) {
return( ":" + this.addLeadingZero( remainingSeconds ) );
} else {
return( minutes + ":" + this.addLeadingZero( remainingSeconds ) );
}
},
duplicate: function( datetime ) {
return(
new Date( datetime )
);
},
equals: function( date1, date2 ) {
return( date1.getTime() === date2.getTime() );
},
formatDate: function( datetime, dateMask ) {
var self = this;
var date = this.removeTime( datetime );
var result = dateMask.replace(
/M+|m+|d+|yyyy|yy/g,
function( $0 ) {
return(
self.getFormattedDatePart( date, $0 )
);
}
);
return( result );
},
formatRecentDate: function( datetime, dateMask ) {
var date = this.removeTime( datetime );
if ( this.isToday( date ) ) {
return( "Today" );
} else if ( this.isYesterday( date ) ) {
return( "Yesterday" );
} else {
return( this.formatDate( datetime, dateMask ) );
}
},
formatRecentDateWithTodayAsTime: function( datetime, dateMask, timeMask ) {
var date = this.removeTime( datetime );
if ( this.isToday( date ) ) {
return( this.formatTime( datetime, ( timeMask || "h:mm TT" ) ) );
} else if ( this.isYesterday( date ) ) {
return( "Yesterday" );
} else {
return( this.formatDate( datetime, ( dateMask || "mmm d, yyyy" ) ) );
}
},
formatTime: function( datetime, timeMask ) {
var self = this;
var date = this.duplicate( datetime );
var result = timeMask.replace(
/H+|h+|m+|t+|T+/g,
function( $0 ) {
return(
self.getFormattedTimePart( date, $0 )
);
}
);
return( result );
},
getDayOfWeekAsString: function( dayOfWeek, useShortVersion ) {
if ( useShortVersion ) {
return( this.dayAsStringMap[ dayOfWeek ][ "short" ] );
} else {
return( this.dayAsStringMap[ dayOfWeek ][ "long" ] );
}
},
getFormattedDatePart: function( datetime, pattern ) {
switch( pattern ) {
case "D":
case "d":
return( datetime.getDate() );
break;
case "DD":
case "dd":
return( this.addLeadingZero( datetime.getDate() ) );
break;
case "DDD":
return( this.getDayOfWeekAsString( datetime.getDay() ).toUpperCase() );
break;
case "ddd":
return( this.getDayOfWeekAsString( datetime.getDay() ) );
break;
case "dddd":
return( this.getDayOfWeekAsString( datetime.getDay(), true ) );
break;
case "M":
case "m":
return( datetime.getMonth() + 1 );
break;
case "MM":
case "mm":
return( this.addLeadingZero( datetime.getMonth() + 1 ) );
break;
case "MMM":
case "mmm":
return( this.getMonthAsString( datetime.getMonth(), true ) );
break;
case "MMMM":
case "mmmm":
return( this.getMonthAsString( datetime.getMonth(), false ) );
break;
case "YY":
case "yy":
return( this.addLeadingZero( datetime.getFullYear() % 100 ) );
break;
case "YYYY":
case "yyyy":
return( datetime.getFullYear() );
break;
}
return( pattern );
},
getFormattedTimePart: function( datetime, pattern ) {
switch( pattern ) {
case "H":
return( datetime.getHours() );
break;
case "HH":
var value = datetime.getHours();
return( value < 10 ?  "0" + value : value );
break;
case "h":
var value = (datetime.getHours()  % 12);
return( value === 0 ? 12 : value );
break;
case "hh":
var value = (datetime.getHours()  % 12);
value = ( value === 0 ? 12 : value );
return( value < 10 ?  "0" + value : value );
break;
case "M":
case "MM":
case "m":
case "mm":
var value = datetime.getMinutes();
return( value < 10 ? "0" + value : value );
break;
case "T":
return( datetime.getHours() < 12 ? "A" : "P" );
break;
case "TT":
return( datetime.getHours() < 12 ? "AM" : "PM" );
break;
case "t":
return( datetime.getHours() < 12 ? "a" : "p" );
break;
case "tt":
return( datetime.getHours() < 12 ? "am" : "pm" );
break;
}
return( pattern );
},
getMonthAsString: function( month, useShortVersion ) {
if ( useShortVersion ) {
return( this.monthAsStringMap[ month ][ "short" ] );
} else {
return( this.monthAsStringMap[ month ][ "long" ] );
}
},
isRecent: function( datetime, delta, unit ) {
var cutoff = this.add( new Date(), -delta, unit );
return( datetime >= cutoff );
},
isToday: function( datetime ) {
return(
this.equals( datetime, this.today() )
);
},
isYesterday: function( datetime ) {
return(
this.equals( datetime, this.yesterday() )
);
},
notEquals: function( date1, date2 ) {
return( ! this.equals( date1, date2 ) );
},
removeTime: function( datetime ) {
var newDatetime = this.duplicate( datetime );
newDatetime.setHours( 0 );
newDatetime.setMinutes( 0 );
newDatetime.setSeconds( 0 );
newDatetime.setMilliseconds( 0 );
return( newDatetime );
},
today: function() {
return(
this.removeTime( new Date() )
);
},
tomorrow: function() {
return( this.addDays( this.today(), 1 ) );
},
yesterday: function() {
return(
this.addDays( this.today(), -1 )
);
},
formatRelativeWithinMonth: function(time, lang) {
lang = lang || "smallDate";
moment.lang("smallDate", {
relativeTime : {
future : "in %s",
past : "%s ago",
s : "1s",
m : "1m",
mm : "%dm",
h : "1h",
hh : "%dh",
d : "1d",
dd : "%dd",
M : "1mo",
MM : "%d months",
y : "a year",
yy : "%d years"
}
});
moment.lang("expandedDate", {
relativeTime : {
future : "in %s",
past : "%s ago",
s : "1 second",
ss : "%d seconds",
m : "1 minute",
mm : "%d minutes",
h : "1 hour",
hh : "%d hours",
d : "1 day",
dd : "%d days",
M : "1 month",
MM : "%d months",
y : "a year",
yy : "%d years"
}
});
moment.lang("expandedDate", {
relativeTime : {
future : "in %s",
past : "%s ago",
s : "1 second",
ss : "%d seconds",
m : "1 minute",
mm : "%d minutes",
h : "1 hour",
hh : "%d hours",
d : "1 day",
dd : "%d days",
M : "1 month",
MM : "%d months",
y : "a year",
yy : "%d years"
}
});
moment.lang("expandedDate", {
relativeTime : {
future : "in %s",
past : "%s ago",
s : "1 second",
ss : "%d seconds",
m : "1 minute",
mm : "%d minutes",
h : "1 hour",
hh : "%d hours",
d : "1 day",
dd : "%d days",
M : "1 month",
MM : "%d months",
y : "a year",
yy : "%d years"
}
});
var now = moment(),
diff = moment(time).diff(now, "months"),
output;
if ( Math.abs(diff) === 0 ) {
moment.lang( lang );
output = moment(time).fromNow();
moment.lang(false);
} else {
output = moment(time).format("MMM D");
}
return output;
},
formatLastViewedAbbreviated: function( lastViewedAt ) {
if (!lastViewedAt) {
return "";
}
var string = moment(lastViewedAt).fromNow();
if (string === "a few seconds ago") {
string = "just now";
} else if ( string === "a minute ago" ) {
string = "1m ago";
} else if ( string === "an hour ago" ) {
string = "1h ago";
} else if (string.indexOf(" seconds") >= 0) {
string = string.replace(" seconds", "s");
} else if (string.indexOf(" minutes") >= 0) {
string = string.replace(" minutes", "m");
} else if (string.indexOf(" hours") >= 0) {
string = string.replace(" hours", "h");
} else if (string.indexOf(" days") >= 0) {
string = string.replace(" days", "d");
} else if (string.indexOf(" months") >= 0) {
string = string.replace(" months", "mo");
} else if (string.indexOf(" years") >= 0) {
string = string.replace(" years", "y");
}
return "Viewed " + string;
}
};
})( angular, InVision );
;
;
/*! deferred.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory(
"Deferred",
/** @ngInject */
function( $q, _ ) {
function Deferred() {
var deferred = $q.defer();
var promise = deferred.promise;
var core = {
resolve: deferred.resolve,
reject: deferred.reject,
then: promise.then
};
var isResolved = false;
var isRejected = false;
var updateCallbacks = [];
var mistakeCallbacks = [];
deferred.resolve = function() {
if ( isResolved && !isRejected ) {
for ( var i = 0, length = updateCallbacks.length ; i < length ; i++ ) {
updateCallbacks[ i ].apply( {}, arguments );
}
} else {
isResolved = true;
core.resolve.apply( deferred, arguments )
}
};
deferred.reject = function() {
if ( isResolved ) {
for ( var i = 0, length = mistakeCallbacks.length ; i < length ; i++ ) {
mistakeCallbacks[ i ].apply( {}, arguments );
}
} else {
isRejected = true;
core.reject.apply( deferred, arguments )
}
};
promise.then = function() {
var newPromise = core.then.apply( promise, arguments );
newPromise.update = promise.update;
newPromise.mistake = promise.mistake;
return( newPromise );
};
promise.update = function( callback ) {
updateCallbacks.push( callback );
return( promise );
};
promise.mistake = function( callback ) {
mistakeCallbacks.push( callback );
return( promise );
};
return( deferred );
}
Deferred.handleAllPromises = function( promises, successCallback, errorCallback, runOnce ) {
var handleSuccess = function( index, response ) {
if ( hasError ) {
return;
}
results[ index ] = response;
if ( _.contains( results, null ) ) {
return;
}
successCallback.apply( null, results );
};
var handleError = function( index, response ) {
if ( hasError ) {
return;
}
hasError = true;
errorCallback.call( null, response );
};
var results = [];
for ( var i = 0, length = promises.length ; i < length ; i++ ) {
results.push( null );
}
var hasError = false;
successCallback = ( successCallback || ng.noop );
errorCallback = ( errorCallback || ng.noop );
_.forEach(
promises,
function( promise, index ) {
Deferred.handlePromise(
promise,
function( response ) {
handleSuccess( index, response );
},
function( response ) {
handleError( index, response );
},
runOnce
);
}
);
};
Deferred.handlePromise = function( promise, successCallback, errorCallback, runOnce ) {
var handleSuccess = function( response ) {
if ( hasRun && runOnce ) {
return;
}
hasRun = true;
successCallback( response );
};
var hasRun = false;
successCallback = ( successCallback || ng.noop );
errorCallback = ( errorCallback || ng.noop );
promise.then( handleSuccess, errorCallback );
promise.update( handleSuccess );
promise.mistake( errorCallback );
return( promise );
};
return( Deferred );
}
);
})( angular, InVision );
;
;
/*! devices-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "devicesService", Service );
/** @ngInject */
function Service(  ) {
function getDefaultDeviceId(devices, deviceType, platform, orientation, mobileSkin) {
var filteredDevices = devices.filter(function(device) {
return (
device.isDefaultDeviceType &&
device.deviceType === deviceType &&
device.platform === platform &&
device.orientation === orientation &&
(!mobileSkin || device.mobileSkin === mobileSkin) // optional
);
});
if (filteredDevices.length > 0) {
return filteredDevices[0].mobileDeviceID;
}
return null;
}
return({
getDefaultDeviceId: getDefaultDeviceId
});
}
})( angular, InVision );
;
;
/*! error-log-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "errorLogService", ErrorLogService );
/** @ngInject */
function ErrorLogService( $log, $window, stackTraceService ) {
var debounceLog = {};
var appLoadedAt = ( new Date() ).getTime();
function log( exception ) {
$log.error.apply( $log, arguments );
try {
var errorMessage = ( typeof exception === "object" && exception.message )
? exception.message
: exception.toString()
;
if (
( errorMessage === "[object Object]" ) &&
( typeof( exception.debug ) === "object" ) &&
exception.debug.method &&
exception.debug.url
) {
errorMessage = ( "Error calling " + exception.debug.method + ":" + exception.debug.url );
}
if ( shouldSkipErrorReporting( errorMessage ) ) {
return;
}
var stackTrace = ( exception instanceof Error )
? stackTraceService.print({ e: exception })
: exception
;
try {
var maxMessageLength = 600;
if (
( errorMessage.indexOf( ":infdig]" ) > 0 ) &&
( errorMessage.length > maxMessageLength )
) {
errorMessage = ( errorMessage.slice( 0, maxMessageLength ) + "(truncated)" );
stackTrace[ 0 ] = ( stackTrace[ 0 ].slice( 0, maxMessageLength ) + "(truncated)" );
}
} catch ( truncationError ) {
$log.error( truncationError );
}
var debug = ( ( typeof( exception ) === "object" ) && ( "debug" in exception ) )
? exception.debug
: undefined
;
$.ajax({
type: "POST",
url: "/api/error-log/javascript",
contentType: "application/json",
headers: {
"X-Page-Loaded-At": appLoadedAt
},
data: ng.toJson({
errorUrl: $window.location.href,
errorMessage: errorMessage,
errorDebug: ng.toJson( debug ),
stackTrace: ng.toJson( stackTrace )
})
});
} catch ( loggingError ) {
$log.warn( "Error logging failed" );
$log.log( loggingError );
}
}
function normalizeErrorMessage( message ) {
var normalizedMessage = String( message )
.slice( 0, 100 )
.split( "?" )
.shift()
.toLowerCase()
.replace( /[^a-z0-9]+/gi, "_" )
;
return( normalizedMessage );
}
function shouldSkipErrorReporting( message ) {
var errorKey = ( "debounce_" + normalizeErrorMessage( message ) );
if ( debounceLog.hasOwnProperty( errorKey ) ) {
return( true );
}
debounceLog[ errorKey ] = true;
return( false );
}
return({
exceptionHandler: log
});
}
})( angular, InVision );
;
;
/*! hashkey-copier.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "hashKeyCopier", HashKeyCopier );
/** @ngInject */
/** @ngInject */
function HashKeyCopier( _ ) {
function applyHashKeyIndex( hashKeyIndex, target, uniqueIdentifiers ) {
if ( _.isArray( target ) ) {
applyHashKeyIndexToArray( hashKeyIndex, "[]", target, uniqueIdentifiers );
} else if ( _.isObject( target ) ) {
applyHashKeyIndexToObject( hashKeyIndex, ".", target, uniqueIdentifiers );
}
return( target );
}
function applyHashKeyIndexToArray( hashKeyIndex, path, target, uniqueIdentifiers ) {
for ( var i = 0, length = target.length ; i < length ; i++ ) {
var targetItem = target[ i ];
if ( _.isArray( targetItem ) ) {
applyHashKeyIndexToArray( hashKeyIndex, ( path + "[]" ), targetItem, uniqueIdentifiers );
} else if ( _.isObject( targetItem ) ) {
applyHashKeyIndexToObject( hashKeyIndex, ( path + "." ), targetItem, uniqueIdentifiers );
}
}
}
function applyHashKeyIndexToObject( hashKeyIndex, path, target, uniqueIdentifiers ) {
var identifier = getUniqueIdentifierForObject( target, uniqueIdentifiers );
if ( identifier ) {
var hashKeyPath = ( path + target[ identifier ] );
if ( hashKeyIndex.hasOwnProperty( hashKeyPath ) ) {
target[ hashKeyLookup ] = hashKeyIndex[ hashKeyPath ];
path += ( target[ identifier ] + "." );
}
}
for ( var key in target ) {
if ( isIterableKey( target, key ) ) {
var targetItem = target[ key ];
if ( _.isArray( targetItem ) ) {
applyHashKeyIndexToArray( hashKeyIndex, ( path + key + "[]" ), targetItem, uniqueIdentifiers );
} else if ( _.isObject( targetItem ) ) {
applyHashKeyIndexToObject( hashKeyIndex, ( path + key + "." ) , targetItem, uniqueIdentifiers );
}
}
}
}
function buildHashKeyIndex( target, uniqueIdentifiers ) {
var hashKeyIndex = {};
if ( _.isArray( target ) ) {
buildHashKeyIndexForArray( hashKeyIndex, "[]", target, uniqueIdentifiers );
} else if ( _.isObject( target ) ) {
buildHashKeyIndexForObject( hashKeyIndex, ".", target, uniqueIdentifiers );
}
return( hashKeyIndex );
}
function buildHashKeyIndexForArray( hashKeyIndex, path, target, uniqueIdentifiers ) {
for ( var i = 0, length = target.length ; i < length ; i++ ) {
var targetItem = target[ i ];
if ( _.isArray( targetItem ) ) {
buildHashKeyIndexForArray( hashKeyIndex, ( path + "[]" ), targetItem, uniqueIdentifiers );
} else if ( _.isObject( targetItem ) ) {
buildHashKeyIndexForObject( hashKeyIndex, ( path + "." ), targetItem, uniqueIdentifiers );
}
}
}
function buildHashKeyIndexForObject( hashKeyIndex, path, target, uniqueIdentifiers ) {
if ( target.hasOwnProperty( hashKeyLookup ) ) {
var identifier = getUniqueIdentifierForObject( target, uniqueIdentifiers );
if ( identifier ) {
hashKeyIndex[ path + target[ identifier ] ] = target[ hashKeyLookup ];
path += ( target[ identifier ] + "." );
}
}
for ( var key in target ) {
if ( isIterableKey( target, key ) ) {
var targetItem = target[ key ];
if ( _.isArray( targetItem ) ) {
buildHashKeyIndexForArray( hashKeyIndex, ( path + key + "[]" ), targetItem, uniqueIdentifiers );
} else if ( _.isObject( targetItem ) ) {
buildHashKeyIndexForObject( hashKeyIndex, ( path + key + "." ) , targetItem, uniqueIdentifiers );
}
}
}
}
function copyHashKeys( existing, incoming, uniqueIdentifiers ) {
if ( isExistingDataEmpty( existing ) ) {
return( incoming );
}
if ( ! uniqueIdentifiers ) {
uniqueIdentifiers = [ "id" ];
}
var hashKeyIndex = buildHashKeyIndex( existing, uniqueIdentifiers );
applyHashKeyIndex( hashKeyIndex, incoming, uniqueIdentifiers );
return( incoming );
}
function getUniqueIdentifierForObject( target, uniqueIdentifiers ) {
for ( var i = 0, length = uniqueIdentifiers.length ; i < length ; i++ ) {
var identifier = uniqueIdentifiers[ i ];
if ( target.hasOwnProperty( identifier ) ) {
return( identifier );
}
}
return( null );
}
function isEmptyArray( target ) {
return(
target.hasOwnProperty( "length" ) && 
( target.length === 0 )
);
}
function isExistingDataEmpty( existing ) {
if ( ! existing || isEmptyArray( existing ) ) {
return( true );
}
return( false );
}
function isIterableKey( target, key ) {
if ( key.length && ( key[ 0 ] === "$" ) ) {
return( false );
}
return( target.hasOwnProperty( key ) );
}
var hashKeyLookup = "$$hashKey";
return({
copyHashKeys: copyHashKeys
});
}
})( angular, InVision );
;
;
/*! http-activity-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "httpActivityService", Service );
/** @ngInject */
function Service() {
this.activeRequestCount = 0;
this.activeGetRequestCount = 0;
this.activePostRequestCount =  0;
return( this );
}
Service.prototype = {
isActive: function() {
return( this.activeRequestCount !== 0 );
},
isActiveWithGet: function() {
return( this.activeGetRequestCount !== 0 );
},
isActiveWithPost: function() {
return( this.activePostRequestCount !== 0 );
},
requestCompleted: function( isPostRequest ) {
if ( isPostRequest ) {
this.activePostRequestCount--;
} else {
this.activeGetRequestCount--;
}
this.activeRequestCount--;
if ( this.activeRequestCount === 0 ) {
this.activeGetRequestCount = 0;
this.activePostRequestCount = 0;
}
return( this.activeRequestCount );
},
requestStarted: function( isPostRequest ) {
if ( isPostRequest ) {
this.activePostRequestCount++;
} else { 
this.activeGetRequestCount++;
}
this.activeRequestCount++;
return( this.activeRequestCount );
}
};
})( angular, InVision );
;
;
/*! iframe-rendering-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "iframeRenderingService", Service );
/** @ngInject */
function Service( $location, $window ) {
function shouldHideNavBar() {
return /hideNavBar/.test( $window.location.href );
}
function updateURLParams( url ) {
var urlObj = new URL( url );
var baseURL = $window.location.protocol + "//" + $window.location.hostname + urlObj.pathname;
var pathValue = $location.path();
var searchValue = $location.search();
var hashValue = $location.hash();
var frameAncestors = searchValue.frameAncestors;
var searchValueObj = $.extend( {}, searchValue );
delete searchValueObj.frameAncestors;
var queryParamValue = urlObj.search.substring(1);
if ( frameAncestors ) {
queryParamValue = queryParamValue.length
? queryParamValue + "&" + $.param( { frameAncestors: frameAncestors }, true )
: $.param( { frameAncestors: frameAncestors }, true );
}
if ( searchValueObj ) {
searchValue = $.param( searchValueObj );
}
var fixedURL =
baseURL +
( queryParamValue ? "?" + queryParamValue : "" ) +
( pathValue ? "#" + pathValue : "" ) +
( searchValue ? "?" + searchValue : "" ) +
( hashValue ? "#" + hashValue : "" );
return ( fixedURL );
}
return ({
shouldHideNavBar: shouldHideNavBar,
updateURLParams: updateURLParams
});
}
})( angular, InVision );
;
;
/*! jquery.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "$", Factory );
function Factory() {
return $;
}
})( angular, InVision );
;
;
/*! lodash.js */ 
;
;
(function( ng, app, _, undefined ) {
"use strict";
app.factory( "_", Factory );
/** @ngInject */
function Factory() {
_.anyWithProperty = function( collection, name, value ) {
var result = _.any(
collection,
function( item ) {
return( item[ name ] === value );
}
);
return( result );
};
_.capitalizeFirstLetter = function( value ) {
if ( ! value ) {
return( "" );
}
return( value.slice( 0, 1 ).toUpperCase() + value.slice( 1 ) );
};
_.clamp = function( value, minValue, maxValue ) {
return( Math.min( Math.max( value, minValue ), maxValue ) );
};
_.coalesce = function( value, defaultValue ) {
if ( ( value === null ) || ( value === undefined ) ) {
return( defaultValue );
}
return( value );
};
_.containsWithProperty = function( collection, name, value ) {
return( !! this.findWithProperty( collection, name, value ) );
};
_.countWithProperty = function( collection, name, value ) {
var count = 0;
for ( var i = 0 ; i < collection.length ; i++ ) {
if ( collection[ i ][ name ] === value ) {
count++;
}
}
return( count );
};
_.extendExistingProperties = function( destination, source ) {
if ( ! ( destination && source ) ) {
return( destination );
}
var angularKeyPattern = new RegExp( "^\\$+", "i" );
for ( var key in source ) {
if (
source.hasOwnProperty( key ) &&
destination.hasOwnProperty( key ) &&
! angularKeyPattern.test( key ) &&
! _.isFunction( source[ key ] )
) {
destination[ key ] = source[ key ];
}
}
return( destination );
};
_.filterWithProperty = function( collection, name, value ) {
var filteredCollection = _.filter(
collection,
function( item ) {
return( item[ name ] === value );
}
);
return( filteredCollection );
};
_.findWithProperty = function( collection, name, value ) {
var result = _.find(
collection,
function( item ) {
return( item[ name ] === value );
}
);
return( result );
};
_.findWithPropertyAndReplace = function( collection, name, value, replacement, operator ) {
if ( ! collection || ( replacement === undefined ) ) {
return( collection );
}
operator = ( operator || ng.noop );
for ( var i = 0, length = collection.length ; i < length ; i++ ) {
var item = collection[ i ];
if ( item[ name ] === value ) {
collection[ i ] = ( operator( replacement, item ) || replacement );
return( collection );
}
}
collection.push( replacement );
return( collection );
};
_.indexOfWithProperty = function( collection, name, value ) {
for ( var i = 0 ; i < collection.length ; i++ ) {
if ( collection[ i ][ name ] === value ) {
return( i );
}
}
return( -1 );
};
_.isValidEmail = function( value ) {
var pattern = /^[^@]+@[^.]+(\.[^.]+)+$/i;
return( pattern.test( value ) );
};
_.keysWithTruthyValues = function( collection ) {
var keys = _.keys( collection ).filter(
function operator( key ) {
return( collection[ key ] );
}
);
return( keys );
};
_.notContainsProperty = function( collection, name, value ) {
var filteredCollection = this.filter(
collection,
function( item ) {
return( !_.contains(item[ name ].toLowerCase(), value.toLowerCase()) );
}
);
return( filteredCollection );
};
_.maxProperty = function( collection, name ) {
if ( ! collection.length ) {
return;
}
return(
_.max(
_.pluck( collection, name )
)
);
};
_.minProperty = function( collection, name ) {
return(
_.min(
_.pluck( collection, name )
)
);
};
_.moveRelative = function( collection, index, direction ) {
if ( index > collection.length ) {
return( collection );
}
var maxIndex = ( collection.length - 1 );
var targetIndex = {
"top": 0,
"up": Math.max( 0, ( index - 1 ) ),
"down": Math.min( maxIndex, ( index + 1 ) ),
"bottom": maxIndex
};
return( _.swap( collection, index, targetIndex[ direction ] ) );
};
_.normalizeMixedDataValue = function( value ) {
var padding = "000000000000000";
value = value.replace(
/(\d+)((\.\d+)+)?/g,
function( $0, integer, decimal, repeatDecimal ) {
if ( decimal !== repeatDecimal ) {
return(
padding.slice( integer.length ) +
integer +
decimal
);
}
decimal = ( decimal || ".0" );
return(
padding.slice( integer.length ) +
integer +
decimal +
padding.slice( decimal.length )
);
}
);
return( value );
};
_.rejectWithProperty = function( collection, name, value ) {
var filteredCollection = _.reject(
collection,
function( item ) {
return( item[ name ] === value );
}
);
return( filteredCollection );
};
_.setProperty = function( collection, name, value ) {
this.forEach(
collection,
function( item ) {
item[ name ] = value;
}
);
return( collection );
};
_.similar = function( collectionA, collectionB ) {
var deltaA = _.difference( collectionA, collectionB ).length;
var deltaB = _.difference( collectionB, collectionA ).length;
return( ( deltaA + deltaB ) === 0 );
};
_.sortOnProperty = function( collection, name, direction, caseInsensitive ) {
direction = ( direction || "asc" );
var sortIndicator = ( direction === "asc" ? -1 : 1 );
collection.sort(
function( a, b ) {
if ( caseInsensitive ) {
return( a[ name ].toLowerCase() < b[ name ].toLowerCase() ? sortIndicator : - sortIndicator );
} else {
return( a[ name ] < b[ name ] ? sortIndicator : -sortIndicator );
}
}
);
return( collection );
};
_.sortOnPropertyUsingNaturalOrder = function( collection, name, direction ) {
direction = ( direction || "asc" );
var sortModifier = ( direction === "asc" )
? 1
: -1
;
var sortedCollection = collection
.map(
function( item ) {
return({
operand: _.normalizeMixedDataValue( item[ name ].toLowerCase() ),
original: item
});
}
)
.sort(
function( a, b ) {
return( sortModifier * a.operand.localeCompare( b.operand ) );
}
)
.map(
function( sortedItem ) {
return( sortedItem.original );
}
)
;
return( sortedCollection );
};
_.sortOnPropertyUsingLowerCase = function( collection, name, direction ) {
direction = ( direction || "asc" );
var sortIndicator = ( direction === "asc" ? -1 : 1 );
collection.sort(
function( a, b ) {
var nameA = ( a[ name ] || "" ).toLowerCase();
var nameB = ( b[ name ] || "" ).toLowerCase();
if ( nameA < nameB ) {
return( sortIndicator );
} else if ( nameB < nameA ) {
return( -sortIndicator );
}
return( 0 );
}
);
return( collection );
};
_.sumProperty = function( collection, name ) {
var sum = 0;
for ( var i = 0 ; i < collection.length ; i++ ) {
sum += collection[ i ][ name ];
}
return( sum );
};
_.swap = function( collection, indexOne, indexTwo ) {
var temp = collection[ indexOne ];
collection[ indexOne ] = collection[ indexTwo ];
collection[ indexTwo ] = temp;
return( collection );
};
_.trim = function( value ) {
return(
value.replace( /^\s+|\s+$/g, "" )
);
};
_.withoutProperty = function( collection, name, value ) {
var filteredCollection = this.filter(
collection,
function( item ) {
return( item[ name ] !== value );
}
);
return( filteredCollection );
};
_.withoutPropertyRange = function( collection, name, valueRange ) {
var filteredCollection = this.filter(
collection,
function( item ) {
return( _.indexOf( valueRange, item[ name ] ) === -1 );
}
);
return( filteredCollection );
};
_.withProperty = function( collection, name, value ) {
var filteredCollection = this.filter(
collection,
function( item ) {
return( item[ name ] === value );
}
);
return( filteredCollection );
};
_.withPropertyRange = function( collection, name, valueRange ) {
var filteredCollection = this.filter(
collection,
function( item ) {
return( _.indexOf( valueRange, item[ name ] ) !== -1 );
}
);
return( filteredCollection );
};
return( _ );
}
})( angular, InVision, _ );
;
;
/*! mention-shortcut-service.js */ 
;
;
(function( ng, app ) {
"use strict";
if (typeof module !== "undefined" && module.exports) {
module.exports = MentionShortcutService(null);
} else if (app) {
app.service( "mentionShortcutService", MentionShortcutService );
}
function MentionShortcutService(_) {
var lodash = _;
if (typeof module !== "undefined" && module.exports) {
lodash = require("lodash");
}
var mentionShortcuts = [
{
name: "project",
role: "shortcut"
},
{
name: "conversation",
role: "shortcut"
}
];
function getUserInfo( user, users ) {
if (user.name === "conversation") {
var conversationMembers = [];
lodash.map(users.candidates.conversationMembers, function(member) {
conversationMembers.push(member.name);
});
return conversationMembers.length ? createUserTeaser(conversationMembers) : "It's lonely in here!";
} else if (user.name === "project") {
var projectMembers = [];
var members = lodash.filter(users.candidates.candidates, function(candidate) {
return candidate.role === "member";
});
lodash.map(members, function(member) {
projectMembers.push(member.name);
});
return projectMembers.length ? createUserTeaser(projectMembers) : "It's lonely in here!";
} else {
return user.email;
}
}
function getShortcuts(ids) {
if (ids) {
var lastID = Math.max.apply( Math, ids );
mentionShortcuts.map(function(shortcut, i) {
shortcut.id = lastID + i + 1;
});
}
return mentionShortcuts;
}
function createUserTeaser(users) {
if (users.length < 3) {
return users.length === 2 ? users.join(", ") : users.join("");
} else {
var names = users.slice(0, 2).join(", ");
return names + " & " + ( users.length - 2 ) + " more";
}
}
return {
getUserInfo: getUserInfo,
getShortcuts: getShortcuts
};
}
})( angular, InVision );
;
;
/*! modal-window-request.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "modalWindowRequest", ModalWindowRequest );
/** @ngInject */
function ModalWindowRequest() {
function getData( index, defaultValue ) {
if ( arguments.length === 0 ) {
return( modalData );
} else if ( 
( index > modalData.length ) &&
( arguments.length == 2 )
) {
return( defaultValue );
} else {
return( modalData[ index ] );
}
}
function getType() {
return( modalType );
}
function isSuppressFade() {
return( suppressFade === true );
}
function setRequest( newModalType, newModalData, newSuppressFade ) {
modalType = newModalType;
modalData = newModalData;
suppressFade = ( newSuppressFade || false );
}
function setSuppressFade( newSuppressFade ) {
suppressFade = ( newSuppressFade || false );
}
function isSuppressClose() {
return( suppressClose === true );
}
function setSuppressClose( newSuppressClose ) {
suppressClose = ( newSuppressClose || false );
}
var modalType = "";
var modalData = [];
var suppressFade = false;
var suppressClose = false;
return({
getData: getData,
getType: getType,
isSuppressFade: isSuppressFade,
setRequest: setRequest,
setSuppressFade: setSuppressFade,
isSuppressClose: isSuppressClose,
setSuppressClose: setSuppressClose
});
}
})( angular, InVision );
;
;
/*! model-events.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "modelEvents", ModelEventsFactory );
/** @ngInject */
function ModelEventsFactory( PubSub ) {
return( new PubSub() );
}
})( angular, InVision );
;
;
/*! moment.js */ 
;
;
(function( ng, app, moment ) {
"use strict";
app.factory( "moment", Factory );
/** @ngInject */	
function Factory() {
return moment;
}
})( angular, InVision, moment );
;
;
/*! notifications-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "notificationsService", Service );
/** @ngInject */
function Service( $resource, serviceHelper, modelEvents ) {
function getSettings() {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "getSettings"
});
return( promise );
}
function removeCommentEmailFromQueue( commentID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "removeCommentEmailFromQueue",
parameters: {
command: "removeCommentEmailFromQueue",
commentID: commentID
},
successCallback: function( response ) {
}
});
return( promise );
}
function updateEmailNotificationFrequency( frequency ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "updateEmailNotificationFrequency",
parameters: {
command: "updateEmailNotificationFrequency",
frequency: frequency
},
successCallback: function( response ) {
}
});
return( promise );
}
function updateSendDigestAt( wantsDigestAtFrequencyInHours, digestSendTime ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "updateSendDigestAt",
parameters: {
command: "digestSendTime",
wantsDigestAtFrequencyInHours: wantsDigestAtFrequencyInHours,
sendNextDigestAt: digestSendTime
},
successCallback: function( response ) {
}
});
return( promise );
}
function updateSettings( settings ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "updateSettings",
parameters: settings,
successCallback: function( response ) {
modelEvents.trigger( "notificationSettingsUpdated", settings );
}
});
return( promise );
}
var resource = $resource(
"/api/notifications/:command",
{
command: "@command"
},
{
getSettings: {
method: "GET"
},
removeCommentEmailFromQueue: {
method: "DELETE",
command: "removeCommentEmailFromQueue"
},
updateEmailNotificationFrequency: {
method: "POST",
command: "emailNotificationFrequency"
},
updateSendDigestAt: {
method: "POST",
command: "digestSendTime"
},
updateSettings: {
method: "POST"
}
}
);
return({
getSettings: getSettings,
removeCommentEmailFromQueue: removeCommentEmailFromQueue,
updateEmailNotificationFrequency: updateEmailNotificationFrequency,
updateSendDigestAt: updateSendDigestAt,
updateSettings: updateSettings
});
}
})( angular, InVision );
;
;
/*! pagination.js */ 
;
;
angular.module('InVision')
.factory('paginationHelper',
function( _ ) {
var MINIMUM_PAGES_TO_COMPRESS = 11 // 2 left, 2 right, 3 middle, 4 (2/2 compressed )
, ITEMS_PER_EDGE = 2
, ITEMS_PER_MID = 3 // should be an odd number
, ITEMS_BEFORE_COMPRESSING = 4
, ITEMS_PER_UNCOMPRESSED_EDGE = 6;
function _compress( instance ) {
var index = instance.index
, pages = instance.pages;
if ( pages.length < MINIMUM_PAGES_TO_COMPRESS ) return pages;
var ranges = {
start : {
at       : 0,
boundary : ITEMS_BEFORE_COMPRESSING,
total    : ITEMS_PER_EDGE
},
mid : { at: index - Math.floor(( ITEMS_PER_MID - 1  ) / 2 ), total: ITEMS_PER_MID },
end : { 
at       : pages.length - ITEMS_PER_EDGE,
boundary : pages.length - ITEMS_BEFORE_COMPRESSING,
total    : ITEMS_PER_EDGE
}
};
if ( ranges.mid.at < ranges.start.boundary ) {
delete ranges.start;
ranges.mid = { at: 0, total: ITEMS_PER_UNCOMPRESSED_EDGE };
}
if ( ranges.mid.at + ranges.mid.total > ranges.end.boundary ) {
ranges.mid = { at: pages.length - ITEMS_PER_UNCOMPRESSED_EDGE, total: ITEMS_PER_UNCOMPRESSED_EDGE };
delete ranges.end;
}
var compressed = [ ];
if ( ranges.start ) {
compressed = compressed.concat( pages.slice( ranges.start.at, ranges.start.at + ranges.start.total ));
compressed.push({ separator: true });
}
if ( ranges.mid )
compressed = compressed.concat( pages.slice( ranges.mid.at, ranges.mid.at + ranges.mid.total ));
if ( ranges.end ) {
compressed.push({ separator: true });
compressed = compressed.concat( pages.slice( ranges.end.at, ranges.end.at + ranges.end.total ));
}
instance.pages = compressed;
}
function Pagination( config ) {
_.assign( this, config );
this.pages = [ ];
this.index = config.index || 0;
if ( config.pages )
_.times( config.pages + 1, function( i ) {
this.pages.push({
index   : i,
number  : i+1,
current : i === this.index
});
}, this );
this.totalPages = this.pages.length;
if ( config.compress )
_compress( this );
this.atStart = this.index === 0;
this.atEnd = this.index === this.totalPages - 1;
}
_.assign( Pagination, {
});
_.assign( Pagination.prototype, {
next: function() {
this.go( this.index + 1 );
},
previous: function() {
this.go( this.index - 1 );
},
go: function( index ) {
var current = this.index;
this.index = Math.max( 0, Math.min( index, this.totalPages ));
if ( this.index !== current && _.isFunction( this.onPageChanged ))
this.onPageChanged( this.index );
}
});
return Pagination;
});
;
;
/*! preloader.js */ 
;
;
angular.module('InVision')
.factory('preloader',
function($q, $rootScope) {
function Preloader(imageLocations) {
this.imageLocations = imageLocations;
this.imageCount = this.imageLocations.length;
this.loadCount = 0;
this.states = {
PENDING: 1,
LOADING: 2,
RESOLVED: 3,
REJECTED: 4
};
this.state = this.states.PENDING;
this.deferred = $q.defer();
this.promise = this.deferred.promise;
}
Preloader.preloadImages = function( imageLocations ) {
var preloader = new Preloader( imageLocations );
return preloader.load();
};
Preloader.prototype = {
constructor: Preloader,
isInitiated: function() {
return( this.state !== this.states.PENDING );
},
isRejected: function() {
return( this.state === this.states.REJECTED );
},
isResolved: function() {
return( this.state === this.states.RESOLVED );
},
load: function() {
if ( this.isInitiated() ) {
return( this.promise );
}
this.state = this.states.LOADING;
for ( var i = 0 ; i < this.imageCount ; i++ ) {
this.loadImageLocation( this.imageLocations[ i ] );
}
return( this.promise );
},
handleImageLoad: function handleImageLoad( imageLocation ) {
this.loadCount++;
if ( this.isRejected() ) {
return;
}
this.deferred.notify({
percent: Math.ceil( this.loadCount / this.imageCount * 100 ),
imageLocation: imageLocation
});
if ( this.loadCount === this.imageCount ) {
this.state = this.states.RESOLVED;
this.deferred.resolve( this.imageLocations );
}
},
loadImageLocation: function(imageLocation) {
var preloader = this,
image = new Image();
image.onload = function( event ) {
$rootScope.$apply(function() {
preloader.handleImageLoad(event.target.src);
preloader = null;
image = null;
event = null;
});
};
image.onerror = function( event ) {
preloader.deferred.reject();
};
image.src = imageLocation;
}
};
return Preloader;
});
;
;
/*! pusher.js */ 
;
;
(function( ng, app ) {
"use strict";
app.value( "Pusher", Pusher );
})( angular, InVision );
;
;
/*! render-context.js */ 
;
;
(function( ng, app ) {
"use strict";
app.value( "RenderContext", RenderContext );
/** @ngInject */
function RenderContext( requestContext, actionPrefix, paramNames ) {
this._requestContext = requestContext;
this._actionPrefix = actionPrefix;
this._paramNames = paramNames;
return( this );
}
RenderContext.prototype = {
getNextSection: function() {
return(
this._requestContext.getNextSection( this._actionPrefix )
);
},
isChangeLocal: function() {
return(
this._requestContext.startsWith( this._actionPrefix )
);
},
isChangeRelevant: function() {
if ( ! this._requestContext.startsWith( this._actionPrefix ) ) {
return( false );
}
if ( this._requestContext.hasActionChanged() ) {
return( true ) ;
}
return(
this._paramNames.length && 
this._requestContext.haveParamsChanged( this._paramNames )
);
}
};
})( angular, InVision );
;
;
/*! request-context.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "requestContext", RequestContext );
/** @ngInject */
function RequestContext( RenderContext ) {
this.RenderContext = RenderContext;
this._action = "";
this._sections = [];
this._params = {};
this._previousAction = "";
this._previousParams = {};
return( this );
}
RequestContext.prototype = {
getAction: function() {
return( this._action );
},
getNextSection: function( prefix ) {
if ( ! this.startsWith( prefix ) ) {
return( null );
}
if ( prefix === "" ) {
return( this._sections[ 0 ] );
}
var depth = prefix.split( "." ).length;
if ( depth === this._sections.length ) {
return( null );
}
return( this._sections[ depth ] );
},
getParam: function( name ) {
return( this._params[ name ] || null );
},
getParams: function() {
return( this._params || null );
},
getParamAsInt: function( name, defaultValue ) {
var valueAsInt = parseInt( this.getParam( name ) );
if ( isNaN( valueAsInt ) ) {
return( defaultValue || 0 );
} else {
return( valueAsInt );
}
},
getRenderContext: function( requestActionLocation, paramNames ) {
requestActionLocation = (requestActionLocation || "");
paramNames = (paramNames || []);
if ( ! ng.isArray( paramNames ) ) {
paramNames = [ paramNames ];
}
return(
new this.RenderContext( this, requestActionLocation, paramNames )
);
},
hasActionChanged: function() {
return( this._action !== this._previousAction );
},
hasParamChanged: function( paramName, paramValue ) {
if ( ! ng.isUndefined( paramValue ) ) {
return( ! this.isParam( paramName, paramValue ) );
}
if (
!(paramName in this._previousParams) &&
(paramName in this._params)
) {
return( true );
} else if (
(paramName in this._previousParams) &&
!(paramName in this._params)
) {
return( true );
}
return( this._previousParams[ paramName ] !== this._params[ paramName ] );
},
haveParamsChanged: function( paramNames ) {
for ( var i = 0, length = paramNames.length ; i < length ; i++ ) {
if ( this.hasParamChanged( paramNames[ i ] ) ) {
return( true );
}
}
return( false );
},
isParam: function( paramName, paramValue ) {
if (
(paramName in this._params) &&
(this._params[ paramName ] == paramValue)
) {
return( true );
}
return( false );
},
setContext: function( action, routeParams ) {
this._previousAction = this._action;
this._previousParams = this._params;
this._action = action;
this._sections = action.split( "." );
this._params = ng.copy( routeParams );
},
startsWith: function( prefix ) {
if (
!prefix.length || 
(this._action === prefix) ||
(this._action.indexOf( prefix + "." ) === 0)
) {
return( true );
}
return( false );
}
};
})( angular, InVision );
;
;
/*! screen-alignment-helper.js */ 
;
;
angular.module('InVision')
.factory('ScreenAlignmentHelper',
function( _, $, $window, screenService ) {
function ScreenAlignment() {
}
_.assign( ScreenAlignment.prototype, {
calculate : function( screen, container ) {
if ( !container ) container = $window;
if (!( container instanceof $ )) container = $( container );
var alignment = {
containerWidth : Math.min( container.width(), $window.innerWidth ),
screenWidth : screen.width * screen.displayScale,
usingScroll : parseInt( screen.zoomScrollBehavior, 10 ) === screenService.zoomScrollBehaviors.NORMAL,
center : screen.alignment === 'center',
left : screen.alignment === 'left',
right : screen.alignment === 'right'
};
if ( alignment.usingScroll ) {
if ( alignment.right ) {
alignment.offset = alignment.screenWidth - alignment.containerWidth;
} else if ( alignment.left ) {
alignment.offset = 0;
} else {
alignment.offset = Math.max( 0, ( alignment.screenWidth - alignment.containerWidth ) / 2 );
}
} else {
if ( alignment.right ) {
alignment.offset = Math.min( alignment.containerWidth - alignment.screenWidth, 0 );
} else if ( alignment.left ) {
alignment.offset = 0;
} else { // center
alignment.offset = Math.min( ( alignment.containerWidth - alignment.screenWidth ) / 2, 0 );
}
}
return alignment;
}
});
return ScreenAlignment;
});
;
;
/*! service-helper.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "serviceHelper", ServiceHelper );
/** @ngInject */
function ServiceHelper( $log, Deferred ) {
function executeRequest( options ) {
var resource = options.resource;
var name = options.name;
var parameters = ( options.parameters || {} );
var allowRetry = ( ( "retry" in options ) ? options.retry : false );
var successCallback = ( options.successCallback || ng.noop );
var errorCallback = ( options.errorCallback || ng.noop );
var deferred = new Deferred();
if( window.location.protocol === "file:" ) {
deferred.resolve();
return deferred.promise;
}
var retryDurations = [ 500, 1000, 2000, 4000 ];
var retryDuration = null;
var requestCount = 0;
var requestStartedAt = Date.now();
var executeResourceRequest = function () {
return( resource[ name ]( parameters, handleSuccess, handleError ) );
};
var handleSuccess = function ( response ) {
successCallback( response );
deferred.resolve( response );
};
var handleError = function ( response ) {
response.requestCount = ++requestCount;
response.requestStartedAt = requestStartedAt;
if (
allowRetry &&
isRetriableRequest( response ) &&
( retryDuration = retryDurations.shift() )
) {
$log.warn( "Attempting retry in ", retryDuration, "milliseconds." );
setTimeout( executeResourceRequest, retryDuration );
return;
}
errorCallback( response );
deferred.reject( unwrapErrorMessage( response ) );
};
var resourceResponse = executeResourceRequest();
return( deferred.promise );
}
function isRetriableRequest( response ) {
try {
return(
( response.status === -1 )  || // Network failure (as of AngularJS 1.7.5 upgrade).
( response.status === 0 )   || // Network failure.
( response.status === 408 ) || // Request timeout.
( response.status === 499 ) || // Nginx closed client request.
( response.status >= 500 )     // All server-side errors.
);
} catch ( error ) {
return( false );
}
}
function unwrapErrorMessage( errorResponse ) {
var debug = unwrapErrorMessageDebugData( errorResponse );
try {
var response = ng.fromJson( errorResponse.data );
if ( ng.isString( response ) || ( response === null ) || ( response === undefined ) ) {
response = {
debug: debug,
message: response,
code: -1,
id: -1
};
} else if ( ng.isObject( response ) ) {
response.debug = debug;
}
} catch ( error ) {
var response = {
debug: debug,
message: "Unexpected error.",
code: -1,
id: -1
};
}
return( response );
}
function unwrapErrorMessageDebugData( errorResponse ) {
try {
return({
context: "common/service-helper",
method: errorResponse.config.method,
url: errorResponse.config.url,
status: errorResponse.status,
statusText: errorResponse.statusText,
data: errorResponse.config.data
});
} catch ( unwrapError ) {
return({
context: "common/service-helper"
});
}
}
return({
executeRequest: executeRequest
});
}
})( angular, InVision );
;
;
/*! session-inactivity-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "sessionInactivityService", SessionInactivityService );
/** @ngInject */
function SessionInactivityService( $document,_ , modelEvents ) {
var 
keepAliveCb = ng.noop, 
timeoutCb = ng.noop, 
sessionIdentifier, 
throttledKeepAlive;
function killSession() {
teardown();
timeoutCb();
}
function setSessionActive() {
throttledKeepAlive();
}
function init( sessionId, keepAliveCallback, timeoutCallback ) {
keepAliveCb = keepAliveCallback;
timeoutCb = timeoutCallback;
throttledKeepAlive = _.throttle( keepAliveCb, 30000 ); // run the keepalive a max of once every 30 seconds. lastRequestAt isn't updated on the backend if it's not greater than 60 seconds
sessionIdentifier = sessionId; // the session we're currently using. 
teardown(); // make sure there aren't any leftovers
$document
.on("mousemove.sessionInactivity keypress.sessionInactivity", function (e) {
setSessionActive();
});
$(window)
.on("focus.sessionInactivity", function(e) { 
setSessionActive(); // don't throttle the call if we're focusing the tab
})
.on("blur.sessionInactivity", throttledKeepAlive.cancel ); // kill any trailing keepalives if we leave the tab
modelEvents.on(
"sessionInactive.sessionInactivity",
function(event, identifier) {
if ( identifier === sessionIdentifier ) {
killSession();
}
}
);
}
function teardown() {
$document
.off(".sessionInactivity");
$(window)
.off(".sessionInactivity");
modelEvents
.off("sessionInactive.sessionInactivity");
}
return({
init: init,
disable: teardown // in case you want to programmatically disable this after initialization for some reason
});
}
})( angular, InVision );
;
;
/*! sort-screens.js */ 
;
;
(function(app) {
app.factory('sortScreens', sortScreensFactory);
/** @ngInject */
function sortScreensFactory(_) {
return function sortScreens(screens, dividers, sortTypeID) {
if ( sortTypeID === 2 ) {
return( _.sortOnPropertyUsingNaturalOrder( screens, "name" ) );
}
screens.forEach(function(screen) {
var foundGroup =  dividers.find(function(divider){
return divider.dividerID === screen.screenGroupId;
});
if (!foundGroup ) {
screen.screenGroupId = 0;
}
});
var sortedDividers = _.sortBy(dividers, "sort");
var groupedScreens = _.chain(screens)
.groupBy("screenGroupId")
.mapValues(function (screens) {
return _.sortBy(screens, "sort");
})
.value();
return sortedDividers.reduce(function (sortedScreens, divider) {
if (groupedScreens[divider.dividerID]) {
sortedScreens = sortedScreens.concat(groupedScreens[divider.dividerID]);
}
return sortedScreens;
}, []);
}
}
})(InVision);
;
;
/*! stack-trace-service.js */ 
;
;
(function( ng, app, printStackTrace ) {
"use strict";
app.factory( "stackTraceService", Factory );
function Factory() {
return({
print: printStackTrace
});
}
})( angular, InVision, printStackTrace );
;
;
/*! transitions.service.js */ 
;
;
(function(ng, app) {
var _DEBUG_ = _DEBUG_ || false;
app
.service('transitionsService', Service);
/** @ngInject */
function Service($log, _) {
var userAgent = navigator.userAgent.toLowerCase();
var isiOS = (/(ip(hone|od|ad))/g).test(userAgent);
var isAndroid = (/android/g).test(userAgent);
var _targ,
_curr,
_wrap,
_fixed,
_fixedCurr,
_fixedTarg,
_timeline;
var _ready = false;
var _clearProps = [
'transform',
'transformStyle',
'opacity',
'boxShadow',
'backfaceVisibility',
'zIndex',
'perspective',
'transformOrigin'
].join(',');
var _cb = _.noop;
var _tweenDefaults = {
autoRound: true,
delay: 0.05,
roundProps: 'x,y',
ease: Power3.easeOut
};
var _durations = {
dissolve:   0.45,
pop:        0.8,
flow:       1.0,
pushLeft:   0.5,
pushRight:  0.5,
flipLeft:   1.0,
flipRight:  1.0,
slideDown:  0.8,
slideUp:    0.8,
slideLeft:  0.5,
slideRight: 0.5,
slideFade:  1.0
};
var service = {
'dissolve':    dissolve,
'push-right':  pushRight,
'push-left':   pushLeft,
'flip-right':  flipRight,
'flip-left':   flipLeft,
'flow':        flow,
'pop':         pop,
'slide-up':    slideUp,
'slide-down':  slideDown,
'slide-right': slideRight,
'slide-left':  slideLeft,
'slide-fade':  slideFade,
configure:     configure,
play:          play
};
init();
return service;
function init() {
if (_DEBUG_) $log.info('transitionsService.init');
TweenLite.lagSmoothing(150, 21);
_timeline = new TimelineLite({
onComplete: onComplete,
paused: true
});
return service;
}
function configure(current, target, wrapper, fixed) {
if (_DEBUG_) $log.info('transitionsService.configure');
_curr  = current;
_targ  = target;
_wrap  = wrapper;
if (fixed) {
_fixed = true;
if (fixed.curr) _fixedCurr = fixed.curr;
if (fixed.targ) _fixedTarg = fixed.targ;
}
_ready = true;
return service;
}
function dissolve() {
if (_DEBUG_) $log.info('transitionsService.dissolve');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {zIndex: 3, opacity: 1});
_timeline.add([
TweenLite.to(_curr, _durations.dissolve, ng.extend({},
_tweenDefaults, {
opacity: 0,
delay: 0.1,
ease: Power1.easeInOut
})
)
]);
return service;
}
function pushRight() {
if (_DEBUG_) $log.info('transitionsService.pushRight');
if (!_ready) return handleError({code: 'NotReady'});
var targCss = {
x: '0%'
}
if (!isAndroid) targCss.boxShadow = '0 0 40px 0 rgba(0, 0, 0, .2)';
TweenLite.set(_curr, {
x: '0%',
z: 0
});
TweenLite.set(_targ, {
x: '-100%',
z: 0,
zIndex: 3
});
_timeline.add([
TweenLite.to(_curr, _durations.pushRight, ng.extend({},
_tweenDefaults, {
x: '25%'
})
),
TweenLite.to(_targ, _durations.pushRight, ng.extend({},
_tweenDefaults, targCss)
)
]);
if (_fixed) _fadeFixed('pushRight');
return service;
}
function pushLeft() {
if (_DEBUG_) $log.info('transitionsService.pushLeft');
if (!_ready) return handleError({code: 'NotReady'});
var targCss = {
x: '0%'
}
if (!isAndroid) targCss.boxShadow = '0 0 40px 0 rgba(0, 0, 0, .2)';
TweenLite.set(_curr, {
x: '0%',
z: 0
});
TweenLite.set(_targ, {
x: '100%',
z: 0,
zIndex: 3
});
_timeline.add([
TweenLite.to(_curr, _durations.pushLeft, ng.extend({},
_tweenDefaults, {
x: '-25%'
})
),
TweenLite.to(_targ, _durations.pushLeft, ng.extend({},
_tweenDefaults, targCss)
)
]);
if (_fixed) _fadeFixed('pushLeft');
return service;
}
function flipRight() {
if (_DEBUG_) $log.info('transitionsService.flipRight');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_wrap, {
transformStyle: 'preserve-3d',
perspective: 1000
});
TweenLite.set(_curr, {
rotationY: 0,
zIndex: 3,
transformOrigin: '50% 50%',
backfaceVisibility: 'hidden'
});
TweenLite.set(_targ, {
rotationY: -180,
scale: .7,
transformOrigin: '50% 50%',
backfaceVisibility: 'hidden'
});
_timeline.add([
TweenLite.to(_curr, _durations.flipRight, ng.extend({},
_tweenDefaults, {
rotationY: 180,
scale: .7
})
),
TweenLite.to(_targ, _durations.flipRight, ng.extend({},
_tweenDefaults, {
rotationY: 0,
scale: 1
})
)
]);
return service;
}
function flipLeft() {
if (_DEBUG_) $log.info('transitionsService.flipLeft');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_wrap, {
transformStyle: 'preserve-3d',
perspective: 1000
});
TweenLite.set(_curr, {
rotationY: 0,
zIndex: 3,
transformOrigin: '50% 50%',
backfaceVisibility: 'hidden'
});
TweenLite.set(_targ, {
rotationY: 180,
scale: .7,
transformOrigin: '50% 50%',
backfaceVisibility: 'hidden'
});
_timeline.add([
TweenLite.to(_curr, _durations.flipLeft, ng.extend({},
_tweenDefaults, {
rotationY: -180,
scale: .7
})
),
TweenLite.to(_targ, _durations.flipLeft, ng.extend({},
_tweenDefaults, {
rotationY: 0,
scale: 1
})
)
]);
return service;
}
function slideRight() {
if (_DEBUG_) $log.info('transitionsService.slideRight');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {x: 0, z: 0});
TweenLite.set(_targ, {x: '-100%', z: 0});
_timeline.add([
TweenLite.to(_wrap, _durations.slideRight, ng.extend({},
_tweenDefaults, {
delay: 0.3,
x: '100%'
})
)
]);
if (_fixed) _fadeFixed('slideRight');
return service;
}
function slideLeft() {
if (_DEBUG_) $log.info('transitionsService.slideLeft');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {x: 0, z: 0});
TweenLite.set(_targ, {x: '100%', z: 0});
_timeline.add([
TweenLite.to(_wrap, _durations.slideLeft, ng.extend({},
_tweenDefaults, {
delay: 0.3,
x: '-100%'
})
)
]);
if (_fixed) _fadeFixed('slideLeft');
return service;
}
function slideDown() {
if (_DEBUG_) $log.info('transitionsService.slideDown');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {y: '0%', zIndex: 3});
_timeline.add([
TweenLite.to(_curr, _durations.slideDown, ng.extend({},
_tweenDefaults, {
y: '100%',
ease: Power4.easeOut
})
)
]);
return service;
}
function slideUp() {
if (_DEBUG_) $log.info('transitionsService.slideUp');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_targ, {y: '100%', zIndex: 3});
_timeline.add([
TweenLite.to(_targ, _durations.slideUp, ng.extend({},
_tweenDefaults, {
y: '0%',
ease: Power4.easeOut
})
)
]);
return service;
}
function slideFade() {
if (_DEBUG_) $log.info('transitionsService.slideFade');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {
x: 0,
transformOrigin: '50% 50%'
});
TweenLite.set(_targ, {
opacity: 0,
scale: 0.8,
transformOrigin: '50% 50%'
});
_timeline.add([
TweenLite.to(_curr, _durations.slideFade, ng.extend({},
_tweenDefaults, {
x: '-100%',
opacity: 0.5
})
),
TweenLite.to(_targ, _durations.slideFade, ng.extend({},
_tweenDefaults, {
opacity: 1,
scale: 1
})
)
]);
return service;
}
function pop() {
if (_DEBUG_) $log.info('transitionsService.pop');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {
opacity: 1,
transformOrigin: '50% 50%',
zIndex: 3
});
TweenLite.set(_targ, {
opacity: 0,
transformOrigin: '50% 50%',
scale: 0.5
});
_timeline.add([
TweenLite.to(_curr, _durations.pop, ng.extend({},
_tweenDefaults, {
scale: .5,
opacity: 0
})
),
TweenLite.to(_targ, _durations.pop, ng.extend({},
_tweenDefaults, {
opacity: 1,
scale: 1
})
)
]);
return service;
}
function flow() {
if (_DEBUG_) $log.info('transitionsService.flow');
if (!_ready) return handleError({code: 'NotReady'});
TweenLite.set(_curr, {
opacity: 1,
x: '0%',
transformOrigin: '50% 50%',
scale: 1
});
TweenLite.set(_targ, {
opacity: .5,
x: '100%',
transformOrigin: '50% 50%',
scale: 0.5
});
_timeline.add(
TweenLite.to(_curr, _durations.flow / 4, ng.extend({},
_tweenDefaults, {
opacity: .5,
scale: 0.5
})
)
);
_timeline.add([
TweenLite.to(_curr, _durations.flow / 2, ng.extend({},
_tweenDefaults, {
x: '-100%',
delay: 0
})
),
TweenLite.to(_targ, _durations.flow / 2, ng.extend({},
_tweenDefaults, {
x: '0%',
delay: 0
})
)
]);
_timeline.add(
TweenLite.to(_targ, _durations.flow / 4, ng.extend({},
_tweenDefaults, {
opacity: 1,
scale: 1,
delay: 0
})
)
);
return service;
}
function play(cb) {
if (_DEBUG_) $log.info('transitionsService.play');
if (!cb) return handleError({code: 'NoCallback'});
_cb = cb;
return _timeline.play();
}
function _fadeFixed(transitionType) {
if (_DEBUG_) $log.info('transitionsService._fadeFixed', transitionType);
TweenLite.set(_fixedCurr, {
opacity: 1
});
if (_fixedCurr) {
_timeline.add(
TweenLite.to(_fixedCurr, (_durations[transitionType] - 0.3), {
opacity: 0
}), (_durations[transitionType] - 0.3)
);
}
return service;
}
function onComplete() {
if (_DEBUG_) $log.info('transitionsService.onComplete');
_timeline.clear();
TweenLite.set([_targ, _curr, _wrap], {clearProps: _clearProps});
_targ, _curr, _wrap, _fixed, _fixedCurr, _fixedTarg = null;
return _cb();
}
function handleError(err) {
if (_DEBUG_) $log.error('transitionsService.handleError', err);
var message;
switch (err.code.toLowerCase()) {
case 'nocallback':
message = 'You did not provide an animation onComplete callback';
break;
case 'notarget':
message = 'You have to provide a target node before you can ' +
'animate something.';
break;
case 'notready':
message = 'You are trying to use the transitions service before ' +
'it was even ready. Please refactor your code.';
break;
default:
message = 'Something bad happened.';
}
throw new Error(message);
}
}
})(angular, InVision);
;
;
/*! unsaved-comment-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "unsavedCommentService", Service );
/** @ngInject */
/**
* This service maintains unsaved conversation comments in session storage.
* We are only going to keep one comment in session storage.
* This will help prevent users from data loss.
*/
function Service() {
var storageKeyName = "invUnsavedComment";
var hasSessionStorage = (function() {
var x = '__storage_test__';
try {
sessionStorage.setItem(x, x);
sessionStorage.removeItem(x);
return true;
} catch(e) {
return false;
}
})();
function getItem(id) {
return !hasSessionStorage ? null : sessionStorage.getItem(id);
}
function removeItem(id) {
return !hasSessionStorage ? null : sessionStorage.removeItem(id);
}
function setItem(key, value) {
if (hasSessionStorage) {
sessionStorage.setItem(key, value);
}
}
function persistUnsavedComment(screenID, commentText, conversationID, x, y) {
if (!commentText) {
clear();
return;
}
var data = {
screenID: screenID,
commentText: commentText,
conversationID: conversationID,
x: x,
y: y
};
setItem(storageKeyName, JSON.stringify(data));
}
function getUnsavedCommentForScreen(screenID) {
var data = getItem(storageKeyName);
if (!data || data === "") {
return undefined;
}
try {
data = JSON.parse(data);
if (data.screenID === screenID) {
return data;
} else {
return undefined;
}
} catch (error) {
}
}
function clear(){
removeItem(storageKeyName);
}
return({
persistUnsavedComment: persistUnsavedComment,
getUnsavedCommentForScreen: getUnsavedCommentForScreen,
clear: clear
});
}
})( angular, InVision );
;
;
/*! utility-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "utilityService", UtilityService );
/** @ngInject */
function UtilityService() {
/**
* Generates a GUID string, according to RFC4122 standards.
* @returns {String} The generated GUID.
* @example af8a8416-6e18-a307-bd9c-f2c947bbb3aa
* @author Slavik Meltser (slavik@meltser.info).
* @link http://slavik.meltser.info/?p=142
*/
function guid() {
function _p8(s) {
var p = (Math.random().toString(16)+"000000000").substr(2,8);
return s ? "-" + p.substr(0,4) + "-" + p.substr(4,4) : p ;
}
return _p8() + _p8(true) + _p8(true) + _p8();
}
function stripHTML( str ) {
var htmlRegex = /(<([^>]+)>)/ig;
return str.replace(htmlRegex, "");
}
function isHTML( str ) { // results and regex set to var scope for reduced mutability over many requests
var regex = /(<([^>]+)>)/ig;
var result = regex.test( str );
return result;
}
function getRequestAnimationFrame() {
return window.requestAnimationFrame
|| window.webkitRequestAnimationFrame
|| window.mozRequestAnimationFrame
|| function( callback ){ window.setTimeout( callback, 1000 / 60 ); 
};
}
return({
isHTML: isHTML,
stripHTML: stripHTML,
getRequestAnimationFrame: getRequestAnimationFrame,
guid: guid
});
}
})( angular, InVision );
;
;
/*! validation-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "validationService", ValidationService );
/** @ngInject */
function ValidationService() {
this.errorCodes = [
{
code: 400,
message: "Invalid request for this resource."
},
{
code: 400,
message: "Invalid request body content."
},
{
code: 401,
message: "The credentials you provided are not valid."
},
{
code: 403,
message: "Forbidden."
},
{
code: 404,
message: "The requested resource could not be found."
},
{
code: 405,
message: "The requested resource does not support the given method."
},
{
code: 406,
message: "The screen you were attempting to view was not found."
},
{
code: 407,
message: "The document you were attempting to view was not found."
},
{
code: 1100,
message: "Validation failure"
},
{
code: 1101,
message: "Validation failure: missing field"
},
{
code: 1102,
message: "Validation failure: invalid field"
},
{
code: 1103,
message: "Validation failure: already exists"
},
{
code: 3003,
message: "Sorry, you have attempted your request too many times."
},
{
code: 5001,
message: "Sorry, you aren't a collaborator on the document you tried to access. Please inform the document owner."
},
{
code: 5002,
message: "Sorry, you aren't a collaborator on the document you tried to access. Would you like to Join this document?"
},
{
code: 500,
message: "Unexpected error"
}
];
return( this );
}
ValidationService.prototype = {
isAlreadyExists: function( error ) {
return( error.code === 1103 );
},
isBadRequest: function( error ) {
return( error.code === 400 );
},
isForbidden: function( error ) {
return( error.code === 403 );
},
isInvalid: function( error ) {
return( error.code === 1100 );
},
isInvalidField: function( error ) {
return( error.code === 1102 );
},
isInvalidNameField: function( error ) {
return( error.code === 1112 );
},
isInvalidShareKey: function( error ) {
return(
( error.code === 1114 ) ||
( error.code === 1115 )
);
},
isMissingField: function( error ) {
return( error.code === 1101 );
},
isNotFound: function( error ) {
return( error.code === 404 );
},
isScreenNotFound: function( error ) {
return( error.code === 406 );
},
isProjectNotFound: function( error ) {
return( error.code === 407 );
},
isProjectEmpty: function( error ) {
return( error.code === 409 );
},
isOverQuota: function( error ) {
return( error.code === 3000 );
},
isMissingProjectPermission: function( error ) {
return( error.code === 5001 );
},
canJoinProject: function( error ) {
return( error.code === 5002 );
},
isSharePasswordComplexity: function( error ) {
return( error.code === 1113 );
},
isTooManyAttempts: function( error ) {
return( error.code === 3003 );
},
isMigratedToV7: function( error ) {
return( error.code === 3005 );
},
isRateLimitExceeded: function (error) {
return(error.code === 3004);
}
};
})( angular, InVision );
;
;
/*! comment.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")   // FIXME -- shall we create a module comment?
.controller( "comment.CommentController", CommentController );
var mentionUID = 1;
function CommentController() {
var vm = this;
initialize();
function initialize() {
vm.uid = mentionUID++;
}
}
})( angular );
;
;
/*! comment.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.directive( "invComment", CommentDirective );
function CommentDirective( $window, unsavedCommentService ) {
return ({
controller: "comment.CommentController",
controllerAs: "vm",
restrict: "A",
templateUrl: "/assets/apps/common/ng-components/comment/comment.directive.htm",
link: linkFunction,
scope: {
comment: "=comment", 	// current comment
conversation: "=conversation",  // previous comments [0..N]
screenId: "=screenId",
boardId: "=boardId",
hasEmojis: "@hasEmojis",  							// dis/enable emojis
hasWhoIsNotified: "@hasWhoIsNotified", 	// dis/enable who-is-notified directive
hasMentions: "=hasMentions",
onAddComment: "&?onAddComment",
onExitComment: "&?onExitComment",
onFocusCallback: "&?onFocusCallback",
onAddOthers: "&?onAddOthers",
mentionPositioningClass: "@?",
classString: "@?",
placeholder: "@?",
tabIndex: "@?",
name: "@?"
}
});
function linkFunction( scope, element, attrs ) {
element.on(
"keyup.unsavedCommentPersist",
function( event ) {
if (scope.screenId && scope.conversation ) {
unsavedCommentService.persistUnsavedComment(scope.screenId, scope.comment, scope.conversation.id, scope.conversation.x, scope.conversation.y);
}
}
);
if ( ng.isUndefined( attrs.onExitComment ) ) {
return;
}
var firstClick = true;
ng.element( $window ).on( "click", handleClick );
scope.$on( "$destroy", handleDestroy );
function handleClick( event ) {			
if ( element[0].contains( event.target ) ) {
return;
}
if ( firstClick ) {
firstClick = false;
return;
}
var emojiPopover = ng.element( document.querySelector(".emoji-popover") );
if ( emojiPopover && emojiPopover[0].contains( event.target ) ) {
return;
}
scope.$apply(function() {
scope.onExitComment();
});
}
function handleDestroy() {
ng.element( $window ).off( "click" );
element.off( "keyup.unsavedCommentPersist" );
}
}
}
})( angular );
;
;
/*! mention.filter.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.filter("mention", function() {
return function( val ) {
if ( typeof val === "undefined") {
return false;
}
var nameParts = val.trim().split(" ").join("");
return "@" + nameParts;
};
});
})( angular );
;
;
/*! nice-date.filter.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.filter("niceDate", niceDateFilter)
;
function niceDateFilter( moment ) {
return function( val ) {
var now = moment();
var date = moment( val );
if ( date > now ) {
return now.fromNow();
}
return date.fromNow();
};
}
})( angular );
;
;
/*! parseCommentService.js */ 
;
;
(function( ng, app ) {
"use strict";
if (typeof module !== "undefined" && module.exports) {
var _ = require("lodash");
var MentionUtilities = require("../../../utilities/mention-utilities");
var EmojiValue = require("../../emoji/emoji-value");
var EmojiService = require("../../emoji/emoji-service")(EmojiValue);
module.exports = ParseCommentService( _, MentionUtilities, EmojiService );
} else if (app) {
app.service("parseCommentService", ParseCommentService);
}
var escapedEntities = {
"<": "&lt;",
">": "&gt;",
"&": "&amp;"
};
function ParseCommentService( _, mentionUtilities, emojiService ) {
function _str( str ) {
return ( str || "" ).toString();
}
function _extractMentionsHtmlFromComment ( comment, mentions, currentUserID ) {
var extracted = [];
if ( ! mentions ) {
return extracted;
}
var mentionText;
var mentionHTML;
var className;
var startPos;
var i = mentions.length;
while ( i-- ) {
var self = ( mentions[ i ].userID === currentUserID );
mentionText = mentions[ i ].text;
startPos = mentions[ i ].startPos;
className = self ? "me-mentioned" : "mention-blue";
mentionHTML = "<span class=\"" + className + "\">" + _.escape( mentionText ) + "</span>";
if ( comment.substr( startPos, mentionText.length ) === mentionText ) {
extracted.push( {
index: startPos,
html: mentionHTML,
css: className,
text: mentionText
} );
}
}
extracted.reverse();
return extracted;
}
function _applyMentionsToComment( comment, mentions ) {
var parsedComment = [ ];
var next = _.first( mentions );
for ( var i = 0; i < comment.length; i++ ) {
if ( next && next.index === i ) {
i += next.text.length - 1;
parsedComment.push( next.html );
var index = _.indexOf( mentions, next );
next = mentions[ index + 1 ];
}
else {
var letter = comment[ i ];
parsedComment.push( escapedEntities[ letter ] || letter );
}
}
return parsedComment.join("");
}
function _handleMentionShortcuts( mentions, userID ) {
var mentionData = [];
var sortedMentions = _.partition(mentions, function( m ) {
return m.text === "@project" || m.text === "@conversation";
});
if ( sortedMentions[0].length > 0 ) {
var grouped = _.groupBy( sortedMentions[0], "startPos" );
_.each(grouped, function( group ) {
var meMention =_.find( group, function( g ) {
return g.userID === userID;
});
mentionData.push( !!meMention ? meMention : group[0] );
});
}
return _.sortBy( sortedMentions[1].concat( mentionData ), function( mention ) {
return mention.startPos;
});
}
function getComment( comment, currentUserID, options ) {
if ( comment.mentions ) {
_.remove(comment.mentions, function(m) {
return m.text === "@conversation";
});
}
if ( _.isObject( currentUserID )) {
options = currentUserID;
currentUserID = null;
}
var mentions = _handleMentionShortcuts(comment.mentions, currentUserID) || [ ];
comment = _str( comment.comment );
options = options || { };
currentUserID = currentUserID || options.userID || options.currentUser || options.currentUserID;
mentions = _extractMentionsHtmlFromComment( comment, mentions, currentUserID );
comment = _applyMentionsToComment( comment, mentions );
if ( !options.ignoreLineBreaks ) {
comment = applyLineBreaks( comment );
}
if ( !options.ignoreLinks ) {
comment = applyHtmlLinks( comment );
}
if ( !options.ignoreEmojis ) {
comment = emojiService.parseEmoji( comment );
}
return comment;
}
function substrHtml( html, limit ) {
var output = [];
var inTag = false;
var count = 0;
var lastCharacter;
for ( var i = 0; i < html.length; i++ ) {
var character = html[ i ];
var openTag = character === "<";
var closeTag = character === ">";
var multiSpace = lastCharacter === " " && character === " ";
var isTag = openTag || closeTag;
lastCharacter = character;
if (!( inTag || multiSpace )) {
count++;
}
if (( count <= limit || isTag || inTag ) && !multiSpace ) {
output.push( character );
}
if ( count === limit && i < html.length ) {
output.push('...');
}
if ( openTag ) {
inTag = true;
}
else if ( closeTag ) {
inTag = false;
}
}
return output.join("");
}
function applyLineBreaks( string ) {
return _str( string ).replace( /(\r\n?|\n)/g, "<br />" );
}
function applyHtmlLinks( html ) {
var string = _str( html );
var patternURL = /(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim;
var patternWWW = /(^|\s)(www\.[\S]+(\b|$))/gim;
var patternEmail = /([^@\\s]+@[^@\\s]+\\.\\w{2}[\\.\\w]*)/gim;
return string
.replace(patternURL, '<a href="$&" target="_blank">$&</a>')
.replace(patternWWW, '<a href="http://$&" target="_blank">$&</a>')
.replace(patternEmail, function( match, plus, address ) {
/**
* Since JS does not support negative look behind, we check if
* there is a + character captured to lead the e-mail address
* and only replace the email address with a link if it is not
* there.
*/
return plus ? match : '<a href="mailto:' + address + '">' + address + '</a>';
})
;
}
return {
getComment: getComment,
substrHtml: substrHtml,
applyLineBreaks: applyLineBreaks,
applyHtmlLinks: applyHtmlLinks
};
}
})( angular, InVision );
;
;
/*! comment-teaser.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.controller( "comment.CommentTeaserController", CommentTeaserController );
function CommentTeaserController(
$log,
$scope,
_,
mentionStorage,
mentionUtilityService,
itemOwnerPartial,
sessionService
) {
var vm = this;
var props = $scope.props = $scope;
$scope.$watch( "isShown", handleIsShown );
$scope.$watch( "conversation", handleConversationChange );
$scope.$on( "$destroy", handleDestroy );
itemOwnerPartial.addBinding( setItemOwner );
vm.$onInit = $onInit;
function $onInit() {
initialize();
}
function initialize() {
mentionStorage.load();
loadItemOwner();
setItemOwner();
setMentions( true );
}
function loadItemOwner() {
if ( ! sessionService.user.isAccountAuthenticated ) {
return;
}
var itemID = props.screenId || props.boardId;
var itemType = !!props.screenId ? "screen" : "board";
itemOwnerPartial
.load( itemID, itemType )
.catch( protectState( handleReject ) )
;
function handleReject( error ) {
$log.error("For some reason we couldn't load your screen owner");
}
}
function setItemOwner() {
var itemID = props.screenId || props.boardId;
var itemType = !!props.screenId ? "screen" : "board";
vm.itemOwner = itemOwnerPartial.get( itemID, itemType );
if ( ! vm.itemOwner ) {
return;
}
mentionStorage.setOwner( vm.itemOwner );
}
function setMentions( isInit ) {
if ( _.isEmpty( props.conversation ) ) {
return;
}
var lastComment = _.last( props.conversation );
var lastMentions = lastComment.mentions || [];
var userDetails = mentionUtilityService.getUserDetails( lastComment );
if ( isInit ) {
vm.peopleNotified = mentionUtilityService.getMyMentions( lastMentions, userDetails );
return;
}
mentionStorage.insert( lastMentions );
mentionStorage.insert( userDetails );
vm.peopleNotified = mentionStorage.get();
}
function handleIsShown( newVal ) {
if ( typeof newVal === "undefined" || newVal ) {
return;
}
$scope.$evalAsync( function() {
if (props.hasInitialMentions) {
setMentions();
}
});
}
function handleConversationChange( newVal, oldVal ) {
if ( ! newVal || newVal === oldVal ) {
return;
}
setMentions( true );
}
function handleDestroy() {
$scope.isDestroyed = true;
itemOwnerPartial.removeBinding( setItemOwner );
}
function protectState( callback ) {
return( proxy );
function proxy() {
if ( $scope.isDestroyed ) {
$log.warn( "Returning out of callback due to state change." );
return;
}
return( callback.apply( null, arguments ) );
}
}
}
})( angular );
;
;
/*! comment-teaser.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.directive( "invCommentTeaser", CommentTeaserDirective )
;
function CommentTeaserDirective() {
return ({
controller: "comment.CommentTeaserController",
controllerAs: "vm",
restrict: "A",
templateUrl: "/assets/apps/common/ng-components/comment/teaser/comment-teaser.directive.htm",
scope: {
isShown: "=isShown",
hasInitialMentions: "=hasInitialMentions",
conversation: "=conversation",
screenId: "=screenId",
boardId: "=boardId",
projectId: "=projectId"
}
});
}
})( angular );
;
;
/*! emoji-add-menu.directive.js */ 
;
;
(function (ng) {
"use strict";
ng
.module("InVision")
.directive("invEmojiAddMenu", Directive);
function Directive(
$window,
$document,
emojiService
) {
return ({
link: linkFunction,
restrict: "A",
replace: true,
templateUrl: "/assets/apps/common/ng-components/emoji/emoji-add-menu.directive.htm"
});
function linkFunction(scope, element) {
var menuObj = {
width: 320,
height: 335,
topLimit: 400 // limit to either show the menu above or beneath the emoji-add icon
};
var ESC = 27;
var textarea = null;
var addEmojiElement = null;
var emojiContainer = element.find(".emojis");
var emojiIcon = ".emoji-icon";
var emojiAttr = "data-emoji";
var isModal = element.closest(".modal").length > 0 || element.closest(".m-inbox").length;
var emojiPlaceholder = element.closest(".emoji-root").find(".emoji-placeholder");
var appendTo = (emojiPlaceholder.length > 0) ? emojiPlaceholder : $document.find("body");
scope.$on("emoji:toggle", handleToggle);
$document.on("keydown", keyboardEvents);
angular.element($window).on("click", handleClickOutside);
init();
function init() {
scope.tabs = emojiService.getCategories();
scope.activeTab = {
"idx": 0,
"tab": scope.tabs[0]
};
scope.emojis = emojiService.getEmojis();
scope.hoverEmoji = null;
}
scope.setTab = function (index) {
scope.activeTab.idx = index;
scope.activeTab.tab = scope.tabs[index];
};
emojiContainer.on("click", emojiIcon, function(e) {
textarea = addEmojiElement.closest(".post-emojis").find("textarea").val(); // can't cache it, enabled with ng-if
scope.$emit("emoji:add", textarea, this.getAttribute( emojiAttr ), scope.commentTarget );
scope.isOpen = false;
scope.$apply();
});
emojiContainer.on("mouseenter", emojiIcon, function (e) {
scope.hoverEmoji = this.getAttribute(emojiAttr);
scope.$digest();
});
emojiContainer.on("mouseleave", emojiIcon, function (e) {
scope.hoverEmoji = null;
scope.$digest();
});
function keyboardEvents(event) {
var keyCode = event.which || event.keyCode;
if (keyCode !== ESC) {
return;
}
if (!scope.isOpen) {
emojiService.setPopover(false);
}
scope.isOpen = false;
scope.$digest();
}
function handleToggle(event, isOpen, addEmojiElm) {
addEmojiElement = addEmojiElm;
if (!isOpen) {
return;
}
emojiService.setPopover(true);
emojiService.setPopoverOnModal(true);
appendTo.append(element);
var addEmojiIconCoords = emojiService.getElementBoundingCoords(addEmojiElement[0]);
var appendToCoords = emojiService.getElementBoundingCoords(appendTo[0]);
var top = (addEmojiIconCoords.top - appendToCoords.top) - (menuObj.height + menuObj.height * 0.1);
var left = (addEmojiIconCoords.left - appendToCoords.left) + menuObj.width / 2;
if (addEmojiIconCoords.top < menuObj.topLimit) {
top = addEmojiIconCoords.top - appendToCoords.top;
}
element.css({
top: top,
left: left
});
if (isModal) {
element.css({
zIndex: 1051
});
}
}
function handleClickOutside(event) {
if (addEmojiElement && (addEmojiElement[0].contains(event.target) || element[0].contains(event.target))) {
return;
}
scope.isOpen = false;
scope.$digest();
}
scope.$on(
"$destroy",
function () {
emojiService.setPopover(false);
emojiService.setPopoverOnModal(false);
$(emojiContainer).off("click mouseenter mouseleave");
angular.element($window).off("click", handleClickOutside);
$document.off("keydown", keyboardEvents);
element.remove();
}
);
}
}
})(angular);
;
;
/*! emoji-add.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("InVision")
.directive( "invEmojiAdd", Directive );
function Directive( emojiService ) {
return({
link: linkFunction,
restrict: "A",
replace: true,
scope: { 
commentTarget: "=target",
isOpen: "@"
},
templateUrl: "/assets/apps/common/ng-components/emoji/emoji-add.directive.htm"
});
function linkFunction( scope, element ) {
init();
scope.togglePopover = togglePopover;
function init() {
emojiService.setPopover( false );
emojiService.setPopoverOnModal( false );
scope.isOpen = false;
}
function togglePopover() {
scope.isOpen = !scope.isOpen;
scope.$emit("emoji:toggle", scope.isOpen, element );
}
}
}
})( angular );
;
;
/*! emoji-service.js */ 
;
;
(function( ng, app, _ ) {
"use strict";
if (typeof module !== "undefined" && module.exports) {
module.exports = EmojiService;
} else if (app) {
app.service( "emojiService", EmojiService );
}
function EmojiService( emojiValue ) {
var popoverActive          = false;
var typeaheadActive        = false;
var popoverActiveOnModal   = false;
var typeaheadActiveOnModal = false;
var flatEmojis = _.flatten( _.map( emojiValue.emojis, _.values ) );
var rEmojis = new RegExp(":(([a-z0-9_+-])+):|("+ emojiValue.faces.join("|") +")", "g");
return({
getEmojis: getEmojis,
getAllEmojis: getAllEmojis,
getCategories: getCategories,
parseEmoji: parseEmoji,
splitEmoji: splitEmoji,
findEmoji: findEmoji,
isPopoverActive: isPopoverActive,
isTypeaheadActive: isTypeaheadActive,
isPopoverActiveOnModal: isPopoverActiveOnModal,
isTypeaheadActiveOnModal: isTypeaheadActiveOnModal,
setPopover: setPopover,
setTypeahead: setTypeahead,
setPopoverOnModal: setPopoverOnModal,
setTypeaheadOnModal: setTypeaheadOnModal,
getElementBoundingCoords: getElementBoundingCoords
});
function getEmojis() {
return emojiValue.emojis;
}
function getCategories() {
return Object.keys( getEmojis() );
}
function getAllEmojis() {
return flatEmojis;
}
function isPopoverActive() {
return popoverActive;
}
function isTypeaheadActive() {
return typeaheadActive;
}
function isPopoverActiveOnModal() {
return popoverActiveOnModal;
}
function isTypeaheadActiveOnModal() {
return typeaheadActiveOnModal;
}
function setPopover( flag ) {
popoverActive = flag;
return popoverActive;
}
function setTypeahead( flag ) {
typeaheadActive = flag;
return typeaheadActive;
}
function setPopoverOnModal( flag ) {
popoverActiveOnModal = flag;
return popoverActiveOnModal;
}
function setTypeaheadOnModal( flag ) {
typeaheadActiveOnModal = flag;
return typeaheadActiveOnModal;
}
function parseEmoji( comment ) {
var icon = "";
if ( typeof comment === "undefined" || comment.split(":").length < 2 ) {
return comment;
}
return comment.replace( rEmojis, function( match, text ) {
if ( emojiValue.faceToEmojis[ match ] ) {
icon = emojiValue.faceToEmojis[ match ].emoji;
}
else if ( flatEmojis.indexOf( text ) >= 0 ) {
icon = text;
}
if ( !icon ) {
return match;
}
return "<i class='emoji-icon-comment emojis-" + icon + "' title=':" + icon + ":'></i>";
});
}
function findEmoji( q ) {
var results = [];
for ( var i = 0, nodes = flatEmojis.length; i < nodes; i++ ) {
var emoji = flatEmojis[ i ];
if ( emoji.indexOf( q ) === 0 ) {
results.push({
"label": emoji
});
}
}
return results;
}
function splitEmoji( val, index, showAll ) {
var comment = {
showAll: false
};
if ( typeof val !== "string" || val.indexOf(":") < 0 ) {
return comment;
}
var openingChar = ":";
var closingChar = " ";
var prefix = val.substring( 0, index );
var suffix = val.substring( index );
var openingCharPos = prefix.lastIndexOf( openingChar );
var closingCharPos = suffix.indexOf( closingChar );
if ( showAll && ( openingCharPos + openingChar.length === index ) ) {
comment = {
emoji: "",
showAll: true
};
return comment;
}
comment = {
before: prefix.substring( 0, openingCharPos ),
emoji: "",
after: suffix.substring( closingCharPos + closingChar.length ),
colon: openingChar
};
comment.emoji = val.substring( openingCharPos + openingChar.length, index );
if ( comment.emoji.indexOf(":") >= 0 || comment.emoji.indexOf(" ") >= 0 ) {
comment.emoji = "";
}
return comment;
}
function getElementBoundingCoords( element ) {
var coordinates = { top: 0, left: 0 };
var obj = element;
var body = document.body;
while ( obj ) {
coordinates.left += obj.offsetLeft + obj.clientLeft;
coordinates.top += obj.offsetTop + obj.clientTop;
obj = obj.offsetParent;
}
obj = element;
while ( obj !== body ) {
if ( obj &&  obj.scrollTop && obj.scrollTop > 0 ) {
coordinates.top -= obj.scrollTop;
}
if ( obj && obj.scrollLeft && obj.scrollLeft > 0 ) {
coordinates.left -= obj.scrollLeft;
}
obj = obj.parentNode;
}
return coordinates;
}
}
})( angular, InVision, _ );
;
;
/*! emoji-text.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invEmojiText", EmojiTextDirective );
function EmojiTextDirective( emojiService ) {
return ({
link: linkFunction,
restrict: "A"
});
function linkFunction( $scope ) {
$scope.$on("emoji:add", addEmoji );
$scope.$on("emoji:typeahead", typeaheadEmoji );
function addEmoji( event, commentVal, emoji ) {
var emojiItem = ":" + emoji + ": ";
$scope.comment = commentVal + emojiItem; // updates the comment model
}
function typeaheadEmoji( event, emoji, caretPos ) {
var comment = "";
comment = emojiService.splitEmoji( $scope.comment, caretPos );
$scope.comment = comment.before + comment.colon + emoji + ": " + comment.after;
}
}
}
})( angular, InVision );
;
;
/*! emoji-typeahead.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
ng
.module("InVision")
.directive( "invEmojiTypeahead", EmojiTypeaheadDirective );
function EmojiTypeaheadDirective(
$timeout,
$document,
emojiService
) {
return({
link: linkFunction,
scope: {
model: "=",
commentTarget: "=target",
isNarrow: "@"
},
restrict: "A",
replace: true,
templateUrl: "/assets/apps/common/ng-components/emoji/emoji-typeahead.directive.htm"
});
function linkFunction( $scope, element ) {
var minSearch = 2;
var HOT_KEYS = [
9,  // TAB
13, // RETURN
27, // ESC
32, // SPACE
37, // arrow left
38, // arrow up
39, // arrow right
40  // arrow down
];
var emojiIcon = "li";
var emojiAttr = "data-idx";
var textarea = element.parent().find("textarea");
var emojiList = element.find(".emoji-list");
var caretPos = 0;
var mentionEnabled = false;
var emojiPlaceholder = element.closest(".emoji-root").find(".emoji-placeholder");
var appendTo = ( emojiPlaceholder.length > 0 ) ? emojiPlaceholder : $document.find( "body" );
var isModal = element.closest(".modal").length > 0 || element.closest(".m-inbox-conversation").length;
init();
function init() {
$scope.current = 0;
$scope.items = [];
$scope.isActive = false;
$scope.isBrowsing = false;
$scope.comment = "";
emojiService.setTypeahead( false );
emojiService.setTypeaheadOnModal( false );
if ( !textarea ) {
throw new Error("Textarea not available. Please provide one");
}
}
function flush() {
$scope.current = 0;
$scope.items.length = 0;
$scope.isActive = false;
$scope.isBrowsing = false;
$scope.firstTab = true;
}
function getCaretPos( el ) {
if ( el && el.selectionStart ) {
return el.selectionStart;
} else if ( document.selection ) {
el.focus();
var sel = document.selection.createRange();
var selLen = document.selection.createRange().text.length;
sel.moveStart("character", -el.value.length);
return sel.text.length - selLen;
}
}
function setCaretPos( el, cPos ) {
if ( el.createTextRange ) {
var range = el.createTextRange();
range.move("character", cPos );
range.select();
} else {
el.focus();
if ( el.selectionStart !== undefined ) {
el.setSelectionRange( cPos, cPos );
}
}
}
function scrollToEmoji() {
var paddingOffset = 40;
var currentEmoji = $scope.items[ $scope.current ].label;
var posTop = element.find(".emojis-" + currentEmoji).position().top;
var scrollTop = emojiList.scrollTop();
if ( posTop < paddingOffset ) {
emojiList.scrollTop( scrollTop + ( posTop - paddingOffset ) );
} else if ( posTop > emojiList.height() + paddingOffset ) {
emojiList.scrollTop( scrollTop + ( posTop - emojiList.height() ) );
}
}
function updateTypeahead( showAll ) {
var splitComment = emojiService.splitEmoji( $scope.comment, caretPos, showAll );
if ( showAll && splitComment.showAll ) {
activateTypeahead( splitComment );
return;
}
if ( splitComment.emoji && splitComment.emoji.length >= minSearch ) {
activateTypeahead( splitComment );
}
}
function activateTypeahead( comment ) {
$scope.items = emojiService.findEmoji( comment.emoji );
if ( $scope.items.length <= 0 ) {
return;
}
$scope.isActive = true;
emojiService.setTypeahead( true );
emojiService.setTypeaheadOnModal( true );
appendTo.append( element );
requestAnimationFrame( function() {
var textareaCoords = emojiService.getElementBoundingCoords( textarea[ 0 ] );
var appendToCoords = emojiService.getElementBoundingCoords( appendTo[ 0 ] );
element.css({
top: textareaCoords.top - appendToCoords.top,
left: textareaCoords.left - appendToCoords.left
});
if ( isModal ) {
element.css({
zIndex: 1051
});
}
});
}
function emitEmoji() {
if ( typeof $scope.items[ $scope.current ] === "undefined" ) {
return;
}
$scope.$emit("emoji:typeahead", $scope.items[ $scope.current ].label, caretPos );
$scope.$apply();
}
function browseEmoji() {
emitEmoji();
setCaretPos( textarea[0], caretPos );
if ( $scope.items.length > 15 ) {
scrollToEmoji();
}
}
function selectEmoji() {
emitEmoji();
flush();
setCaretPos( textarea[0], $scope.model.length );
}
function keyboardEvents( event ) {
if ( !textarea.is(":focus") ) {
return;
}
var keyCode = event.which || event.keyCode;
if ( HOT_KEYS.indexOf( keyCode ) === -1 ) {
flush();
return;
}
if ( keyCode === 27 ) {
if ( !$scope.isActive ) {
emojiService.setTypeahead( false );
}
flush();
$scope.$digest();
return;
}
if ( keyCode === 9 && !$scope.isActive ) {
updateTypeahead( true );
event.preventDefault();
}
if ( !$scope.isActive ) {
return;
}
if ( keyCode === 32 ) {
flush();
$scope.$digest();
return;
}
event.preventDefault();
$scope.isBrowsing = true;
if ( keyCode === 37 || keyCode === 38 ) {
$scope.firstTab = false; // reset first tab
$scope.current = ( $scope.current === 0 ) ? $scope.items.length - 1 : $scope.current - 1;
browseEmoji();
}
else if ( keyCode === 39 || keyCode === 40 ) {
$scope.firstTab = false;
$scope.current = ( $scope.current >= $scope.items.length - 1 ) ? 0 : $scope.current + 1;
browseEmoji();
}
else if ( keyCode === 9 ) {
if ( $scope.firstTab ) {
$scope.firstTab = false;
}
else {
$scope.current = ( $scope.current >= $scope.items.length - 1 ) ? 0 : $scope.current + 1;
}
browseEmoji();
}
else if ( keyCode === 13 ) {
selectEmoji();
}
$scope.$digest();
}
textarea.on( "keydown", keyboardEvents );
element.on( "click", emojiIcon, function( e ) {
selectEmoji();
});
element.on( "mouseenter", emojiIcon, function( e ) {
$scope.current = parseInt( this.getAttribute( emojiAttr ), 10 );
$scope.$digest();
});
$scope.$watch("model", function( newValue, oldValue ) {
if ( newValue === oldValue ) {
return;
}
if ( $scope.isBrowsing ) {
return;
}
caretPos = getCaretPos( textarea[0] );
$scope.comment = newValue;
flush();
updateTypeahead();
});
$scope.$on(
"$destroy",
function() {
textarea.off( "keydown", keyboardEvents );
element.off( "click mouseenter" );
emojiService.setTypeahead( false );
emojiService.setTypeaheadOnModal( false );
element.remove();
}
);
}
}
})( angular, InVision );
;
;
/*! emoji-value.js */ 
;
;
(function( ng, app ) {
"use strict";
var emojiValue = {
emojis: {
"grinning": [
"grinning",
"grin",
"joy",
"smiley",
"smile",
"sweat_smile",
"satisfied",
"innocent",
"smiling_imp",
"wink",
"blush",
"yum",
"relieved",
"heart_eyes",
"sunglasses",
"smirk",
"neutral_face",
"expressionless",
"unamused",
"sweat",
"pensive",
"confused",
"confounded",
"kissing",
"kissing_heart",
"kissing_smiling_eyes",
"kissing_closed_eyes",
"stuck_out_tongue",
"stuck_out_tongue_winking_eye",
"stuck_out_tongue_closed_eyes",
"disappointed",
"worried",
"angry",
"rage",
"cry",
"persevere",
"triumph",
"disappointed_relieved",
"frowning",
"anguished",
"fearful",
"weary",
"sleepy",
"tired_face",
"grimacing",
"sob",
"open_mouth",
"hushed",
"cold_sweat",
"scream",
"astonished",
"flushed",
"sleeping",
"dizzy_face",
"no_mouth",
"relaxed",
"mask",
"smile_cat",
"joy_cat",
"smiley_cat",
"heart_eyes_cat",
"smirk_cat",
"kissing_cat",
"pouting_cat",
"crying_cat_face",
"scream_cat",
"no_good",
"ok_woman",
"bow",
"see_no_evil",
"hear_no_evil",
"speak_no_evil",
"raising_hand",
"person_frowning",
"person_with_pouting_face",
"bust_in_silhouette",
"busts_in_silhouette",
"boy",
"girl",
"man",
"woman",
"family",
"couple",
"two_men_holding_hands",
"two_women_holding_hands",
"cop",
"dancers",
"bride_with_veil",
"person_with_blond_hair",
"man_with_gua_pi_mao",
"man_with_turban",
"older_man",
"older_woman",
"baby",
"construction_worker",
"princess",
"japanese_ogre",
"japanese_goblin",
"ghost",
"angel",
"alien",
"space_invader",
"imp",
"skull",
"information_desk_person",
"guardsman"
],
"ok": [
"eyes",
"ear",
"nose",
"lips",
"tongue",
"point_up",
"fist",
"raised_hands",
"raised_hand",
"v",
"point_up_2",
"point_down",
"point_left",
"point_right",
"punch",
"wave",
"ok_hand",
"thumbsup",
"thumbsdown",
"clap",
"open_hands",
"rat",
"mouse2",
"ox",
"water_buffalo",
"cow2",
"tiger2",
"leopard",
"rabbit2",
"cat2",
"dragon",
"crocodile",
"whale2",
"snail",
"snake",
"racehorse",
"ram",
"goat",
"sheep",
"monkey",
"rooster",
"chicken",
"dog2",
"pig2",
"boar",
"elephant",
"octopus",
"shell",
"bug",
"ant",
"honeybee",
"beetle",
"fish",
"tropical_fish",
"blowfish",
"turtle",
"hatching_chick",
"baby_chick",
"hatched_chick",
"bird",
"penguin",
"koala",
"poodle",
"dromedary_camel",
"camel",
"dolphin",
"mouse",
"cow",
"tiger",
"rabbit",
"cat",
"dragon_face",
"whale",
"horse",
"monkey_face",
"dog",
"pig",
"frog",
"hamster",
"wolf",
"bear",
"panda_face",
"pig_nose",
"paw_prints"
],
"hamburger": [
"hamburger",
"coffee",
"pizza",
"meat_on_bone",
"poultry_leg",
"rice_cracker",
"rice_ball",
"rice",
"curry",
"ramen",
"spaghetti",
"bread",
"fries",
"sweet_potato",
"dango",
"oden",
"sushi",
"fried_shrimp",
"fish_cake",
"icecream",
"shaved_ice",
"ice_cream",
"doughnut",
"cookie",
"chocolate_bar",
"candy",
"lollipop",
"custard",
"honey_pot",
"cake",
"bento",
"stew",
"egg",
"fork_and_knife",
"tea",
"sake",
"wine_glass",
"cocktail",
"tropical_drink",
"beer",
"beers",
"baby_bottle",
"mushroom",
"tomato",
"eggplant",
"grapes",
"melon",
"watermelon",
"tangerine",
"lemon",
"banana",
"pineapple",
"apple",
"green_apple",
"pear",
"peach",
"cherries",
"strawberry",
"chestnut",
"seedling",
"evergreen_tree",
"deciduous_tree",
"palm_tree",
"cactus",
"tulip",
"cherry_blossom",
"rose",
"hibiscus",
"sunflower",
"blossom",
"corn",
"ear_of_rice",
"herb",
"four_leaf_clover",
"maple_leaf",
"fallen_leaf",
"leaves"
],
"star": [
"star",
"sunny",
"cloud",
"telephone",
"umbrella",
"spades",
"clubs",
"hearts",
"diamonds",
"recycle",
"wheelchair",
"warning",
"copyright",
"registered",
"tm",
"zap",
"soccer",
"baseball",
"snowman",
"partly_sunny",
"no_entry",
"golf",
"sailboat",
"fuelpump",
"scissors",
"ballot_box_with_check",
"white_check_mark",
"airplane",
"envelope",
"pencil2",
"black_nib",
"heavy_check_mark",
"heavy_multiplication_x",
"sparkles",
"snowflake",
"x",
"negative_squared_cross_mark",
"question",
"heavy_exclamation_mark",
"bangbang",
"interrobang",
"heart",
"heavy_plus_sign",
"heavy_minus_sign",
"heavy_division_sign",
"o",
"black_joker",
"cyclone",
"foggy",
"closed_umbrella",
"sunrise",
"ocean",
"earth_africa",
"earth_americas",
"earth_asia",
"globe_with_meridians",
"full_moon_with_face",
"sun_with_face",
"star2",
"ribbon",
"gift",
"birthday",
"jack_o_lantern",
"christmas_tree",
"santa",
"fireworks",
"sparkler",
"balloon",
"tada",
"confetti_ball",
"tanabata_tree",
"crossed_flags",
"bamboo",
"dolls",
"flags",
"wind_chime",
"rice_scene",
"school_satchel",
"mortar_board",
"microphone",
"movie_camera",
"cinema",
"headphones",
"art",
"tophat",
"circus_tent",
"ticket",
"clapper",
"performing_arts",
"video_game",
"dart",
"slot_machine",
"8ball",
"game_die",
"bowling",
"flower_playing_cards",
"musical_note",
"notes",
"saxophone",
"guitar",
"musical_keyboard",
"trumpet",
"violin",
"musical_score",
"tennis",
"ski",
"basketball",
"checkered_flag",
"snowboarder",
"running",
"surfer",
"trophy",
"horse_racing",
"football",
"rugby_football",
"swimmer",
"dancer",
"lipstick",
"nail_care",
"massage",
"haircut",
"barber",
"syringe",
"pill"
],
"bulb": [
"bulb",
"kiss",
"love_letter",
"ring",
"gem",
"couplekiss",
"bouquet",
"couple_with_heart",
"wedding",
"heartbeat",
"broken_heart",
"two_hearts",
"sparkling_heart",
"heartpulse",
"cupid",
"blue_heart",
"green_heart",
"yellow_heart",
"purple_heart",
"gift_heart",
"revolving_hearts",
"heart_decoration",
"diamond_shape_with_a_dot_inside",
"anger",
"bomb",
"zzz",
"collision",
"sweat_drops",
"droplet",
"dash",
"shit",
"muscle",
"dizzy",
"speech_balloon",
"thought_balloon",
"heavy_dollar_sign",
"credit_card",
"yen",
"dollar",
"euro",
"pound",
"money_with_wings",
"seat",
"computer",
"briefcase",
"minidisc",
"floppy_disk",
"cd",
"dvd",
"file_folder",
"open_file_folder",
"page_with_curl",
"page_facing_up",
"date",
"card_index",
"chart_with_upwards_trend",
"chart_with_downwards_trend",
"bar_chart",
"pushpin",
"round_pushpin",
"paperclip",
"notebook",
"book",
"books",
"pencil",
"telephone_receiver",
"pager",
"fax",
"satellite",
"loudspeaker",
"mega",
"outbox_tray",
"inbox_tray",
"package",
"mailbox_closed",
"mailbox",
"mailbox_with_mail",
"mailbox_with_no_mail",
"postbox",
"postal_horn",
"newspaper",
"iphone",
"no_mobile_phones",
"camera",
"video_camera",
"tv",
"radio",
"vhs",
"low_brightness",
"high_brightness",
"mute",
"sound",
"speaker",
"battery",
"electric_plug",
"mag",
"mag_right",
"lock_with_ink_pen",
"closed_lock_with_key",
"key",
"lock",
"unlock",
"bell",
"no_bell",
"bookmark",
"link",
"radio_button",
"underage",
"fire",
"flashlight",
"wrench",
"hammer",
"nut_and_bolt",
"hocho",
"gun",
"microscope",
"telescope",
"crystal_ball",
"clock3",
"pray"
],
"rocket": [
"rocket",
"helicopter",
"steam_locomotive",
"train",
"bullettrain_side",
"bullettrain_front",
"train2",
"light_rail",
"station",
"tram",
"bus",
"oncoming_bus",
"trolleybus",
"busstop",
"minibus",
"ambulance",
"fire_engine",
"police_car",
"oncoming_police_car",
"taxi",
"oncoming_taxi",
"red_car",
"oncoming_automobile",
"blue_car",
"truck",
"articulated_lorry",
"tractor",
"monorail",
"mountain_railway",
"suspension_railway",
"mountain_cableway",
"aerial_tramway",
"ship",
"rowboat",
"speedboat",
"traffic_light",
"vertical_traffic_light",
"construction",
"rotating_light",
"triangular_flag_on_post",
"door",
"house",
"house_with_garden",
"european_post_office",
"convenience_store",
"school",
"no_entry_sign",
"smoking",
"no_smoking",
"put_litter_in_its_place",
"bike",
"no_bicycles",
"bicyclist",
"mountain_bicyclist",
"walking",
"no_pedestrians",
"mens",
"womens",
"toilet",
"shower",
"bath",
"bathtub",
"cn",
"de",
"es",
"fr",
"uk",
"it",
"jp",
"kr",
"ru",
"us"
]
},
faces: [
":\\)", // :)
":\\|", // :|
":\\(", // :(
":\D",  // :D
":\P",  // :P
"\D:"   // D:
],
faceToEmojis: {
":)": {
emoji: "smile"
},
":|": {
emoji: "neutral_face"
},
":(": {
emoji: "disappointed"
},
":D": {
emoji: "smiley"
},
":P": {
emoji: "stuck_out_tongue"
},
"D:": {
emoji: "anguished"
}
}
};
if (app) {
app.value("emojiValue", emojiValue);	
}
if (typeof module !== "undefined" && module.exports) {
module.exports = emojiValue;
}
})( angular, InVision );
;
;
/*! mention.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention", [])
.controller( "mention.MentionController", mentionController );
function mentionController(
_,
candidatesPartial,
mentionService,
mentionShortcutService,
mentionStorage,
$scope
) {
var vm = this;
var MAX_MATCHES = 250;
vm.$onInit = $onInit;
vm.searchPeople = searchPeople;
vm.selectPerson = selectPerson;
vm.addMention = addMention;
function $onInit() {
initialize();
}
function initialize() {
if (!$scope.hasMentions) {
return;
}
candidatesPartial.load();
}
/**
* Takes the existingMention data and extracts the human-readable
* term, returning it.
*
* @param {Object} existingMention - mention data from the getMentionedUser method
* @returns {String} the extracted, human-readable term
*/
function getTermFromExistingMention( existingMention ) {
if ( existingMention.email ) {
return existingMention.email;
}
return existingMention.name;
}
/**
* Replaces the existing, encoded mention text with a readable
* version of the mention, and returns that readable version
*
* @param {Object} existingMention - mention data from the getMentionedUser method
* @param {Object} mentionInfo - mention data from the getTriggerInfo method
* @returns {String} the extracted, human-readable term
*/
function handleExistingMention( existingMention, mentionInfo ) {
var startPos = mentionInfo.mentionPosition;
var endPos = startPos + mentionInfo.mentionText.length + 1;
var term = getTermFromExistingMention( existingMention );
mentionService.replaceInputText(
mentionInfo.mentionSelectedElement,
mentionInfo.mentionTriggerChar + term,
startPos,
endPos
);
return term;
}
/**
* Loops over the `people` array and returns a new array where
* the appropriate values (determined by triggerChar) match the
* specified term
*
* @param {String} triggerChar - determines which filter algorithm to use
* @param {String} currentTerm - the value that will be matched against
* @returns {Array} the filtered list of people
*/
function generatePeopleList( triggerChar, currentTerm ) {
var term = currentTerm || "";
var upperCaseTerm = term.toUpperCase();
var mentionShortcuts = buildShortcuts();
var handlers = {
"@": function handleMentions( item ) {
var name = item.name.replace( /\s*/g, "" ).toUpperCase();
return ~name.indexOf( upperCaseTerm );
},
"+": function handleEmailMentions( item ) {
var email = ( item.email || "" ).toUpperCase();
return ~email.indexOf( upperCaseTerm );
}
};
var handler = handlers[triggerChar] || function noop() {};
var matches = _.filter( mentionShortcuts.concat(candidatesPartial.data.candidates.candidates), handler );
if (matches.length > MAX_MATCHES) {
return {
isOverMax: true,
matches: []
};
}
return {
isOverMax: false,
matches: matches
};
}
function searchPeople( mentionInfo ) {
var term = mentionInfo.mentionText || "";
var triggerChar = mentionInfo.mentionTriggerChar;
var existingMention = mentionService.getMentionedUser( term );
if ( existingMention ) {
term = handleExistingMention( existingMention, mentionInfo );
}
var peopleList = generatePeopleList( triggerChar, term );
var peopleListIsPopulated = peopleList.matches.length > 0;
var termHasValue = term.length > 0;
var isMention = triggerChar === "@";
var isDefaultView = isMention && !termHasValue;
var noMatches = isMention && termHasValue && !peopleListIsPopulated && !peopleList.isOverMax;
var overMax = isMention && termHasValue && peopleList.isOverMax;
var isNewUser = isMention && term.length > 2 && !peopleListIsPopulated;
vm.view = "default";
if ( isDefaultView ) {
vm.view = "defaultNoTerm";
}
if ( noMatches ) {
vm.view = "noCandidates";
}
if ( overMax ) {
vm.view = "overMax";
}
if ( isNewUser ) {
vm.view = "newUser";
}
vm.people = peopleList.matches;
}
function selectPerson( person ) {
var triggerChar = "@";
var name = person.name.replace( /\s/g, "" );
var id = person.id;
var isShortcut = person.role === "shortcut";
if ( !id && !isShortcut ) {
triggerChar = "+";
id = mentionService.isEmailAddress( person.email ) ? person.email : null;
name = id;
}
if ( id || isShortcut ) {
return triggerChar + name;
}
return person.name;
}
function addMention( person, startPos ) {
mentionStorage.insert( person, startPos );
}
function buildShortcuts() {
var shortcuts = mentionShortcutService.getShortcuts();
return [_.find(shortcuts, function(s) {
return s.name === "project";
})];
}
}
})( angular );
;
;
/*! mention.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.directive( "invMention", MentionDirective );
function MentionDirective() {
return ({
controller: "mention.MentionController",
controllerAs: "vm",
restrict: "A",
templateUrl: "/assets/apps/common/ng-components/mention/mention.directive.htm",
scope: {
uid: "@uid",
hasWhoIsNotified: "@hasWhoIsNotified",
hasMentions: "=hasMentions",
conversation: "=conversation",
screenId: "=screenId",
boardId: "=boardId",
mentionPositioningClass: "@?",
onAddOthers: "&?onAddOthers"
}
});
}
})( angular );
;
;
/*! order-by-user-role.filter.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.filter("orderByUserRole", orderByUserRoleFilter );
function orderByUserRoleFilter( _ ) {
return function( input ) {
if ( !Array.isArray( input ) ) {
return input;
}
var CONTRIBUTOR = "Contributor";
var REVIEWER = "Reviewer";
var ADMIN = "Admin";
var MANAGER = "Manager";
var collaborators = [];
var others = [];
for ( var i = 0, nodes = input.length; i < nodes; i++ ) {
var userRole = input[ i ].role;
switch ( userRole ) {
case CONTRIBUTOR:
case REVIEWER:
case ADMIN:
case MANAGER:
collaborators.push( input[ i ] );
break;
default:
others.push( input[ i ] );
break;
}
}
var sortedCollaborators = _.sortBy( collaborators, "name" );
var sortedOthers = _.sortBy( others, "name" );
return sortedCollaborators.concat( sortedOthers );
};
}
})( angular );
;
;
/*! mention-menu-item.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.directive( "invMentionMenuItem", mentionMenuItemDirective );
function mentionMenuItemDirective() {
return ({
restrict: "A",
scope: {
item: "=invMentionMenuItem"
},
require: "^invMentionMenu",
link: function( scope, element, attrs, controller ) {
scope.$watch(function() {
return controller.isActive( scope.item );
}, function( active ) {
if ( active ) {
element.addClass("active");
} else {
element.removeClass("active");
}
});
element.bind("mouseenter", function() {
if(!(controller.isOverMentionCap(scope.item.name)  && scope.item.role === "shortcut")) {
scope.$apply(function() {
controller.activate( scope.item );
});
}
});
element.bind("click", function() {
if(!(controller.isOverMentionCap(scope.item.name) && scope.item.role === "shortcut")) {
controller.selectItem( scope.item );
}
return false;
});
}
});
}
})( angular );
;
;
/*! mention-menu.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.controller( "mention.MenuController", menuController );
function menuController(
$scope,
_,
candidatesPartial,
mentionShortcutService,
analyticsService
) {
var vm = this;
var props = $scope.props = $scope;
props.visible = false;
vm.getInitials = getInitials;
vm.getUserInfo = getUserInfo;
vm.activate = props.activate = activate;
vm.isActive = props.isActive = isActive;
vm.selectItem = props.selectItem = selectItem;
vm.isOverMentionCap = props.isOverMentionCap = isOverMentionCap;
props.activateNextItem = activateNextItem;
props.activatePreviousItem = activatePreviousItem;
props.isFirstItemActive = isFirstItemActive;
props.isLastItemActive = isLastItemActive;
props.selectActive = selectActive;
props.isVisible = isVisible;
props.showMenu = showMenu;
props.setParent = setParent;
function getInitials( name ) {
if ( !name ) {
return ("");
}
var nameParts = name.replace( /^\s+|\s+$/g, "" ).split( /\s+/ );
var namePartsCount = nameParts.length;
if ( namePartsCount > 1 ) {
return (
nameParts[ 0 ].slice( 0, 1 ) +
nameParts[ namePartsCount - 1 ].slice( 0, 1 )
);
}
return ( nameParts[ 0 ].slice( 0, 1 ) );
}
function getUserInfo( person ) {
return mentionShortcutService.getUserInfo(person, candidatesPartial.data);
}
function activate( item ) {
props.activeItem = item;
}
function isActive( item ) {
return props.activeItem === item;
}
function selectItem( item ) {
var text = props.select({
item: item
});
var startPos = props.parentMentio.replaceText( text );
props.addMention({
person: item,
startPos: startPos
});
if (item.name === "project") {
analyticsService.track(
"Comment.AtProject.Mention.Selected"
);		
}
}
function activateNextItem() {
var index = props.items.indexOf(props.activeItem);
activate(props.items[(index + 1) % props.items.length]);
}
function activatePreviousItem() {
var index = props.items.indexOf(props.activeItem);
activate(props.items[index === 0 ? props.items.length - 1 : index - 1]);
}
function isFirstItemActive() {
var index = props.items.indexOf(props.activeItem);
return index === 0;
}
function isLastItemActive() {
var index = props.items.indexOf( props.activeItem );
return index === (props.items.length - 1);
}
function selectActive() {
if ( !props.activeItem ) {
return;
}
props.selectItem( props.activeItem );
}
function isVisible() {
return props.visible;
}
function isOverProjectMentionsCap () {
return candidatesPartial.data.candidates.isOverProjectMentionCap ? "project": false;
}
function isOverConversationMentionsCap () {
return candidatesPartial.data.candidates.isOverConversationMentionCap ? "conversation": false;
}
function isOverMentionCap(itemName) {
if(itemName) {
return (isOverProjectMentionsCap() === itemName || isOverConversationMentionsCap() === itemName)? itemName: false;
}
return isOverProjectMentionsCap() || isOverConversationMentionsCap();
}
function showMenu() {
if ( !props.visible ) {
props.requestVisiblePendingSearch = true;
}
}
function setParent( scope ) {
props.parentMentio = scope;
props.targetElement = scope.targetElement;
}
}
})( angular );
;
;
/*! mention-menu.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.directive( "invMentionMenu", mentionMenuDirective );
function mentionMenuDirective(
mentionService,
$rootScope,
$log,
$window,
$document
) {
return ({
restrict: "A",
scope: {
search: "&mentioSearch",
select: "&mentioSelect",
addMention: "&addMention",
items: "=mentioItems",
view: "=mentioView",
triggerChar: "=mentioTriggerChar",
forElem: "=mentioFor",
mentionPositioningClass: "@?"
},
templateUrl: "/assets/apps/common/ng-components/mention/menu/mention-menu.directive.htm",
controller: "mention.MenuController",
controllerAs: "vm",
link: function( scope, element, attr ) {
if ( !scope.forElem ) {
$log.error("mentio-menu requires a target element in the mentio-for attribute");
return;
}
if ( !scope.triggerChar ) {
$log.error("mentio-menu requires a trigger char");
return;
}
var HOT_KEYS = [
9,  // TAB
13, // RETURN
27, // ESC
37, // arrow left
38, // arrow up
39, // arrow right
40  // arrow down
];
var textarea = element.closest(".comment-wrapper").find("textarea.mention-text");
textarea.on( "keydown paste", handleKeyEvent );
angular.element( $document ).on( "click", handleClick );
angular.element( $window ).on( "resize", handleResize );  // Do we need this?
scope.$on("$destroy", handleDestroy );
$rootScope.$broadcast("menuCreated", {
targetElement: attr.mentioFor,
scope: scope
});
scope.$watch("items", function( items ) {
if ( items && items.length >= 0 ) {
scope.activate( items[0] );
if ( !scope.visible && scope.requestVisiblePendingSearch) {
scope.visible = true;
scope.requestVisiblePendingSearch = false;
}
triggerPopUnderMention();
} else {
scope.hideMenu();
}
});
scope.$watch("isVisible()", function( visible ) {
if ( visible ) {
triggerPopUnderMention();
}
});
function triggerPopUnderMention() {
var triggerCharSet = [];
triggerCharSet.push(scope.triggerChar);
mentionService.popUnderMention(
scope.parentMentio.context(),
triggerCharSet,
element,
scope.requireLeadingSpace,
textarea
);
}
scope.hideMenu = function() {
scope.visible = false;
element.css("display", "none");
};
scope.adjustScroll = function( direction ) {
var menuEl = element[0];
var menuItemsList = menuEl.querySelector("ul");
if ( !menuItemsList ) {
return;
}
var menuItem = (menuEl.querySelector("[inv-mention-menu-item].active") ||
menuEl.querySelector("[data-inv-mention-menu-item].active"));
if ( scope.isFirstItemActive() ) {
menuItemsList.scrollTop = 0;
return;
} else if ( scope.isLastItemActive() ) {
menuItemsList.scrollTop = menuItemsList.scrollHeight;
return;
}
if ( direction === 1 ) {
menuItemsList.scrollTop += menuItem.offsetHeight;
} else {
menuItemsList.scrollTop -= menuItem.offsetHeight;
}
};
function handleKeyEvent( event ) {
if ( !textarea.is(":focus") ) {
return;
}
var keyCode = event.which || event.keyCode;
if ( ! scope.visible || HOT_KEYS.indexOf( keyCode ) === -1 ) {
return;
}
event.preventDefault();
if ( keyCode === 9 || keyCode === 13 ) {
if(scope.isOverMentionCap(scope.activeItem.name)) {
scope.hideMenu();
return;
}
scope.selectActive();
return;
}
if ( keyCode === 27 ) {
scope.$apply(function() {
scope.hideMenu();
});
return;
}
if ( keyCode === 40 ) {
scope.$apply(function() {
scope.activateNextItem();
});
scope.adjustScroll(1);
return;
}
if ( keyCode === 38 ) {
scope.$apply(function() {
scope.activatePreviousItem();
});
scope.adjustScroll(-1);
return;
}
}
function handleClick( event ) {
if ( scope.visible ) {
scope.$apply(function() {
scope.hideMenu();
});
}
}
function handleResize() {
if ( scope.visible ) {
var triggerCharSet = [];
triggerCharSet.push( scope.triggerChar );
mentionService.popUnderMention(
scope.parentMentio.context(),
triggerCharSet,
element,
scope.requireLeadingSpace
);
}
}
function handleDestroy() {
scope.hideMenu();
textarea.off( "keydown paste", handleKeyEvent );
angular.element( $document ).off( "click", handleClick );
angular.element( $window ).off( "resize", handleResize );
}
}
});
}
})( angular );
;
;
/*! candidates-partial.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.factory( "candidatesPartial", CandidatesPartialFactory );
function CandidatesPartialFactory( $http, $q, commentObjectService ) {
var data = {};
return {
data: data,
load: load
};
function load() {
var deferred = $q.defer();
getCandidates().then(
function handleResolve( partial ) {
setData( partial.candidates );
deferred.resolve();
},
function handleReject( response ) {
deferred.reject( response );
}
);
return( deferred.promise );
}
function getCandidates() {
var commentObject = commentObjectService.get();
var apiUrl = ["/api/mentions/candidates?"];
if ( commentObject.objectType === "project" ) {
apiUrl.push(
"projectID=",
commentObject.objectID,
"&conversationID=",
commentObject.conversationID
);
} else if ( commentObject.objectType === "board" ) {
apiUrl.push(
"boardID=",
commentObject.objectID,
"&boardItemID=",
commentObject.conversationID
);
}
apiUrl.push("&hasMentionShortcuts=true");
var request = $http.get( apiUrl.join("") );
return request.then(
function handleResolve( response ) {
return response.data;
},
function handleReject( errorResponse ) {
return $q.reject( unwrapErrorResponse( errorResponse ) );
}
);
}
function unwrapErrorResponse( errorResponse ) {
var response = {
debug: {
context: "candidates-partial"
},
code: -1,
id: -1
};
try {
response = ng.fromJson( errorResponse.data );
if ( ng.isString( response ) ) {
response.message = response;
}
} catch( error ) {
response.message = "Error: " + error;
}
return response;
}
function setData( partial ) {
return( data.candidates = partial );
}
function deleteData() {
delete( data.candidates );
}
}
})( angular );
;
;
/*! item-owner-partial.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.factory( "itemOwnerPartial", ItemOwnerPartial );
function ItemOwnerPartial(
_,
$q,
$http,
$rootScope
) {
var data = {
itemOwners: []
};
var bindings = [];
var pendingTrigger = false;
return {
get: get,
load: load,
addBinding: addBinding,
removeBinding: removeBinding
};
function get( itemID, type ) {
if ( !itemID ) {
return;
}
var existingItem = _.find(data.itemOwners, { itemID: itemID, type: type });
return ng.copy( existingItem );
}
function load( itemID, type ) {
var deferred = $q.defer();
if ( !itemID ) {
deferred.reject("Error: undefined itemID");
return deferred.promise;
}
getOwner( itemID, type ).then(
function handleResolve( partial ) {
setData( partial, itemID, type );
deferred.resolve();
triggerChange();
},
function handleReject( response ) {
deferred.reject( response );
}
);
return( deferred.promise );
}
function addBinding( handler, context ) {
bindings.push({
handler: handler,
context: ( context || null )
});
}
function removeBinding( handler, context ) {
bindings = _.reject(
bindings,
function operator( binding ) {
return(
( binding.handler === handler ) && 
( ! context || ( handler.context === context ) )
);
}
);
}
function getOwner( itemID, type ) {
var typeURLPart = type === "screen" ? "screens" : "board";
var urlParts = ["/api", typeURLPart, itemID, "owner"];
var request = $http({
method: "GET",
url: ( urlParts.join("/") )
});
return request.then(
function handleResolve( response ) {
return response.data;
},
function handleReject( errorResponse ) {
return $q.reject( unwrapErrorResponse( errorResponse ) );
}
);
}
function setData( partial, itemID, type ) {
var existingItem = _.find(data.itemOwners, { itemID: itemID, type: type });
if ( !!existingItem ) {
return;
}
else {
data.itemOwners.push({
itemID: itemID,
type: type,
id: partial.id,
name: partial.name,
avatarID: partial.avatarID,
email: partial.email
});
}
triggerChange();
}
function triggerChange() {
if ( pendingTrigger ) {
return;
}
pendingTrigger = true;
$rootScope.$evalAsync(
function async() {
pendingTrigger = false;
_.each(
bindings,
function iterator( binding ) {
binding.handler.call( binding.context );
}
);
}
);
}
function unwrapErrorResponse( errorResponse ) {
var response = {
debug: {
context: "item-owner-partial"
},
code: -1,
id: -1
};
try {
response = ng.fromJson( errorResponse.data );
if ( ng.isString( response ) ) {
response.message = response;
}
} catch( error ) {
response.message = "Error: " + error;
}
return response;
}
}
})( angular );
;
;
/*! mention-storage.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.factory( "mentionStorage", MentionStorage );
function MentionStorage(
_,
mentionUtilityService,
modelEvents,
sessionService
) {
var mentions = [];
var owner = {};
var watchers = [];
return {
load: load,
get: get,
getWhoIsNotified: getWhoIsNotified,
set: set,
insert: insert,
removeMention: removeMention,
setOwner: setOwner,
destroy: destroy
};
function load() {
flush();
}
function get() {
return ng.copy( mentions );
}
function getWhoIsNotified() {
var currentMentions = getMentions();
var splitMentions = _.partition(currentMentions, function(o) { return o.userID; });
var uniqueEmails = _.uniq(splitMentions[1], "email");
return uniqueEmails.concat(_.uniq(splitMentions[0], "userID"));
}
function set( newMentions ) {
mentions = _.uniq( ng.copy( newMentions ) || [] );
modelEvents.trigger("MentionStorageUpdated");
}
function insert( person, startPos ) {
if ( ! person ) {
return;
}
var people = [].concat( person );
var text;
var item;
var newMention;
var i = 0;
var nodes = people.length;
var acceptDupes = ( startPos >= 0 );
for ( ; i < nodes; i++ ) {
item = people[ i ];
if ( ! mentionUtilityService.isNewMention( item, mentions, acceptDupes ) ) {
continue;
}
if ( item.email && ! item.id ) {
text = "+" + item.email;
} else {
text = item.text || "@" + item.name.replace(/\s/g, "");
}
newMention = {
userID: item.userID || item.id,
text: text,
name: item.name,
startPos: item.startPos || startPos
};
if ( ! mentionExists( newMention ) ) {
mentions.push( newMention );
}
}
modelEvents.trigger("MentionStorageUpdated");
}
function removeMention( text, startPos ) {
var itemID = _.findIndex( mentions, { "startPos": startPos } );
if ( itemID >= 0 ) {
mentions.splice( itemID, 1 );
modelEvents.trigger("MentionStorageUpdated");
}
}
function setOwner( item ) {
if ( ! item ) {
return;
}
owner = item;
modelEvents.trigger("MentionStorageUpdated");
}
function destroy() {
flush();
}
function getMentions() {
if ( _.isEmpty( owner ) && _.isEmpty( watchers ) ) {
return mentions;
}
if ( watchers.length ) {
return mentions.concat( watchers );
}
if ( hasItemOwner() ) {
return mentions;
}
var user = sessionService.user;
if ( +owner.id === user.id ) {
return mentions;
}
var returnedOwner = ng.copy( owner );
returnedOwner.name += " (screen owner)";
return mentions.concat( returnedOwner );
}
function mentionExists( newMention ) {
return ( _.findIndex(mentions, function( m ) {
var matching = m.text === newMention.text &&
m.startPos === newMention.startPos;
if ( newMention.userID !== undefined ) {
return matching && newMention.userID === m.userID;
} else {
return matching && newMention.email === m.email;
}
}) > -1 );
}
function flush() {
mentions.length = 0;
}
/*
* I check if mentions array already contains the screenOnwer
* @return {Boolean}
*/
function hasItemOwner() {
var matches = mentions.filter( function( mention ) {
return mention.userID === owner.id;
});
return ( matches.length > 0 );
}
}
})( angular );
;
;
/*! mention-utility.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.factory( "mentionUtilityService", MentionUtilityService );
function MentionUtilityService(
_,		
sessionService
) {
return {
isNewMention: isNewMention,
getMyMentions: getMyMentions,
getUserDetails: getUserDetails
};
/*
** I check if the passed item can be a new mention
** @param {Object} item
** @param {Boolean} acceptDupes - if true, don't check possible duplicates
** @return {Boolean}
*/
function isNewMention( item, mentions, acceptDupes ) {
var userID = item.userID || item.id;
if ( sessionService.user.id === userID ) {
return false;
}
if ( acceptDupes ) {
return true;
}
if ( _.some( mentions, { "userID": userID } ) ) {
return false;
}
return true;
}
/*
** I parse all the passed mentions
** removing duplicates and the current user
** @return {Boolean}
*/
function getMyMentions() {
var args = _.flatten( [].slice.call( arguments ) );
var myMentions = [];
_.forEach( args, function( value, key ) {	
if ( isNewMention( value, myMentions ) ) {
myMentions.push( value );
}
} );
return _.uniq( myMentions, "text" );
}
function getUserDetails( comment ) {
if ( _.isEmpty( comment ) ) {
return {};
}
if ( comment.user ) {
return comment.user;
}
return {
userID: comment.userID,
name: comment.userName
};
}
}
})( angular );
;
;
/*! mention.service.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.factory( "mentionService", MentionService );
function MentionService(
_,
$window,
$document,
$log,
sessionService,
mentionStorage
) {
var MENTION_PATTERN = "(?:@|\\+)(\\[[^\\]]+?\\])";
var READABLE_MENTION_STRINGPATTERN = "(^|\\s)((?:\\+|@)[^\\s]*)";
var SQUARE_BRACKET_CONTENTS_PATTERN = /^\[([^\]]+?)\]$/;
var NAME_AND_ID_PATTERN = /(^[^\|]+?)(?:\|)(.+)$/;
var EMAIL_ADDRESS_PATTERN = /^([\w-]+(?:\.[\w-]+)*)@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$/i;
function popUnderMention( ctx, triggerCharSet, selectionEl, requireLeadingSpace, textarea ) {
var coordinates;
var mentionInfo = getTriggerInfo( ctx, triggerCharSet, requireLeadingSpace, false );
if ( ! mentionInfo ) {
selectionEl.css({
display: "none"
});
return;
}
coordinates = getTextAreaOrInputUnderlinePosition( ctx, getDocument(ctx).activeElement, mentionInfo.mentionPosition );
selectionEl.css({
top: coordinates.top + "px",
left: coordinates.left + "px",
position: "absolute",
display: "block"
});
$document.find( "body" ).append( selectionEl );
requestAnimationFrame( function() {
var box = getElementBoundingCoords( selectionEl );
var textareaCoords = getElementBoundingCoords( textarea );
if ( ! box || ! textareaCoords ) {
return;
}
var topOffset = box.height + 60;  
var newTop = coordinates.top - box.height;
if ( coordinates.top < topOffset ) {
newTop = textareaCoords.bottom + 30;
}
selectionEl.css({
top: newTop
});
});
}
function getElementBoundingCoords( element ) {
if ( !element ) {
return;
}
var clientRectangle;
var el = element[ 0 ];
while ( typeof clientRectangle === "undefined" || clientRectangle.height === 0 ) {
clientRectangle = el.getBoundingClientRect();
if ( clientRectangle.height === 0 ) {
el = el.childNodes[ 0 ];
}
if ( ! el || ! el.getBoundingClientRect ) {
return;
}
}
return clientRectangle;
}
function scrollIntoView( ctx, elem, clientRect ) {
var reasonableBuffer = 20;
var maxScrollDisplacement = 100;
var elemTop = clientRect.top;
var elemBottom = elemTop + clientRect.height;
if ( elemTop < 0 ) {
$window.scrollTo(0, $window.pageYOffset + clientRect.top - reasonableBuffer);
} else if (elemBottom > $window.innerHeight) {
var maxY = $window.pageYOffset + clientRect.top - reasonableBuffer;
if (maxY - $window.pageYOffset > maxScrollDisplacement) {
maxY = $window.pageYOffset + maxScrollDisplacement;
}
var targetY = $window.pageYOffset - ($window.innerHeight - elemBottom);
if (targetY > maxY) {
targetY = maxY;
}
$window.scrollTo(0, targetY);
}
}
/**
* Determines if the active element is an input or text area
*
* @returns {Bool} - true if it IS an input or text area
*/
function isSelectedElementTextAreaOrInput( ctx ) {
var element = getDocument( ctx ).activeElement;
var isTextAreaOrInput = false;
var nodeName;
var type;
if ( element !== null ) {
nodeName = element.nodeName;
type = element.getAttribute( "type" );
isTextAreaOrInput = ( nodeName === "INPUT" && type === "text" ) || nodeName === "TEXTAREA";
}
return isTextAreaOrInput;
}
function selectElement( ctx, targetElement, path, offset ) {
var range;
var elem = targetElement;
if (path) {
for (var i = 0; i < path.length; i++) {
elem = elem.childNodes[path[i]];
if (elem === undefined) {
return;
}
while (elem.length < offset) {
offset -= elem.length;
elem = elem.nextSibling;
}
if (elem.childNodes.length === 0 && !elem.length) {
elem = elem.previousSibling;
}
}
}
var sel = getWindowSelection(ctx);
range = getDocument(ctx).createRange();
range.setStart(elem, offset);
range.setEnd(elem, offset);
range.collapse(true);
try {
sel.removeAllRanges();
} catch ( error ) {
$log.error( error );
}
sel.addRange( range );
targetElement.focus();
}
function pasteHtml( ctx, html, startPos, endPos ) {
var range, sel;
sel = getWindowSelection(ctx);
range = getDocument(ctx).createRange();
range.setStart(sel.anchorNode, startPos);
range.setEnd(sel.anchorNode, endPos);
range.deleteContents();
var el = getDocument(ctx).createElement("div");
el.innerHTML = html;
var frag = getDocument(ctx).createDocumentFragment(),
node, lastNode;
while ((node = el.firstChild)) {
lastNode = frag.appendChild(node);
}
range.insertNode(frag);
if (lastNode) {
range = range.cloneRange();
range.setStartAfter(lastNode);
range.collapse(true);
sel.removeAllRanges();
sel.addRange(range);
}
}
function resetSelection( ctx, targetElement, path, offset ) {
var nodeName = targetElement.nodeName;
if ( nodeName === "INPUT" || nodeName === "TEXTAREA" ) {
if ( targetElement !== getDocument( ctx ).activeElement ) {
targetElement.focus();
}
} else {
selectElement( ctx, targetElement, path, offset );
}
}
/**
* Replaces the text inside of the selected text area or input
*/
function replaceInputText( element, text, startPos, endPos ) {
text = text || "";
var value = element.value;
var preText = value.substring( 0, startPos );
var postText = value.substring( endPos, value.length );
var selectionPos = startPos + text.length;
element.value = preText + text + postText;
element.selectionStart = selectionPos;
element.selectionEnd = selectionPos;
}
/**
* @returns {String} - all the people that will be mentioned
* e.g.: "@leonardo @donatello @michelangelo "
**/
function getInitialMentions() {
var mentions = mentionStorage.get();
var myID = sessionService.user.id;
mentions = _.filter(mentions, function(m) {
return m.userID !== myID;
});
var initialMentions = _.uniq( mentions, "text" );
initialMentions = initialMentions.map(function( value ) {
return value.text + " ";
}).join("");
mentions.forEach(function( mention ) {
mention.startPos = initialMentions.indexOf(mention.text);
});
mentionStorage.set( mentions );
return initialMentions;
}
/**
* Checks if text matches an already selected user pattern, expects
* the brackets around the mentions.
*
* @param {String} text - the text, including brackets, to search for user data
* @param {Boolean} formatDataForAPI - true if the data should be formatted for the API
* @returns {Object} the mention data
*/
function getMentionedUser( text, formatDataForAPI ) {
var results = SQUARE_BRACKET_CONTENTS_PATTERN.exec( text );
var returnObj = {};
var name;
var id;
var user;
var parsed;
var idString = formatDataForAPI === true ? "userID" : "id";
if ( ! results ) {
return;
}
user = results[ 1 ];
if ( isEmailAddress( user ) ) {
returnObj = {email: user, text: "+" + user};
return returnObj;
}
parsed = NAME_AND_ID_PATTERN.exec( user );
if ( ! parsed ) {
return;
}
name = parsed[ 1 ];
id = parsed[ 2 ];
returnObj = {
name: name,
text: "@" + name,
};
returnObj[idString] = id;
return returnObj;
}
/**
* Finds all mentions within a raw comment text
*/
function findAllMentions( rawCommentText, formatDataForAPI ) {
rawCommentText = rawCommentText || "";
var match;
var results = [];
var regexp = new RegExp( MENTION_PATTERN, "g" );
while ( match = regexp.exec( rawCommentText ) ) {
var data = getMentionedUser( match[ 1 ], formatDataForAPI );
data.startPos = match.index;
data.endPos = data.startPos + match[ 0 ].length;
results.push( data );
}
return results;
}
function parseMention( comment, mentions ) {
if ( ! mentions ) {
return comment;
}
var mentionText;
var mentionHTML;
var className;
var startPos;
var myUserID = sessionService.user.id;
var i = mentions.length;
while ( i-- ) {
mentionText = mentions[ i ].text;
startPos = mentions[ i ].startPos;
className = ( mentions[ i ].userID === myUserID ) ? "me-mentioned" : "mention-blue";
mentionHTML = "<span class=\"" + className + "\">" + mentionText + "</span>";
if ( comment.substr( startPos, mentionText.length ) === mentionText ) {
comment = comment.slice( 0, startPos ) + mentionHTML + comment.slice( startPos + mentionText.length );
}
}
return comment;
}
/**
* Checks if text is an e-mail address
*/
function isEmailAddress( text ) {
var email = EMAIL_ADDRESS_PATTERN;
return email.test( text );
}
function replaceTriggerText( ctx, targetElement, path, offset, triggerCharSet, text, requireLeadingSpace, hasTrailingSpace ) {
resetSelection( ctx, targetElement, path, offset );
var mentionInfo = getTriggerInfo(ctx, triggerCharSet, requireLeadingSpace, true, hasTrailingSpace);
if ( ! mentionInfo ) {
return;
}
var startPos = mentionInfo.mentionPosition;
var endPos = startPos + mentionInfo.mentionText.length + 1;
var element = getDocument( ctx ).activeElement;
text = text + " ";
replaceInputText( element, text, startPos, endPos );
return startPos;
}
function getNodePositionInParent( ctx, elem ) {
if (elem.parentNode === null) {
return 0;
}
for (var i = 0; i < elem.parentNode.childNodes.length; i++) {
var node = elem.parentNode.childNodes[i];
if (node === elem) {
return i;
}
}
}
/**
* Gets the last index of a mention starting with `character` found
* inside of `text`
*
* @param {String} text - text to search through
* @param {String} character - the mention starting character
* @returns {Integer} the index of the mention within text, or -1
*/
function regexpLastIndexOf( text, character ) {
/**
* Matches "@" at the beginning of a string OR following a space,
* so we can find things like "@brian" or " @brian" but not match
* "email me at brian@joe.com"
*/
var regexp = new RegExp( "(^|\\s)\\" + character + "[^\\s]*", "g" );
var lastIndex = -1;
var result;
while ( result = regexp.exec( text ) ) {
lastIndex = result.index;
if ( typeof result[1] === "string" ) {
lastIndex += result[1].length;
}
}
return lastIndex;
}
function getTriggerInfo( ctx, triggerCharSet, requireLeadingSpace, menuAlreadyActive, hasTrailingSpace ) {
/*jshint maxcomplexity:11 */
var mostRecentTriggerCharPos = -1; // I am the index position of the last trigger character
var effectiveRange; // I am all of the text to be parsed
var offset; // ??? I am only related to content editable
var path; // ??? I am only related to content editable
var selected; // I am the active element
var selectionInfo; // I hold data for when we are dealing with content editable
var triggerChar; // I (should be) the currently active trigger character
if ( isSelectedElementTextAreaOrInput( ctx ) ) {
selected = getDocument( ctx ).activeElement;
}
effectiveRange = getTextPrecedingCurrentSelection( ctx );
if ( !effectiveRange ) {
return;
}
triggerCharSet.forEach( function( c ) {
var idx = regexpLastIndexOf( effectiveRange, c );
if ( idx > mostRecentTriggerCharPos ) {
mostRecentTriggerCharPos = idx;
triggerChar = c;
}
});
/**
* If logic simplification
*/
var preceedingChar = effectiveRange.substring( mostRecentTriggerCharPos - 1, mostRecentTriggerCharPos );
var triggerCharExists = ~mostRecentTriggerCharPos;
var triggerCharIsValid = mostRecentTriggerCharPos === 0 || ! requireLeadingSpace || /[\xA0\s]/g.test( preceedingChar );
if ( ! triggerCharExists || ! triggerCharIsValid ) {
return;
}
var currentTriggerSnippet = effectiveRange
.substring( mostRecentTriggerCharPos + 1, effectiveRange.length );
if ( hasTrailingSpace ) {
currentTriggerSnippet = currentTriggerSnippet.trim();
}
var doesNotHaveASpace = ! /[\xA0\s]/g.test(currentTriggerSnippet);
var isValid = currentTriggerSnippet.length >= 0 && doesNotHaveASpace;
if ( isValid ) {
return {
mentionPosition: mostRecentTriggerCharPos,
mentionText: currentTriggerSnippet,
mentionSelectedElement: selected,
mentionSelectedPath: path,
mentionSelectedOffset: offset,
mentionTriggerChar: triggerChar
};
}
}
function getWindowSelection( ctx ) {
if (!ctx) {
return window.getSelection();
} else {
return ctx.iframe.contentWindow.getSelection();
}
}
function getDocument( ctx ) {
if (!ctx) {
return document;
} else {
return ctx.iframe.contentWindow.document;
}
}
/**
* Gets all of the text in the input that comes before the cursor's
* current position.
*/
function getTextPrecedingCurrentSelection( ctx ) {
var text;
if (isSelectedElementTextAreaOrInput(ctx)) {
var textComponent = getDocument(ctx).activeElement;
var startPos = textComponent.selectionStart;
text = textComponent.value.substring(0, startPos);
} else {
var selectedElem = getWindowSelection(ctx).anchorNode;
if ( selectedElem !== null ) {
var workingNodeContent = selectedElem.textContent;
var selectStartOffset = getWindowSelection(ctx).getRangeAt(0).startOffset;
if ( selectStartOffset >= 0 ) {
text = workingNodeContent.substring( 0, selectStartOffset );
}
}
}
return text;
}
function localToGlobalCoordinates( ctx, element, coordinates ) {
var iframe = ctx ? ctx.iframe : null;
var obj = element;
var body = getDocument().body;
coordinates.top += obj.scrollTop;
while ( obj ) {
coordinates.left += obj.offsetLeft + obj.clientLeft;
coordinates.top += obj.offsetTop + obj.clientTop;
obj = obj.offsetParent;
if ( ! obj && iframe ) {
obj = iframe;
iframe = null;
}
}
obj = element;
iframe = ctx ? ctx.iframe : null;
while ( obj !== body ) {
if ( obj.scrollTop && obj.scrollTop > 0 ) {
coordinates.top -= obj.scrollTop;
}
if ( obj.scrollLeft && obj.scrollLeft > 0 ) {
coordinates.left -= obj.scrollLeft;
}
obj = obj.parentNode;
if ( ! obj && iframe ) {
obj = iframe;
iframe = null;
}
}
}
function getTextAreaOrInputUnderlinePosition( ctx, element, position ) {
var coordinates = {top: 0, left: 0};
localToGlobalCoordinates(ctx, element, coordinates);
return coordinates;
}
return {
popUnderMention: popUnderMention,
replaceTriggerText: replaceTriggerText,
getTriggerInfo: getTriggerInfo,
selectElement: selectElement,
replaceInputText: replaceInputText,
isEmailAddress: isEmailAddress,
getMentionedUser: getMentionedUser,
findAllMentions: findAllMentions,
parseMention: parseMention,
getInitialMentions: getInitialMentions,
getTextAreaOrInputUnderlinePosition: getTextAreaOrInputUnderlinePosition,
getTextPrecedingCurrentSelection: getTextPrecedingCurrentSelection,
getNodePositionInParent: getNodePositionInParent,
pasteHtml: pasteHtml,
resetSelection: resetSelection,
scrollIntoView: scrollIntoView
};
}
})( angular );
;
;
/*! mention-text.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.controller( "mention.TextController", textController )
;
function textController(
$attrs,
$scope,
$timeout,
_,
mentionService
) {
var props = $scope.props = $scope;
props.query = function( mentionInfo ) {
var remoteScope = props.triggerCharMap[mentionInfo.mentionTriggerChar];
if ( props.trimTerm === undefined || props.trimTerm ) {
mentionInfo.mentionText = mentionInfo.mentionText.trim();
}
remoteScope.showMenu();
remoteScope.search({
mentionInfo: mentionInfo
});
remoteScope.typedTerm = mentionInfo.mentionText;
};
props.defaultSearch = function( mentionInfo ) {
var results = [];
var term = mentionInfo.mentionText || "";
var itNeedsToBeReplaced;
_.forEach( props.items, function( item ) {
var text = item.name.toUpperCase() + item.surname.toUpperCase();
if ( ~text.indexOf( term.toUpperCase() ) ) {
results.push( item );
}
});
itNeedsToBeReplaced = mentionInfo.mentionTriggerChar === "@" && results.length < 1 && term.length > 2;
if ( itNeedsToBeReplaced ) {
var element = mentionInfo.mentionSelectedElement;
var text = "+" + term;
var startPos = mentionInfo.mentionPosition;
var endPos = startPos + text.length;
mentionService.replaceInputText( element, text, startPos, endPos );
}
props.localItems = results;
};
props.bridgeSearch = function( mentionInfo ) {
var searchFn = $attrs.mentioSearch ? props.search : props.defaultSearch;
searchFn( mentionInfo );
};
props.defaultSelect = function( locals ) {
var character = props.defaultTriggerChar;
if ( locals.item.label) {
return handleNewUserAdd( locals.item.label );
}
return character + locals.item.name + locals.item.surname;
};
function handleNewUserAdd( text ) {
if ( ! mentionService.isEmailAddress( text ) ) {
return "notemail";
}
return "+" + text;
}
props.bridgeSelect = function(itemVar) {
var selectFn = $attrs.mentioSelect ? props.select : props.defaultSelect;
return selectFn({
item: itemVar
});
};
props.setTriggerText = function( text ) {
if ( props.syncTriggerText ) {
props.typedTerm = (props.trimTerm === undefined || props.trimTerm) ? text.trim() : text;
}
};
props.context = function() {
};
props.replaceText = function( text, hasTrailingSpace, hideAll ) {
if ( hideAll === undefined || hideAll ) {
props.hideAll();
}
var startPos = mentionService.replaceTriggerText(
props.context(),
props.targetElement,
props.targetElementPath,
props.targetElementSelectedOffset,
props.triggerCharSet,
text,
props.requireLeadingSpace,
hasTrailingSpace
);
if ( !hasTrailingSpace ) {
props.setTriggerText('');
angular.element( props.targetElement ).triggerHandler('change');
if ( props.isContentEditable() ) {
props.contentEditableMenuPasted = true;
var timer = $timeout(function() {
props.contentEditableMenuPasted = false;
}, 200);
props.$on('$destroy', function() {
$timeout.cancel(timer);
});
}
}
return startPos;
};
props.hideAll = function() {
for ( var key in props.triggerCharMap ) {
if ( props.triggerCharMap.hasOwnProperty(key) ) {
props.triggerCharMap[key].hideMenu();
}
}
};
props.selectActive = function() {
var key = findVisibleKey( props.triggerCharMap );
key && key.selectActive();
};
props.isActive = function() {
var key = findVisibleKey( props.triggerCharMap );
return !! key;
};
props.isContentEditable = function() {
return (props.targetElement.nodeName !== 'INPUT' && props.targetElement.nodeName !== 'TEXTAREA');
};
props.addMenu = function( menuScope ) {
if ( menuScope.parentScope && props.triggerCharMap.hasOwnProperty(menuScope.triggerChar) ) {
return;
}
props.triggerCharMap[menuScope.triggerChar] = menuScope;
props.triggerCharMap['+'] = menuScope;
if (props.triggerCharSet === undefined) {
props.triggerCharSet = [];
}
props.triggerCharSet.push(menuScope.triggerChar, "+");
menuScope.setParent(props);
};
props.$on(
"menuCreated", function( event, data ) {
if ( $attrs.uid && $attrs.uid === data.targetElement ) {
props.addMenu( data.scope );
}
}
);
}
function findVisibleKey( map ) {
for ( var key in map ) {
if ( map.hasOwnProperty( key ) && map[key].visible ) {
return map[key];
}
}
return null;
}
})( angular );
;
;
/*! mention-text.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.directive( "invMentionText", mentionTextDirective )
;
function mentionTextDirective(
$document,
$log,
$timeout,
candidatesPartial,
clientEvents,
mentionService,
mentionStorage,
mentionUtilities
) {
return ({
restrict: "A",
controller: "mention.TextController",
controllerAs: "vm",
scope: {
uid: "=uid",
ngModel: "=",
typedTerm: "=mentioTypedTerm",
requireLeadingSpace: "=mentioRequireLeadingSpace",
trimTerm: "=mentioTrimTerm",
hasWhoIsNotified: "@hasWhoIsNotified",
hasMentions: "=hasMentions"
},
link: linkFunction
});
function linkFunction( scope, element, attrs, controller ) {
scope.triggerCharMap = {};
scope.targetElement = element;
attrs.$set("autocomplete", "off");
var mentions = "";
var pendingMentionsUpdate = null;
var hasExistingMentions = false;
var firstEdit = true;
clientEvents
.forNamespace( "mention" )
.add( "mention.addOthers", handleAddOthers )
;
if (scope.hasMentions) {
scope.$watch( "ngModel", handleWatch );
}
scope.$on( "$destroy", handleDestroy );
initialize();
function initialize() {
if ( !scope.hasMentions || scope.ngModel && scope.ngModel.length ) {
return;
}
$timeout(function setCommentMentions() {
mentions = mentionService.getInitialMentions();
scope.ngModel = mentions;
focusElement();
});
}
function handleAddOthers( event, data ) {
if ( attrs.uid && attrs.uid === data.targetElement ) {
scope.ngModel = ( typeof scope.ngModel === "undefined" ) ? " @" : scope.ngModel + " @";
$timeout(function initWatch() {
focusElement();
handleWatch( scope.ngModel );
}, 1);
}
}
function updateMentions( newValue ) {
var mentionsData = mentionUtilities.findMentions(
newValue,
{
existingMentions: mentionStorage.get(),
candidates: candidatesPartial.data.candidates.candidates,
members: candidatesPartial.data.candidates.members,
conversationMembers: [],
debug: false
}
);
mentionStorage.set( mentionsData );
hasExistingMentions = !!mentionsData.length;
}
function handleWatch( newValue, oldValue ) {
if ( newValue === oldValue || ( newValue === mentions && newValue !== "" ) ) {
return;
}
if ( firstEdit ) {
scope.$emit( "mentionText.editing", true );
firstEdit = false;
}
if ( !newValue ) {
scope.$emit( "mentionText.editing", false );
firstEdit = true;
}
var isActive = scope.isActive();
if ( ! scope.triggerCharSet ) {
$log.error("Error, no mention-items attribute was provided" );
return;
}
if (pendingMentionsUpdate) {
clearTimeout(pendingMentionsUpdate);
}
pendingMentionsUpdate = setTimeout( function() {
updateMentions( newValue );
pendingMentionsUpdate = null;
}, 250);
if ( hasExistingMentions ) {
var mentionsToCheck = mentionStorage.get();
document.activeElement.value = mentionUtilities.replaceMalformedEmails(newValue, mentionsToCheck);
}
var mentionInfo = mentionService.getTriggerInfo(
scope.context(),
scope.triggerCharSet,
scope.requireLeadingSpace,
isActive
);
if ( mentionInfo ) {
mentionInfo.mentionText = mentionInfo.mentionText.replace( /[^a-zA-Z0-9]+$/, "" );
}
/**
* content editable selection changes to local nodes which
* modifies the start position of the selection over time,
* just consider triggerchar changes which
* will have the odd effect that deleting a trigger char pops
* the menu for a previous
* trigger char sequence if one exists in a content editable
**/
var isContentEditable = scope.isContentEditable();
var mentionPositionMatches = mentionInfo && mentionInfo.mentionPosition === scope.currentMentionPosition;
var alreadyTriggeredFromInput = ! isContentEditable && mentionPositionMatches;
var triggerCharMatches = mentionInfo && mentionInfo.mentionTriggerChar === scope.currentMentionTriggerChar;
var alreadyTriggeredFromContentEditable = isContentEditable && triggerCharMatches;
var alreadyTriggered = isActive && ( alreadyTriggeredFromContentEditable || alreadyTriggeredFromInput );
var isNewOrAlreadyTriggered = ! isActive || alreadyTriggered;
if ( mentionInfo && isNewOrAlreadyTriggered ) {
/** save selection info about the target control for later re-selection */
if ( mentionInfo.mentionSelectedElement ) {
scope.targetElement = mentionInfo.mentionSelectedElement;
scope.targetElementPath = mentionInfo.mentionSelectedPath;
scope.targetElementSelectedOffset = mentionInfo.mentionSelectedOffset;
}
/* publish to external ngModel */
scope.setTriggerText( mentionInfo.mentionText );
/* remember current position */
scope.currentMentionPosition = mentionInfo.mentionPosition;
scope.currentMentionTriggerChar = mentionInfo.mentionTriggerChar;
/* perform query */
scope.query( mentionInfo );
} else {
var currentTypedTerm = scope.typedTerm;
scope.setTriggerText("");
scope.hideAll();
}
}
function focusElement() {
var el = element[0];
el.focus();
el.selectionStart = el.selectionEnd = el.value.length;
}
function handleDestroy() {
mentionStorage.destroy();
scope.$emit( "mentionText.editing", false );
}
}
}
})( angular );
;
;
/*! mention-who-is-notified.controller.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.controller("mention.WhoIsNotifiedController", WhoIsNotifiedController );
function WhoIsNotifiedController(
$attrs,
$log,
$scope,
_,
clientEvents,
mentionStorage,
modelEvents
) {
var vm = this;
var props = $scope.props = $scope;
modelEvents.on( "MentionStorageUpdated", handleMentionStorageUpdated );
$scope.$on( "$destroy", handleDestroy );
initialize();
vm.pluralizePerson = pluralizePerson;
vm.getUsername = getUsername;
vm.addOthers = addOthers;
function pluralizePerson() {
return vm.peopleNotified.length === 1 ? "person" : "people";
}
/**
* Return the username 
* if prop `name` is not present, return `text` without '@' or '+'
*
* @param {object} peopleNotified user
* @return {string}
*/
function getUsername( user ) {
if ( user.name ) {
return user.name;
}
if ( user.text && ( user.text[ 0 ] === "@" || user.text[ 0 ] === "+" ) ) {
return user.text.slice( 1 );
}
return user.text;
}
function addOthers() {
clientEvents.trigger(
"mention.addOthers", {
targetElement: $attrs.mentioFor
}
);
if($scope.onAddOthers) {
$scope.onAddOthers();
}
}
function initialize() {
updatePeopleNotified();
}
function updatePeopleNotified() {
vm.peopleNotified = mentionStorage.getWhoIsNotified();
}
function handleMentionStorageUpdated() {
$scope.$evalAsync(function() {
updatePeopleNotified();
});
}
function handleDestroy() {
modelEvents.off( "MentionStorageUpdated" );
}
}
})( angular );
;
;
/*! mention-who-is-notified.directive.js */ 
;
;
(function( ng ) {
"use strict";
ng
.module("mention")
.directive("invMentionWhoIsNotified", WhoIsNotifiedDirective );
function WhoIsNotifiedDirective() {
return ({
restrict: "A",
templateUrl: "/assets/apps/common/ng-components/mention/who-is-notified/mention-who-is-notified.directive.htm",
controller: "mention.WhoIsNotifiedController",
controllerAs: "vm",
scope: {
onAddOthers: "&?onAddOthers"
}
});
}
})( angular );
;
;
/*! pub-sub.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "PubSub", PubSubFactory );
/** @ngInject */
function PubSubFactory( _ ) {
var PubSub = function() {
function off( eventType, callback ) {
var eventConfig = parseEventConfig( eventType );
if ( ! subscriptions.hasOwnProperty( eventConfig.type ) ) {
return;
}
subscriptions[ eventConfig.type ] = _.reject(
subscriptions[ eventConfig.type ],
function( subscription ) {
if ( callback ) {
return(
( subscription.namespace === eventConfig.namespace ) &&
( subscription.callback === callback )
);
} else {
return( subscription.namespace === eventConfig.namespace );
} 
}
);
}
function on( eventType, callback, context ) {
if ( _.isArray( eventType ) ) {
_.forEach(
eventType,
function( eventType ) {
on( eventType, callback, context );
}
);
return;
}
var eventConfig = parseEventConfig( eventType );
if ( ! subscriptions.hasOwnProperty( eventConfig.type ) ) {
subscriptions[ eventConfig.type ] = [];
}
subscriptions[ eventConfig.type ].push({
namespace: eventConfig.namespace,
callback: callback,
context: ( context || {} )
});
}
function parseEventConfig( eventType ) {
var parts = eventType.split( "." );
return({
type: parts.shift(),
namespace: ( parts.join( "," ) || null )
});
}
function trigger( eventType, eventData ) {
var eventConfig = parseEventConfig( eventType );
if ( eventConfig.type === "*" ) {
throw( new Error( "IllegalEventType" ) );
}
if ( ! subscriptions.hasOwnProperty( eventConfig.type ) ) {
return;
}
var eventArguments = arguments;
eventArguments[ 0 ] = {
type: eventConfig.type,
namespace: eventConfig.namespace
};
_.forEach(
subscriptions[ eventConfig.type ],
function( subscription ) {
if ( 
( eventConfig.namespace === null ) ||
( eventConfig.namespace === subscription.namespace )
) {
subscription.callback.apply( subscription.context, eventArguments );
}
}
);
_.forEach(
subscriptions[ "*" ],
function( subscription ) {
subscription.callback.apply( subscription.context, eventArguments );
}
);
}
var subscriptions = {};
subscriptions[ "*" ] = [];
return({
off: off,
on: on,
trigger: trigger
});
};
return( PubSub );
}
})( angular, InVision );
;
;
/*! browse-modal.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invM1BrowseModal.ModalController", ModalController );
var SUBVIEW_CACHE_KEY = "browse-subview";
function ModalController(
$element,
$location,
$scope,
_,
analyticsService,
config,
keyCommandsPriority,
keyCommandsService,
requestContext,
screenService,
scrollerService,
storageService,
windowScrollingService
) {
var vm = this;
vm.screens = null;
vm.dividers = null;
vm.results = null;
vm.filteredResults = null;
vm.groupedResults = null;
vm.commentCounts = null;
vm.unreadCommentCounts = null;
vm.subview = null;
vm.filters = {
keywords: "",
previousKeywords: "" // For filter optimization.
};
vm.form = {
keywords: ""
};
vm.isPhone = ( $scope.deviceTemplate.deviceType === "phone" );
vm.isTabletPortrait = (
( $scope.deviceTemplate.deviceType === "tablet" ) &&
( $scope.deviceTemplate.orientation === "portrait" )
);
init();
vm.applyKeywords = applyKeywords;
vm.applyScreenNavigation = applyScreenNavigation;
vm.clearKeywords = clearKeywords;
vm.close = close;
vm.gotoFirstResult = gotoFirstResult;
vm.showSubview = showSubview;
vm.trackUserInteraction = trackUserInteraction;
function applyKeywords() {
$location.replace();
$location.search( "mKeywords", ( vm.form.keywords || null ) );
}
function applyScreenNavigation( event, screen ) {
if ( event.altKey || event.ctrlKey || event.metaKey || event.shiftKey ) {
return;
}
event.preventDefault();
$scope.$emit( "all.closeCommentContext" );
$scope.navigateToTargetScreen( screen.id );
}
function clearKeywords() {
$location.replace();
$location.search( "mKeywords", null );
}
function close() {
$location.search( "browse", null );
$location.search( "mSubview", null );
$location.search( "mKeywords", null );
}
function gotoFirstResult() {
if ( ! vm.groupedResults.length ) {
return;
}
var result = vm.groupedResults[ 0 ].results[ 0 ];
$scope.$emit( "all.closeCommentContext" );
$scope.navigateToTargetScreen( result.screen.id );
}
function showSubview( subview ) {
$location.search( "mSubview", storageService.set( SUBVIEW_CACHE_KEY, subview ) );
}
function trackUserInteraction( interaction ) {
if ( interaction === "Search" ) {
if ( vm.__has_tracked_search__ ) {
return;
}
vm.__has_tracked_search__ = true;
}
analyticsService.track(
"ShareLink.BrowseMode",
{
Action: interaction
}
);
}
function getFiltersFromUrlWithSaneDefaults() {
var search = $location.search();
return({
subview: ( search.mSubview || storageService.get( SUBVIEW_CACHE_KEY, "thumbnail" ) ),
keywords: ( search.mKeywords || "" )
});
}
function handleCloseModalEvent( event ) {
event.preventDefault();
close();
}
function handleFocusSearchEvent( event ) {
event.preventDefault();
$element.find( "input" )
.focus()
.select()
;
}
function handleLocationChangeSuccess() {
if ( ! ( "browse" in $location.search() ) ) {
return;
}
var urlFilters = getFiltersFromUrlWithSaneDefaults();
vm.subview = urlFilters.subview;
if ( urlFilters.keywords !== vm.filters.keywords ) {
vm.filters.keywords = urlFilters.keywords;
vm.form.keywords = vm.filters.keywords
setFilteredResults( true );
setGroupedResults();
vm.filters.previousKeywords = vm.filters.keywords;
}
}
function init() {
$scope.$on(
"$destroy",
function handleDestroy() {
windowScrollingService.enable();
unlistenToKeyCommands();
}
);
windowScrollingService.disable();
var unlistenToKeyCommands = keyCommandsService.listen(
{
"/": handleFocusSearchEvent,
"B": handleCloseModalEvent,
"Escape": handleCloseModalEvent
},
{
priority: keyCommandsPriority.BROWSE_MODAL
}
);
$scope.$on( "$locationChangeSuccess", handleLocationChangeSuccess );
trackUserInteraction( "Open" );
var urlFilters = getFiltersFromUrlWithSaneDefaults();
vm.subview = urlFilters.subview;
vm.filters.keywords = urlFilters.keywords;
vm.filters.previousKeywords = vm.filters.keywords;
vm.form.keywords = vm.filters.keywords
setScreens();
setDividers();
setResults();
setFilteredResults();
setGroupedResults();
setCommentCounts();
scrollToSelectedLink();
}
function isUsingManualSort() {
return( $scope.project.sortTypeID !== 2 );
}
function scrollToSelectedLink() {
setTimeout(
function operator() {
scrollerService.scrollIntoView( $element.find( ".link--selected" )[ 0 ] );
},
100
);
}
function setCommentCounts() {
vm.commentCounts = Object.create( null );
vm.unreadCommentCounts = Object.create( null );
var commentIndex = _.groupBy( config.comments, "screenID" );
vm.screens.forEach(
function iterator( screen ) {
var count = ( screen.id in commentIndex )
? commentIndex[ screen.id ].length
: 0
;
vm.commentCounts[ screen.id ] = count;
var unreadCount = ( screen.id in commentIndex )
? _.countWithProperty( commentIndex[ screen.id ], "isUnread", true )
: 0
;
vm.unreadCommentCounts[ screen.id ] = unreadCount;
}
);
}
function setDividers() {
var unsortedDividers = screenService.getDividers().slice();
vm.dividers = _.sortBy( unsortedDividers, "sort" );
}
function setFilteredResults( allowForSearchOptimization ) {
var normalizedKeywords = vm.filters.keywords.toLowerCase();
if ( normalizedKeywords ) {
var canOptimizeSearch = (
allowForSearchOptimization &&
vm.filters.previousKeywords &&
_.startsWith( vm.filters.keywords, vm.filters.previousKeywords )
);
var targetResults = ( canOptimizeSearch )
? vm.filteredResults
: vm.results
;
vm.filteredResults = targetResults.filter(
function filterInOperator( result ) {
return( result.keywords.indexOf( normalizedKeywords ) >= 0 );
}
);
} else {
vm.filteredResults = vm.results.slice();
}
}
function setGroupedResults() {
if ( isUsingManualSort() ) {
setGroupedResultsWithDividers();
} else {
setGroupedResultsWithoutDividers();
}
}
function setGroupedResultsWithDividers() {
vm.groupedResults = vm.dividers
.map(
function operator( divider ) {
var isNameRendered = !! divider.dividerID;
var groupResults = _.filterWithProperty( vm.filteredResults, "dividerID", divider.dividerID );
return({
uid: divider.dividerID,
name: divider.label,
isNameRendered: isNameRendered,
results: groupResults
});
}
)
.filter(
function operator( group ) {
return( group.results.length );
}
)
;
}
function setGroupedResultsWithoutDividers() {
if ( vm.filteredResults.length ) {
vm.groupedResults = [{
uid: 0,
name: "",
isNameRendered: false,
results: vm.filteredResults
}];
} else {
vm.groupedResults = [];
}
}
function setResults() {
var currentScreenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
vm.results = vm.screens.map(
function operator( screen ) {
var uid = screen.id;
var keywords = screen.name.toLowerCase();
var dividerID = screen.screenGroupId;
var isSelected = ( screen.id === currentScreenID );
return({
uid: uid,
keywords: keywords,
dividerID: dividerID,
isSelected: isSelected,
screen: screen
});
}
);
}
function setScreens() {
var unsortedScreens = screenService.getScreens().slice();
vm.screens = isUsingManualSort()
? _.sortBy( unsortedScreens, "sort" )
: _.sortOnPropertyUsingNaturalOrder( unsortedScreens, "name" )
;
}
}
})( angular, InVision );
;
;
/*! browse-modal.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invM1BrowseModal", BrowseModal );
function BrowseModal( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-43ca51" ),
controller: "invM1BrowseModal.ModalController",
controllerAs: "vm",
restrict: "E",
scope: true,
templateUrl: "/assets/apps/share/components/browse-modal/browse-modal.directive.htm"
});
}
})( angular, InVision );
;
;
/*! info-list.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invM1InfoList", InfoList );
function InfoList( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-0a7b66" ),
restrict: "E",
templateUrl: "/assets/apps/share/components/browse-modal/info-list.directive.htm"
});
}
})( angular, InVision );
;
;
/*! thumbnail-list.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invM1ThumbnailList", ThumbnailList );
function ThumbnailList( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-5d1133" ),
restrict: "E",
templateUrl: "/assets/apps/share/components/browse-modal/thumbnail-list.directive.htm"
});
}
})( angular, InVision );
;
;
/*! detail.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.DetailController", DetailController );
function DetailController(
$element,
$scope,
scrollerService
) {
var vm = this;
var props = $scope.props = $scope;
vm.hotspots = null;
init();
vm.viewScreen = viewScreen;
vm.viewScreenInShare = viewScreenInShare;
function viewScreen( screenID ) {
props.onViewScreen({
$event: screenID
});
}
function viewScreenInShare() {
props.onViewScreenInShare({
$event: props.node.id
});
}
function handleNodeChange() {
var imageWidth = props.node.screenData.width;
var imageHeight = props.node.screenData.height;
vm.hotspots = props.node.hotspotData.map(
function operator( hotspotItem ) {
var x = ( hotspotItem.x / imageWidth * 100 );
var y = ( hotspotItem.y / imageHeight * 100 );
var width = ( hotspotItem.width / imageWidth * 100 );
var height = ( hotspotItem.height / imageHeight * 100 );
var zIndex = 2 ;
if ( hotspotItem.hotspot.eventTypeID === 9 ) {
x = y = 0;
width = height = 100;
zIndex = 1;
}
return({
targetScreenID: hotspotItem.targetScreenID,
x: x,
y: y,
width: width,
height: height,
zIndex: zIndex
});
}
);
$scope.$applyAsync(
function() {
scrollerService.scrollToTop( $element[ 0 ] );
}
);
}
function init() {
$scope.$watch( "props.node", handleNodeChange );
}
}
})( angular, InVision );
;
;
/*! detail.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowDetail", DetailDirective );
function DetailDirective( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-ce8fff" ),
controller: "invFlow.DetailController",
controllerAs: "vm",
restrict: "E",
scope: {
node: "=",
onViewScreen: "&",
onViewScreenInShare: "&"
},
templateUrl: "/assets/apps/share/components/flow/detail/detail.directive.htm"
});
}
})( angular, InVision );
;
;
/*! header.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.HeaderController", HeaderController );
function HeaderController( $scope ) {
var vm = this;
var props = $scope.props = $scope;
vm.reflowFromSelectedScreen = reflowFromSelectedScreen;
vm.viewScreen = viewScreen;
function reflowFromSelectedScreen() {
props.onReflowFromSelectedScreen();
}
function viewScreen( node ) {
props.onViewScreen({
$event: node.id
});
}
}
})( angular, InVision );
;
;
/*! header.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowHeader", HeaderDirective );
function HeaderDirective( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-370ed9" ),
controller: "invFlow.HeaderController",
controllerAs: "vm",
restrict: "E",
scope: {
project: "=",
showReflow: "=",
nodes: "=",
selectedNode: "=",
onViewScreen: "&",
onClose: "&",
onReflowFromSelectedScreen: "&"
},
templateUrl: "/assets/apps/share/components/flow/header/header.directive.htm"
});
}
})( angular, InVision );
;
;
/*! screen-menu.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.ScreenMenuController", ScreenMenuController );
function ScreenMenuController(
$document,
$element,
$scope,
_,
keyCommandsPriority,
keyCommandsService
) {
var vm = this;
var props = $scope.props = $scope;
vm.isShowingOverlay = false;
vm.allOptions = null;
vm.filteredOptions = null;
vm.form = {
keywords: "",
previousKeywords: ""
};
vm.$onInit = $onInit;
vm.applyKeywords = applyKeywords;
vm.select = select;
vm.selectFirstOption = selectFirstOption;
vm.showOverlay = showOverlay;
function $onInit() {
$scope.$on(
"$destroy",
function handleDestroy() {
$document.off( "mousedown", handleMousedown );
unlistenToKeyCommands();
}
);
var unlistenToKeyCommands = keyCommandsService.listen(
{
"Escape": handleCloseMenuEvent
},
{
priority: keyCommandsPriority.FLOW_MODAL_MENU,
allowInputCapture: true,
terminalWhitelist: [
"F"
]
}
);
setAllOptions();
}
function applyKeywords() {
setFilteredOptions( true );
vm.form.previousKeywords = vm.form.keywords;
}
function select( option ) {
props.onSelect({
$event: option.node
});
hideOverlay();
}
function selectFirstOption() {
if ( vm.filteredOptions.length ) {
select( vm.filteredOptions[ 0 ] );
}
}
function showOverlay() {
vm.isShowingOverlay = true;
vm.form.keywords = "";
vm.form.previousKeywords = "";
setFilteredOptions();
$document.on( "mousedown", handleMousedown );
}
function handleCloseMenuEvent( event ) {
if ( ! vm.isShowingOverlay ) {
return( true );
}
event.preventDefault();
hideOverlay();
}
function handleMousedown( event ) {
if ( $.contains( $element[ 0 ], event.target ) ) {
return;
}
$scope.$apply( hideOverlay );
}
function hideOverlay() {
vm.isShowingOverlay = false;
$document.off( "mousedown", handleMousedown );
}
function setAllOptions() {
vm.allOptions = props.nodes.map(
function operator( node ) {
var search = node.screenData.name.toLowerCase();
return({
uid: node.id,
search: search,
node: node
});
}
);
}
function setFilteredOptions( allowForSearchOptimization ) {
var normalizedKeywords = vm.form.keywords.toLowerCase();
if ( ! normalizedKeywords ) {
vm.filteredOptions = vm.allOptions.slice();
return;
}
var canOptimizeSearch = (
allowForSearchOptimization &&
vm.form.keywords &&
vm.form.previousKeywords &&
_.startsWith( vm.form.keywords, vm.form.previousKeywords )
);
var targetOptions = ( canOptimizeSearch )
? vm.filteredOptions
: vm.allOptions
;
vm.filteredOptions = targetOptions.filter(
function operator( option ) {
return( option.search.indexOf( normalizedKeywords ) >= 0 );
}
);
}
}
})( angular, InVision );
;
;
/*! screen-menu.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowScreenMenu", ScreenMenuDirective );
function ScreenMenuDirective( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-e0b420" ),
controller: "invFlow.ScreenMenuController",
controllerAs: "vm",
restrict: "E",
scope: {
nodes: "=",
selectedNode: "=",
onSelect: "&"
},
templateUrl: "/assets/apps/share/components/flow/header/screen-menu.directive.htm"
});
}
})( angular, InVision );
;
;
/*! map.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.MapController", MapController );
function MapController(
$element,
$scope,
scrollerService
) {
var vm = this;
var props = $scope.props = $scope;
vm.ignoreFirstSelectedNodeChange = false;
vm.unhandleSelectedNodeChange = ng.noop;
vm.scrollToSelectedNodeTimer = null;
vm.mousePosition = null;
init();
vm.reflowFromScreen = reflowFromScreen;
vm.viewScreen = viewScreen;
function reflowFromScreen( screenID ) {
props.onReflowFromScreen({
$event: screenID
});
}
function viewScreen( screenID ) {
props.onViewScreen({
$event: screenID
});
}
function dragStateHandleMousemove( event ) {
var deltaX = ( vm.mousePosition.x - event.clientX );
var deltaY = ( vm.mousePosition.y - event.clientY );
vm.mousePosition.x = event.clientX;
vm.mousePosition.y = event.clientY;
$element.prop( "scrollTop", ( $element.prop( "scrollTop" ) + deltaY ) );
$element.prop( "scrollLeft", ( $element.prop( "scrollLeft" ) + deltaX ) );
}
function dragStateHandleMouseup() {
dragStateTeardown();
passiveStateSetup( true );
}
function dragStateSetup( event ) {
$scope.$apply(
function applyViewModelChanges() {
props.onDragStart();
}
);
window.addEventListener( "mousemove", dragStateHandleMousemove );
window.addEventListener( "mouseup", dragStateHandleMouseup );
dragStateHandleMousemove( event );
}
function dragStateTeardown() {
window.removeEventListener( "mousemove", dragStateHandleMousemove );
window.removeEventListener( "mouseup", dragStateHandleMouseup );
$scope.$evalAsync(
function applyViewModelChanges() {
props.onDragStop();
}
);
}
function handleFlowChanges( newValue, oldValue ) {
if ( newValue === oldValue ) {
return;
}
$element.prop( "scrollTop", 0 );
}
function init() {
$scope.$on(
"$destroy",
function handleDestroy() {
passiveStateTeardown();
pendingStateTeardown();
dragStateTeardown();
}
);
$scope.$watch( "props.flows", handleFlowChanges );
passiveStateSetup();
}
function passiveStateHandleMousedown( event ) {
event.preventDefault();
passiveStateTeardown();
pendingStateSetup( event );
}
function passiveStateHandleSelectedNodeChange( newValue, oldValue ) {
if ( ( newValue === oldValue ) && vm.ignoreFirstSelectedNodeChange ) {
vm.ignoreFirstSelectedNodeChange = false;
return;
}
window.clearTimeout( vm.scrollToSelectedNodeTimer );
vm.scrollToSelectedNodeTimer = window.setTimeout( scrollToSelectedNode, 100 );
}
function passiveStateSetup( ignoreFirstSelectedNodeChange ) {
vm.ignoreFirstSelectedNodeChange = ( ignoreFirstSelectedNodeChange || false );
vm.unhandleSelectedNodeChange = $scope.$watch( "props.selectedNode", passiveStateHandleSelectedNodeChange );
$element.on( "mousedown", passiveStateHandleMousedown );
}
function passiveStateTeardown() {
window.clearTimeout( vm.scrollToSelectedNodeTimer );
vm.unhandleSelectedNodeChange();
vm.unhandleSelectedNodeChange = ng.noop;
$element.off( "mousedown", passiveStateHandleMousedown );
}
function pendingStateHandleMousemove( event ) {
var deltaX = ( vm.mousePosition.x - event.clientX );
var deltaY = ( vm.mousePosition.y - event.clientY );
var maxDelta = Math.max( Math.abs( deltaX ), Math.abs( deltaY ) );
var threshold = 5;
if ( maxDelta > threshold ) {
pendingStateTeardown();
dragStateSetup( event );
}
}
function pendingStateHandleMouseup() {
pendingStateTeardown();
passiveStateSetup();
}
function pendingStateSetup( event ) {
vm.mousePosition = {
x: event.clientX,
y: event.clientY
};
window.addEventListener( "mousemove", pendingStateHandleMousemove );
window.addEventListener( "mouseup", pendingStateHandleMouseup );
}
function pendingStateTeardown() {
window.removeEventListener( "mousemove", pendingStateHandleMousemove );
window.removeEventListener( "mouseup", pendingStateHandleMouseup );
}
function scrollToSelectedNode() {
scrollerService.scrollIntoView( $element[ 0 ].querySelector( "a.tile--selected" ) );
}
}
})( angular, InVision );
;
;
/*! map.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowMap", MapDirective );
function MapDirective( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-9190d0" ),
controller: "invFlow.MapController",
controllerAs: "vm",
restrict: "E",
scope: {
flows: "=",
onViewScreen: "&",
selectedNode: "=",
onReflowFromScreen: "&",
onDragStart: "&",
onDragStop: "&"
},
templateUrl: "/assets/apps/share/components/flow/map/map.directive.htm"
});
}
})( angular, InVision );
;
;
/*! node.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.NodeController", NodeController );
function NodeController( $scope ) {
var vm = this;
var props = $scope.props = $scope;
vm.reflowFromScreen = reflowFromScreen;
vm.viewScreen = viewScreen;
function reflowFromScreen( screenID ) {
props.onReflowFromScreen({
$event: screenID
});
}
function viewScreen( screenID ) {
props.onViewScreen({
$event: screenID
});
}
}
})( angular, InVision );
;
;
/*! node.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowNode", NodeDirective );
function NodeDirective( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-420d68" ),
controller: "invFlow.NodeController",
controllerAs: "vm",
restrict: "E",
scope: {
node: "=",
onViewScreen: "&",
onReflowFromScreen: "&",
selectedNode: "="
},
templateUrl: "/assets/apps/share/components/flow/map/node.directive.htm"
});
}
})( angular, InVision );
;
;
/*! modal.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invFlow.ModalController", ModalController );
function ModalController(
$location,
$scope,
analyticsService,
config,
flowDataMapper,
windowScrollingService
) {
var vm = this;
vm.project = $scope.project;
vm.rootNodeID = 0;
vm.selectedNodeID = 0;
vm.isProtectingDrag = false;
vm.nodes = null;
vm.nodesIndex = null;
vm.flows = null;
vm.selectedNode = null;
vm.isUsingLargeDetail = false;
init();
vm.closeModal = closeModal;
vm.disableDragProtection = disableDragProtection;
vm.enableDragProtection = enableDragProtection;
vm.reflowFromScreen = reflowFromScreen;
vm.reflowFromSelectedScreen = reflowFromSelectedScreen;
vm.toggleDetailSize = toggleDetailSize;
vm.trackUserInteraction = trackUserInteraction;
vm.viewScreen = viewScreen;
vm.viewScreenInShare = viewScreenInShare;
function closeModal() {
$location.search( "flowRootNodeID", null );
$location.search( "flowSelectedNodeID", null );
$scope.closeFlow();
}
function disableDragProtection() {
vm.isProtectingDrag = false;
}
function enableDragProtection() {
vm.isProtectingDrag = true;
}
function reflowFromScreen( screenID ) {
var node = vm.nodesIndex[ screenID ];
if ( ! window.confirm( "Re-flow the screen map using '" + node.screenData.name + "' as the first screen?" ) ) {
return;
}
$location.search( "flowRootNodeID", node.id );
$location.search( "flowSelectedNodeID", node.id );
}
function reflowFromSelectedScreen() {
$location.search( "flowRootNodeID", vm.selectedNode.id );
$location.search( "flowSelectedNodeID", vm.selectedNode.id );
}
function toggleDetailSize() {
vm.isUsingLargeDetail = ! vm.isUsingLargeDetail;
}
function trackUserInteraction( interaction ) {
if ( interaction === "Drag map" ) {
if ( vm.__has_tracked_drag_map__ ) {
return;
}
vm.__has_tracked_drag_map__ = true;
}
analyticsService.track(
"Share.Flow.Action",
{
Action: interaction
}
);
}
function viewScreen( screenID ) {
$location.search( "flowSelectedNodeID", screenID );
}
function viewScreenInShare( screenID ) {
$scope.navigateToTargetScreen( screenID );
}
function getIdsFromUrlWithSaneDefaults() {
var search = $location.search();
return({
rootNodeID: ( +search.flowRootNodeID || $scope.defaultScreenIDForShare ),
selectedNodeID: ( +search.flowSelectedNodeID || $scope.screenID )
});
}
function handleLocationChangeSuccess() {
if ( isModalClosing() ) {
return;
}
var urlIds = getIdsFromUrlWithSaneDefaults();
if (
( urlIds.rootNodeID === vm.rootNodeID ) &&
( urlIds.selectedNodeID === vm.selectedNodeID )
) {
return;
}
if ( urlIds.rootNodeID !== vm.rootNodeID ) {
vm.rootNodeID = urlIds.rootNodeID;
setFlowData();
}
vm.selectedNodeID = urlIds.selectedNodeID;
setSelected();
syncViewModelToUrl();
}
function init() {
trackUserInteraction( "Open" );
$scope.$on(
"$destroy",
function handleDestroy() {
windowScrollingService.enable();
}
);
$scope.$on( "$locationChangeSuccess", handleLocationChangeSuccess );
windowScrollingService.disable();
var urlIds = getIdsFromUrlWithSaneDefaults();
vm.rootNodeID = urlIds.rootNodeID;
vm.selectedNodeID = urlIds.selectedNodeID;
setFlowData();
setSelected();
syncViewModelToUrl();
}
function isModalClosing() {
if ( "flow" in $location.search() ) {
return( false ); // Not closing.
} else {
return( true ); // Closing.
}
}
function setFlowData() {
var data = flowDataMapper.getFlowData(
vm.rootNodeID,
vm.project.sortTypeID,
config.screens,
config.hotspots
);
vm.nodes = data.nodes;
vm.nodesIndex = data.nodesIndex;
vm.flows = data.flows;
}
function setSelected() {
vm.selectedNode = ( vm.nodesIndex[ vm.selectedNodeID ] || vm.flows[ 0 ].rootNode );
vm.selectedNodeID = vm.selectedNode.id;
}
function syncViewModelToUrl() {
var urlIds = getIdsFromUrlWithSaneDefaults();
if (
( urlIds.rootNodeID === vm.rootNodeID ) &&
( urlIds.selectedNodeID === vm.selectedNodeID )
) {
return;
}
$location.replace();
$location.search( "flowRootNodeID", vm.rootNodeID );
$location.search( "flowSelectedNodeID", vm.selectedNodeID );
}
}
})( angular, InVision );
;
;
/*! modal.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFlowModal", ModalDirective );
function ModalDirective(
fakeCssModuleCompiler,
keyCommandsPriority,
keyCommandsService
) {
return({
compile: fakeCssModuleCompiler( "c-55cf67", link ),
controller: "invFlow.ModalController",
controllerAs: "vm",
require: "invFlowModal",
restrict: "E",
scope: true,
templateUrl: "/assets/apps/share/components/flow/modal/modal.directive.htm"
});
function link( $scope, element, attributes, flowModalController ) {
init();
function handleCloseModalEvent( event ) {
event.preventDefault();
flowModalController.closeModal();
flowModalController.trackUserInteraction( "Close via keyboard" );
}
function init() {
$scope.$on(
"$destroy",
function handleDestroy() {
unlistenToKeyCommands();
}
);
var unlistenToKeyCommands = keyCommandsService.listen(
{
"Escape": handleCloseModalEvent,
"F": handleCloseModalEvent
},
{
priority: keyCommandsPriority.FLOW_MODAL
}
);
}
}
}
})( angular, InVision );
;
;
/*! flow-data-mapper.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "flowDataMapper", FlowDataMapperFactory );
function FlowDataMapperFactory( _ ) {
var HARD_LINK = 1;
var SOFT_LINK = 2;
var FILTER_IN = true;
var FILTER_OUT = false;
return({
getFlowData: getFlowData
});
function getFlowData( rootScreenID, sortTypeID, screens, hotspots ) {
var screenData = getScreenData( sortTypeID, screens );
var hotspotData = getHotspotData( screenData, hotspots );
var hotspotsIndex = _.groupBy( hotspotData, "screenID" );
var nodes = screenData.map(
function operator( screenItem ) {
var hotspotItems = ( hotspotsIndex[ screenItem.id ] || [] );
return({
id: screenItem.id,
links: null, // To be populated in a later step.
screenData: screenItem,
hotspotData: hotspotItems
});
}
);
var nodesIndex = _.indexBy( nodes, "id" );
nodes.forEach(
function operator( node ) {
node.links = node.hotspotData.map(
function operator( hotspotItem ) {
return( nodesIndex[ hotspotItem.targetScreenID ] );
}
);
}
);
var flows = [];
var unvisitedNodes = nodes.slice();
var unvisitedNodesIndex = _.clone( nodesIndex );
var unvisitedRootNode = _.findWithProperty( unvisitedNodes, "id", rootScreenID );
if ( unvisitedRootNode ) {
unvisitedNodes = _.without( unvisitedNodes, unvisitedRootNode );
unvisitedNodes.unshift( unvisitedRootNode );
}
while ( unvisitedNodes.length ) {
var flow = {
rootNode: unvisitedNodes[ 0 ],
nodesIndex: Object.create( null ),
name: ( "Flow " + ( flows.length + 1 ) )
};
var nodesToVisit = [ flow.rootNode ];
var nodesToVisitIndex = _.indexBy( nodesToVisit, "id" );
flows.push( flow );
while ( nodesToVisit[ 0 ] ) {
var node = nodesToVisit.shift();
flow.nodesIndex[ node.id ] = node;
delete( nodesToVisitIndex[ node.id ] );
delete( unvisitedNodesIndex[ node.id ] );
node.links = node.links.filter(
function operator( linkedNode ) {
if ( ! unvisitedNodesIndex[ linkedNode.id ] ) {
return( FILTER_OUT );
}
if ( nodesToVisitIndex[ linkedNode.id ] ) {
return( FILTER_OUT );
}
nodesToVisit.push( linkedNode );
nodesToVisitIndex[ linkedNode.id ] = true;
return( FILTER_IN );
}
);
} // END: While-loop for traversal.
unvisitedNodes = unvisitedNodes.filter(
function operator( node ) {
if ( unvisitedNodesIndex[ node.id ] ) {
return( FILTER_IN );
} else {
return( FILTER_OUT );
}
}
);
} // END: While-loop for flow generation.
return({
nodes: nodes,
nodesIndex: nodesIndex,
flows: flows
});
}
function getDisplayScaleFromClientFilename( clientFilename ) {
if ( clientFilename.search( /@2x/i ) >= 0 ) {
return( 0.5 );
} else if ( clientFilename.search( /@(3x|print)/i ) >= 0 ) {
return( 0.33 );
} else {
return( 1 );
}
}
function getHotspotData( screenData, hotspots ) {
var screenDataIndex = _.indexBy( screenData, "id" );
var nextIndex = Object.create( null );
var prevIndex = Object.create( null );
screenData.forEach(
function operator( screenItem, index ) {
nextIndex[ screenItem.id ] = ( screenData[ index + 1 ] || _.first( screenData ) );
prevIndex[ screenItem.id ] = ( screenData[ index - 1 ] || _.last( screenData ) );
}
);
var data = hotspots
.filter(
function operator( hotspot ) {
switch ( hotspot.targetTypeID ) {
case 1: // Type: screen
case 7: // Type: screenOverlay
if ( hotspot.targetScreenID ) {
return( FILTER_IN );
} else {
return( FILTER_OUT );
}
break;
case 3: // Type: previousScreenInSort
case 4: // Type: nextScreenInSort
return( FILTER_IN );
break;
case 2: // Type: lastScreenVisited
case 5: // Type: externalUrl
case 6: // Type: positionOnScreen
default:
return( FILTER_OUT );
break;
}
}
)
.filter(
function operator( hotspot ) {
if ( ! screenDataIndex[ hotspot.screenID ] ) {
return( FILTER_OUT );
}
if ( hotspot.targetScreenID && ! screenDataIndex[ hotspot.targetScreenID ] ) {
return( FILTER_OUT );
}
return( FILTER_IN );
}
)
.map(
function operator( hotspot ) {
switch ( hotspot.targetTypeID ) {
case 1: // Type: screen
case 7: // Type: screenOverlay
var targetScreenID = hotspot.targetScreenID;
break;
case 3: // Type: previousScreenInSort
var targetScreenID = prevIndex[ hotspot.screenID ].id;
break;
case 4: // Type: nextScreenInSort
var targetScreenID = nextIndex[ hotspot.screenID ].id;
break;
}
switch ( hotspot.targetTypeID ) {
case 7: // Overlay
var linkStrength = SOFT_LINK;
break;
default:
var linkStrength = HARD_LINK;
break;
}
var screenItem = screenDataIndex[ hotspot.screenID ];
var displayScale = screenItem.displayScale;
var x = Math.floor( hotspot.x * displayScale );
var y = Math.floor( hotspot.y * displayScale );
var width = Math.floor( hotspot.width * displayScale );
var height = Math.floor( hotspot.height * displayScale );
if ( hotspot.isBottomAligned ) {
y = ( screenItem.height - y - height );
}
return({
screenID: hotspot.screenID,
targetScreenID: targetScreenID,
strength: linkStrength,
x: x,
y: y,
width: width,
height: height,
hotspot: hotspot
});
}
)
;
return( data );
}
function getScreenData( sortTypeID, screens ) {
var data = screens.map(
function operator( screen ) {
var displayScale = getDisplayScaleFromClientFilename( screen.clientFilename );
return({
id: screen.id,
name: screen.name,
sort: screen.sort,
displayScale: displayScale,
width: Math.floor( screen.width * displayScale ),
height: Math.floor( screen.height * displayScale ),
screen: screen
});
}
);
if ( sortTypeID === 1 ) {
return( _.sortOnProperty( data, "sort" ) );
} else {
return( _.sortOnPropertyUsingNaturalOrder( data, "name" ) );
}
}
}
})( angular, InVision );
;
;
/*! title-view.controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "invM2TitleView.ViewController", ViewController );
function ViewController(
$location,
$scope,
_,
analyticsService,
config,
keyCommandsPriority,
keyCommandsService,
requestContext,
screenService
) {
var vm = this;
var renderContext = requestContext.getRenderContext( "title", "screenID" );
vm.screenID = 0;
vm.allScreens = null;
vm.allDividers = null;
vm.screen = null;
vm.divider = null;
vm.dividerIndex = 0;
vm.dividerCount = 0;
init();
vm.gotoNextSection = gotoNextSection;
vm.gotoPreviousSection = gotoPreviousSection;
vm.gotoScreen = gotoScreen;
vm.trackUserInteraction = trackUserInteraction;
function gotoNextSection() {
var nextDivider = ( vm.allDividers[ vm.divider.index + 1 ] || _.first( vm.allDividers ) );
$location.url( "/screens/" + nextDivider.screens[ 0 ].id + "/title" );
}
function gotoPreviousSection() {
var prevDivider = ( vm.allDividers[ vm.divider.index - 1 ] || _.last( vm.allDividers ) );
$location.url( "/screens/" + prevDivider.screens[ 0 ].id + "/title" );
}
function gotoScreen() {
if ( ! vm.screen || ! vm.divider ) {
$location.replace();
}
$location.url( "/screens/" + vm.screenID );
}
function trackUserInteraction( interaction ) {
analyticsService.track(
"ShareLink.TitleMode",
{
Action: interaction
}
);
}
function handleBrowseEvent( event ) {
event.preventDefault();
$scope.openBrowse();
}
function handleCommentsEvent( event ) {
event.preventDefault();
$scope.navigateToScreenComments();
}
function handleCloseEvent( event ) {
trackUserInteraction( "Close event" );
event.preventDefault();
gotoScreen();
}
function handleFlowEvent( event ) {
event.preventDefault();
$scope.openFlow();
}
function handlePreviousScreenEvent( event ) {
event.preventDefault();
var previousScreen = screenService.getPreviousScreen( vm.screen.id );
$location.url( "/screens/" + previousScreen.id );
}
function handleRequestContextChanged() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
vm.screenID = requestContext.getParamAsInt( "screenID" );
loadRemoteData();
}
function init() {
$scope.$on(
"$destroy",
function handleDestroy() {
unlistenToKeyCommands();
}
);
$scope.$on( "requestContextChanged", handleRequestContextChanged );
var unlistenToKeyCommands = keyCommandsService.listen(
{
"ArrowDown": handleCloseEvent,
"ArrowLeft": handlePreviousScreenEvent,
"ArrowRight": handleCloseEvent,
"B": handleBrowseEvent,
"C": handleCommentsEvent,
"Enter": handleCloseEvent,
"Escape": handleCloseEvent,
"F": handleFlowEvent,
"J": handleBrowseEvent,
"P": handleCloseEvent,
"Space": handleCloseEvent,
"T": handleCloseEvent
},
{
priority: keyCommandsPriority.TITLE
}
);
trackUserInteraction( "Open" );
vm.screenID = requestContext.getParamAsInt( "screenID" );
loadRemoteData();
}
function loadRemoteData() {
if ( ! $scope.share.isLoadAllScreens ) {
gotoScreen();
return;
}
vm.allScreens = _.sortOnProperty( config.screens.slice(), "sort" )
.map(
function operator( screen ) {
return({
id: screen.id,
name: screen.name,
dividerID: screen.screenGroupId
});
}
)
;
vm.allDividers = _.sortOnProperty( config.dividers.slice(), "sort" )
.map(
function operator( divider ) {
var id = divider.dividerID;
var name = ( divider.label || "Unnamed section" );
var screens = _.filterWithProperty( vm.allScreens, "dividerID", id );
return({
id: id,
name: name,
index: 0, // Set in subsequent forEach(), after filtering.
screens: screens
});
}
)
.filter(
function operator( divider ) {
return( divider.screens.length );
}
)
;
vm.allDividers.forEach(
function iterator( divider, i ) {
divider.index = i;
}
);
vm.screen = _.findWithProperty( vm.allScreens, "id", vm.screenID );
if ( ! vm.screen ) {
gotoScreen();
return;
}
vm.divider = _.findWithProperty( vm.allDividers, "id", vm.screen.dividerID );
if ( ! vm.divider ) {
gotoScreen();
return;
}
vm.dividerCount = vm.allDividers.length;
vm.dividerIndex = vm.divider.index;
vm.dividerIndex++; // For human readability.
}
}
})( angular, InVision );
;
;
/*! title-view.directive.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invM2TitleView", TitleView );
function TitleView( fakeCssModuleCompiler ) {
return({
compile: fakeCssModuleCompiler( "c-35436f" ),
controller: "invM2TitleView.ViewController",
controllerAs: "vm",
restrict: "E",
scope: true,
templateUrl: "/assets/apps/share/components/title-view/title-view.directive.htm"
});
}
})( angular, InVision );
;
;
/*! app-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "AppController", Controller );
/** @ngInject */
function Controller(
$document,
$location,
$route,
$routeParams,
$scope,
$timeout,
$window,
_,
analyticsService,
beforeUnloadService,
commentObjectService,
config,
Deferred,
hotspotService,
iframeRenderingService,
modelEvents,
projectService,
projectViewingService,
requestContext,
ScreenAlignmentHelper,
screenService,
sessionInactivityService,
sessionService,
shareService,
userService
) {
$scope.config = config;
$scope.share = config.share;
$scope.bodyStyle = config.share.isEmbed ? { 'background-color': 'rgba(0,0,0,0)' } : '';
$scope.QRCodeComponent = window.QRCode;
config.LOADING_COMPLETE_PERCENT = 50;
analyticsService.segmentIo();
analyticsService.googleAnalytics();
analyticsService.track("ShareLink.Viewed",{Version: config.experimentv2 });
analyticsService.trackGrowthPage("Share", "Share");
analyticsService.trackGrowth("App - Public Share - View Project", {
"Project Type": "Prototype",
"Logged In": !!sessionService.user.isAccountAuthenticated
});
var enableOneTrust = !! ( config && config.allowExternalScripts );
function addScreenToHistory( screenID ) {
if (
screenHistory.length &&
( screenHistory[ screenHistory.length - 1 ] === screenID )
) {
return;
}
screenHistory.push( screenID );
}
function getCurrentScreenID() {
var screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
return( screenID );
}
function getNormalizedPixelDensityWidth( imageWidth, clientFilename ) {
if ( clientFilename.indexOf( "@2x" ) > 0 ) {
return( imageWidth * 0.5 );
} else if ( clientFilename.indexOf( "@print" ) > 0 ) {
return( imageWidth * 0.3333 );
} else {
return( imageWidth );
}
}
function getPreviousScreenFromHistory() {
if ( screenHistory.length < 2 ) {
return( null );
}
var currentScreenID = screenHistory.pop();
var previousScreenID = screenHistory.pop();
return( previousScreenID );
}
function getXsrfTokenCookie() {
var cookieString = ( $document.prop( "cookie" ) || "" );
var matches = cookieString.match( /\bXSRF-TOKEN=([^;]+)/i );
return( ( matches && matches[ 1 ] ) || "" );
}
function getViewportWidth() {
if ( $scope.project.isMobile ) {
return( $scope.deviceTemplate.viewportWidth );
} else {
return( cachedWindowWidth );
}
}
function isRouteRedirect( route ) {
return( ! route.current.action );
}
function loadCountryCode() {
if ( config.requestMetadata.countryCode ) {
$scope.share.countryCode = config.requestMetadata.countryCode.toLowerCase();
} else {
$scope.share.countryCode = "us";
}
}
function prepareToUpdateShareConfig( trigger ) {
pendingShareConfigChangeEvent = trigger;
if ( ! isAppFocused ) {
return;
}
$timeout.cancel( pendingShareConfigChangeTimer );
pendingShareConfigChangeTimer = $timeout(
function debouncer() {
$scope.updateShareConfig( "timer." + pendingShareConfigChangeEvent );
pendingShareConfigChangeEvent = "";
},
( 1000 * 5 ) // 5-seconds.
);
}
function shouldShowSMSTooltip() {
return;
var hasSeen = $.cookie("hasSeenSMSTooltip");
hasSeen = _.isUndefined( hasSeen ) ? false : hasSeen;
if ( hasSeen === false ) {
$scope.isShowingSmsForm = true;
$.cookie("hasSeenSMSTooltip", true);
}
}
function sendSlackActivityAnalytics() {
var searchObj = $location.search();
if (typeof searchObj.slackActivity === "undefined") {
return;
}
var eventProperties = {
slackActivity: searchObj.slackActivity
};
analyticsService.track("ShareLink.Clicked", eventProperties);
$location.search("slackActivity", null);
}
function searchInspectData(array, id) {
for (var i=0; i < array.length; i++) {
if (array[i].hasInspectData) {
return array[i].id;
}
}
return -1;
}
var hasLocalStorage = (function() {
var x = '__storage_test__';
try {
localStorage.setItem(x, x);
localStorage.removeItem(x);
return true;
} catch(e) {
return false;
}
})();
$scope.clearBodyStyle = function() {
$scope.headerStyle = {};
$scope.bodyStyle = {};
};
$scope.closeBrowse = function() {
$location.search( browseViewSearchParam, null );
};
$scope.closeBrowseComments = function() {
$location.search( browseCommentsViewSearchParam, null );
};
$scope.closeFlow = function() {
$location.search( flowViewSearchParam, null );
};
$scope.closeLoading = function() {
$scope.isLoadingOpen = false;
$scope.$broadcast( "loadingSequenceCompleted" );
if (window.parent != window) {
window.parent.postMessage("inShareLoadingComplete", "*");
}
if($location.search().welcome && $scope.user.isAccountAuthenticated){
$scope.openModalWindow( 'welcomeUser', {fromSignUp: false});
}
if($location.search().welcome && $location.search().sso){
analyticsService.trackGrowth("App - Public Share - SSO Login", {
'User Authenticated': $scope.user.isAccountAuthenticated ? 'True' : 'False'
});
}
if($location.search().welcome){
$location.search('welcome', null);
if($location.search().sso){
$location.search('sso', null);
}
}
if ( enableOneTrust ) {
window.invisionUtils.embedStorageConsentScript(config.appVersion);
}
};
$scope.getPercentOfScreensLoaded = function() {
return( percentOfScreensLoaded );
};
$scope.getScreenHistory = function(){
return screenHistory;
}
$scope.navigateToPreviousScreen = function() {
var previousScreenID = getPreviousScreenFromHistory();
if ( previousScreenID ) {
$location.url( "/screens/" + previousScreenID );
}
};
$scope.navigateToScreenComments = function() {
if ( ! share.isCommentingAllowed ) {
return;
}
$location.url( $scope.generateCommentUrl() );
$scope.commentControl.isBorderExpanded = true;
};
$scope.generateCommentUrl = function(){
return "/screens/" + getCurrentScreenID() + "/comments";
};
$scope.navigateToScreenPreview = function() {
var screenID = getCurrentScreenID();
$scope.commentControl.isBorderExpanded = false;
$timeout(function() {
$location.url( "/screens/" + screenID );
}, 300);
};
$scope.navigateToTargetScreen = function( screenID, maintainScrollPosition ) {
if ( ! screenID ) {
console.error("Trying to navigate to no screen");
return;
}
if ( $scope.subview == "comments" ) {
$location.url( "/screens/" + screenID + "/comments" );
} else {
$location.url( "/screens/" + screenID );
}
$scope.$broadcast("screenViewer:screenChanged");
};
$scope.goToShareStart = function(){
var shareStart = config.share.screenID;
if( shareStart == 0 ){
shareStart = config.screens[0].id;
}
$scope.$broadcast("relaunchMobileApp", config.share.screenID );
$scope.navigateToTargetScreen( shareStart , false );
};
$scope.getAppIcon = function() {
return $scope.appIcon.imageUrl || "/assets/apps/share/img/icon.png";
};
$scope.toggleSmsShareForm = function(){
$scope.isShowingSmsForm = !$scope.isShowingSmsForm;
analyticsService.track("ShareLink.Button.Clicked", {
Button: "SMS",
Action: $scope.isShowingSmsForm ? "open" : "close"
});
}
$scope.sendShareSms = function(){
$scope.sms.phoneNumber =$scope.sms.phoneNumber.replace( /[^\d+]+/g, "" );
if ( $scope.sms.phoneNumber.length < 10 ) {
$scope.sms.message = "Invalid phone number.";
return;
}else if ( $scope.sms.phoneNumber.length == 10){
$scope.sms.message = "Please add country code.";
return;
}
$scope.sms.messageSent = false;
$scope.sms.message = "";
Deferred.handlePromise(
shareService.sendSMS( share.id, $scope.sms.phoneNumber),
function( response ) {
$scope.sms.messageSent = true;
analyticsService.track("Prototype.Share", {
prototypeId: $scope.projectID,
prototypeShareLocation: "share",
prototypeShareType: "sms"
});
if ( hasLocalStorage ) {
localStorage.setItem("smsPhoneNumber", $scope.sms.phoneNumber );
}
$timeout(function(){
$scope.sms.messageSent = false;
$scope.sms.message = "";
$scope.isShowingSmsForm = false;
}, 15000);
},
function( response ) {
$scope.sms.message = "Error: Unable to send SMS.";
}
);
}
$scope.openBrowse = function() {
if ( ! share.isLoadAllScreens ) {
return;
}
$location.search( browseViewSearchParam, true );
};
$scope.openFlow = function() {
if ( ! share.isLoadAllScreens ) {
return;
}
$location.search( flowViewSearchParam, true );
};
$scope.openModalWindow = function( type ) {
var modalData = _.toArray( arguments );
var modalType = modalData.shift();
$scope.$broadcast( "openModalWindow", modalType, modalData );
};
$scope.setBodyClass = function( className ) {
if( $scope.share.isEmbed == true ){
$scope.bodyClass = "embed";
return;
}
var bodyClass = $scope.subview;
if( $scope.screen.zoomScrollBehavior === screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING ){
bodyClass += " disable-horizontal-scrolling";
}
if ( $scope.project.isMobile ) {
bodyClass += " mobile";
};
$scope.bodyClass = ( bodyClass + " " + className );
};
$scope.setHeaderStyle = function( style ) {
style['background-color'] = null;
$scope.headerStyle = $scope.share.isEmbed ? '' : style;
};
$scope.setBodyStyle = function( style ) {
$scope.bodyStyle = $scope.share.isEmbed ? '' : style;
};
$scope.setPercentOfScreensLoaded = function( percent ) {
if ( percentOfScreensLoaded < config.LOADING_COMPLETE_PERCENT ) {
$scope.setWindowTitle(percent + "% Loaded");
}
percentOfScreensLoaded = percent;
};
$scope.setWindowTitle = function( title ) {
$scope.windowTitle = title;
};
$scope.toggleBrowse = function() {
if ( $scope.isBrowseOpen ) {
$location.search( browseViewSearchParam, null );
} else {
$location.search( browseViewSearchParam, true );
}
analyticsService.track("ShareLink.Button.Clicked", {
Button: "Browse",
Action: $scope.isBrowseOpen ? "close" : "open"
});
};
$scope.toggleBrowseComments = function( source ) {
if ( $scope.isBrowseCommentsOpen ) {
$location.search( browseCommentsViewSearchParam, null );
} else {
$location.search( browseCommentsViewSearchParam, true );
}
analyticsService.track(
"ShareLink.Button.Clicked",
{
Button: "BrowseComments",
Action: ( $scope.isBrowseCommentsOpen ? "close" : "open" ),
Source: ( source || "" )
}
);
};
$scope.toggleFlow = function() {
if ( $scope.isFlowOpen ) {
$location.search( flowViewSearchParam, null );
} else {
$location.search( flowViewSearchParam, true );
}
analyticsService.track(
"ShareLink.Button.Clicked",
{
Button: "Flow",
Action: ( $scope.isFlowOpen ? "close" : "open" )
}
);
};
$scope.appliedClass = function(){
if( $scope.subview == "comments"){
return "desktop";
}else{
if( $scope.project.mobileStatusbarIsOpaque && $scope.project.mobileStatusbarIsVisible){
var statusbarClass = "opaque-status-bar";
}else if ( !$scope.project.mobileStatusbarIsOpaque || !$scope.project.mobileStatusbarIsVisible ){
var statusbarClass = "transparent-status-bar";
}
var classNames = $scope.deviceTemplate.className + " " + statusbarClass;
if ($scope.deviceTemplate.mobileSkinColor == 'white' ){
classNames = classNames + " white";
}
if( $scope.project.mobileStatusbarIsVisible ){
classNames = classNames + " statusbarIsVisible";
}
return classNames ;
}
};
$scope.applyScreenDisplayScaleToScreen = function( screen ) {
var binaryWidth = screen.width;
var screenWidth = getNormalizedPixelDensityWidth( binaryWidth, screen.clientFilename );
var viewportWidth = getViewportWidth();
var isZoomToBrowserWidth = ( +screen.zoomScrollBehavior === screenService.zoomScrollBehaviors.ZOOM_OUT_TO_BROWSER_WIDTH );
if ( $scope.project.isMobile ) {
screen.displayScale = ( viewportWidth / binaryWidth );
screen.scrollScale = ( viewportWidth / screenWidth );
} else if ( isZoomToBrowserWidth && ( screenWidth > viewportWidth ) ) {
screen.displayScale = ( viewportWidth / binaryWidth );
screen.scrollScale = ( viewportWidth / screenWidth );
} else {
screen.displayScale = ( screenWidth / binaryWidth );
screen.scrollScale = 1;
}
return( screen );
};
$scope.applyScreenDisplayScale = function(){
$scope.applyScreenDisplayScaleToScreen( $scope.screen );
};
$scope.getFixedDesktopHeaderHeight = function(){
var height = $scope.screen.fixedHeaderHeight * $scope.screen.displayScale;
if( $scope.screen.backgroundFrame == true ){
height += 40; // add 40px for the spacing at the top of the frame.
}
return height;
};
$scope.goToWWW = function() {
window.open("http://www.invisionapp.com/?utm_medium=virality&utm_source=Share%20CTA","_blank");
analyticsService.track("ShareLink.Button.Clicked", {
Button: "MadeInInvision"
});
};
$scope.setDesktopLoadingForGifIsReady = function( value ){
$scope.desktopLoadingForGifIsReady = value;
};
$scope.setIsTransitioning = function( value ){
$scope.isTransitioning = value;
};
$scope.setTransitionData = function( data ){
$scope.transitionData = data;
};
$scope.setScreen = function( screen ){
$scope.screen = screen;
$scope.applyScreenDisplayScaleToScreen( screen );
if( !$scope.project.isMobile ){
$scope.applyDesktopWrapperOffset( screen );
}
};
$scope.applyDesktopWrapperOffset = function( screen ){
var scaledScreenWidth = screen.width * screen.displayScale;
var windowWidth = $(window).width();
if( screen.zoomScrollBehavior == screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING &&
scaledScreenWidth > windowWidth && $scope.subview == "preview" ){
if ( screen.alignment === "left" ) {
$scope.desktopWrapperOffset = 0;
} else if ( screen.alignment === "right" ) {
$scope.desktopWrapperOffset = ( scaledScreenWidth - windowWidth ) * -1;
} else {
$scope.desktopWrapperOffset = ( ( scaledScreenWidth - windowWidth ) / 2 ) * -1;
}
}else{
$scope.desktopWrapperOffset = 0;
}
};
$scope.updateShareConfig = function( trigger ){
var shareID = $scope.share.id;
Deferred.handlePromise(
shareService.getShareConfig( shareID, null, trigger ),
function( response ) {
config.project = response.project;
config.screens = response.screens;
config.share = _.isArray(response.share) ? response.share[0] : response.share;
config.metaScreens = response.metaScreens;
config.hotspots = response.hotspots;
config.conversations = response.conversations;
config.comments = response.comments;
config.commentSketches = response.commentSketches;
config.dividers = response.dividers;
config.members = response.members;
screenService.bustSortedScreenCache();
$scope.$broadcast( "configUpdated.share", config );
},
function( response ) {
}
);
};
$scope.updateShareUsers = function( shareUsers ){
config.members = shareUsers.members;
};
$scope.updateDeviceTemplate = function(){
$scope.deviceTemplate = _.withProperty( $scope.deviceTemplates, "mobileDeviceID", config.project.mobileDeviceID )[0];
};
$scope.doRequestAccess = function() {
var requestEmail = "";
var requestName = "";
if ( !config.user.isAccountAuthenticated ) {
requestEmail = prompt("Please enter your email","bob@bob.com");
requestName = prompt("Please enter your name","Bob Barker");
}
projectService.sendRequestPermission( config.project.id, $scope.screenID, requestEmail, requestName );
};
$scope.searchArray = function(array, id) {
for (var i=0; i < array.length; i++) {
if (array[i].id === id) {
return true;
}
}
return false;
}
$scope.setRequestInspectAccessUrl = function( projectID, screenID, signature ) {
$scope.requestInspectAccessUrl = ( "/d/main/ria/" + projectID + "/" + screenID + "/" + signature );
return( $scope.requestInspectAccessUrl );
};
var renderContext = requestContext.getRenderContext( "", "screenID" );
var percentOfScreensLoaded = 0;
var screenHistory = [];
var share = shareService.getShare();
var cachedWindowWidth = $( $window ).width();
var pendingShareConfigChangeEvent = "";
var pendingShareConfigChangeTimer = 0;
var isAppFocused = true;
var browseViewSearchParam = "browse";
var browseCommentsViewSearchParam = "comments";
var flowViewSearchParam = "flow";
$scope.xsrfToken = getXsrfTokenCookie();
$scope.windowTitle = "InVision Share";
$scope.bodyClass = "";
$scope.subview = null;
$scope.isLoadingOpen = true;
$scope.isBrowseOpen = false;
$scope.isBrowseCommentsOpen = false;
$scope.isFlowOpen = false;
$scope.isModalOpen = false;
$scope.mobileLoadingForGifIsReady = config.project.isMobile ? false : true;
$scope.desktopLoadingForGifIsReady = ! config.project.isMobile ? false : true;
$scope.enterpriseConfig = config.companyInfo;
$scope.hideNavBar = iframeRenderingService.shouldHideNavBar();
if ( shareService.getShare().screenID == 0 ) {
$scope.defaultScreenIDForShare = screenService.getScreens()[0].id;
} else {
$scope.defaultScreenIDForShare = shareService.getShare().screenID;
}
if ( !_.findWithProperty( config.screens, "id", $scope.defaultScreenIDForShare ) ) {
$scope.defaultScreenIDForShare = screenService.getScreens()[0].id;
}
$scope.project = config.project;
$scope.project.loadingScreen = _.withProperty( config.screens, "screenTypeID", 3 )[0] || ""
$scope.share = shareService.getShare();
$scope.deviceTemplates = config.mobileDevices;
$scope.deviceTemplate = _.withProperty( $scope.deviceTemplates, "mobileDeviceID", config.project.mobileDeviceID )[0];
$scope.project.isWatch = $scope.deviceTemplate.deviceType === "watch";
$scope.appIcon = screenService.getAppIcon();
$scope.loadingScreen = screenService.getLoadingScreen();
$scope.screenID = $scope.defaultScreenIDForShare;
$scope.screen = null;
$scope.setScreen( screenService.getScreenByID( $scope.screenID ) );
$scope.desktopWrapperOffset = 0;
$scope.isInAppMode = false;
$scope.isTransitioning = false;
$scope.transitionData = {};
$scope.isShowingSmsForm = false;
$scope.sms = {};
$scope.sms.phoneNumber = "";
$scope.sms.messageSent = false;
$scope.sms.message = "";
if ( hasLocalStorage && localStorage.getItem('smsPhoneNumber') ) {
$scope.sms.phoneNumber = localStorage.getItem("smsPhoneNumber");
}
$scope.shareUser = config.user;
$scope.user = sessionService.user;
$scope.user.isUserValidationRequired = false;
$scope.user.tempAvatar;
$scope.hasSentRequest = false;
$scope.isCommentContextOpen = false;
$scope.isInspectOpen = false;
$scope.isToolbarHiden = false;
$scope.UILoaded = false;
$scope.firstInspectScreen = searchInspectData(config.screens);
$scope.includeInspectTool = $scope.firstInspectScreen >= 0;
$scope.requestInspectAccessUrl = "";
$scope.$on(
"modalWindowHidden",
function( event ) {
$scope.$broadcast( "inspectModalClosed", true );
}
);
$scope.commentControl = {};
$scope.commentControl.isBorderExpanded = false;
if ( sessionService.user.email ) {
shareService
.getExistingUser( sessionService.user.email )
.then(function( response ) {
$scope.user.isUserValidationRequired = response && response.name;
if ( $scope.user.isUserValidationRequired ) {
$scope.user.tempAvatar = response.avatarID;
$scope.user.tempInitials = userService.getInitials( response.name );
$scope.user.hasSystemAvatar = userService.isSystemAvatar( response.avatarID );
}
})
.catch(function() {
})
;
}
if ( $scope.user.isAccountAuthenticated ) {
sessionService.authenticate().then(function(){
analyticsService.initGrowthAnalytics(sessionService.user, sessionService.subscription);
}).catch(function() {
console.warn( "Could not initialize growth analytics." );
});
} else {
analyticsService.initGrowthAnalytics();
}
$scope.$on(
"requestContextChanged",
function() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
$scope.subview = renderContext.getNextSection();
addScreenToHistory(
requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare )
);
if( $scope.screenID != getCurrentScreenID() ){
$scope.screenID = getCurrentScreenID();
if ( $scope.xsrfToken ) {
projectViewingService.incrementScreenCount( $scope.share.id );
}
}
}
);
$scope.$on(
"loadingSequenceCompleted",
function( event ) {
setTimeout(function() {
$scope.$apply(function() {
$scope.UILoaded = true;
});
}, 500);
}
);
$scope.$on(
"$routeChangeSuccess",
function( event, currentRoute, previousRoute ) {
commentObjectService.set( null, 0 ); // clear the currently selected comment object.
if ( config.project && config.project.id && currentRoute.params.screenID ) {
commentObjectService.set( "project", {
objectID: config.project.id,
conversationID: currentRoute.params.conversationID
} );
}
if ( isRouteRedirect( $route ) ) {
return;
}
requestContext.setContext( $route.current.action, $routeParams );
if (
( renderContext.getNextSection() === "comments" ) &&
! share.isCommentingAllowed
) {
return(
$location.path( "/" )
);
}
$scope.$broadcast( "requestContextChanged", requestContext );
}
);
$scope.$on("modal.isWindowOpen", function( event, isOpen ) {
$scope.isModalOpen = isOpen;
});
$scope.$watch("screen", function( newVal, oldVal ){
if ( newVal !== oldVal ) {
$scope.applyScreenDisplayScale();
}
});
modelEvents.on(
"projectUpdated.share",
function( event, project ) {
if( project.id == config.project.id || project.mobileDeviceID !== config.project.mobileDeviceID ){
prepareToUpdateShareConfig( "event.project-updated" );
}
}
);
modelEvents.on(
"screenUploaded.share",
function( event, screen ) {
if( screen.projectID == config.project.id ){
prepareToUpdateShareConfig( "event.screen-uploaded" );
}
}
);
modelEvents.on(
"screenConfigUpdated.share",
function( event, screen ) {
if( screen.projectID == config.project.id ){
prepareToUpdateShareConfig( "event.screen-config-updated" );
}
}
);
modelEvents.on(
"screenDeleted.share",
function( event, screenID, projectID ) {
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.screen-deleted" );
}
}
);
modelEvents.on(
"commentAdded.share",
function( event, commentID, conversationID, projectID ) {
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.comment-added" );
}
}
);
modelEvents.on(
"commentUpdated.share",
function( event, commentID, conversationID, projectID ) {
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.comment-updated" );
}
}
);
modelEvents.on(
"commentDeleted.share",
function( event, commentID, conversationID, projectID ) {
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.comment-deleted" );
}
}
);
modelEvents.on(
"conversationUpdated.share",
function( event, conversationID, projectID) {
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.conversation-updated" );
}
}
);
modelEvents.on(
"hotspotCreated.share",
function( event, hotspotID, projectID ){
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.hotspot-created" );
}
}
);
modelEvents.on(
"hotspotUpdated.share",
function( event, hotspotID, projectID ){
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.hotspot-updated" );
}
}
);
modelEvents.on(
"hotspotDeleted.share",
function( event, hotspotID, projectID ){
if( projectID == config.project.id ){
prepareToUpdateShareConfig( "event.hotspot-deleted" );
}
}
);
$scope.$on(
"configUpdated.share",
function( event, localConfig ) {
var isTemplateChange = localConfig.project.mobileDeviceID !== $scope.project.mobileDeviceID;
$scope.project = localConfig.project;
$scope.project.loadingScreen = _.withProperty( localConfig.screens, "screenTypeID", 3 )[0] || "";
if (isTemplateChange) {
$scope.share = localConfig.share;
$scope.deviceTemplate = _.withProperty($scope.deviceTemplates, "mobileDeviceID", localConfig.project.mobileDeviceID)[0];
$scope.project.isWatch = $scope.deviceTemplate.deviceType === "watch";
}
}
);
$scope.$on(
"toolbar.changeTypeFilterByToggle",
function() {
$scope.$broadcast("comment.changeTypeFilterByToggle");
}
)
$scope.$on(
"toolbar.changeTypeFilter",
function(event, option) {
$scope.$broadcast("comment.changeTypeFilter", option);
}
)
$scope.$on(
"toolbar.changeShowCompletedFilterV2",
function() {
$scope.$broadcast("comment.changeShowCompletedFilterV2");
}
)
$scope.$on(
"all.closeCommentContext",
function() {
$scope.$broadcast("toolbar.closeCommentContext");
}
)
$scope.$on(
"all.closeInspectRequest",
function() {
$scope.$broadcast("toolbar.closeInspectRequest");
}
)
$scope.$on(
"all.setStep",
function(event, step) {
$scope.$broadcast("toolbar.setStep", step);
}
)
$scope.$on(
"$locationChangeSuccess",
function handleLocationChange() {
var search = $location.search();
if ( $scope.share.isLoadAllScreens ) {
if ( $scope.isBrowseOpen && ! search.hasOwnProperty( browseViewSearchParam ) ) {
$scope.isBrowseOpen = false;
} else if ( ! $scope.isBrowseOpen && search.hasOwnProperty( browseViewSearchParam ) ) {
$scope.isBrowseOpen = true;
}
if ( $scope.isFlowOpen && ! search.hasOwnProperty( flowViewSearchParam ) ) {
$scope.isFlowOpen = false;
} else if ( ! $scope.isFlowOpen && search.hasOwnProperty( flowViewSearchParam ) ) {
$scope.isFlowOpen = true;
}
}
if ( $scope.share.isCommentingAllowed ) {
if ( $scope.isBrowseCommentsOpen && ! search.hasOwnProperty( browseCommentsViewSearchParam ) ) {
$scope.isBrowseCommentsOpen = false;
} else if ( ! $scope.isBrowseCommentsOpen && search.hasOwnProperty( browseCommentsViewSearchParam ) ) {
$scope.isBrowseCommentsOpen = true;
}
}
}
);
$(window).on("resize.sharePreview", function windowResize(){
cachedWindowWidth = $( $window ).width();
$scope.applyScreenDisplayScale();
if( !$scope.project.isMobile ){
$scope.applyDesktopWrapperOffset( $scope.screen );
}
syncWindowToScreenAlignment();
$scope.$apply();
});
function syncWindowToScreenAlignment() {
if ( !$scope.screen ) return;
var helper = new ScreenAlignmentHelper();
var alignment = helper.calculate( $scope.screen );
$scope.$broadcast("screenAlignment:update", alignment );
}
$( window ).on(
"focus blur",
function handleFocusChange( event ) {
isAppFocused = ( event.type === "focus" );
}
);
$( window ).on(
"mousemove keydown focus",
function handleUserInteraction( event ) {
if ( pendingShareConfigChangeEvent ) {
$scope.$apply(
function handleViewModelChange() {
$timeout.cancel( pendingShareConfigChangeTimer );
$scope.updateShareConfig( "flushing." + pendingShareConfigChangeEvent );
pendingShareConfigChangeEvent = "";
}
);
}
}
);
$( window ).on(
"keydown",
function handleShareKeyCombos( event ) {
if (event.type == "keydown" && event.keyCode == 27) {
$scope.$broadcast("toolbar.closeInspectRequest");
$scope.$broadcast("toolbar.closeSMS");
}
if ((event.ctrlKey || event.metaKey || ((event.ctrlKey && event.shiftKey) || (event.metaKey && event.shiftKey))) && event.which == 190) {
$scope.$apply(function() {
$scope.UILoaded = !$scope.UILoaded;
});
$scope.$broadcast("toolbar.closeInspectRequest");
$scope.$broadcast("toolbar.closeSMS");
}
}
)
beforeUnloadService.push(
this,
function() {
projectViewingService.setEndedAt( $scope.share.id );
}
);
$scope.typeFilterOptions = [
{
label: "All Types",
value: "all",
count: 0,
isPrivate: false
},
{
label: "Comments",
value: "comments",
count: 0,
isPrivate: false
},
{
label: "Notes",
value: "dev-notes",
count: 0,
isPrivate: true
},
{
label: "Tour Points",
value: "tour-points",
count: 0,
isPrivate: false
}
];
$scope.filters = {
type: $scope.typeFilterOptions[ 0 ],
showCompleted: {
value: false,
count: 0
}
};
shouldShowSMSTooltip();
$timeout(function() {
if ( $window.analytics ) {
analytics.track('Share viewed via desktop');
}
}, 1000);
sendSlackActivityAnalytics();
if ( $scope.project.isMobile ) {
loadCountryCode();
}
if ( $scope.user.isAccountAuthenticated && $scope.user.hasCompanyMembership ) {
sessionInactivityService.init(
$scope.user.sessionIdentifier,
sessionService.keepAlive,
function() {
document.location.reload(true);
}
);
}
if ( sessionService.user.isAccountAuthenticated ) {
var subdomain = window.location.hostname.split(".")[0];
var analyticsUserID = (config.singleTenantConfig && config.singleTenantConfig.useSingleTenantAnalytics) ? subdomain + "-" + sessionService.user.id : sessionService.user.id;
analyticsService.identifyGrowth( analyticsUserID, {
"Full Name": sessionService.user.name,
Email: sessionService.user.email,
"Last Activity": moment(sessionService.user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss")
});
}
}
})( angular, InVision );
;
;
/*! comments-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "comments.CommentsController", Controller );
/** @ngInject */
function Controller(
$location,
$sce,
$scope,
$timeout,
$window,
_,
analyticsService,
commentService,
config,
conversationService,
requestContext,
screenService,
sessionService
){
function applyRemoteData( screen, conversations ) {
$scope.setScreen( screen );
if( document.URL.indexOf("/comments") >= 0 ) {
$scope.setWindowTitle( screen.name + " - Comments" );
}
$scope.conversations = augmentConversations(conversations);
applyFilters();
updateUnreadConversations();
if ( $scope.unreadConversations.length ){
$scope.showUnreadComments = true;
}
$scope.$parent.commentControl.isBorderExpanded = true;
}
function augmentConversations( conversations ) {
return conversations;
}
function loadRemoteData() {
var screen = screenService.getScreenByID( $scope.screenID );
if ( ! screen ) {
return;
}
var conversations = conversationService.getConversationsByScreenID( screen.id );
conversations = markConversationsAsUnread( conversations );
applyRemoteData( screen, conversations );
}
function markConversationsAsUnread( conversations ){
for ( var i = 0 ; i < conversations.length ; i++ ) {
var comments =  commentService.getCommentsByConversationID( conversations[ i ].id );
conversations[ i ].isUnread =  !!( _.withProperty( comments, "isUnread", true).length );
}
return conversations;
}
function navigateToComments() {
$location.path( "/screens/" + $scope.screenID + "/comments" );
}
function applyFilters() {
var conversations = $scope.conversations;
updateFilterCounts();
showConversations( conversations );
applyShowCompletedFilter( conversations );
applyTypeFilter( conversations );
showConversationsNotAffectedByFiltering( conversations );
}
function applyShowCompletedFilter( conversations ) {
if ( ! $scope.$parent.filters.showCompleted.value ) {
var conversationsTohHide = conversations.filter(function(conv){
return conv.isComplete && !conv.isUnread
});
hideConversations(
conversationsTohHide
);
}
}
function applyTypeFilter( conversations ) {
if ( $scope.$parent.filters.type.value === "comments" ) {
hideConversations(
_.withProperty( conversations, "isForDevelopment", true )
);
hideConversations(
_.withProperty( conversations, "isTourPoint", true )
);
} else if ( $scope.$parent.filters.type.value === "dev-notes" ) {
hideConversations(
_.withProperty( conversations, "isForDevelopment", false )
);
} else if ( $scope.$parent.filters.type.value === "tour-points" ) {
hideConversations(
_.withProperty( conversations, "isTourPoint", false )
);
}
}
function showConversations( conversations ) {
_.setProperty( conversations, "isShown", true );
}
function hideConversations( conversations ) {
_.setProperty( conversations, "isShown", false );
}
function showConversationsNotAffectedByFiltering( conversations ) {
showConversations(
_.withPropertyRange( $scope.conversations, "id", conversationIDsNotAffectedByFiltering )
);
}
function clearExcludedConversationIDs() {
conversationIDsNotAffectedByFiltering = [];
}
function excludeConversationIDFromFiltering( id ) {
conversationIDsNotAffectedByFiltering.push( id );
showConversationsNotAffectedByFiltering( $scope.conversations );
}
$scope.getMarkerPos = function(conversation, displayScale) {
var markerPos = {
top: conversation.y * displayScale,
left: conversation.x * displayScale
};
return markerPos;
};
$scope.getScreenDisplayData = function(screen) {
var displayData = {
height: screen.height,
width: screen.width,
displayScale: screen.displayScale
};
return displayData;
};
$scope.startSketchViewer = function( sketch, marker ){
if ( sketch.sketchID !== undefined){
sketch.id = sketch.sketchID;
}
$scope.sketchViewerSketch = angular.copy( sketch );
$scope.sketchViewerSketch.svg = $sce.trustAsHtml(sketch.svg);
$scope.sketchViewerMarker = marker;
$scope.isShowingSketchViewer = true;
$scope.isBottomBarShown = false;
$scope.setSketchImageIsProcessing( false );
};
$scope.closeSketchViewer = function(){
$scope.sketchViewerSketch = {};
$scope.sketchViewerMarker = {};
$scope.isShowingSketchViewer = false;
$scope.isBottomBarShown = true;
$scope.setSketchImageIsProcessing( false );
};
$scope.setSketchImageIsProcessing = function( isProcessing ){
$scope.sketchImageIsProcessing = isProcessing;
};
$scope.setIsHoveringViewport = function( val ){
$scope.isHoveringViewport = val;
};
$scope.setIsHoveringHotspot = function( val ){
$scope.isHoveringHotspot = val;
};
$scope.setIsShowingConversationMenu = function( val ){
$scope.isShowingConversationMenu = val;
};
$scope.getIsShowingConversationMenu = function() {
return $scope.isShowingConversationMenu;
};
$scope.reloadConversations = function( conversations ){
loadRemoteData();
};
$scope.changeShowCompletedFilter = function() {
clearExcludedConversationIDs();
navigateToComments();
applyFilters();
};
$scope.changeShowCompletedFilterV2 = function() {
$scope.$parent.filters.showCompleted.value = !$scope.$parent.filters.showCompleted.value;
analyticsService.track("CommentMode.Filter",{
Filter: "Resolved"
});
$scope.changeShowCompletedFilter();
};
$scope.changeTypeFilter = function( option ) {
clearExcludedConversationIDs();
navigateToComments();
$scope.$parent.filters.type = option;
analyticsService.track("CommentMode.Filter",{
Filter: option.label
});
applyFilters();
};
$scope.changeTypeFilterByToggle = function() {
var option = $scope.$parent.typeFilterOptions.find(function(element) {
return element.value === 'all';
});
if ($scope.$parent.filters.type.value === 'all') {
option = $scope.$parent.typeFilterOptions.find(function(element) {
return element.value === 'comments';
});
}
$scope.changeTypeFilter(option);
}
$scope.markConversationAsRead = function( conversation ){
var conversationIndex = _.indexOfWithProperty( $scope.conversations, "id", conversation.id );
$scope.conversations[conversationIndex].isUnread = false;
conversationService.markRead( conversation.id );
var conversations = _.filter(
$scope.conversations,
function( conversation ) {
return(
( conversation.isUnread && ! conversation.isComplete )
||
_.contains( visitedUnreadConversationIDs, conversation.id )
);
}
);
$scope.unreadConversations = conversations;
};
function updateFilterCounts() {
var conversations = $scope.conversations;
if ( ! $scope.$parent.filters.showCompleted.value ) {
conversations = _.withoutProperty( conversations, "isComplete", true );
}
$scope.$parent.typeFilterOptions[ 0 ].count = conversations.length;
$scope.$parent.typeFilterOptions[ 1 ].count = _.where( conversations, {"isForDevelopment": false, "isTourPoint": false} ).length;
$scope.$parent.typeFilterOptions[ 2 ].count = _.withProperty( conversations, "isForDevelopment", true ).length;
$scope.$parent.typeFilterOptions[ 3 ].count = _.withProperty( conversations, "isTourPoint", true ).length;
if ( $scope.$parent.filters.type.value === "all" ) {
$scope.$parent.filters.showCompleted.count = _.withProperty( $scope.conversations, "isComplete", true ).length;
} else if ( $scope.$parent.filters.type.value === "comments" ) {
$scope.$parent.filters.showCompleted.count = _.where( $scope.conversations, { isForDevelopment: false, isTourPoint: false, isComplete: true } ).length;
} else if ( $scope.$parent.filters.type.value === "dev-notes" ) {
$scope.$parent.filters.showCompleted.count = _.where( $scope.conversations, { isForDevelopment: true, isComplete: true } ).length;
} else if( $scope.$parent.filters.type.value === "tour-points" ) {
$scope.$parent.filters.showCompleted.count = _.where( $scope.conversations, { isTourPoint: true, isComplete: true } ).length;
}
}
function updateUnreadConversations() {
$scope.unreadConversations = _.filter(
$scope.conversations,
function( conversation ) {
return(
( conversation.isUnread && ! conversation.isComplete )
||
_.contains( visitedUnreadConversationIDs, conversation.id )
);
}
);
updateVisibleUnreadConversations();
}
function updateVisibleUnreadConversations() {
$scope.visibleUnreadConversations = $scope.unreadConversations;
$scope.hiddenUnreadConversations = [];
if ( $scope.unreadConversations.length > $scope.unreadConversationCapacity ) {
$scope.visibleUnreadConversations = $scope.unreadConversations.slice( 0, $scope.unreadConversationCapacity );
$scope.hiddenUnreadConversations = $scope.unreadConversations.slice( $scope.unreadConversationCapacity );
}
}
$scope.updateUnreadConversationCapacity = function( capacity ) {
$scope.unreadConversationCapacity = capacity;
updateVisibleUnreadConversations();
};
$scope.setConversations = function( conversations ){
$scope.conversations = augmentConversations(conversations);
};
$scope.setCurrentCommentType = function(type) {
$scope.currentCommentType = type;
};
var renderContext = requestContext.getRenderContext( "comments", "screenID", "sketchID" );
var conversationIDsNotAffectedByFiltering = [];
var visitedUnreadConversationIDs = [];
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
$scope.conversations = [];
$scope.unreadConversations = [];
$scope.visibleUnreadConversations = [];
$scope.hiddenUnreadConversations = [];
$scope.unreadConversationCapacity = 10;
$scope.isShowingSketchViewer = false;
$scope.sketchViewerSketch = {};
$scope.sketchViewerMarker = {};
$scope.sketchImageIsProcessing = false;
$scope.isHoveringViewport = false;
$scope.isHoveringHotspot = false;
$scope.isShowingConversationMenu = false;
$scope.isUserAccountAuthenticated = sessionService.user.isAccountAuthenticated;
$scope.showUnreadComments = false;
$scope.currentCommentType = "comment";
$scope.closeCommentMode = function(event) {
$scope.$parent.commentControl.isBorderExpanded = false;
$scope.$emit("all.closeCommentContext");
analyticsService.track("ShareLink.Button.Clicked", {
Button: "CommentMode",
Action: "close"
});
$timeout(function() {
$location.url( "/screens/" + $scope.screenID );
}, 300);
}
$scope.$on(
"loadingSequenceCompleted",
function( event ) {
if ( $scope.screen && document.URL.indexOf("/comments") >= 0 ) {
$scope.setWindowTitle( $scope.screen.name + " - Comments" );
}
}
);
$scope.$on(
"requestContextChanged",
function() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
loadRemoteData();
}
);
$scope.$on(
"comment.changeTypeFilterByToggle",
function() {
$scope.changeTypeFilterByToggle();
}
)
$scope.$on(
"comment.changeTypeFilter",
function(event, option) {
$scope.changeTypeFilter(option);
}
)
$scope.$on(
"comment.changeShowCompletedFilterV2",
function(event, option) {
$scope.changeShowCompletedFilterV2();
}
)
$scope.$on(
"configUpdated.share",
function( localConfig ) {
if( localConfig != config ){
loadRemoteData();
}
}
);
var trackingProperties = {
location: 'share',
username: sessionService.user.email
};
loadRemoteData();
analyticsService.track("CommentsMode", trackingProperties);
}
})( angular, InVision );
;
;
/*! form-controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "comments.FormController", Controller );
function Controller(
$scope,
$sce,
$timeout,
$window,
_,
accountService,
analyticsService,
commentService,
config,
conversationService,
dateHelper,
Deferred,
emojiService,
errorLogService,
hashKeyCopier,
mentionUtilities,
mentionStorage,
modelEvents,
moment,
parseCommentService,
projectService,
projectViewingService,
requestContext,
screenService,
sessionService,
shareService,
userService,
validationService,
$compile,
unsavedCommentService,
$location
) {
var passwordRegexes = {
oneUppercase: /[A-Z]+/,
oneLowercase: /[a-z]+/,
oneNumber: /[0-9]+/,
oneSymbol: /[\$\uFFE5\^\+=`~<>{}\[\]|\u3000-\u303F!-#%-\x2A,-/:;\x3F@\x5B-\x5D_\x7B}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/
};
var marketoDomain = "app-ab42.marketo.com";
var marketoFormID = 1008;
var marketoMunchkinId = "488-SAF-737";
if (config.serverType == "LIVE") {
marketoDomain = "pages.invisionapp.com";
marketoFormID = 1157;
marketoMunchkinId = "189-IFJ-648";
}
if (!document.getElementById("mktoForm_" + marketoFormID)) {
var marketoFormEmbed = $("<form id='mktoForm_" + marketoFormID + "' style='display:none;'></form>");
$('body').append($compile(marketoFormEmbed)($scope));
}
function applyRemoteData( share, project, comments, members ) {
$scope.share = share;
$scope.project = augmentProject( project );
$scope.comments = augmentComments( comments );
$scope.members = augmentUsers( _.rejectWithProperty( members, "id", $scope.user.id ) );
$scope.hideCommentInput = false;
$scope.conversationTitle = $scope.conversationTitle;
$scope.isTeamMember = !! _.findWithProperty( members, "id", $scope.user.id );
$scope.showInternalOptions = ( sessionService.user.isAccountAuthenticated && $scope.isTeamMember );
$scope.gdprOptOutEnabled = shouldShowMarketingOptOut();
if ( comments.length ) {
$scope.isShowingTeaser = true;
} else {
$scope.isShowingTeaser = false;
}
var unsavedScreenConversation = unsavedCommentService.getUnsavedCommentForScreen($scope.screenID);
if (unsavedScreenConversation && unsavedScreenConversation.conversationID === $scope.conversation.id) {
$scope.newComment = unsavedScreenConversation.commentText;
$scope.isShowingTeaser = false;
if($location.search().sso && $scope.user.isAccountAuthenticated){
$timeout(function(){
unsavedCommentService.clear();
$(".submitComment").trigger("click");
});
}
}
}
$scope.isSigningUp = false;
function augmentComment( comment, index, collection ) {
var isFirstOrLastN = false;
var isCollapsed = false;
var isFirstCollapsed = false;
var previousCollapsedComments = [];
var commentHTML = parseCommentService.getComment( {
comment: comment.comment,
emojiParsed: comment.emojiparsedcomment,
mentions: comment.mentions
}, sessionService.user.id );
comment.isOwnedByUser = false;
if ( sessionService.user.isAccountAuthenticated ) {
comment.isOwnedByUser = ( sessionService.user.id === comment.userID );
}
isFirstOrLastN = ( index === 0 || index >= ( collection.length - 3 ) );
previousCollapsedComments = _.filterWithProperty( collection.slice( 0, index ), "isCollapsed", true );
isCollapsed = !( isFirstOrLastN || comment.isUnread );
isFirstCollapsed = isCollapsed && ( previousCollapsedComments.length === 0 );
comment.isFirstCollapsed = isFirstCollapsed;
comment.isCollapsed = isCollapsed;
comment.dateLabel = getDateLabel( comment.createdAt );
comment.niceDate = moment( comment.createdAt ).fromNow();
comment.isEditing = false;
comment.html = commentHTML;
comment.editedComment = comment.comment;
comment.isDeleting = false;
comment.userHasSystemAvatar = userService.isSystemAvatar( comment.userAvatarID );
comment.userInitials = userService.getInitials( comment.userName );
comment.userOnlineStatus = userService.getOnlineStatus( comment.userLastRequestAt );
comment.userFirstName = comment.userName.split(" ")[0];
return( comment );
}
function augmentComments( comments ) {
_.each( comments, augmentComment );
return( comments );
}
function augmentProject( project ) {
project.isOwnedByUser = ( sessionService.user.isAccountAuthenticated && ( project.userID === sessionService.user.id ) );
return( project );
}
function augmentUser( user ) {
user.initials = userService.getInitials( user.name );
user.onlineStatus = userService.getOnlineStatus( user.lastRequestAt );
user.hasSystemAvatar = userService.isSystemAvatar( user.avatarID );
return( user );
}
function augmentUsers( users ) {
_.each( users, augmentUser );
return( users );
}
function getDateLabel( createdAt ) {
return moment( createdAt ).fromNow();
}
function loadRemoteData() {
var share = shareService.getShare();
var project = projectService.getProject();
var comments = commentService.getCommentsByConversationID( $scope.conversation.id );
var members = userService.getMembers();
applyRemoteData( share, project, comments, members );
}
function saveConversation() {
Deferred.handlePromise(
conversationService.saveConversation( $scope.conversation ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't update your conversation. Try refreshing your browser." );
}
);
}
function shouldShowMarketingOptOut() {
return( config.isRequestFromGdprCountry );
}
function startConversation() {
function getConversationPromise() {
return conversationService.startConversation(
$scope.screenID,
$scope.conversation.label,
$scope.conversation.x,
$scope.conversation.y,
$scope.conversation.isForDevelopment,
$scope.conversation.isPrivate,
$scope.conversation.isTourPoint
);
}
placeholderComment.create( $scope.newComment, true );
$timeout(function() {
Deferred.handlePromise(
getConversationPromise(),
function( response ) {
$scope.conversation.id = response.id;
saveComment();
placeholderComment.destroy();
},
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't save your comment. Try refreshing your browser." );
response.message = "[form-controller:startConversation] For some reason, we couldn't save your comment.";
errorLogService.exceptionHandler(response);
}
);
}, 1000);
}
function updatePrivacySettings( isForDevelopment, isPrivate, isTourPoint ) {
$scope.conversation.isForDevelopment = isForDevelopment;
$scope.conversation.isPrivate = isPrivate;
$scope.conversation.isTourPoint = isTourPoint;
$scope.isInternalConversation = ( isForDevelopment || isPrivate );
setMarkerLabel( true );
if ( $scope.conversation.id  ) {
saveConversation();
}
}
var placeholderComment = {
current: false,
create:function( newComment, isNewConversation ) {
if(this.current) {
return this.current;
}
isNewConversation = isNewConversation || false;
$scope.newComment = isNewConversation ? newComment : "";
$scope.setMarkersAsClean();
$scope.$broadcast( "invSuccessButton:success" );
var createdAt = new Date().getTime();
var interstitial = {
userName: $scope.user.name || "Me",
userFirstName: $scope.user.name.split(" ")[0],
userAvatarID: $scope.user.avatarID || 0,
userHasSystemAvatar: $scope.user.isAnonymous || $scope.user.hasSystemAvatar,
userInitials: $scope.user.initials || "ME",
dateLabel: "Just Now",
comment: newComment,
html: parseCommentService.getComment( {
comment: newComment,
mentions: mentionStorage.get()
}, sessionService.user.id ),
sketches: [],
isEditing: false,
numberOfLikes: 0,
likedBy: [],
conversationID: $scope.conversation.id,
isPlaceholder: true,
createdAt: createdAt
};
$scope.comments.push( interstitial );
if( !isNewConversation ){
config.comments.push( interstitial );
}
this.current = interstitial;
return this;
},
destroy: function() {
this.current = false;
return this;
}
}
function saveComment() {
analyticsService.trackGrowth("App - Public Share - Add Comment", {
Location: "Public Share",
"Is Reply": !!$scope.comments.length,
"Logged In": !!sessionService.user.isAccountAuthenticated
});
$scope.hideCommentInput = true;
function processCommentSave() {
Deferred.handlePromise(
commentService.addComment( $scope.conversation.id, newComment, mentions ),
function( response ) {
submissionInProgress = false;
projectViewingService.incrementCommentCount( $scope.share.id );
setMarkerLabel();
unsavedCommentService.clear();
},
function( error ) {
submissionInProgress = false;
$scope.openModalWindow( "error", "For some reason, we couldn't save your comment. Try refreshing your browser." );
error.message = "[form-controller:saveComment] For some reason, we couldn't save your comment.";
errorLogService.exceptionHandler(error);
}
);
}
if ( ! $scope.conversation.id ) {
return( startConversation() );
}
var newComment = $scope.newComment;
var mentions = mentionStorage.get();
placeholderComment.create( newComment, false );
processCommentSave();
screenService.alterCommentCount( $scope.conversation.screenID, 1 );
analyticsService.track(
"Comment.Added",
{
username: $scope.user.email,  // can't comment if not authenticated
isReply: $scope.comments.length > 1,
isAuthenticated: $scope.user.isAccountAuthenticated,
commentType: $scope.currentCommentType,
commentLocation: "share",
userNotified: ( mentions.length > 0 ),
passwordGiven: $scope.passwordGiven,
containsMention: mentionUtilities.hasNonInvites(mentions),
containsInvite: mentionUtilities.hasInvites(mentions)
}
);
}
function setMarkerLabel( skipSave ) {
skipSave = !! skipSave;
if( ! $scope.conversation ) {
return;
}
if( ! isNaN(parseInt($scope.conversation.label, 10)) && ! $scope.conversation.isTourPoint ) {
return;
}
var getNewLabel = false;
var clearLabel = false;
if ( $scope.conversation.isTourPoint ) {
var comments = ( !! $scope.comments ) ? _.filter($scope.comments, { "conversationID": $scope.conversation.id }) : [];
if ( !! comments && comments.length > 1 && isNaN(parseInt($scope.conversation.label, 10)) ) {
getNewLabel = true;
} else if( ! comments || (!! comments && comments.length <= 1 && ! isNaN(parseInt($scope.conversation.label, 10))) ) {
clearLabel = true;
}
} else if ( isNaN(parseInt($scope.conversation.label, 10)) ) {
getNewLabel = true;
}
if ( getNewLabel ) {
var labels = _.pluck( $scope.conversations, "label" );
var maxLabel = _.max(
labels,
function( label ) {
if ( label === "" ) {
return 0;
} else {
return( parseInt( label, 10 ) );
}
}
);
$scope.conversation.label = ( ( parseInt( maxLabel, 10 ) || 0 ) + 1 );
if ( $scope.conversation.label === 0 ) {
$scope.conversation.label = "";
}
if ( !! $scope.conversation.id && $scope.conversation.id > 0 ) {
if ( ! skipSave ) {
conversationService.saveConversation( $scope.conversation );
}
}
} else if ( clearLabel ) {
$scope.conversation.label = "";
if ( !! $scope.conversation.id && $scope.conversation.id > 0 ) {
if ( ! skipSave ) {
conversationService.saveConversation( $scope.conversation );
}
}
}
}
$scope.showNewCommentForm = function() {
$scope.stopEditingComments();
$scope.isShowingTeaser = false;
};
$scope.closeIdentifyForm = function() {
$scope.isAuthenticating = false;
};
$scope.submitLoginForm = function () {
$scope.errorMessage = "";
if ( isEmailPasswordRequirementSatisfied() ) {
$scope.currentEmail = $scope.identity.email;
$scope.isSigningIn = true;
authenticateUser( "login" );
}
};
$scope.$on('shareAuthenticationChanged', function(){
setTimeout(function(){
angular.element('.submitComment').triggerHandler('click');
}, 200)
});
$scope.addComment = function() {
if ( submissionInProgress ){
return;
}
if ( ! _.trim( $scope.newComment ) ) {
return;
}
if (!sessionService.user.isAccountAuthenticated) {
if ( sessionService.user.isAnonymous ) {
$scope.openModalWindow( 'auth', {
showSignup: true,
showWelcomeUser: false,
isFullScreenMode: false
});
return;
} else if ( $scope.user.isUserValidationRequired ) {
$scope.isAuthenticating = true;
$scope.currentEmail = $scope.identity.email || sessionService.user.email;
return;
}
}
submissionInProgress = true;
saveComment();
};
$scope.stopEditingComments = function() {
_.setProperty( $scope.comments, "isEditing", false );
};
$scope.deleteComment = function( comment ) {
Deferred.handlePromise(
commentService.deleteComment( comment.id ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't delete your comment. Try refreshing your browser." );
}
);
$scope.comments = _.without( $scope.comments, comment );
setMarkerLabel();
screenService.alterCommentCount( $scope.conversation.screenID, -1 );
};
$scope.deleteSketch = function( sketchID ) {
conversationService.deleteSketch( sketchID );
for( var c = 0; c < $scope.comments.length; c++){
$scope.comments[c].sketches = _.rejectWithProperty( $scope.comments[c].sketches, "id", sketchID );
}
};
$scope.editComment = function( comment ) {
$scope.stopEditingComments();
$scope.isShowingTeaser = true;
comment.isEditing = true;
comment.editedComment = comment.comment;
mentionStorage.set( comment.mentions );
};
$scope.expandComments = function( ) {
var comments = $scope.comments;
_.setProperty( comments, "isCollapsed", false );
};
$scope.hideDeleteConfirmation = function( comment ) {
( comment || $scope ).isDeleting = false;
};
function getPasswordPolicyChecks(password) {
var response = {
valid: true,
message: ""
},
interimText = "include at least ",
messages = [];
var passwordPolicy = config.companySettings.passwordPolicy;
var regexes = passwordRegexes;
function buildPasswordMessageFromArray( messageArray ) {
var message = "Your password must ",
separator = "";
for( var i = 0; i < messageArray.length; i++ ) {
if ( messageArray.length > 1 && i === messageArray.length-1 ) {
separator = ", and ";
}
message += separator + messageArray[i].interim+ messageArray[i].msg;
separator = ", ";
}
return message + ".";
}
if ( 
password.length < passwordPolicy.minimumPasswordLength
) {
messages.push({interim: "be at least ", msg: passwordPolicy.minimumPasswordLength + " characters long"});
response.valid = false;
}
if ( 
passwordPolicy.requireOneUppercase && !regexes.oneUppercase.test(password)
) {
messages.push({interim: interimText, msg: "one uppercase character"});
response.valid = false;
interimText = "";
}
if ( 
passwordPolicy.requireOneLowercase && !regexes.oneLowercase.test(password)
) {
messages.push({interim: interimText, msg: "one lowercase character"});
response.valid = false;
interimText = "";
}
if ( 
passwordPolicy.requireOneNumber && !regexes.oneNumber.test(password)
) {
messages.push({interim:interimText, msg: "one number"});
response.valid = false;
interimText = "";
}
if ( 
passwordPolicy.requireOneSymbol && !regexes.oneSymbol.test(password)
) {
messages.push({interim:interimText, msg: "one symbol"});
response.valid = false;
interimText = "";
}
if ( !response.valid ) {
response.message = buildPasswordMessageFromArray( messages );
}
return response;
}
/** I check if name and email are present in the identify form.
* @returns {Boolean}
**/
function isFormValid() {
if ( ! $scope.identity.name ) {
$scope.errorMessage = "Please enter your name.";
return false;
}
if ( ! $scope.identity.email ) {
$scope.errorMessage = "Please enter your email.";
return false;
}
if ( ! mentionUtilities.isEmailAddress( $scope.identity.email ) ) {
$scope.errorMessage = "Please enter a valid email address.";
return false;
}
var passwordChecks = getPasswordPolicyChecks($scope.identity.password);
if ( $scope.signupRequiredForComment && !passwordChecks.valid ) {
$scope.errorMessage = passwordChecks.message;
return false;
}
return true;
}
/** I check if email/password requirement is met
* @returns {Boolean}
**/
function isEmailPasswordRequirementSatisfied() {
if ( ! $scope.identity.password ) {
$scope.errorMessage = "Please enter your password.";
return false;
}
return true;
}
function authenticateUser( workflow ) {
shareService
.validateUser( $scope.currentEmail, $scope.identity.password, $scope.project.id, $scope.user.id, workflow )
.then( function( response ) {
$scope.isAuthenticating = false;
$scope.passwordGiven = true;
$scope.errorMessage = "";
$scope.isSigningUp = false;
$scope.isSigningIn = false;
sessionService.authenticate().then(function(){
analyticsService.setSubscriptionInfo(sessionService.subscription);
$scope.addComment();
$scope.$emit('shareAuthenticationChanged');
});
})
.catch( function( response ) {
$scope.isSigningIn = false;
if ( validationService.isInvalidField( response ) ) {
$scope.errorMessage = INVALID_PASSWORD_ERROR;
} else if ( validationService.isForbidden( response ) ) {
$scope.errorMessage = FORBIDDEN_ERROR;
} else if ( validationService.isTooManyAttempts( response ) ) {
$scope.errorMessage = BRUTEFORCE_ERROR;
} else {
$scope.errorMessage = UNEXPECTED_ERROR;
}
})
;
}
$scope.handleKeyDown = function(e) {
if ($scope.isAuthenticating) {
e.preventDefault();
$scope.submitFormPassword();
}
};
$scope.handleKeyDownAuth = function(e) {
if ($scope.showLogin) {
e.preventDefault();
$scope.submitLoginForm();
} else if ($scope.showSignup) {
e.preventDefault();
$scope.submitFormSignup();
}
};
$scope.saveComment = function( comment ) {
var newComment = _.trim( comment.comment );
if ( !newComment ) {
return( comment.isEditing = false );
}
Deferred.handlePromise(
commentService.updateComment( comment.id, comment.conversationID, newComment ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't save your comment. Try refreshing your browser." );
response.message = "[form-controller:$scope.saveComment] For some reason, we couldn't save your comment.";
errorLogService.exceptionHandler(response);
}
);
comment.comment = newComment;
comment.mentions = mentionStorage.get();
comment.html = parseCommentService.getComment( {
comment: newComment,
mentions: comment.mentions
}, sessionService.user.id );
comment.isEditing = false;
$scope.isShowingTeaser = true;
setMarkerLabel();
$scope.$broadcast("commentChanged");
};
$scope.showDeleteConfirmation = function( comment, isFirstComment ) {
if ( isFirstComment ) {
$scope.isDeleting = true;
} else {
comment.isDeleting = true;
}
};
$scope.submitForm = function( comment ) {
$scope.errorMessage = "";
$scope.newComment = comment.comment;
$scope.addComment();
};
$scope.submitFormPassword = function() {
$scope.errorMessage = "";
if ( $scope.isAuthenticating && isEmailPasswordRequirementSatisfied() ) {
authenticateUser( "login2" );
}
};
$scope.submitFormSignup = function( comment ) {
comment = comment || { comment: '' };
$scope.errorMessage = "";
$scope.newComment = comment.comment;
if ( isFormValid() ) {
$scope.isSigningUp = true;
shareService
.getExistingUser( $scope.identity.email )
.then( function( response ) {
var isExistingUser = response && response.name;
if ( isExistingUser ) {
$scope.user.tempAvatar = response.avatarID;
$scope.user.tempInitials = userService.getInitials( response.name );
$scope.user.hasSystemAvatar = userService.isSystemAvatar( response.avatarID );
$scope.isAuthenticating = true;
$scope.currentEmail = $scope.identity.email;
$scope.isSigningUp = false;
$scope.addComment();
$scope.$emit('shareAuthenticationSignupError:existingUser');
} else {
var newAccountCriteria = {
name: $scope.identity.name,
email: $scope.identity.email,
password: $scope.identity.password,
marketingOptOut: !! ( $scope.gdprOptOutEnabled && $scope.identity.optout )
};
accountService
.createAccount( newAccountCriteria )
.then( function() {
$scope.currentEmail = $scope.identity.email;
document.cookie = "PUSHGAQSIGNUPEVENT=; path=/; domain="+window.location.hostname.match(/\.\w+\.\w+$/g)[0]+"; expires=" + new Date(0).toUTCString();
var mktoFields = {};
var nameString = document.getElementById('identity.signup-name').value;
var nameArray = nameString.split(" ");
var marketoFirstName = nameArray[0];
var marketoLastName = "";
if (nameArray.length > 1) {
marketoLastName = nameArray[1];
}
if (MktoForms2) {
MktoForms2.loadForm("//" + marketoDomain, marketoMunchkinId, marketoFormID);
MktoForms2.whenReady(function(mktoFormReturn) {
if (document.getElementById("identity.signup-email") && document.getElementById("identity.signup-email").value != "") {
mktoFields["Email"] = document.getElementById("identity.signup-email").value;
} else {
mktoFields["Email"] = $scope.identity.email;
}
mktoFields["FirstName"] = marketoFirstName;
mktoFields["LastName"] = marketoLastName;
if ($scope.gdprOptOutEnabled) {
var el = document.getElementById("identity.signup-opt-out");
if (el) {
if (el.checked) {
mktoFields["Marketo_Consent_Opt_In__c"] = false;
} else {
mktoFields["Marketo_Consent_Opt_In__c"] = true;
}
} else {
mktoFields["Marketo_Consent_Opt_In__c"] = true;
}
} else {
mktoFields["Marketo_Consent_Opt_In__c"] = true;
}
var success = false;
mktoFormReturn.addHiddenFields(mktoFields);
mktoFormReturn.onSubmit(function() {
setTimeout(function() {
if (!success) {
authenticateUser("signup");
}
}, 2000);
});
mktoFormReturn.onSuccess(function(values, followUpUrl) {
success = true;
authenticateUser( "signup" );
return false;
});
mktoFormReturn.submit();
});		
}
})								
.catch( function(response) {
if ( validationService.isInvalidNameField( response ) ) {
$scope.errorMessage = INVALID_NAME_FIELD_ERROR;
} else {
$scope.errorMessage = UNEXPECTED_ERROR;
}
$scope.isSigningUp = false;
});
}
}).catch(
function handleFailures() {
$scope.errorMessage = EXISTING_CHECK_ERROR;
$scope.isSigningUp = false;
}
);
}
}
$scope.$on('shareAuthenticationSetErrorMessage', function(event, message){
$scope.errorMessage = message;
});
$scope.setTypeAsComment = function() {
updatePrivacySettings( false, false, false );
$scope.setCurrentCommentType("comment");
$scope.isNewTourPoint = false;
};
$scope.setTypeAsPrivateComment = function(){
updatePrivacySettings( false, true, false );
$scope.setCurrentCommentType("private-comment");
$scope.isNewTourPoint = false;
};
$scope.setTypeAsDevNote = function() {
updatePrivacySettings( true, true, false );
$scope.setCurrentCommentType("dev-note");
$scope.isNewTourPoint = false;
};
$scope.setTypeAsTourPoint = function() {
updatePrivacySettings( false, false, true );
$scope.setCurrentCommentType("tour-point");
$scope.isNewTourPoint = ! $scope.conversation.id || $scope.conversation.id === 0;
};
$scope.closeCommentFormOnSave = function(conversationID) {
if( $scope.conversation.isTourPoint && !! $scope.conversation.id ) {
$scope.isNewTourPoint = false;
}
$scope.closeJustThisConversationPanel(conversationID);
};
$scope.toggleIsForDevelopment = function() {
updatePrivacySettings( ! $scope.conversation.isForDevelopment, $scope.conversation.isPrivate, false );
};
$scope.toggleIsPrivate = function() {
updatePrivacySettings( $scope.conversation.isForDevelopment, ! $scope.conversation.isPrivate, false );
};
$scope.toggleLike = function( comment ) {
comment.hasUserLiked = !comment.hasUserLiked;
if( comment.hasUserLiked ) {
comment.numberOfLikes++;
var hasNotLiked = _.isUndefined( _.findWithProperty( comment.likedBy, 'email', sessionService.user.email ) );
if( hasNotLiked ) {
comment.likedBy.unshift( { name: sessionService.user.name, email: sessionService.user.email } );
}
var isReply = !!_.find($scope.comments,function(item,x) {
return x > 0 && item.id === comment.id;
});
analyticsService.track(
"Comment.Liked",
{
username: sessionService.user.email,
commentLocation: "share",
isReply: isReply
}
);
} else {
comment.numberOfLikes--;
comment.likedBy = _.rejectWithProperty( comment.likedBy, "email", sessionService.user.email );
}
comment.likedByList = commentService.formatCommentLikers( comment );
conversationService.toggleCommentLike( comment.id, comment.conversationID );
};
$scope.updateConversationStatus = function( conversation ) {
var methodName = ( conversation.isComplete ? "markComplete" : "markIncomplete" );
Deferred.handlePromise(
conversationService[ methodName ]( conversation.id ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't update the conversation. Try refreshing your browser." );
}
);
if ( conversation.isComplete ) {
$timeout(
function() {
$scope.closeConversation();
},
250
);
}
};
$scope.share = null;
$scope.project = null;
$scope.conversation = $scope.selectedConversation || $scope.newConversation || {};
$scope.isNewTourPoint = $scope.conversation.isTourPoint && (! $scope.conversation.id || $scope.conversation.id === 0);
$scope.showInternalOptions = false;
$scope.comments = [];
$scope.isDeleting = false;
$scope.isAuthenticating = false;
$scope.passwordGiven = false;
$scope.identity = {
name: "",
email: "",
password: ""
};
$scope.members = [];
$scope.isInternalConversation = ( $scope.conversation.isForDevelopment || $scope.conversation.isPrivate );
$scope.isShowingTeaser = true;
$scope.newComment = "";
$scope.canLike = !sessionService.user.isAnonymous;
$scope.hasInitialMentions = !sessionService.user.isAnonymous;
$scope.canEdit = sessionService.user.isAccountAuthenticated;
$scope.isTeamMember = false;
$scope.errorMessage = null;
$scope.conversationTitle = "Start a conversation";
$scope.currentEmail = "";
var isEnterprise = config && config.companySettings && config.companySettings.isEnterprise;
var disableSingleTenantSignupToComment = config.singleTenantConfig && config.singleTenantConfig.disableSingleTenantSignupToComment;
var requireSignupToCommentEnterprise = isEnterprise && !disableSingleTenantSignupToComment;
var requireSignupToCommentNonEnterprise = !isEnterprise;
$scope.signupRequiredForComment = (requireSignupToCommentNonEnterprise || requireSignupToCommentEnterprise);
var GENERAL_ERROR = "Something went wrong. Please refresh your browser.";
var INVALID_NAME_FIELD_ERROR = "Your name contains invalid characters.";
var INVALID_FIELD_ERROR = "Please enter a valid name and email address.";
var INVALID_PASSWORD_ERROR = $sce.trustAsHtml("Sorry, password isn't right. We can help you <a class='underline' href='/d/password/requestReset' target='_blank'>recover your password.</a>");
var UNEXPECTED_ERROR = "Unexpected error.";
var BRUTEFORCE_ERROR = "Sorry, you have attempted to login too many times.";
var FORBIDDEN_ERROR = "Something is funky - it looks like you already identified yourself. Try refreshing your browser - that should fix it.";
var EXISTING_CHECK_ERROR = "Something went wrong with the sign-up process. Please wait a moment and try again.";
$scope.$on(
"$destroy",
function( event ) {
if (
$scope.conversation.id &&
_.findWithProperty( $scope.comments, "isUnread", true )
) {
conversationService.markRead( $scope.conversation.id );
}
}
);
$scope.$on( "configUpdated.share", function( event, response ){
$scope.members = augmentUsers( _.rejectWithProperty( response.members, "id", $scope.user.id ) );
});
var submissionInProgress = false;
var unwatchNewComment = $scope.$watch(
"newComment",
function( newValue, oldValue ) {
if ( newValue === oldValue ) {
return;
}
$scope.setMarkersAsDirty();
unwatchNewComment();
}
);
$scope.$on("$selectEmoji", addEmoji );
$scope.$on("$typeaheadEmoji", typeaheadEmoji );
function addEmoji( event, commentVal, emoji, target ) {
var emojiItem = ":" + emoji + ":";
if ( typeof target === "undefined") {
$scope.newComment = commentVal + emojiItem;
$scope.showCommentInput();
}
else {
target.comment = commentVal + emojiItem;
}
}
function typeaheadEmoji( event, emoji, caretPos, target ) {
var comment = "";
if ( typeof target === "undefined" ) {
comment = emojiService.splitEmoji( $scope.newComment, caretPos );
$scope.newComment = comment.before + comment.colon + emoji + ": " + comment.after;
}
else {
comment = emojiService.splitEmoji( target.comment, caretPos );
target.comment = comment.before + comment.colon + emoji + ": " + comment.after;
}
}
$scope.$on(
"reloadComments",
function() {
var comments = commentService.getCommentsByConversationID( $scope.conversation.id );
$scope.comments = hashKeyCopier.copyHashKeys(augmentComments( comments ), $scope.comments);
}
);
modelEvents.on(
"shareIdentityChanged.commentsFormController",
function( event, user ) {
_.extendExistingProperties( $scope.user, user );
$scope.user.hasSystemAvatar = userService.isSystemAvatar( $scope.user.avatarID );
$scope.user.initials = userService.getInitials( $scope.user.name );
var subdomain = window.location.hostname.split(".")[0];
var analyticsUserID = (config.singleTenantConfig && config.singleTenantConfig.useSingleTenantAnalytics) ? subdomain + "-" + $scope.user.id : $scope.user.id;
analyticsService.identifyGrowth( analyticsUserID, {
"Full Name": $scope.user.name,
Email: $scope.user.email,
"Last Activity": moment($scope.user.lastRequestAt).format("YYYY-MM-DD HH:mm:ss")
});
analyticsService.trackGrowth("App - Login",{
"Login Type": "Email",
"Login Location": "Share"
});
document.cookie = "LOGINEVENTSOURCE=; path=/; domain="+window.location.hostname.match(/\.\w+\.\w+$/g)[0]+"; expires=" + new Date(0).toUTCString();
}
);
loadRemoteData();
}
})( angular, InVision );
;
;
/*! markers-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "comments.MarkersController", Controller );
/** @ngInject */
function Controller(
$location,
$scope,
$timeout,
_,
analyticsService,
commentService,
config,
conversationService,
Deferred,
modelEvents,
requestContext,
screenService,
sessionService,
userService,
unsavedCommentService
){
function applyData() {
$scope.viewport.width = $scope.screen.width * $scope.screen.displayScale;
$scope.viewport.height = $scope.screen.height * $scope.screen.displayScale;
$scope.viewport.alignment = $scope.screen.alignment;
$scope.handleUnsavedComment();
loadConversation();
}
function loadConversations( screenID ){
$scope.reloadConversations();
applyData();
}
function getNewConversationLabel() {
var maxLabel = 0;
for ( var i = 0, length = $scope.conversations.length ; i < length ; i++ ) {
if( ! isNaN(parseInt( $scope.conversations[ i ].label, 10 )) ) {
maxLabel = Math.max( maxLabel, parseInt( $scope.conversations[ i ].label, 10 ) );
}
}
return( maxLabel + 1 );
}
function loadConversation(conversationID) {
var manualConversationID = !! conversationID;
conversationID = conversationID || requestContext.getParamAsInt( "conversationID", 0 );
if ( conversationID ) {
analyticsService.trackGrowth("App - Public Share - Open Comment Modal", {
Location: "Public Share",
"Is Reply": true,
"Logged In": !!sessionService.user.isAccountAuthenticated
});
$scope.setIsShowingConversationMenu( false );
$scope.selectedConversation = null;
$scope.newConversation = null;
$scope.$emit("all.closeCommentContext");
$timeout(function() {
$scope.selectedConversation = _.findWithProperty( $scope.conversations, "id", conversationID );
$scope.setIsShowingConversationMenu( true );
if ( ! $scope.selectedConversation && ! manualConversationID ) {
$location.url( "/screens/" + $scope.screenID + "/comments" );
}
if ( ! $scope.selectedConversation ) {
return;
}
analyticsService.track(
"Comment.Viewed",
{
username: sessionService.user.email,
commentType: conversationService.getMarkerType( $scope.selectedConversation ),
commentLocation: "share",
wasUnread: $scope.selectedConversation.isUnread,
viewedSidebar: false
},
{
integrations: {
All: true,
Mixpanel: true
}
}
);
});
}
}
function isUserACollaborator(){
var user = sessionService.user;
var members = userService.getMembers();
var isTeamMember = !! _.findWithProperty( members, "id", user.id );
return ( user.isAccountAuthenticated && isTeamMember);
}
$scope.handleUnsavedComment = function() {
var unsavedConversation = unsavedCommentService.getUnsavedCommentForScreen($scope.screenID);
if (unsavedConversation) {
if (unsavedConversation.conversationID === 0) {
$scope.startNewConversation(
unsavedConversation.x * $scope.screen.displayScale,
unsavedConversation.y * $scope.screen.displayScale
);
} else if (unsavedConversation.conversationID > 0) {
loadConversation(unsavedConversation.conversationID);
}
}
}
$scope.areMarkersDirty = function() {
return( hasActiveMarkerWithDirtyData );
};
$scope.closeConversation = function(isScreenChange) {
if( $scope.selectedConversation && !isScreenChange ){
$scope.markConversationAsRead( $scope.selectedConversation );
}
$scope.newConversation = null;
$scope.selectedConversation = null;
$scope.isCommentInputVisible = false;
hasActiveMarkerWithDirtyData = false;
if (!isScreenChange) {
$location.url( "/screens/" + $scope.screenID + "/comments" );
}
$scope.setIsShowingConversationMenu( false );
};
$scope.closeJustThisConversationPanel = function(currentConversationID) {
if ( ! $scope.selectedConversation ) {
$scope.closeConversation();
return;
}
if ( currentConversationID === $scope.selectedConversation.id ) {
$scope.closeConversation();
}
};
$scope.deleteConversation = function( conversation ) {
var comments = commentService.getCommentsByConversationID( conversation.id );
Deferred.handlePromise(
conversationService.deleteConversation( conversation.id ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't delete the conversation. Try refreshing your browser." );
}
);
$scope.setConversations( _.without( $scope.conversations, conversation ) );
$scope.selectedConversation = null;
screenService.alterCommentCount( conversation.screenID, -comments.length );
};
$scope.setMarkersAsDirty = function() {
hasActiveMarkerWithDirtyData = true;
};
$scope.setMarkersAsClean = function() {
hasActiveMarkerWithDirtyData = false;
};
$scope.showNextConversation = function() {
var currentIndex = _.indexOf( $scope.conversations, $scope.selectedConversation );
var nextIndex = ( currentIndex + 1 );
var nextConversation = ( $scope.conversations[ nextIndex ] || _.first( $scope.conversations ) );
$location.url( "/screens/" + $scope.screenID + "/comments/" + nextConversation.id );
};
$scope.showPreviousConversation = function() {
var currentIndex = _.indexOf( $scope.conversations, $scope.selectedConversation );
var previousIndex = ( currentIndex - 1 );
var previousConversation = ( $scope.conversations[ previousIndex ] || _.last( $scope.conversations ) );
$location.url( "/screens/" + $scope.screenID + "/comments/" + previousConversation.id );
};
$scope.startNewConversation = function( x, y ) {
analyticsService.trackGrowth("App - Public Share - Open Comment Modal", {
Location: "Public Share",
"Is Reply": false,
"Logged In": !!sessionService.user.isAccountAuthenticated
});
$scope.newConversation = {
id: 0,
x: x / $scope.screen.displayScale,
y: y / $scope.screen.displayScale,
label: $scope.currentCommentType === "tour-point" ? "" : getNewConversationLabel(),
screenID: $scope.screenID,
isForDevelopment: $scope.currentCommentType === "dev-note" ? true :false,
isPrivate: $scope.currentCommentType === "dev-note" || $scope.currentCommentType === "private-comment" ? true : false,
isTourPoint: $scope.currentCommentType === "tour-point" ? true : false,
isComplete: false
};
$scope.isCommentInputVisible = true;
$scope.setIsShowingConversationMenu( true );
analyticsService.track(
"Comment.AnnotationPlaced",
{
username: sessionService.user.email,
commentType: "comment",
commentLocation: "share"
}
);
$scope.$emit("all.closeCommentContext");
};
$scope.updateConversationPosition = function( conversation, x, y ) {
conversation.x = x / $scope.screen.displayScale;
conversation.y = y / $scope.screen.displayScale;
Deferred.handlePromise(
conversationService.changePosition( conversation.id, x / $scope.screen.displayScale, y / $scope.screen.displayScale ),
null,
function( response ) {
$scope.openModalWindow( "error", "For some reason, we couldn't update the position of the conversation. Try refreshing your browser." );
}
);
};
$scope.updateNewConversationPosition = function( x, y ) {
$scope.newConversation.x = x / $scope.screen.displayScale;
$scope.newConversation.y = y / $scope.screen.displayScale;
};
var renderContext = requestContext.getRenderContext( "comments", [ "screenID", "conversationID" ] );
var hasActiveMarkerWithDirtyData = false;
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
$scope.selectedConversation = null;
$scope.newConversation = null;
$scope.viewport = {
width: 0,
height: 0,
alignment: "center"
};
$scope.userAuthenticated = config.user.isAccountAuthenticated;
$scope.isUserACollaborator = isUserACollaborator();
$scope.$on( "mentionText.editing", function( event, isDirty ) {
if ( !isDirty ) {
$scope.setMarkersAsClean();
} else {
$scope.setMarkersAsDirty();
}
});
$scope.$on(
"$destroy",
function() {
modelEvents.off( "conversationCreated.commentsMarkers" );
modelEvents.off( "conversationUpdated.commentsMarkers" );
}
);
$scope.$on(
"requestContextChanged",
function() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
hasActiveMarkerWithDirtyData = false;
if ( requestContext.hasParamChanged( "screenID" ) ) {
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
$scope.closeConversation(true);
loadConversations( $scope.screenID );
} else if ( requestContext.hasParamChanged( "conversationID" ) ) {
loadConversation();
}
}
);
$scope.$on(
"conversationSelected",
function(event, conversation) {
if( ! $scope.selectedConversation ) {
$scope.selectedConversation = conversation;
} else if( !! conversation ) {
loadConversation(conversation.id);
} else {
$scope.selectedConversation = null;
}
}
);
modelEvents.on(
"conversationCreated.commentsMarkers",
function( event, conversation ) {
if ( conversation.screenID !== $scope.screenID ) {
return;
}
loadConversations( $scope.screenID );
}
);
modelEvents.on(
"conversationUpdated.commentsMarkers",
function( event, conversation ) {
if ( conversation.screenID !== $scope.screenID ) {
return;
}
var cachedConversation = _.findWithProperty( $scope.conversations, "id", conversation.id );
if ( cachedConversation ) {
cachedConversation.isComplete = conversation.isComplete;
}
}
);
modelEvents.on(
"conversationDeleted.commentsMarkers",
function( event, conversationID ){
if( $scope.selectedConversation ){
if( conversationID == $scope.selectedConversation.id){
$scope.selectedConversation = null;
}
}
}
);
applyData();
}
})( angular, InVision );
;
;
/*! modal-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "layouts.ModalController", Controller );
/** @ngInject */
function Controller( $scope, modalWindowRequest, beforeUnloadService, _ ) {
var originalBodyClass = "";
var isPageRefreshing = false;
$scope.subview = null;
$scope.nextSubview = null;
$scope.$on(
"modalWindowHidden",
function( event ) {
$scope.subview = $scope.nextSubview;
$scope.nextSubview = null;
if( $scope.subview === null ) {
$scope.setBodyClass( originalBodyClass );
}
}
);
$scope.$on(
"openModalWindow",
function( event, modalType, modalData ) {
if ( isPageRefreshing ) {
return;
}
if ( $scope.subview === null ) {
modalWindowRequest.setRequest( modalType, modalData );
$scope.subview = modalType;
originalBodyClass = $scope.bodyClass;
$scope.setBodyClass( $scope.bodyClass + " modal-open" );
} else if ( modalType === "error" && $scope.subview === modalType ) {
return;
} else {
modalWindowRequest.setRequest( modalType, modalData, true ); // TRUE == suppress fade
$scope.nextSubview = modalType;
$scope.$broadcast( "closeModalWindowWithoutFade" );
}
}
);
beforeUnloadService.push(
this,
function() {
isPageRefreshing = true;
setTimeout(
function() {
isPageRefreshing = false;
},
1000
);
}
);
}
})( angular, InVision );
;
;
/*! loading-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "loading.LoadingController", Controller );
/** @ngInject */
function Controller( $scope, config ){
$scope.loadingSequenceCompleted = function() {
$scope.closeLoading();
};
$scope.percentLoaded = 0;
$scope.$watch(
function() {
return ( $scope.getPercentOfScreensLoaded() );
},
function( newValue ) {
$scope.percentLoaded = newValue;
}
);
}
})( angular, InVision );
;
;
/*! offline-loading-controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "loading.OfflineLoadingController", OfflineLoadingController );
function OfflineLoadingController( $scope, config ) {
$scope.percentLoaded = 0;
$scope.$watch(
function getViewModel() {
return ( $scope.getPercentOfScreensLoaded() );
},
function handleViewModelChange( newValue ) {
$scope.percentLoaded = newValue;
if ( $scope.percentLoaded > config.LOADING_COMPLETE_PERCENT ) {
closeLoadingSequence();
}
}
);
function closeLoadingSequence() {
$scope.setDesktopLoadingForGifIsReady( true );
ng.element( ".m-offline-loading" ).fadeOut(
250,
function handleFadedOut() {
$scope.$apply( $scope.closeLoading );
}
);
}
}
})( angular, InVision );
;
;
/*! auth-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "modal.Auth", Controller );
function Controller( $scope, $window, analyticsService, config, modalWindowRequest ) {
var modalData = modalWindowRequest.getData( 0 ) || {};
var companySettings = (config && config.companySettings || {});
var isEnterprise = companySettings.isEnterprise;
$scope.showSignup = modalData.showSignup === undefined ? true : modalData.showSignup;
$scope.showLogin = !$scope.showSignup;
$scope.showWelcomeUser = modalData.showWelcomeUser === undefined ? true : modalData.showWelcomeUser;
$scope.isFullScreenMode = modalData.isFullScreenMode === undefined ? true : modalData.isFullScreenMode;
$scope.ssoEnabled = companySettings.isSSO;
$scope.ssoOnly = companySettings.isSSOOnly;
$scope.companyImage = companySettings.companyLogo ? ('/logos/' + companySettings.companyLogo) : null;
$scope.companyName = companySettings.companyName;
$scope.ssoURL = '/sso/sp_login?redir=' + encodeURIComponent(window.location.pathname + '#' + $scope.generateCommentUrl() + '?welcome=true&sso=true');
analyticsService.track("Comment.SignupFormView");
analyticsService.trackGrowth("App - Signup - View Signup Form", {
"Flow": isEnterprise ? "Signup to Comment Modal - Enterprise" : "Signup to Comment Modal",
"Triggered By": modalData.trigger === 'banner' ?  "Share Banner" : "Comment Mode Toggle"
});
$scope.closeModal = function(){
$scope.closeModalWindow();
};
$scope.ssoLinkClick = function(){
analyticsService.trackGrowth("App - Signup - Click SSO Login Link");
};
$scope.switchPrompt = function(requireSignIn){
$scope.setErrorMessage(/*empty*/);
$scope.showSignup = !requireSignIn && !$scope.showSignup;
$scope.showLogin = requireSignIn || !$scope.showLogin;
};
$scope.$on('shareAuthenticationChanged', function(){
$scope.closeModal();
setTimeout(function(){
if($scope.showWelcomeUser) {
$scope.openModalWindow( 'welcomeUser', {fromSignUp: $scope.showSignup});
}
}, 200)
});
$scope.$on('shareAuthenticationSignupError:existingUser', function(){
$scope.switchPrompt(/*requireSignIn*/ true);
});
$scope.setErrorMessage = function(message){
$scope.$broadcast('shareAuthenticationSetErrorMessage', message || '');
};
}
})( angular, InVision );
;
;
/*! error-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "modal.ErrorController", Controller );
/** @ngInject */
function Controller( $scope, modalWindowRequest, _ ) {
$scope.errorMessage = modalWindowRequest.getData( 0 );
}
})( angular, InVision );
;
;
/*! welcome-user-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "modal.WelcomeUser", Controller );
function Controller( $scope, $timeout, modalWindowRequest, sessionService ) {
var modalData = modalWindowRequest.getData( 0 ) || {};
$scope.signedUp = !!modalData.fromSignUp;
$scope.user = sessionService.user;
$scope.closeModal = function(){
$scope.closeModalWindow();
};
$timeout(function(){
$scope.closeModal();
$scope.navigateToScreenComments();
}, 4000);
}
})( angular, InVision );
;
;
/*! preview-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "preview.PreviewController", Controller );
/** @ngInject */
function Controller(
$scope,
$rootScope,
$timeout,
$window,
requestContext,
hotspotService,
projectService,
screenService,
sessionService,
commentService,
userService,
shareService,
_,
config,
$q,
conversationService
) {
var vm = this;
var tourPointTooltipTimeout;
var cachedConfig = angular.copy(config);
function supportsHtml5Storage() {
var tempString = "test";
try {
localStorage.setItem(tempString, tempString);
localStorage.removeItem(tempString);
return true;
} catch(e) {
return false;
}
}
function loadTourPoints() {
var initialTourPoints = augmentTourPoints(_.filter(config.conversations, {
isTourPoint: true,
isComplete: false
}));
var tourPoints = [];
var screen = null;
for ( var i = 0; i < config.screens.length; i++ ) {
screen = config.screens[ i ];
var screenTourPoints = _.filter(initialTourPoints, {
screenID: screen.id
});
if ( !! screenTourPoints ) {
var partitionedPoints = _.partition(screenTourPoints, function(n) {
return n.manualOrder === -1 || n.manualOrder === "";
});
var normalSortedTourPoints = partitionedPoints[0];
var manuallySortedTourPoints = partitionedPoints[1];
normalSortedTourPoints.sort(function( a, b ) {
return a.y - b.y || a.x - b.x;
});
var resortedTourPoints = [];
if(manuallySortedTourPoints.length > 0) {
manuallySortedTourPoints.sort(function( a,b ) {
if( a.manualOrder === b.manualOrder ) {
return a.y - b.y || a.x - b.x;
}
return a.manualOrder - b.manualOrder;
});
var minManualOrder = _.min(manuallySortedTourPoints, 'manualOrder').manualOrder;
var maxManualOrder = _.max(manuallySortedTourPoints, 'manualOrder').manualOrder;
var position = (minManualOrder === 0 ? 0 : 1);
for( position; position <= maxManualOrder; position++) {
var manualForPosition = _.filter(manuallySortedTourPoints, { manualOrder: position });
if(manualForPosition.length === 0 && normalSortedTourPoints.length > 0) {
resortedTourPoints.push( normalSortedTourPoints.shift() );
} else {
resortedTourPoints = resortedTourPoints.concat(manualForPosition);
}
}
}
resortedTourPoints = resortedTourPoints.concat(normalSortedTourPoints);
resortedTourPoints.forEach(function( point ) {
point.section = tourPointSection( point, screen );
tourPoints.push( point );
});
}
}
$timeout(function() {
$rootScope.$broadcast("loadTourPoints", tourPoints);
});
return tourPoints;
}
function tourPointSection( tourPoint, screen ) {
var HEADER = "header";
var BODY = "body";
var FOOTER = "footer";
if ( !tourPoint || !screen ) {
return BODY;
}
var screenHeader = screen.fixedHeaderHeight;
var screenFooter = screen.height - screen.fixedFooterHeight;
var footerOffset = 25;
if ( tourPoint.y < screenHeader ) {
return HEADER;
}
if ( tourPoint.y + footerOffset >= screenFooter ) {
return FOOTER;
}
return BODY;
}
function augmentTourPoints( tourPoints ) {
for ( var i = 0; i < tourPoints.length; i++ ) {
var comments = commentService.getCommentsByConversationID( tourPoints[ i ].id );
tourPoints[ i ].comment = comments[0];
tourPoints[ i ].comment.html = commentService.getHtmlForComment( tourPoints[ i ].comment.comment );
tourPoints[ i ].comment.userHasSystemAvatar = userService.isSystemAvatar( tourPoints[ i ].comment.userAvatarID );
tourPoints[ i ].comment.userInitials = userService.getInitials( tourPoints[ i ].comment.userName );
tourPoints[ i ].comment.userOnlineStatus = userService.getOnlineStatus( tourPoints[ i ].comment.userLastRequestAt );
tourPoints[ i ].comment.userFirstName = tourPoints[ i ].comment.userName.split(" ")[0];
tourPoints[ i ].isUnread = isTourPointUnread( tourPoints[ i ].id );
}
return tourPoints;
}
function isTourPointUnread( conversationID ) {
var tourPoints = [];
if ( !supportsHtml5Storage() ) {
return true;
}
if ( window.localStorage.getItem("tourPoints") === null ) {
window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
tourPoints = JSON.parse( window.localStorage.getItem("tourPoints") );
var thisTourPoint = _.findWithProperty( tourPoints, "conversationID", conversationID );
if ( thisTourPoint === undefined ) {
thisTourPoint = {
conversationID: conversationID,
isUnread: true
};
tourPoints.push( thisTourPoint );
window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
return thisTourPoint.isUnread;
}
function setTourPointIsUnread( conversationID, isUnread ) {
var tourPoints = [];
if ( !supportsHtml5Storage() ) {
return;
}
if ( window.localStorage.getItem("tourPoints") === null ) {
window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
tourPoints = JSON.parse( window.localStorage.getItem("tourPoints") );
var thisTourPoint = _.findWithProperty( tourPoints, "conversationID", conversationID );
if ( thisTourPoint === undefined ) {
thisTourPoint = {
conversationID: conversationID,
isUnread: !!isUnread
};
tourPoints.push( thisTourPoint );
} else {
thisTourPoint.isUnread = !!isUnread;
}
window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
function convertBottomPositionedHotspots() {
for ( var h = 0; h < $scope.hotspots.length; h++) {
if ( $scope.hotspots[h].isBottomAligned ) {
$scope.hotspots[h].y = $scope.screen.height - ( $scope.hotspots[h].y + $scope.hotspots[h].height);
}
}
}
function applyRemoteData( screen ) {
if ( !screen ) {
$scope.hotspots = [];
return;
}
$scope.setScreen( screen );
$scope.hotspots = hotspotService.getHotspotsByScreenID( $scope.screenID );
$scope.allHotspots = config.hotspots;
$scope.project.mobileTemplate = _.filter(config.mobileDevices, { mobileDeviceID: $scope.project.mobileDeviceID })[0];
convertBottomPositionedHotspots();
$scope.setWindowTitle( screen.name );
}
function getSampleProjectStatus( project ) {
return (
project.isSample &&
( project.id !== 75 ) && // Desktop wireframe.
( project.id !== 87 ) && // Desktop hi-fidelity.
( project.id !== 101727 ) && // Mobile hi-fidelity.
( project.id !== 5701 ) // Mobile wireframe.
);
}
function initShareSettings() {
var share = shareService.getShare();
sessionService.set(
"isSlideshowNavAllowed", (
!share.isUserTesting &&
share.isLoadAllScreens // Allow access to all screens in project
)
);
$scope.isUserTesting = share.isUserTesting;
}
function loadRemoteData() {
var screen = screenService.getScreenByID( $scope.screenID );
if ( screen ) {
$timeout(function() {
applyRemoteData(screen);
}, $scope.project.isMobile ? 100 : 0);
}
}
function transitionToNextScreen(hotspot) {
$scope.navigateToTargetScreen( hotspot.targetScreenID );
}
function prepareTransitionLayer() {
return $scope.$broadcast("mobile:transition:prepare");
}
function runTransitionLayer() {
return $timeout(function() {
vm.isTransitioning = true;
$scope.$broadcast("mobile:transition:run");
});
}
function updateTransitionLayer(target, update, isHotspotPositionOnScreen) {
return $timeout(function() {
if (!isHotspotPositionOnScreen && target) {
$scope.setScreen(target);
}
vm.isTransitioning = false;
if (update) {
$scope.$broadcast("mobile:transition:updateCurrent");
}
});
}
vm.hot = {
initialized: false,
threshold: 5, // pixel
x: 0,
y: 0
};
$scope.applyHotspotNavigation = function( hotspot, transitionData ) {
if ( !hotspot ) { // if we've got no hotspot, we've got no navigation
return;
}
screenService.setScreenClickedOn( $scope.screen );
var targetScreen;
var isHotspotPositionOnScreen = false;
if ( hotspot.targetTypeID === hotspotService.targetTypes.previousScreenInSort ) {
targetScreen = screenService.getPreviousScreen( $scope.screenID );
} else if ( hotspot.targetTypeID === hotspotService.targetTypes.nextScreenInSort ) {
targetScreen = screenService.getNextScreen( $scope.screenID );
} else if ( hotspot.targetTypeID === hotspotService.targetTypes.lastScreenVisited ) {
var history = $scope.getScreenHistory();
targetScreen = screenService.getScreenByID( history[ history.length - 2] ); //go back two steps.
} else {
targetScreen = screenService.getScreenByID( hotspot.targetScreenID );
}
hotspot.targetScreenID = targetScreen.id;
if (
$scope.project.isMobile &&
hotspot.transitionTypeID > 1 &&
hotspot.targetTypeID !== 6 &&
hotspot.targetTypeID !== 5
) {
if ( targetScreen && hotspot.transitionTypeID !== 1 ) {
transitionData.targetScreen = targetScreen;
screenService.setCurrentScreen(targetScreen);
$scope.setTransitionData(transitionData);
$scope.$broadcast(
"mobile:transition:updateCurrent",
function() {
$timeout(prepareTransitionLayer)
.then(runTransitionLayer)
.then(transitionToNextScreen
.bind(this, hotspot)
)
.then(updateTransitionLayer
.bind(this, targetScreen, false)
);
}
);
}
} else {
updateTransitionLayer(targetScreen, true)
.then(transitionToNextScreen
.bind(this, hotspot)
);
}
};
$scope.showNextScreen = function() {
var nextScreen = screenService.getNextScreen( $scope.screenID );
$scope.navigateToTargetScreen( nextScreen.id );
};
$scope.showPreviousScreen = function() {
var previousScreen = screenService.getPreviousScreen( $scope.screenID );
$scope.navigateToTargetScreen( previousScreen.id );
};
$scope.selectTooltipTourPoint = function( tourPoint ) {
if ( !!tourPointTooltipTimeout ) {
$timeout.cancel(tourPointTooltipTimeout);
}
if ( !!$scope.selectedTourPoint ) {
$scope.tooltipTourPoint = null;
} else {
$scope.tooltipTourPoint = tourPoint;
}
$rootScope.$broadcast("tourPointTooltipSelected", tourPoint);
};
$scope.clearTooltipTourPoint = function() {
if ( !$scope.tooltipTourPoint ) {
return;
}
tourPointTooltipTimeout = $timeout(function() {
$rootScope.$broadcast("clearTooltipTourPoint");
}, 125);
};
$scope.clearTooltipTimeout = function() {
$timeout.cancel(tourPointTooltipTimeout);
};
$scope.selectTourPoint = function(tourPoint, $event) {
$scope.selectedTourPoint = !!tourPoint ? _.findWithProperty($scope.tourPoints, "id", tourPoint.id) : null;
$rootScope.$broadcast("selectTourPoint", tourPoint, $event);
};
var renderContext = requestContext.getRenderContext( "preview", "screenID" );
var hotspotTimeout;
var hotspotWatcher = angular.noop;
var hotspotDebounced = false;
var hotspotDebounceTimeout = null;
var firstLoad = true;
$scope.screens = screenService.getScreens();
var defaultScreenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
if (!config.project.isMobile) {
$scope.screenID = defaultScreenID;
} else {
var defaultScreen = _.findWithProperty( $scope.screens, "id", defaultScreenID );
if ( defaultScreen && ( defaultScreen.screenTypeID === 3 ) ) {
var targetScreen = _.min($scope.screens, "sort");
$scope.screenID = targetScreen.id;
} else {
$scope.screenID = defaultScreenID;
}
}
$scope.inViewport = false;
$scope.hotspots = [];
$scope.allHotspots = [];
$scope.isSampleProject = getSampleProjectStatus( projectService.getProject() );
$scope.project = projectService.getProject();
$scope.project.mobileTemplate = _.filter(config.mobileDevices, { mobileDeviceID: $scope.project.mobileDeviceID })[0];
$scope.isShowingHotspots = false;
$scope.tourPoints = loadTourPoints();
$scope.selectedConversation = null;
$scope.selectedTourPoint = null;
$scope.tooltipTourPoint = null;
$scope.$on(
"loadingSequenceCompleted",
function() {
if ( $scope.screen ) {
$scope.setWindowTitle( $scope.screen.name );
}
}
);
$scope.$on(
"requestContextChanged",
function() {
if ( !renderContext.isChangeRelevant() ) {
return;
}
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
loadRemoteData();
$scope.isShowingHotspots = false;
}
);
$scope.$on(
"doTransition",
function(event, hotspot, transitionData) {
$scope.applyHotspotNavigation(hotspot, transitionData);
}
);
$scope.$on(
"setSelectedTourPoint",
function(event, tourPoint) {
$scope.selectedTourPoint = tourPoint;
}
);
$scope.$on(
"showNextScreen",
function() {
$scope.showNextScreen();
}
);
$scope.$on(
"showPreviousScreen",
function() {
$scope.showPreviousScreen();
}
);
$scope.$on(
"autoRedirectTriggered.share",
function( event, hotspot ) {
$rootScope.$broadcast("clearTourPointForm");
InvScreenViewer.actions.activateHotspot( hotspot );
}
);
$scope.$on(
"clearTooltipTimeout",
function() {
$scope.clearTooltipTimeout();
}
);
$scope.$on(
"configUpdated.share",
function( event, localConfig ) {
var isTemplateChange = localConfig.project.mobileDeviceID !== $scope.project.mobileDeviceID;
if (isTemplateChange) {
$scope.project = localConfig.project;
$scope.project.mobileTemplate = _.withProperty($scope.deviceTemplates, "mobileDeviceID", localConfig.project.mobileDeviceID)[0];
$scope.project.isWatch = $scope.project.mobileTemplate.deviceType === "watch";
$scope.deviceTemplate = $scope.project.mobileTemplate;
}
if ( !_.isEqual(localConfig, cachedConfig) || isTemplateChange ) {
$scope.screens = screenService.getScreens();
loadRemoteData();
}
}
);
$scope.Math = window.Math;
loadRemoteData();
initShareSettings();
}
})( angular, InVision );
;
;
/*! tour-comments-controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "preview.TourCommentsController", Controller );
/** @ngInject */
function Controller( $scope, $rootScope, $log, $timeout, $location, $window, requestContext, hotspotService, projectService, screenService, sessionService, commentService, userService, shareService, _, config, $q, conversationService, analyticsService) {
function supportsHtml5Storage() {
var tempString = "test";
try {
localStorage.setItem(tempString, tempString);
localStorage.removeItem(tempString);
return true;
} catch(e) {
return false;
}
}
function isTourPointUnread( conversationID ) {
var tourPoints = [];
if ( !supportsHtml5Storage() ) {
return true;
}
if ( $window.localStorage.getItem("tourPoints") === null ) {
$window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
tourPoints = JSON.parse( $window.localStorage.getItem("tourPoints") );
var thisTourPoint = _.findWithProperty( tourPoints, "conversationID", conversationID );
if ( thisTourPoint === undefined ) {
thisTourPoint = {
conversationID: conversationID,
isUnread: true
};
tourPoints.push( thisTourPoint );
$window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
return thisTourPoint.isUnread;
}
function setTourPointIsUnread( conversationID, isUnread ) {
var tourPoints = [];
if ( ! supportsHtml5Storage() ) {
return;
}
if ( $window.localStorage.getItem("tourPoints") === null ) {
$window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
tourPoints = JSON.parse( $window.localStorage.getItem("tourPoints") );
var thisTourPoint = _.findWithProperty( tourPoints, "conversationID", conversationID );
if ( thisTourPoint === undefined ) {
thisTourPoint = {
conversationID: conversationID,
isUnread: !!isUnread
};
tourPoints.push( thisTourPoint );
} else {
thisTourPoint.isUnread = !!isUnread;
}
$window.localStorage.setItem("tourPoints", JSON.stringify(tourPoints) );
}
$scope.clearTooltipTourPoint = function() {
$timeout(function() {
$scope.tooltipTourPoint = null;
});
};
$scope.clearTooltipTimeout = function() {
$rootScope.$broadcast("clearTooltipTimeout");
};
$scope.hasPreviousTourPoint = function() {
if ( !$scope.selectedTourPoint ) {
return false;
}
var pointIndex = _.indexOfWithProperty($scope.tourPoints, "id", $scope.selectedTourPoint.id);
if ( pointIndex >= 1 ) {
return true;
} else {
return false;
}
};
$scope.hasNextTourPoint = function() {
if ( !$scope.selectedTourPoint ) {
return false;
}
var pointIndex = _.indexOfWithProperty($scope.tourPoints, "id", $scope.selectedTourPoint.id);
if ( !!$scope.tourPoints[pointIndex + 1] ) {
return true;
} else {
return false;
}
};
$scope.previousTourPoint = function() {
if ( !$scope.selectedTourPoint || isTransitioning ) {
return;
}
isTransitioning = true;
var pointIndex = _.indexOfWithProperty($scope.tourPoints, "id", $scope.selectedTourPoint.id);
$scope.selectTourPoint( $scope.tourPoints[pointIndex - 1] );
analyticsService.track("Comment.TourPrevious");
};
$scope.nextTourPoint = function() {
if ( !$scope.selectedTourPoint || isTransitioning ) {
return;
}
isTransitioning = true;
var pointIndex = _.indexOfWithProperty($scope.tourPoints, "id", $scope.selectedTourPoint.id);
$scope.selectTourPoint( $scope.tourPoints[pointIndex + 1] );
analyticsService.track("Comment.TourNext");
};
$scope.selectTourPoint = function( tourPoint, $event ) {
var screenID = requestContext.getParamAsInt( "screenID" );
var timeoutTimer = 0;
if ( !!tourPoint ) {
tourPoint.isUnread = false;
setTourPointIsUnread( tourPoint.id, false );
if ( config.user.isAccountAuthenticated ) {
conversationService.markRead( tourPoint.id );
}
}
if ( !!tourPoint && tourPoint.screenID !== screenID ) {
$scope.selectedTourPoint = null;
$scope.$broadcast("conversationSelected", null, $event);
timeoutTimer = 250;
$scope.navigateToTargetScreen( tourPoint.screenID, false );
} else if ( !!$scope.selectedTourPoint ) {
$scope.selectedTourPoint = null;
$scope.$broadcast("clearTooltipTourPoint");
$scope.$broadcast("conversationSelected", null, $event);
}
$timeout(function() {
$rootScope.$broadcast("setSelectedTourPoint", tourPoint);
$scope.tooltipTourPoint = null;
$scope.$broadcast("clearTooltipTourPoint");
$scope.selectedTourPoint = tourPoint;
$scope.$broadcast("conversationSelected", tourPoint, $event);
if ( timeoutTimer === 250 ) {
$timeout(function() {
isTransitioning = false;
}, 350);
} else {
isTransitioning = false;
}
}, timeoutTimer);
};
$scope.clearTourPointForm = function() {
$scope.$broadcast("conversationSelected", null);
$rootScope.$broadcast("setSelectedTourPoint", null);
};
var isTransitioning = false;
$scope.selectedTourPoint = null;
$scope.tourPoints = [];
$scope.tooltipTourPoint = null;
$scope.$watch(
"screen.id",
function(newValue, oldValue) {
if ( newValue !== oldValue ) {
$scope.selectedTourPoint = null;
$scope.tooltipTourPoint = null;
}
}
);
$scope.$on(
"loadTourPoints",
function( event, tourPoints ) {
$scope.tourPoints = _.clone(tourPoints);
}
);
$scope.$on(
"conversationSelected",
function( event, conversation, mouseEvent ) {
$scope.selectedTourPoint = conversation;
}
);
$scope.$on(
"tourPointTooltipSelected",
function( event, tourPoint ) {
$scope.tooltipTourPoint = tourPoint;
$timeout(function() {
$scope.$broadcast("refreshTooltipStyle");
});
}
);
$scope.$on(
"clearTooltipTourPoint",
function() {
$scope.clearTooltipTourPoint();
}
);
$scope.$on(
"selectTourPoint",
function(event, tourPoint, mouseEvent) {
$scope.selectTourPoint( tourPoint, mouseEvent );
}
);
$scope.$on(
"clearTourPointForm",
function() {
$scope.clearTourPointForm();
}
);
}
})( angular, InVision );
;
;
/*! screens-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "screens.ScreensController", Controller );
/** @ngInject */
function Controller( $scope, $timeout, $location, requestContext, screenService, hashKeyCopier, projectService, shareService, hotspotService, _, config ) {
$scope.Math = window.Math;
function applyBackgroundStyles( screen, suppressBackgroundOptions ) {
var style = {};
if ( $scope.project.isMobile ){
style[ "background" ] = "#afb2bd top center no-repeat";
} else {
style[ "border-style" ] = "";
style[ "border-image" ] = "none";
style[ "border-width" ] = "";
style[ "height" ] = "";
style[ "border-image-outset" ] = "";
style[ "background-attachment" ] = "";
style[ "background-position" ] = "";
style[ "background-color" ] = "#f9f9fb";
if ( screen.backgroundColor ) {
style[ "background-color" ] = ( "#" + screen.backgroundColor );
}
if ( screen.backgroundImageUrl ) {
var offsetTop = $scope.subview == "comments" ? "55px" : "0px";
style[ "background-image" ] = ( "url( '" + screen.backgroundImageUrl + "' )" )
switch ( screen.backgroundImagePosition ) {
case "center":
case "50% 0 no-repeat": // TODO: remove after db is updated
style[ "background-position" ] = "50% " + offsetTop;
style[ "background-repeat" ] = "no-repeat";
break;
case "tile":
case "repeat": // TODO: remove after db is updated
style[ "background-position" ] = "0px " + offsetTop;
style[ "background-repeat" ] = "repeat";
break;
case "tile-horizontally":
case "0 0 repeat-x": // TODO: remove after db is updated
style[ "background-position" ] = "0px " + offsetTop;
style[ "background-repeat" ] = "repeat-x";
break;
case "fixed":
style[ "background-attachment" ] = "fixed";
style[ "background-repeat" ] = "no-repeat";
switch ( screen.alignment ){
case "left":
style[ "background-position" ] = "left top";
break;
case "center":
style[ "background-position" ] = "center top";
break;
case "right":
style[ "background-position" ] = "right top";
break;
default:
break;
}
break;
}
}
if( screen.backgroundImageClientFilename.indexOf("@2x") >= 0 ){
style["background-size"] = screen.backgroundImageWidth * 0.5 + "px " + screen.backgroundImageHeight * 0.5 + "px";
} else if ( screen.backgroundImageClientFilename.indexOf("@print") > 0 ) {
style["background-size"] = screen.backgroundImageWidth * 0.3333 + "px " + screen.backgroundImageHeight * 0.3333 + "px";
}
if ( screen.backgroundAutostretch ) {
style[ "background-image" ] = "";
style[ "border-style" ] = "solid";
style[ "border-image" ] = "url('" + screen.imageUrl + "') 0 0 0 " + ( screen.width - 1 ) + " fill stretch";
style[ "border-width" ] = "0px 1px 0px 1px";
style[ "height" ] = screen.height * screen.displayScale;
style[ "border-image-outset" ] = "0% 100%";
style["margin-left"] = "-1px";
style["margin-right"] = "-2px";
} else if ( screen.backgroundFrame ) {
}
}
$scope.setHeaderStyle( angular.copy(style) );
$scope.setBodyStyle( style );
$scope.setBodyClass( screen.backgroundFrame && $scope.project.deviceType === "desktop" ? "framed" : "" );
}
function augmentScreen( screen ) {
screen.isImageLoaded = false;
screen.isGif = /\.gif$/i.test( screen.clientFilename );
$scope.applyScreenDisplayScaleToScreen( screen );
screen.now = new Date().getTime();
}
function augmentScreens( screens ) {
_.each( screens, augmentScreen );
return( screens );
}
function getScreensToPreload() {
if ( $scope.project.isMobile ) {
return( $scope.screens );
}
var screens = _.filter(
$scope.screens,
function( screen ) {
return( screen.distanceFromStartScreen <= 1 );
}
);
return( screens );
}
function sortScreensByRelevance( coreScreens ) {
var screens = coreScreens.slice();
var startScreen = _.findWithProperty( screens, "id", $scope.screenID );
if ( ! startScreen ) {
startScreen = _.findWithProperty( screens, "id", $scope.defaultScreenIDForShare );
}
if ( ! startScreen ) {
return( _.setProperty( screens, "distanceFromStartScreen", 0 ) );
}
startScreen.distanceFromStartScreen = 0;
var index = _.indexOf( screens, startScreen );
for ( var i = ( index + 1 ) ; i < screens.length ; i++ ) {
screens[ i ].distanceFromStartScreen = ( i - index );
}
for ( var i = ( index - 1 ) ; i >= 0 ; i-- ) {
if ( i == ( index - 1 ) ) {
screens[ i ].distanceFromStartScreen = ( index - i );
} else {
screens[ i ].distanceFromStartScreen = ( screens.length - 1 - i );
}
}
spiderScreensForNavigationalDistance(
screens,
_.pluck( screens, "id" ),		// List of all the screen IDs (for sort-based hotspots).
startScreen.id,					// Current screen to examine.
1,								// Start depth of spidering.
1								// Max depth of spidering
);
screens.sort(
function( a, b ) {
if ( a.distanceFromStartScreen < b.distanceFromStartScreen ) {
return( -1 );
}
if ( a.distanceFromStartScreen > b.distanceFromStartScreen ) {
return( 1 );
}
return( 0 );
}
);
return( screens );
}
function spiderScreensForNavigationalDistance( screens, allScreenIDs, screenID, depth, maxDepth ) {
if ( depth > maxDepth ) {
return;
}
var hotspots = hotspotService.getHotspotsByScreenID( screenID );
for ( var i = 0 ; i < hotspots.length ; i++ ) {
var hotspot = hotspots[ i ];
if ( hotspot.targetTypeID === hotspotService.targetTypes.screen ) {
var targetScreen = _.findWithProperty( screens, "id", hotspot.targetScreenID );
if ( ! targetScreen ) {
continue;
}
targetScreen.distanceFromStartScreen = Math.min(
targetScreen.distanceFromStartScreen,
( hotspot.templateID ? ( depth + .5 ) : depth )
);
spiderScreensForNavigationalDistance( screens, allScreenIDs, targetScreen.id, ( depth + 1 ), maxDepth );
} else if ( hotspot.targetTypeID === hotspotService.targetTypes.nextScreenInSort ) {
var currentIndex = _.indexOf( allScreenIDs, screenID );
if ( currentIndex < ( screens.length - 1 ) ) {
var targetScreen = screens[ currentIndex + 1 ];
targetScreen.distanceFromStartScreen = Math.min( targetScreen.distanceFromStartScreen, depth );
spiderScreensForNavigationalDistance( screens, allScreenIDs, targetScreen.id, ( depth + 1 ), maxDepth );
}
}
} // END: For.
}
$scope.imageLoadedForScreen = function( screen ) {
if ( !screen ) {
return;
}
screen.isImageLoaded = true;
if ( $scope.getPercentOfScreensLoaded() >= 100 ) {
return;
}
if ( _.findWithProperty( $scope.screensToPreload, "id", screen.id ) ) {
$scope.screensThatHavePreloaded.push( screen );
}
var percent = Math.floor( $scope.screensThatHavePreloaded.length / $scope.screensToPreload.length * 100 );
$scope.setPercentOfScreensLoaded( percent );
}
var renderContext = requestContext.getRenderContext( "", "screenID" );
var numberOfScreensLoaded = 0;
$scope.share = shareService.getShare();
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
$scope.screens = sortScreensByRelevance( augmentScreens( screenService.getScreens() ) );
$scope.screensToPreload = getScreensToPreload();
$scope.screensThatHavePreloaded = [];
$scope.project = projectService.getProject();
$scope.selectedScreen = _.findWithProperty( $scope.screens, "id", $scope.screenID );
if ( $scope.selectedScreen ) {
applyBackgroundStyles( $scope.selectedScreen );
} else {
$location.url( "/" );
}
$scope.$on(
"requestContextChanged",
function() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
var previousScreenID = $scope.screenID;
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
if ( previousScreenID !== $scope.screenID ) {
$timeout(function() {
$scope.selectedScreen = _.findWithProperty( $scope.screens, "id", $scope.screenID );
if ( $scope.selectedScreen ) {
applyBackgroundStyles( $scope.selectedScreen );
} else {
return( $location.url( "/" ) );
}
}, 200);
}
}
);
$scope.$watch( "subview", function( newValue, oldValue){
if ( ( newValue != oldValue ) && $scope.selectedScreen ) {
applyBackgroundStyles( $scope.selectedScreen );
}
});
$scope.$on(
"configUpdated.share",
function(event, localConfig){
$scope.project = localConfig.project;
$scope.share = localConfig.share;
$scope.screens = sortScreensByRelevance( augmentScreens( screenService.getScreens() ) );
$scope.selectedScreen = _.findWithProperty( $scope.screens, "id", $scope.screenID );
_.setProperty( $scope.screens, "isImageLoaded", true );
if ( ! $scope.selectedScreen ) {
window.location.reload();
return;
}
applyBackgroundStyles( $scope.selectedScreen );
}
);
$(window).on("resize.shareScreens", function windowResize(){
$scope.screens = sortScreensByRelevance( augmentScreens( screenService.getScreens() ) );
$scope.$apply();
});
}
})( angular, InVision );
;
;
/*! form-controller.js */ 
;
;
(function( ng, app ) {
"use strict";
app.controller( "toolbar.FormController", Controller );
function Controller( 
$scope, 
$location, 
$timeout,
$rootScope,
analyticsService,
config,
mentionUtilities, 
serviceHelper, 
projectService,
Deferred,
_ 
) {
$scope.isEnterprise = config.project.companyID > 0;
$scope.isAuthenticated = config.user.isAccountAuthenticated;
function isFormValid() {
if ( ! $scope.identity.name ) {
$scope.errorMessage = "Please enter your name.";
return false;
}
if ( ! $scope.identity.email ) {
$scope.errorMessage = "Please enter your email.";
return false;
}
if ( ! mentionUtilities.isEmailAddress( $scope.identity.email ) ) {
$scope.errorMessage = "Please enter a valid email address.";
return false;
}
return true;
}
$scope.handleKeyDown = function(e) {
e.preventDefault();
$scope.submitRequestAccess();
};
$scope.submitRequestAccess = function() {
$scope.errorMessage = "";
if ( isFormValid() ) {
$scope.isRequestingAccess = true;
$scope.sendInspectRequest($scope.identity.email, $scope.identity.name);
} else {
}
}
$scope.sendInspectRequest = function(email, name) {
analyticsService.track("ShareLink.Inspect",{
Action: "Submit form"
});
Deferred.handlePromise(
projectService.sendRequestPermission(
$scope.$parent.project.id,
$scope.$parent.screen.id,
email,
name
),
function( response ) {
var riaUrl = $scope.setRequestInspectAccessUrl( $scope.$parent.project.id, $scope.$parent.screen.id, response.signature );
if (response.canJoin || response.isCollaborator) {
document.location.href = riaUrl;
} else if (
!response.isCollaborator && 
response.signature != '' &&
response.error === "Unauthenticated user cannot request access in this context."
) {
document.location.href = riaUrl;
} else {
$scope.$emit("all.setStep", 3);
$timeout(function() {
$rootScope.hasSentRequest = true;
},1);
}
},
function( response ) {
}
);
}
$scope.isRequestingAccess = false;
$scope.identity = {
name: "",
email: ""
};
}
})( angular, InVision );
;
;
/*! toolbar-controller.js */ 
;
;
(function( ng, app ){
"use strict";
app.controller( "toolbar.ToolbarController", Controller );
/** @ngInject */
function Controller(
$rootScope,
$scope,
$window,
_ ,
accountService,
analyticsService,
commentService,
config,
conversationService,
hotspotService,
modelEvents,
requestContext,
screenService,
sessionService,
shareService,
projectService,
Deferred
) {
function applyRemoteData( share, screens, comments, hotspots ) {
$scope.share = share;
$scope.includeBrowseTool = share.isLoadAllScreens;
$scope.includeCommentsTool = share.isCommentingAllowed;
$scope.includeBrowseCommentsTool = share.isCommentingAllowed;
$scope.showInspectTool = share.isInspectAllowed;
$scope.commentCount = comments.length;
$scope.unreadCommentCount = _.countWithProperty( comments, "isUnread", true );
$scope.includeFlowTool = ( share.isLoadAllScreens && hotspots.length && ( screens.length > 1 ) );
tourData.hasMultipleScreens = screens.length > 1;
tourData.hasHotSpots = hotspots.length > 0;
$scope.displayFilename = sanitizePhotoshopFilename( $scope.screen.clientFilename );
$scope.qrCodeUrl = share.shareUrl + $scope.share.key + "?qr=1";
$scope.browseScreenCount = screens.length;
$scope.browseScreenIndex = ( _.indexOfWithProperty( screens, "id", $scope.screenID ) + 1 );
}
function loadRemoteData() {
var comments = [];
var conversations = conversationService.getConversationsByScreenID( $scope.screenID );
for ( var i = 0, length = conversations.length ; i < length ; i++ ) {
comments = comments.concat( commentService.getCommentsByConversationID( conversations[ i ].id ) );
}
var screens = screenService.getScreens();
var hotspots = hotspotService.getAllHotSpots();
var share = shareService.getShare();
applyRemoteData( share, screens, comments, hotspots );
$scope.handleCommentWidth();				
}
function sanitizePhotoshopFilename( clientFilename ) {
if ( ! clientFilename ) {
return( "" );
}
return(
clientFilename
.replace( /@2x@2x/i, "@2x" )
.replace( /@print/i, "" )
);
}
$scope.updateActiveStatus = function() {
$scope.isActive = false;
if (
$scope.isUserOverToolbar ||
$scope.isShowingComments ||
$scope.isBrowseOpen ||
$scope.isBrowseCommentsOpen ||
$scope.isFlowOpen ||
$scope.$parent.isInspectOpen
) {
$scope.isActive = true;
}
};
$scope.toggleShareModal = function() {
$scope.isShowingShareModal = !$scope.isShowingShareModal;
}
$scope.updateIsUserOverToolbar = function( isUserOverToolbar ) {
$scope.isUserOverToolbar = isUserOverToolbar;
$scope.updateActiveStatus();
}
$scope.$on(
"inspectModalClosed",
function( event ) {
$scope.$parent.isInspectOpen = false;
}
);
$scope.trackRequestWindowClose = function() {
analyticsService.track("ShareLink.Inspect",{
Action: "Close"
});
};
$scope.trackRequestAccessSignIn = function() {
analyticsService.track("ShareLink.Inspect",{
Action: "Sign in"
});
};
$scope.trackRequestLearnHow = function() {
analyticsService.track("ShareLink.Inspect",{
Action: "Learn how"
});
};
$scope.toggleRequestAccess = function() {
if ($scope.isShowingSmsForm) {
$scope.toggleSmsShareForm();
}
if (!$scope.$parent.isInspectOpen) {
$scope.$parent.isInspectOpen = true;
Deferred.handlePromise(
projectService.sendRequestPermission(
$scope.$parent.project.id,
$scope.$parent.screen.id,
config.user.email,
config.user.name,
true
),
function( response ) {
var isCompanyMember = response.isCompanyMember, // is the user a member of the company
isProtoMember = response.isCollaborator; // is the user a member of the proto
$scope.setRequestInspectAccessUrl( $scope.$parent.project.id, $scope.$parent.screen.id, response.signature );
$scope.isUseInspect = false;
$scope.isRoleJoin = false;
$scope.isEntRequestAccessPrototype = false;
$scope.isEntRequestAccessTeam = false;
$scope.noInspect = !$scope.$parent.includeInspectTool;
if (($scope.isEnterprise && isCompanyMember && isProtoMember) || (!$scope.isEnterprise && isProtoMember)) {
$scope.isUseInspect = true;
} else if (config.companyMembership && config.companyMembership.canViewAllProjects) {
$scope.isRoleJoin = true;
} else if ($scope.isEnterprise && isCompanyMember && !isProtoMember) {
$scope.isEntRequestAccessPrototype = true;
} else if ($scope.isEnterprise && !isCompanyMember) {
$scope.isEntRequestAccessTeam = true;
} else {
$scope.isRequestAccessPrototype = true;
}
},
function( response ) {
}
);				
} else {
$scope.$parent.isInspectOpen = false;
}
analyticsService.track("ShareLink.Button.Clicked", {
Button: "Inspect"
});
}
$scope.toggleRequestAccessOverlay = function() {
if ($scope.$parent.isInspectOpen) {
$scope.$parent.isInspectOpen = false;
}
if ($scope.isShowingSmsForm) {
$scope.toggleSmsShareForm();
}
}
$scope.toggleSmsShareFormV2 = function() {
if ($scope.$parent.isInspectOpen) {
$scope.$parent.isInspectOpen = false;
}
$scope.toggleSmsShareForm();
}
$scope.requestAccessBack = function() {
$scope.$parent.step = 1;
}
$scope.handleCommentWidth = function($event) {
if ($scope.commentCount > 0 && !$scope.isAuthenticated) {
$scope.commentWidth = (($scope.commentCount.toString().length * 8) + 79) + 'px';
} else {
$scope.commentWidth = "67px";
}
}
$scope.changeTypeFilterByToggle = function() {
$scope.$emit('toolbar.changeTypeFilterByToggle');
}
$scope.changeTypeFilter = function(option) {
$scope.$emit('toolbar.changeTypeFilter', option);
analyticsService.track("ConsoleShareLink.AllTypesDropdown.Clicked", {
Type: option.label
});	
}
$scope.changeShowCompletedFilterV2 = function() {
$scope.$emit('toolbar.changeShowCompletedFilterV2');
}
$scope.toggleContextMenu = function() {
if (!$scope.$parent.isCommentContextOpen) {
$scope.$parent.isCommentContextOpen = true;
analyticsService.track("CommentMode.Filter", {
Filter: "Open filter"
});	
} else {
$scope.$parent.isCommentContextOpen = false;
}
}
$scope.clickRequestCTA = function() {
if ($scope.isUseInspect) {
analyticsService.track("ShareLink.Inspect",{
Action: "Use inspect"
});
document.location.href = '/d/main/#/console/' + $scope.$parent.project.id + '/' + $scope.$parent.screen.id + '/inspect';
} else if ($scope.isRoleJoin || (!$scope.isEnterprise)) {
analyticsService.track("ShareLink.Inspect",{
Action: $scope.$parent.isRoleJoin ? "Join Prototype" : "Request Access"
});
document.location.href = $scope.requestInspectAccessUrl;
} else if ($scope.isRequestAccessPrototype) {
$scope.sendInspectRequest(config.user.email, config.user.name);
} else {
analyticsService.track("ShareLink.Inspect",{
Action: "Show Request Form"
});
$scope.$parent.step = 2;
}
}
$scope.closeRequestForm = function() {
analyticsService.track("ShareLink.Inspect",{
Action: "Back to Prototype"
});
$scope.$parent.isInspectOpen = false;
};
var renderContext = requestContext.getRenderContext( "", "screenID" );
var tourData = { hasMultipleScreens: true, hasHotSpots: true  };
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
$scope.displayFilename = "";
$scope.share = null;
$scope.includeBrowseTool = false;
$scope.includeFlowTool = false;
$scope.includeCommentsTool = false;
$scope.includeBrowseCommentsTool = false;
$scope.showInspectTool = false;
$scope.canSendSMS = config.canSendSMS;
$scope.isShowingComments = ( renderContext.getNextSection() === "comments" );
$scope.commentCount = 0;
$scope.unreadCommentCount = 0;
$scope.isUserOverToolbar = false;
$scope.isActive = false;
$scope.isShowingShareModal = false;
$scope.shareUrl = ( !! $scope.$parent.$parent.share.key ) ? "http://invis.io/" + $scope.$parent.$parent.share.key : null;
$scope.commentWidth = "67px";
$scope.browseScreenCount = 0;
$scope.browseScreenIndex = 0;
$scope.$parent.step = 1;
if ($rootScope.hasSentRequest) {
$scope.$parent.step = 3;
}
if (!$scope.$parent.includeInspectTool) {
$scope.$parent.step = 4;
}
$scope.isAuthenticated = config.user.isAccountAuthenticated;
$scope.isEnterprise = config.project.companyID > 0;
$scope.noInspect = false;
$scope.customSubdomain = "";
switch ( config.companySettings && config.companySettings.companySubdomain ) {
case "ibm":
$scope.customSubdomain = config.companySettings.companySubdomain;
break;
}
$scope.$on(
"$destroy",
function() {
modelEvents.off( "commentCreated.toolbar" );
modelEvents.off( "commentDeleted.toolbar" );
modelEvents.off( "conversationDeleted.toolbar" );
modelEvents.off( "conversationMarkedRead.toolbar" );
}
);
$scope.$watch(
"( isBrowseOpen || isBrowseCommentsOpen || isFlowOpen )",
function(newVal) {
$scope.updateActiveStatus();
if (newVal) {
if ($scope.isShowingSmsForm) {
$scope.toggleSmsShareForm();
}
if ($scope.$parent.isInspectOpen) {
$scope.$parent.isInspectOpen = false;
}
}
$rootScope.$emit('isToolbarModalOpen', newVal);
}
);
$scope.$watch(
"isInspectOpen",
function(newVal) {
$scope.updateActiveStatus();
$rootScope.$emit('isInspectOpen', newVal);
}
)
$scope.$watch(
"isShowingComments",
function( newValue, oldValue ) {
var isAlreadyShowingComments = ( renderContext.getNextSection() === "comments" );
if ( $scope.$parent.isInspectOpen ) {
$scope.$parent.isInspectOpen = false;
}
if ( newValue && ! isAlreadyShowingComments ) {
if ( $scope.isShowingSmsForm ) {
$scope.toggleSmsShareForm();
}
$scope.navigateToScreenComments();
analyticsService.trackGrowth("App - Public Share - Toggle Comment Mode", {
"Logged In": !!sessionService.user.isAccountAuthenticated,
"Enabled": true
});
analyticsService.track("ShareLink.Button.Clicked", {
Button: "CommentMode",
Action: "open"
});
analyticsService.track("Comment.ToggleCommentModeOn"); // legacy
} else if ( ! newValue && isAlreadyShowingComments ) {
$scope.$parent.isCommentContextOpen = false;
$scope.navigateToScreenPreview();
analyticsService.trackGrowth("App - Public Share - Toggle Comment Mode", {
"Logged In": !!sessionService.user.isAccountAuthenticated,
"Enabled": false
});
}
$scope.handleCommentWidth();
}
);
$scope.$on(
"requestContextChanged",
function() {
if ( ! renderContext.isChangeRelevant() ) {
return;
}
$scope.isShowingComments = ( renderContext.getNextSection() === "comments" );
if ( requestContext.hasParamChanged( "screenID" ) ) {
$scope.screenID = requestContext.getParamAsInt( "screenID", $scope.defaultScreenIDForShare );
loadRemoteData();
}
$scope.updateActiveStatus();
}
);
$scope.$on(
"toolbar.closeCommentContext",
function() {
$scope.$parent.isCommentContextOpen = false;
}
)
$scope.$on(
"toolbar.closeInspectRequest",
function() {
$scope.$apply(function() {
$scope.$parent.isInspectOpen = false;
});
}
)
$scope.$on(
"toolbar.closeSMS",
function() {
if ($scope.isShowingSmsForm) {
$scope.toggleSmsShareForm();
}
}
)
$scope.$on(
"toolbar.setStep",
function(event, step) {
$scope.$parent.step = step;
}
)
modelEvents.on(
[
"commentCreated.toolbar",
"commentDeleted.toolbar"
],
function( event ) {
loadRemoteData();
}
);
modelEvents.on(
[
"conversationDeleted.toolbar",
"conversationMarkedRead.toolbar"
],
function( event, conversationID ) {
loadRemoteData();
}
);
$scope.$on(
"configUpdated.share",
function( event, localConfig ) {
loadRemoteData();
}
);
$scope.$on(
"loadingSequenceCompleted",
function( event ) {
loadRemoteData();					
}
);
loadRemoteData();
}
})( angular, InVision );
;
;
/*! add-padding-on-scroll.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invAddPaddingOnScroll", Directive );
/** @ngInject */
function Directive( $timeout ) {
var linkFunction = function( $scope, element ) {
var $win = $(window),
$body = $("body"),
$element = $(element),
windowHeight = $win.height(),
extraPadding = 50,
hasExtraPadding = false,
scrollDelay = 1000;
function init() {
if ( ( $scope.screen.height * $scope.screen.displayScale ) > windowHeight ) {
$win.on("scroll.invAddPaddingOnScroll", function() {
var scrollBottom = $scope.screen.height * $scope.screen.displayScale;
if ( hasExtraPadding ) {
if ( ( $win.scrollTop() + windowHeight ) < ( scrollBottom - extraPadding ) ) {
removeExtraPadding();
}
} else {
if ( ( $win.scrollTop() + windowHeight ) > scrollBottom ) {
addExtraPadding();
}
}
});
}
}
function destroy() {
$win.off("scroll.invAddPaddingOnScroll");
removeExtraPadding();
}
function addExtraPadding() {
if ( hasExtraPadding ) {
return;
}
hasExtraPadding = true;
$timeout(function() {
$element.css({
paddingBottom: extraPadding
});
}, scrollDelay);
}
function removeExtraPadding() {
if ( ! hasExtraPadding ) {
return;
}
hasExtraPadding = false;
$element.css({
paddingBottom: 0
});
}
$win.on("resize.invAddPaddingOnScroll", function() {
destroy();
$timeout(init);
});
$scope.$on(
"$destroy",
function() {
destroy();
$win.off("resize.invAddPaddingOnScroll");
}
);
$timeout(init);
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! autofocus.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invAutofocus", Directive );
/** @ngInject */
function Directive() {
var linkFunction = function( $scope, element, attributes ) {
function focus() {
setTimeout( 
function() {
var childElement = element.find( "input,textarea,select,button" );
if ( childElement.length ) {
childElement.focus();
return;
}
element.focus();
if ( attributes.invAutofocus === "select" ) {
element.select();
}
}
);
}
focus();
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! autosize.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invAutosize",
function() {
var linkFunction = function( $scope, element, attributes ) {
function getInitialDelta() {
var content = element.val();
element.val( "" );
var height = element.outerHeight();
var scrollHeight = element[ 0 ].scrollHeight;
var delta = Math.max( 0, ( scrollHeight - height ) );
element.val( content );
return( delta );
}
function resize() {
var height = element.outerHeight();
var scrollHeight = element[ 0 ].scrollHeight;
var scrollableHeight = ( scrollHeight - height - initialDelta );
if ( scrollableHeight <= 0 ) {
return;
}
var newHeight = scrollHeight;
element.height( newHeight );
}
element.addClass( "autosize" );
var initialDelta = getInitialDelta();
element.on(
"keyup.invAutosize",
function( event ) {
if ( element.val() === "" ) {
element.height( initialDelta );
return;
};
resize();
}
);
$scope.$on(
"$destroy",
function() {
element.off( "keypress.invAutosize" );
}
);
};
return({
link: linkFunction,
priority: 2,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! comments-cursor-tooltip.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invCommentsCursorTooltip",
function() {
var linkFunction = function( $scope, element, attributes ) {
var $document = $(document),
$win = $(window);
$document.on("mousemove.cursorTooltip", function(e){
$(element).css({
left: ( e.pageX - $win.scrollLeft() ) + 15,
top: ( e.pageY - $win.scrollTop() ) - 10
});
});
$scope.$on(
"$destroy",
function() {
$document.off("mousemove.cursorTooltip");
}
);
};
return({
link: linkFunction,
restrict: "A",
scope: false
});
}
);
})( angular, InVision );
;
;
/*! comments-form.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invCommentsForm",
/** @ngInject */
function(
$document,
$timeout,
$window,
_,
keyCommandsPriority,
keyCommandsService
) {
var linkFunction = function( $scope, element, attributes, markersController ) {
function handleClosePopupEvent( event ) {
event.preventDefault();
if ( $scope.areMarkersDirty() ) {
alert( "Oops, you haven't saved your comment!" );
return;
}
$scope.closeConversation();
}
function updatePosition( markerX, markerY ) {
var formWidth = 550,
formPadding = 10;
element.css({
left: ( markerX + "px" ),
top: ( markerY + "px" )
});
var rightmostOffset = ( containerOffset.left + markerX + formWidth + formPadding );
if ( rightmostOffset > documentWidth ) {
element.addClass( "left" );
} else {
element.removeClass( "left" );
}
}
function setTextClass() {
if( ! $scope.conversation.isTourPoint ) {
return;
}
if( $(".comment-item.first .post-comment").height() <= 40 ) {
$(".comment-item.first .post-comment").addClass("single-line");
} else {
$(".comment-item.first .post-comment").removeClass("single-line");
}
}
var documentWidth = $document.width();
var viewport = element.closest( "div.viewport" );
var containerOffset = viewport.offset();
markersController.setCallback( updatePosition );
updatePosition( $scope.conversation.x, $scope.conversation.y );
$timeout(function() {
setTextClass();
});
$scope.showCommentInput = function() {
$scope.isCommentInputVisible = true;
};
var unlistenToKeyCommands = keyCommandsService.listen(
{
"Escape": handleClosePopupEvent
},
{
priority: keyCommandsPriority.COMMENTS_POPUP,
allowInputCapture: true
}
);
$( window ).on(
"resize.invCommentsForm",
function( event ) {
documentWidth = $document.width();
containerOffset = viewport.offset();
}
);
$document.on("keydown.invCommentsForm", function(e) {
if ( e.keyCode === 13 && ( e.metaKey || e.ctrlKey ) ) {
$scope.$apply(
function invokeNgSubmitBinding() {
$scope.$eval( attributes.ngSubmit );
}
);
}
});
$scope.$on(
"commentChanged",
function() {
$timeout(function() {
setTextClass();
});
}
);
$scope.$on(
"$destroy",
function() {
markersController.clearCallback();
unlistenToKeyCommands();
$document.off( "resize.invCommentsForm" );
$document.off( "keydown.invCommentsForm" );
}
);
};
return({
link: linkFunction,
require: "^invCommentsMarkers",
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! comments-key-combos.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invCommentsKeyCombos",
/** @ngInject */
function(
$document,
$location,
_,
keyCommandsPriority,
keyCommandsService,
screenService
) {
var linkFunction = function( $scope, element, attributes ) {
function handleBrowseEvent( event ) {
event.preventDefault();
$scope.openBrowse();
}
function handleCloseCommentsEvent( event ) {
event.preventDefault();
$scope.$emit("all.closeCommentContext");
$scope.navigateToScreenPreview();
}
function handleFlowEvent( event ) {
event.preventDefault();
$scope.openFlow();
}
function handleNextScreenEvent( event ) {
event.preventDefault();
var nextScreen = screenService.getNextScreen( $scope.screenID );
$location.url( "/screens/" + nextScreen.id + "/comments" );
}
function handlePreviousScreenEvent( event ) {
event.preventDefault();
var previousScreen = screenService.getPreviousScreen( $scope.screenID );
$location.url( "/screens/" + previousScreen.id + "/comments" );
}
function handleTitleEvent( event ) {
if ( $scope.share.isLoadAllScreens && $scope.screen.screenGroupId ) {
event.preventDefault();
$location.url( "/screens/" + $scope.screen.id + "/title" );
}
}
var unlistenToKeyCommands = keyCommandsService.listen(
{
"ArrowLeft": handlePreviousScreenEvent,
"ArrowRight": handleNextScreenEvent,
"B": handleBrowseEvent,
"C": handleCloseCommentsEvent,
"Escape": handleCloseCommentsEvent,
"F": handleFlowEvent,
"J": handleBrowseEvent,
"T": handleTitleEvent
},
{
priority: keyCommandsPriority.COMMENTS
}
);
$scope.$on(
"$destroy",
function() {
unlistenToKeyCommands();
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! comments-markers.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invCommentsMarkers",
/** @ngInject */
function( $document, $location, $timeout, _, sessionService, userService ) {
function Controller() {
function announceMarkerPosition( markerX, markerY ) {
if ( ! formPositionCallback ) {
return;
}
formPositionCallback( markerX, markerY );
}
function clearCallback() {
formPositionCallback = null;
}
function setCallback( callback ) {
formPositionCallback = callback;
}
var formPositionCallback = null;
return({
announceMarkerPosition: announceMarkerPosition,
clearCallback: clearCallback,
setCallback: setCallback
});
}
var linkFunction = function( $scope, element, attributes, markersController ) {
function ConversationActivationState( stateManager, marker, initialPageX, initialPageY ) {
function handleMouseMove( event ) {
if ( hasMoved( event.pageX, event.pageY ) ) {
stateManager.gotoState( MovingConversationState, marker, initialPageX, initialPageY, event.pageX, event.pageY );
}
}
function handleMouseUp( event ) {
if ( $scope.areMarkersDirty() ) {
alert( "Oops, you haven't saved your comment!" );
} else {
$scope.$apply(
function() {
$scope.closeConversation();
}
);
}
cancelClick = true;
stateManager.gotoState( ReadyState );
}
function hasMoved( pageX, pageY ) {
var tolerance = 3;
return(
( Math.abs( initialPageX - pageX ) > tolerance ) ||
( Math.abs( initialPageY - pageY ) > tolerance )
);
}
function teardown() {
viewport.off( "mousemove.invCommentMarkers" );
viewport.off( "mouseup.invCommentMarkers" );
}
viewport.on( "mousemove.invCommentMarkers", handleMouseMove );
viewport.on( "mouseup.invCommentMarkers", handleMouseUp );
return( teardown );
}
function MarkerActivationState( stateManager, marker, initialPageX, initialPageY ) {
function handleMouseMove( event ) {
if ( hasMoved( event.pageX, event.pageY ) ) {
stateManager.gotoState( MovingMarkerState, marker, initialPageX, initialPageY, event.pageX, event.pageY );
}
}
function handleMouseUp( event ) {
stateManager.gotoState( ReadyState );
}
function hasMoved( pageX, pageY ) {
var tolerance = 3;
return(
( Math.abs( initialPageX - pageX ) > tolerance ) ||
( Math.abs( initialPageY - pageY ) > tolerance )
);
}
function teardown() {
viewport.off( "mousemove.invCommentMarkers" );
viewport.off( "mouseup.invCommentMarkers" );
}
viewport.on( "mousemove.invCommentMarkers", handleMouseMove );
viewport.on( "mouseup.invCommentMarkers", handleMouseUp );
return( teardown );
}
function MovingConversationState( stateManager, marker, initialPageX, initialPageY, currentPageX, currentPageY ) {
function getLocalPosition( pageX, pageY ) {
var deltaX = ( initialPageX - pageX );
var deltaY = ( initialPageY - pageY );
var newX = ( initialMarkerPosition.left - deltaX );
var newY = ( initialMarkerPosition.top - deltaY );
return({
left: newX,
top: newY
});
}
function handleMouseMove( event ) {
updateMarkerPosition( event.pageX, event.pageY );
}
function handleMouseUp( event ) {
var position = marker.position();
$scope.$apply(
function() {
$scope.updateConversationPosition( marker.scope().conversation, position.left, position.top );
}
);
stateManager.gotoState( ReadyState );
}
function teardown() {
$document.off( "mousemove.invCommentMarkers" );
$document.off( "mouseup.invCommentMarkers" );
marker.removeClass( "activation" );
}
function updateMarkerPosition( pageX, pageY ) {
var localPosition = getLocalPosition( pageX, pageY );
marker.css({
left: ( localPosition.left  + "px" ),
top: ( localPosition.top + "px" )
});
markersController.announceMarkerPosition( localPosition.left, localPosition.top );
}
$document.on( "mousemove.invCommentMarkers", handleMouseMove );
$document.on( "mouseup.invCommentMarkers", handleMouseUp );
var initialMarkerPosition = marker.position();
var containerOffset = viewport.offset();
updateMarkerPosition( currentPageX, currentPageY );
marker.addClass( "activation" );
cancelClick = true;
return( teardown );
}
function MovingMarkerState( stateManager, marker, initialPageX, initialPageY, currentPageX, currentPageY ) {
function getLocalPosition( pageX, pageY ) {
var deltaX = ( initialPageX - pageX );
var deltaY = ( initialPageY - pageY );
var newX = ( initialMarkerPosition.left - deltaX );
var newY = ( initialMarkerPosition.top - deltaY );
return({
left: newX,
top: newY
});
}
function handleMouseMove( event ) {
updateMarkerPosition( event.pageX, event.pageY );
}
function handleMouseUp( event ) {
var position = marker.position();
$scope.$apply(
function() {
$scope.updateConversationPosition( marker.scope().conversation, position.left, position.top );
}
);
stateManager.gotoState( ReadyState );
}
function teardown() {
$document.off( "mousemove.invCommentMarkers" );
$document.off( "mouseup.invCommentMarkers" );
marker.removeClass( "activation" );
}
function updateMarkerPosition( pageX, pageY ) {
var localPosition = getLocalPosition( pageX, pageY );
marker.css({
left: ( localPosition.left + "px" ),
top: ( localPosition.top + "px" )
});
}
$document.on( "mousemove.invCommentMarkers", handleMouseMove );
$document.on( "mouseup.invCommentMarkers", handleMouseUp );
var initialMarkerPosition = marker.position();
updateMarkerPosition( currentPageX, currentPageY );
marker.addClass( "activation" );
cancelClick = true;
return( teardown );
}
function MovingNewConversationState( stateManager, marker, initialPageX, initialPageY, currentPageX, currentPageY ) {
function getLocalPosition( pageX, pageY ) {
var deltaX = ( initialPageX - pageX );
var deltaY = ( initialPageY - pageY );
var newX = ( initialMarkerPosition.left - deltaX );
var newY = ( initialMarkerPosition.top - deltaY );
return({
left: newX,
top: newY
});
}
function handleMouseMove( event ) {
updateMarkerPosition( event.pageX, event.pageY );
}
function handleMouseUp( event ) {
var position = marker.position();
$scope.$apply(
function() {
$scope.updateNewConversationPosition( position.left, position.top );
}
);
stateManager.gotoState( ReadyState );
}
function teardown() {
$document.off( "mousemove.invCommentMarkers" );
$document.off( "mouseup.invCommentMarkers" );
marker.removeClass( "activation" );
}
function updateMarkerPosition( pageX, pageY ) {
var localPosition = getLocalPosition( pageX, pageY );
marker.css({
left: ( localPosition.left + "px" ),
top: ( localPosition.top + "px" )
});
markersController.announceMarkerPosition( localPosition.left, localPosition.top );
}
$document.on( "mousemove.invCommentMarkers", handleMouseMove );
$document.on( "mouseup.invCommentMarkers", handleMouseUp );
var initialMarkerPosition = marker.position();
var containerOffset = viewport.offset();
updateMarkerPosition( currentPageX, currentPageY );
marker.addClass( "activation" );
cancelClick = true;
return( teardown );
}
function NewConversationActivationState( stateManager, marker, initialPageX, initialPageY ) {
function handleMouseMove( event ) {
if ( hasMoved( event.pageX, event.pageY ) ) {
stateManager.gotoState( MovingNewConversationState, marker, initialPageX, initialPageY, event.pageX, event.pageY );
}
}
function handleMouseUp( event ) {
if ( $scope.areMarkersDirty() ) {
alert( "Oops, you haven't saved your comment!" );
} else {
$scope.$apply(
function() {
$scope.closeConversation();
}
);
}
stateManager.gotoState( ReadyState );
}
function hasMoved( pageX, pageY ) {
var tolerance = 3;
return(
( Math.abs( initialPageX - pageX ) > tolerance ) ||
( Math.abs( initialPageY - pageY ) > tolerance )
);
}
function teardown() {
viewport.off( "mousemove.invCommentMarkers" );
viewport.off( "mouseup.invCommentMarkers" );
}
viewport.on( "mousemove.invCommentMarkers", handleMouseMove );
viewport.on( "mouseup.invCommentMarkers", handleMouseUp );
return( teardown );
}
function PotentialMarkerState( stateManager, initialPageX, initialPageY ) {
function handleMouseLeave() {
stateManager.gotoState( ReadyState );
}
function handleMouseUp( event ) {
if ( hasMoved( event.pageX, event.pageY ) ) {
stateManager.gotoState( ReadyState );
} else {
var viewportOffset = viewport.offset();
var x = ( initialPageX - viewportOffset.left - 24 );
var y = ( initialPageY - viewportOffset.top - 24 );
$scope.$apply(
function() {
$scope.startNewConversation( x, y );
}
);
stateManager.gotoState( ReadyState );
}
}
function hasMoved( pageX, pageY ) {
var tolerance = 3;
return(
( Math.abs( initialPageX - pageX ) > tolerance ) ||
( Math.abs( initialPageY - pageY ) > tolerance )
);
}
function teardown() {
viewport.off( "mouseleave.invCommentMarkers" );
viewport.off( "mouseup.invCommentMarkers" );
}
viewport.on( "mouseleave.invCommentMarkers", handleMouseLeave );
viewport.on( "mouseup.invCommentMarkers", handleMouseUp );
return( teardown );
}
function ReadyState( stateManager ) {
function handleMouseDown( event ) {
var target = $( event.target );
if ( target.closest( "form.conversation" ).length ) {
return;
}
if ( target.is( ".marker" ) ) {
handleMouseDownOnMarker( event );
} else if ( target.is( ".viewport" ) ) {
handleMouseDownOnViewport( event );
}
}
function isUserACollaborator(){
var user = sessionService.user;
var members = userService.getMembers();
var isTeamMember = !! _.findWithProperty( members, "id", user.id );						
return ( user.isAccountAuthenticated && isTeamMember);
}
function handleMouseDownOnMarker( event ) {
event.preventDefault(); // Prevent any dragging.
var target = $( event.target );
if ( target.scope().conversation && target.scope().conversation.isTourPoint && !isUserACollaborator() ) {
return;
}
if ( $scope.selectedConversation ) {
if ( $scope.selectedConversation === target.scope().conversation ) {
stateManager.gotoState( ConversationActivationState, target, event.pageX, event.pageY );
} else if ( $scope.areMarkersDirty() ) {
alert( "Oops, you haven't saved your comment!" );
}
} else if ( $scope.newConversation ) {
if ( target.is( ".new-marker" ) ) {
stateManager.gotoState( NewConversationActivationState, target, event.pageX, event.pageY );
} else if ( $scope.areMarkersDirty() ) {
alert( "Oops, you haven't saved your comment!" );
}
} else {
stateManager.gotoState( MarkerActivationState, target, event.pageX, event.pageY );
}
}
function handleMouseDownOnViewport( event ) {
if ( $scope.areMarkersDirty() ) {
return;
} else if ( $scope.selectedConversation || $scope.newConversation ) {
$scope.$apply(
function() {
$scope.closeConversation();
}
);
} else {
stateManager.gotoState( PotentialMarkerState, event.pageX, event.pageY );
}
}
function teardown() {
viewport.off( "mousedown.invCommentMarkers" );
}
viewport.on( "mousedown.invCommentMarkers", handleMouseDown );
return( teardown );
}
function getMarkerByConversationID( id ) {
var marker = viewport.children( "a.marker:not(.new-marker)" )
.filter(
function() {
var conversation = $( this ).scope().conversation;
return( conversation && ( conversation.id == id ) );
}
)
;
return( marker )
}
function scrollToActiveMarkerIfNecessary() {
if ( ! $scope.selectedConversation ) {
return;
}
var marker = getMarkerByConversationID( $scope.selectedConversation.id );
if ( ! marker.length ) {
return;
}
var win = $( window );
var viewTop = win.scrollTop();
var viewBottom = ( viewTop + win.height() );
var viewLeft = win.scrollLeft();
var viewRight = ( viewLeft + win.width() );
var markerOffset = marker.offset();
var markerTop = markerOffset.top;
var markerBottom = ( markerTop + 49 );
var markerLeft = markerOffset.left;
var markerRight = ( markerLeft + 49 );
var markerIsHidden = (
( markerTop <= viewTop ) ||
( markerBottom >= viewBottom ) ||
( markerLeft <= viewLeft ) ||
( markerRight >= viewRight )
);
if ( markerIsHidden ) {
$( "html, body" ).stop( true ).animate(
{
scrollLeft: ( markerLeft - 100 ),
scrollTop: ( markerTop - 100 )
},
500
);
}
}
function measureScrollBarWidth() {
var scrollBarMeasure = $('<div />');
$('body').append(scrollBarMeasure);
scrollBarMeasure
.width(50)
.height(50)
.css({
overflow: 'scroll',
visibility: 'hidden',
position: 'absolute'
});
var scrollBarMeasureContent = $('<div />').height(1);
scrollBarMeasure.append(scrollBarMeasureContent);
var insideWidth = scrollBarMeasureContent.width(),
outsideWidth = scrollBarMeasure.width(),
width = outsideWidth - insideWidth;
scrollBarMeasure.remove();
return width <= 0 ? 8 : width;
}
var stateManager = {
currentStateTeardown: null,
gotoState: function() {
var stateArguments = _.toArray( arguments );
var newStateConstructor = stateArguments.shift();
stateArguments.unshift( stateManager );
if ( stateManager.currentStateTeardown && _.isFunction( stateManager.currentStateTeardown ) ) {
stateManager.currentStateTeardown();
}
stateManager.currentStateTeardown = newStateConstructor.apply( {}, stateArguments );
}
};
element.on(
"click.invCommentMarkers",
"a.marker",
function( event ) {
if ( cancelClick ) {
event.preventDefault();
event.stopPropagation();
cancelClick = false;
}
}
);
$document.on(
"mousedown.invDocumentClick",
function( event ) {
var target = $( event.target);
var marker = $(".marker");
var sketch = $("#shareSketchViewer");
var commentForm = $(".comment-thread-container");
var mentionsPopover = $(".mention-menu-wrapper");
var isCommentForm = commentForm.is(target) || !!commentForm.has(target).length;
var isMarker = marker.is(target) || !!marker.has(target).length;
var isSketch = sketch.is(target) || !!sketch.has(target).length;
var clientW = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);
var clientH = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);
if (!isCommentForm &&
!isMarker &&
!isSketch &&
!mentionsPopover &&
!$scope.areMarkersDirty() &&
$scope.getIsShowingConversationMenu() &&
event.clientY < clientH - sbWidth &&
event.clientX < clientW - sbWidth
) {
$scope.closeConversation();
}
}
);
var viewport = element.children( "div.viewport" );
var cancelClick = false;
var sbWidth = measureScrollBarWidth();
stateManager.gotoState( ReadyState );
$timeout( scrollToActiveMarkerIfNecessary );
$scope.$watch(
"screenID",
function( newValue ) {
cancelClick = false;
stateManager.gotoState( ReadyState );
}
);
$scope.$watch(
"selectedConversation",
function( conversation ) {
if ( ! conversation ) {
return;
}
$timeout( scrollToActiveMarkerIfNecessary );
}
);
$scope.$on(
"$destroy",
function() {
element.off( "click.invCommentMarkers" );
element.off( "mousedown.invCommentMarkers" );
element.off( "mousemove.invCommentMarkers" );
element.off( "mouseup.invCommentMarkers" );
$document.off( "mousedown.invCommentMarkers" );
$document.off( "mousemove.invCommentMarkers" );
$document.off( "mouseup.invCommentMarkers" );
$document.off( "mousedown.invDocumentClick" );
}
);
};
return({
controller: Controller,
link: linkFunction,
require: "invCommentsMarkers",
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! comments-tour-form-key-combos.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invCommentsTourFormKeyCombos", CommentsTourFormKeyCombos );
function CommentsTourFormKeyCombos(
$document,
_,
emojiService,
keyCommandsPriority,
keyCommandsService
) {
return( {
link: linkFunction,
restrict: "A"
} );
function linkFunction( $scope, element, attributes ) {
function handleEscapeEvent( event ) {
if ( emojiService.isTypeaheadActive() || emojiService.isPopoverActive() ) {
return;
}
event.preventDefault();
$scope.selectTourPoint( null );
}
function handleNextConversationEvent( event ) {
event.preventDefault();
if ( $scope.areMarkersDirty() ) {
return( alert( "Oops, you haven't saved your comment!" ) );
}
if ( $scope.conversation.id === 0 ) {
return;
}
$scope.nextTourPoint();
}
function handlePreviousConversationEvent( event ) {
event.preventDefault();
if ( $scope.areMarkersDirty() ) {
return( alert( "Oops, you haven't saved your comment!" ) );
}
if ( $scope.conversation.id === 0 ) {
return;
}
$scope.previousTourPoint();
}
function handleShiftEvent( event ) {
event.stopPropagation();
}
var unlistenToKeyCommands = keyCommandsService.listen(
{
"ArrowLeft": handlePreviousConversationEvent,
"ArrowRight": handleNextConversationEvent,
"Escape": handleEscapeEvent
},
{
priority: keyCommandsPriority.COMMENTS_POPUP
}
);
$document.on( "keydown", handleShiftEvent );
$scope.$on(
"$destroy",
function() {
unlistenToKeyCommands();
$document.off( "keydown", handleShiftEvent );
}
);
}
}
})( angular, InVision );
;
;
/*! confirm-popover.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invConfirmPopover",
function() {
var linkFunction = function( $scope, element, attributes ) {
var handleCancelClick = function( event ) {
event.preventDefault();
target.popover( "destroy" );
doc.off( "mousedown.invConfirmPopover" );
doc.off( "click.invConfirmPopover" );
};
var handleConfirmClick = function( event ) {
event.preventDefault();
target.popover( "destroy" );
doc.off( "mousedown.invConfirmPopover" );
doc.off( "click.invConfirmPopover" );
$scope.$apply( confirmExpression );
};
var handleDocumentMousedown = function( event ) {
if ( $( event.target ).closest( "div.popover" ).length ) {
return;
}
target.popover( "destroy" );
doc.off( "mousedown.invConfirmPopover" );
doc.off( "click.invConfirmPopover" );
};
var doc = $( document );
var target = $( element );
var confirmExpression = attributes.onConfirm;
target.on(
"click.invConfirmPopover",
function( event ) {
event.preventDefault();
target.popover({
html: true,
placement: "top",
trigger: "manual",
title: function() {
return( attributes.invConfirmPopover );
},
content: "<a class='btn btn-primary btn-small invConfirmPopoverConfirm'>&nbsp;Yes&nbsp;</a> &nbsp; <a class='btn btn-small invConfirmPopoverCancel'>&nbsp;No&nbsp;</a> "
});
target.tooltip( "hide" );
target.popover( "show" );
doc.on( "mousedown.invConfirmPopover", handleDocumentMousedown );
doc.on( "click.invConfirmPopover", "a.invConfirmPopoverConfirm", handleConfirmClick );
doc.on( "click.invConfirmPopover", "a.invConfirmPopoverCancel", handleCancelClick );
return( false );
}
);
$scope.$on( 
"$destroy",
function() {
target.off( "click.invConfirmPopover" );
target.popover( "destroy" );
doc.off( "mousedown.invConfirmPopover" );
doc.off( "click.invConfirmPopover" );
}
);
};
return({
link: linkFunction,
restrict: "A",
scope: false
});
}
);
})( angular, InVision );
;
;
/*! focus.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invFocus", Directive );
/** @ngInject */
function Directive() {
var linkFunction = function( $scope, element, attributes ) {
element.one(
"focus.invFocus",
function( event ) {
$scope.$apply( attributes.invFocus );
}
);
$scope.$on(
"$destroy",
function() {
element.off( "focus.invFocus" );					
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! i8n-telephone.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invI8nTelephone", Directive );
/** @ngInject */
function Directive() {
var linkFunction = function( $scope, element, attributes ) {
var defaultCountry = ( $scope[ attributes.countryCode ] || "us" );
$( element ).intlTelInput({
defaultCountry: defaultCountry,
americaMode: false,
defaultStyling: true
});
$scope.$watch( 
attributes.countryCode,
function( newValue, oldValue ) {
if( newValue !== $( element ).intlTelInput("getSelectedCountryData").iso2 ) {
$( element ).intlTelInput("selectCountry", newValue );
}
}
);
$scope.$on(
"$destroy",
function() {			
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! loading-sequence.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invLoadingSequence",
/** @ngInject */
function( $timeout, $, _, config ) {
var linkFunction = function( $scope, element, attributes ) {
function handleEndOfLoadingSequence() {
$scope.$apply($scope.loadingSequenceCompleted);
}
function setStatus( percentage ) {
var totalImagesInSprite = 20;
var imagesPerRow = 5;
var imageWidth = 258;
var index = Math.ceil( totalImagesInSprite * percentage / 100  ) - 1;
if ( percentage ) {
index = Math.max( 0, index );
}
var row = Math.floor( index / imagesPerRow );
var column = ( index % imagesPerRow );
var xOffset = ( column * (-1 * imageWidth) );
var yOffset = ( row * (-1 * imageWidth) );
dom.status.css( 
"background-position", 
( xOffset + "px " + yOffset + "px" )
);
}
var dom = {
target: element,
loader: element.find( "div.loading-backdrop" ),
status: element.find( "div.status" ),
text: element.find(".loading-container")
};
$scope.$watch(
"percentLoaded",
function( newValue ) {
setStatus( newValue );
if ( newValue > config.LOADING_COMPLETE_PERCENT ) {
if ( config.isLite === false || config.isLite === undefined ) {
$scope.setDesktopLoadingForGifIsReady( true );
};
dom.text.fadeOut(250, function() {
dom.loader.fadeOut(250, handleEndOfLoadingSequence);
});
}
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! mobile-skin.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invMobileSkin",
/** @ngInject */
function( $timeout, config, modelEvents ) {
var linkFunction = function( $scope, element, attributes ) {
var positionSkin = function(){
if( config.share.isEmbed == true ){
$(element).css( "margin", "20px 0 0 20px" );
return;
}
var winHeight = $(window).height();
var winWidth = $(window).height();
var skinHeight = $(element).height();
var shadowHeight = 0;  // This is the height of the shaddow at the bottom of every skin image
var bottomBarHeight = 0;
if( ( skinHeight - shadowHeight + 25 ) >= ( winHeight - bottomBarHeight ) ){
var topMargin = "25px";
}else{
var topMargin = ( winHeight - bottomBarHeight - skinHeight + shadowHeight ) / 2;
}
$(element).css( "margin-top", Math.round(topMargin) );
}
if( $scope.deviceTemplate.mobileDeviceID > 0){
$timeout(function(){
positionSkin(); // INIT
});
$(window).on("resize.mobileSkin", positionSkin );
element.on( "mousedown.mobileSkin", function( event ){
event.preventDefault();
if( $(event.target).parents(".mobile-viewport").length ){
return;
}
modelEvents.trigger( "flashHotspots" );
});
}
$scope.showArrows = true;
$scope.$on(
"$destroy",
function() {
$(window).off("resize.mobileSkin");
element.off( "mousedown.mobileSkin" );
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! preview-auto-redirect-listener.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invPreviewAutoRedirectListener", Directive );
var timer;
/** @ngInject */
function Directive( $, _, $rootScope, $timeout, hotspotService ) {
return {
restrict: 'A',
scope: true, // This is required so the $broadcast only goes down the DOM.
link: function( $scope, element, attributes ){
var delayOnLoadTimer;
function getAutoRedirectHotspot( screenID ){
var hotspots = hotspotService.getHotspotsByScreenID( screenID );
var autoRedirectHotspot = _.findWithProperty( hotspots, "eventTypeID", 9 );
if( autoRedirectHotspot != undefined ){
$timeout.cancel( timer );
timer = $timeout(
function onTimerTimeout(){
$scope.$broadcast("autoRedirectTriggered.share", autoRedirectHotspot, undefined, true );
$timeout.cancel( timer );
},
autoRedirectHotspot.metaData.redirectAfter
);
}else{
$timeout.cancel( timer );
}
}
$scope.$watch(
"screen",
function hotspotsChangedFunction( newScreen, oldScreen){
$timeout.cancel( timer );
if( attributes.isShareLoaded == "true" ){
getAutoRedirectHotspot( newScreen.id );
}else{
}
}
);
$rootScope.$on("isToolbarModalOpen", function pauseRedirect(event, isOpen) {
if ( isOpen ) {
$timeout.cancel(timer);
} else {
getAutoRedirectHotspot($scope.screenID);
}
});
attributes.$observe( "isShareLoaded" , function watchLoaderCompleted( newValue ){
if( newValue == "true" ){
$timeout.cancel( delayOnLoadTimer );
delayOnLoadTimer = $timeout( function waitForLoadingScreenToComplete(){
getAutoRedirectHotspot( $scope.screenID );
}, 2000 );
}
});
$scope.$on(
"$destroy",
function( event ) {
$timeout.cancel( timer );
$timeout.cancel( delayOnLoadTimer );
}
);
}
};
}
})( angular, InVision );
;
;
/*! preview-helper.js */ 
;
;
(function( ng, app ) {
"use strict";
var isViewportEventRegistered = false;
app.directive(
"invPreviewHelper",
/** @ngInject */
function(
$location,
$timeout,
_,
config,
keyCommandsPriority,
keyCommandsService,
modelEvents,
sessionService
) {
var linkFunction = function( $scope, element, attributes ) {
function flashPreviewHotspots( fadeInDuration, pauseDuration, fadeOutDuration ) {
fadeInDuration = ( fadeInDuration || 100 );
pauseDuration = ( pauseDuration || 200 );
fadeOutDuration = ( fadeOutDuration || 200 );
var hotspots = element.closest("body").find( "a.hotspot" );
if ( hotspots.is( ".flashing" ) ) {
return;
}
hotspots
.addClass( "flashing" )
.stop(true)
.fadeTo( fadeInDuration, 1 )
.delay( pauseDuration )
.fadeTo(
fadeOutDuration, 0,
function() {
$(this).removeClass("flashing");
}
);
}
function handleArrowLeftEvent( event ) {
if ( ! $scope.share.isLoadAllScreens ) {
return;
}
event.preventDefault();
if ( $scope.project.isMobile ) {
$timeout(function() {
$scope.showPreviousScreen();
});
} else {
$scope.showPreviousScreen();
}
}
function handleArrowRightEvent( event ) {
if ( ! $scope.share.isLoadAllScreens ) {
return;
}
event.preventDefault();
if ( $scope.project.isMobile ) {
$timeout(function() {
$scope.showNextScreen();
});
} else {
$scope.showNextScreen();
}
}
function handleBrowseEvent( event ) {
event.preventDefault();
$scope.openBrowse();
}
function handleCommentsEvent( event ) {
event.preventDefault();
$scope.navigateToScreenComments();
}
function handleFlowEvent( event ) {
event.preventDefault();
$scope.openFlow();
}
function handleTitleEvent( event ) {
if ( $scope.share.isLoadAllScreens ) {
event.preventDefault();
$location.url( "/screens/" + $scope.screen.id + "/title" );
}
}
if ( !$scope.isUserTesting ) {
var mousedata = {
threshold: 5, // pixel
x: 0,
y: 0
};
element.on("mousedown.invPreviewHelper", function(event) {
mousedata.x = event.clientX;
mousedata.y = event.clientY;
});
}
/**
*
* 	Dynamically handle hover/clicking events within a given viewport.
*
*  This is necessary to distinguish between square/round devices,
*  as border-radius doesn't affect the interactive area of an element,
*  just what's visible.
*
*  https://invisionapp.atlassian.net/browse/INVISION-3134
*
*/
var viewportElements = ".mobile-viewport, .mobile-status-bar, #mobile_transition_layer";
var mobileSkinName = attributes.mobileSkinName
if (sessionService.get("inViewport") === undefined) {
sessionService.set("inViewport", false);
}
if ( !isViewportEventRegistered && $scope.project.isMobile ) {
isViewportEventRegistered = true;
var $html = $("html");
$html.on("mouseenter.viewportIntent touchstart.viewportIntent", viewportElements, verifyHoverIntent);
$html.on("mouseleave.viewportIntent", viewportElements, hoverLeave);
}
function hoverLeave( event ) {
var $skin = $(".mobile-skin");
var $viewport = $(".mobile-viewport");
var circleWidth	= $viewport.outerWidth( true );
var circleHeight = $viewport.outerHeight( true );
var circleLeft = $viewport.offset().left;
var circleTop = $viewport.offset().top;
var circlePos = {
x: circleLeft + circleWidth / 2,
y: circleTop + circleHeight / 2,
radius: circleWidth / 2
};
var distance = Math.sqrt( Math.pow( event.pageX - circlePos.x, 2 ) + Math.pow( event.pageY - circlePos.y, 2 ) );
if ( distance > circlePos.radius && sessionService.get("inViewport") ) {
sessionService.set("inViewport", false);
$skin.removeClass("viewport-hover");
$(this).off("mousemove.viewportIntent");
}
}
function verifyHoverIntent( event ) {
var $skin = $(".mobile-skin");
var $viewport = $(".mobile-viewport");
if ( parseInt($viewport.css('border-top-left-radius')) !== 0 && mobileSkinName != "iPhoneX" ) {
var circleWidth	= $viewport.outerWidth( true );
var circleHeight= $viewport.outerHeight( true );
var circleLeft = $viewport.offset().left;
var circleTop = $viewport.offset().top;
var circlePos = {
x: circleLeft + circleWidth / 2,
y: circleTop + circleHeight / 2,
radius: circleWidth / 2
};
$(this).on("mousemove.viewportIntent", function( event ) {
var distance = Math.sqrt( Math.pow( event.pageX - circlePos.x, 2 ) + Math.pow( event.pageY - circlePos.y, 2 ) );
if ( distance <= circlePos.radius && !sessionService.get("inViewport") ) {
sessionService.set("inViewport", true);
if (!isChrome46()) {
$skin.addClass("viewport-hover");
}
} else if ( distance > circlePos.radius && sessionService.get("inViewport") ) {
sessionService.set("inViewport", false);
$skin.removeClass("viewport-hover");
}
});
} else {
sessionService.set("inViewport", true);
if (!isChrome46()) {
$skin.addClass("viewport-hover");
}
}
}
function isChrome46() {
var version = navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);
var platform = navigator.platform;
return platform === "MacIntel" && !!version && parseInt(version[2], 10) === 46;
}
var unlistenToKeyCommands = keyCommandsService.listen(
{
"ArrowLeft": handleArrowLeftEvent,
"ArrowRight": handleArrowRightEvent,
"B": handleBrowseEvent,
"C": handleCommentsEvent,
"F": handleFlowEvent,
"J": handleBrowseEvent,
"T": handleTitleEvent
},
{
priority: keyCommandsPriority.PREVIEW
}
);
$scope.$watch(
"isLoadingOpen",
function( newValue, oldValue ) {
if ( newValue === oldValue ) {
return;
}
if ( !$scope.isUserTesting && newValue === false ) {
flashPreviewHotspots();
}
}
);
modelEvents.on("flashHotspots.preview",
function( event ) {
flashPreviewHotspots();
}
);
$scope.$on(
"$destroy",
function() {
unlistenToKeyCommands();
modelEvents.off( "flashHotspots.preview" );
element.off("mousedown.invPreviewHelper");
}
);
};
return ({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! realtime.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invRealtime", Directive );
/** @ngInject */
function Directive( $window, config, Pusher, modelEvents, _ ) {
function link( $scope, element, attributes ) {
function buildModelEventTriggerArguments( event, eventType, propertyNames ) {
var triggerArguments = _.map(
propertyNames,
function( propertyName ) {
return( event.data[ propertyName ] );
}
);
triggerArguments.unshift( eventType );
return( triggerArguments );
}
function getChannelName( userID ) {
var privateChannelName = ["private", "user", userID];
if ( config.pusher.namespace ) {
privateChannelName.push(config.pusher.namespace);
}
return( privateChannelName.join("-") );
}
function mapPushEvent( channel, eventType, property1, property2, propertyN ) {
var propertyNames = _.toArray( arguments );
var channel = propertyNames.shift();
var eventType = propertyNames.shift();
channel.bind(
eventType,
function( event ) {
var triggerArguments = buildModelEventTriggerArguments( event, eventType, propertyNames );
$scope.$apply(
function() {
modelEvents.trigger.apply( modelEvents, triggerArguments );
}
);
}
);
}
function subscribeToChannelEvents( channel ) {
mapPushEvent( channel, "screenDeleted", "screenID", "projectID" );
mapPushEvent( channel, "screenUploaded", "screen" );
mapPushEvent( channel, "screenSortNotification", "projectID" );
mapPushEvent( channel, "screenConfigUpdated", "screen");
mapPushEvent( channel, "projectUpdated", "project" );
mapPushEvent( channel, "hotspotCreated", "hotspotID", "projectID" );
mapPushEvent( channel, "hotspotUpdated", "hotspotID", "projectID" );
mapPushEvent( channel, "hotspotDeleted", "hotspotID", "projectID" );
mapPushEvent( channel, "commentAdded", "commentID", "conversationID", "projectID" );
mapPushEvent( channel, "commentUpdated", "commentID", "conversationID", "projectID" );
mapPushEvent( channel, "commentDeleted", "commentID", "conversationID", "projectID" );
mapPushEvent( channel, "conversationAdded", "conversationID", "screenID", "projectID" );
mapPushEvent( channel, "conversationUpdated", "conversationID", "projectID" );
mapPushEvent( channel, "conversationDeleted", "conversationID", "projectID" );
mapPushEvent( channel, "sessionInactive", "identifier" );
return( channel );
}
$window.WEB_SOCKET_SUPPRESS_CROSS_DOMAIN_SWF_ERROR = true;
var pusherOptions = {
authEndpoint: "/api/pusher/authenticate"
};
if ( ! config.allowExternalScripts ) {
pusherOptions.disableStats = true;
}
var pusher = new Pusher( config.pusher.appKey, pusherOptions );
var userChannel = null
var unwatchUserID = $scope.$watch(
function watchUserIDExpression() {
return( config.user.id );
},
function watchUserID( newUserID, oldUserID ) {
if ( ! config.user.isAnonymous ) {
unwatchUserID();
}
if ( userChannel && oldUserID ) {
pusher.unsubscribe( getChannelName( oldUserID ) );
}
userChannel = subscribeToChannelEvents( pusher.subscribe( getChannelName( newUserID ) ) );
userChannel.bind('pusher:subscription_error', function(status) {
if(status == 403){
pusher.unsubscribe( getChannelName( newUserID ) );
}
});
}
);
/*
$scope.$on(
"$destroy",
function() {
}
);
*/
};
return({
link: link,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! screen.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invScreen",
/** @ngInject */
function( $timeout, _ ) {
var linkFunction = function( $scope, element, attributes ) {
var imgGifPrev,
imgGif;
function handleImageLoaded() {
element
.off( "load.invScreen" )
.off( "error.invScreen" )
;
$timeout(
function() {
$scope.imageLoadedForScreen( $scope.screen );
}
);
}
function handleScreenSelectionForGif( newValue, oldValue ) {
if ( newValue === oldValue || !newValue || !element.prop( "src" )) {
return;
}
element.attr('src', imgGifPrev.src);
setTimeout(function() {
element.attr('src', imgGif.src);
}, 0);
}
element.on( "load.invScreen", handleImageLoaded );
element.on( "error.invScreen", handleImageLoaded );
if ( $scope.screen && $scope.screen.isGif ) {
if (!imgGif) {
imgGif = new Image();
imgGif.src = $scope.screen.imageUrl;
imgGifPrev = new Image();
}
$scope.$watch('selectedScreen.id', function(val) {
if (val != $scope.screen.id) {
imgGifPrev.src = $scope.selectedScreen.imageUrl;
}
});
$scope.$watch( "( selectedScreen.id == screen.id && mobileLoadingForGifIsReady == true && desktopLoadingForGifIsReady == true && isLoadingOpen == false )", handleScreenSelectionForGif);
}
$scope.$on(
"$destroy",
function() {
element.off( "load.invScreen" );
element.off( "error.invScreen" );
}
);
};
function isIE() {
var ua = window.navigator.userAgent;
var msie = ua.indexOf("MSIE ");
if ( msie > 0 || !!navigator.userAgent.match(/Trident.*rv\:11\./) ){
return true;  // If old IE or new, but just as bad IE 11
}
return false;
}
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! screens.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invScreens",
/** @ngInject */
function( $window, _, config, $location, $timeout, screenService ) {
var linkFunction = function( $scope, element, attributes ) {
var isFirstScreenChange = true;
function handleSelectedScreenChange( screen, isSubviewSwitch ) {
if (isFirstScreenChange) isFirstScreenChange = false;
if ( ! screen ) {
return;
}
var screenWidth = screen.width * screen.displayScale;
var screenHeight = screen.height * screen.displayScale;
var isMaintainScrollPosition = (
isFirstScreenChange
? false
: $location.search().maintainScrollPosition !== 'false'
);
if (
( screenWidth <= windowWidth ) &&
( screenHeight <= windowHeight )
) {
return;
}
var targetScrollLeft;
if ( isMaintainScrollPosition && !isSubviewSwitch ) {
targetScrollLeft = $jqWindow.scrollLeft();
} else if ( screen.alignment === "left" ) {
targetScrollLeft = 0;
} else if ( screen.alignment === "right" ) {
targetScrollLeft = ( screenWidth - windowWidth );
} else {
targetScrollLeft = ( ( screenWidth - windowWidth ) / 2 );
}
var targetScrollTop = 0;
if ( isMaintainScrollPosition ) {
targetScrollTop = $jqWindow.scrollTop();
}
if( screen.zoomScrollBehavior !== screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING || $scope.subview == "comments" ){
$jqWindow.scrollLeft( targetScrollLeft );
}
if ($scope.subview !== "comments") {
$jqWindow.scrollTop( targetScrollTop );
}
$timeout(
function() {
if( screen.zoomScrollBehavior !== screenService.zoomScrollBehaviors.DISABLE_HORIZONTAL_SCROLLING || $scope.subview == "comments" ){
$jqWindow.scrollLeft( targetScrollLeft );
}
if ($scope.subview !== "comments") {
$jqWindow.scrollTop( targetScrollTop );
}
});
}
var $jqWindow = $( window );
var windowWidth = $jqWindow.width();
var windowHeight = $jqWindow.height();
$jqWindow.on(
"resize.invScreens",
function() {
windowWidth = $jqWindow.width();
windowHeight = $jqWindow.height();
}
);
var unwatchLoading = $scope.$watch(
function() {
return( $scope.getPercentOfScreensLoaded() > config.LOADING_COMPLETE_PERCENTAGE );
},
function( isLoaded ) {
if ( ! isLoaded ) {
return;
}
unwatchLoading();
$scope.$watch(
"selectedScreen",
function( newScreen, oldScreen ) {
handleSelectedScreenChange( newScreen, false );
}
);
}
);
$scope.$watch(
"subview",
function( newSection, oldSection ){
if( newSection == "comments" && oldSection != "comments" ){
handleSelectedScreenChange( $scope.screen, true );
}
}
);
$scope.$on(
"$destroy",
function() {
$jqWindow.off( "resize.invScreens" );
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! share-screen-viewer.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invShareScreenViewer", Directive );
/** @ngInject */
function Directive( _, $location, $routeParams, $timeout, $window, config, ScreenAlignmentHelper ) {
var linkFunction = function( $scope, element ) {
var $win = angular.element($window);
var niceScrollInstance = null;
var scrollWatcher = angular.noop;
if (!( "startingScreenID" in $scope )) {
$scope.startingScreenID = parseInt( $routeParams.screenID, 10 ) || $scope.screen.id;
}
function getConfig() {
var _share = $scope.share;
_share = _.omit(_share, "id");
var _config = _.merge($scope.project, $scope.screen );
_config = _.merge(_config, _share);
_config.isShare = true;
_config.mobileStatusbarBackgroundIsTransparent = ( _config.mobileStatusbarBackgroundColor === "" );
return _config;
}
function prepData(data) {
if (data && data.hasOwnProperty("forceRefreshGUID")) {
return _.omit(data, "forceRefreshGUID");
}
return data;
}
function syncScreenAlignment( alignment ) {
if ( !alignment ) {
var helper = new ScreenAlignmentHelper();
alignment = helper.calculate( $scope.screen );
}
InvScreenViewer.store.setAlignment( alignment );
}
function mergeDataIntoScreen(screen) {
var _screen = angular.copy(screen);
var loadingScreenID = $scope.project.loadingScreen.id || null;
if (_screen.id !== loadingScreenID) {
_screen.displayScale = _screen.displayScale || 1;
_screen.hotspots = $scope.hotspots;
_screen.config = getConfig();
}
return _screen;
}
function handleDataChange(newValue, oldValue) {
if ( newValue !== oldValue ) {
var _screen = mergeDataIntoScreen($scope.screen);
var _screens = _.map($scope.screens, mergeDataIntoScreen);
var _project = $scope.project;
var _config = getConfig();
var allHotspots = prepData($scope.allHotspots);
_project.loadingScreen = _.withProperty( _screens, "screenTypeID", 3 )[0] || "";
if ( !$scope.hasChangedScreens && $scope.startingScreenID === _screen.id ) {
$scope.isNavigationDisabled = _.isArray( _screen.hotspots ) && _screen.hotspots.length > 0;
}
InvScreenViewer.store.pushNewData({
project: prepData( _project ),
screen: prepData(_screen),
currentScreenID: _screen.id,
screens: prepData(_screens),
screenCount: _.size(_screens),
allHotspots: allHotspots,
config: prepData(_config),
templates: prepData($scope.templates),
tourPoints: prepData($scope.tourPoints),
disableHotspotFlash: _config.isUserTesting || false,
isNavigationDisabled: $scope.isNavigationDisabled
});
positionOtherViewports();
window.setTimeout( syncScreenAlignment );
}
}
function pushScreenCount() {
InvScreenViewer.store.pushNewData({
screenCount: _.size($scope.screens)
});
}
function remount(_screen, _screens) {
ReactDOM.unmountComponentAtNode(element[0]);
ReactDOM.render(
React.createFactory(InvScreenViewer.component)(
{
screen: _screen,
screens: _screens,
project: prepData($scope.project),
screenCount: 100
}
),
element[0]
);
pushScreenCount();
}
function init() {
var _screen = mergeDataIntoScreen($scope.screen);
var _screens = _.map($scope.screens, mergeDataIntoScreen);
var disableHotspotFlash = $scope.isUserTesting;
InvScreenViewer.store.getDefaultData({
screen: prepData(_screen),
screens: prepData(_screens),
project: prepData($scope.project),
tourPoints: prepData($scope.tourPoints),
disableHotspotFlash: disableHotspotFlash || false,
screenCount: _.size(_screens),
config: getConfig()
});
remount(_screen, _screens);
syncScreenAlignment();
}
function positionOtherViewports() {
if ( !$scope.project.isMobile ) {
return;
}
var statusBarHeight;
try {
statusBarHeight = $scope.project.mobileTemplate.statusbar.height;
} catch ( error ) {
statusBarHeight = 0;
}
var viewportPosition = $("#viewport").offset();
var viewportHeight = parseInt($scope.project.mobileTemplate.viewportHeight, 10);
var transitionLayer = $("#mobile_transition_layer, #mobile_sketch_layer");
var transitionImage = transitionLayer.find(".target-screen").find("img");
if ( $scope.project.mobileStatusbarIsOpaque && $scope.project.mobileStatusbarIsVisible ) {
viewportHeight -= statusBarHeight;
}
var transitionLayerStyles = {
overflow: "hidden",
top: viewportPosition.top - window.pageYOffset,
left: viewportPosition.left - window.pageXOffset,
height: viewportHeight,
width: $scope.project.mobileTemplate.viewportWidth
};
if (
$scope.project &&
$scope.project.mobileTemplate &&
$scope.project.mobileTemplate.mobileSkin === "iPhoneX"
) {
if (
$scope.project.mobileStatusbarIsVisible &&
!$scope.project.mobileStatusbarBackgroundIsTransparent &&
!$scope.project.mobileStatusbarIsOpaque
) {
transitionLayerStyles.borderRadius = "42px 42px 40px 40px";
} else if (
$scope.project.mobileStatusbarIsOpaque &&
$scope.project.mobileStatusbarIsVisible
) {
transitionLayerStyles.borderRadius = "0 0 40px 40px";
} else {
transitionLayerStyles.borderRadius = "40px";
}
}
transitionLayer.css(transitionLayerStyles);
transitionImage.css({
marginTop: -InvScreenViewer.store.transitionScroll.y || 0
});
}
$scope.$on("$destroy", function() {
ReactDOM.unmountComponentAtNode(element[0]);
$win.off("resize.invScreenViewer");
$win.off("scroll.invScreenViewer");
});
$scope.$on(
"loadingSequenceCompleted",
function() {
InvScreenViewer.store.triggerInitialSyncScreen(true);
}
);
$scope.$watch("deviceTemplate", handleDataChange, true);
$scope.$watch("screen", handleDataChange, true);
$scope.$watch("screens", handleDataChange, true);
$scope.$watch("hotspots", handleDataChange, true);
$scope.$watch("allHotspots", handleDataChange, true);
$scope.$watch("templates", handleDataChange, true);
$scope.$watch("share", handleDataChange, true);
$scope.$watch("tourPoints", handleDataChange, true);
if ( $scope.project.isMobile ) {
$win.on("resize.invScreenViewer", positionOtherViewports);
$win.on("scroll.invScreenViewer", positionOtherViewports);
}
$scope.$on(
"screenAlignment:update",
function(event, alignment ) {
syncScreenAlignment( alignment );
}
);
$scope.$on(
"screenViewer:screenChanged",
function() {
$scope.hasChangedScreens = true;
if ( InvScreenViewer.store.isOverlayOpen ) {
InvScreenViewer.store.closeOverlay();
}
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.angularLocationChange,
function(targetScreenID) {
if ( _.isUndefined(targetScreenID) ) {
return;
}
$timeout(function() {
$scope.navigateToTargetScreen(targetScreenID);
});
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.angularDoTransition,
function(hotspot, transitionData) {
$timeout(function() {
$scope.$emit("doTransition", hotspot, transitionData);
});
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.setMobileScreenViewport,
function( ns ) {
niceScrollInstance = ns;
}
);
$scope.$watch(
"selectedTourPoint",
function(newValue, oldValue) {
if ( newValue !== oldValue ) {
InvScreenViewer.tourPointsStore.onSetSelectedTourPoint(newValue);
}
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.handleTourPointClick,
function(tourPoint) {
$scope.selectTourPoint(tourPoint);
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.handleTourPointMouseEnter,
function(tourPoint) {
$scope.selectTooltipTourPoint(tourPoint);
}
);
InvScreenViewer.store.listenTo(
InvScreenViewer.actions.handleTourPointMouseLeave,
function() {
$scope.clearTooltipTourPoint();
}
);
init();
};
return ({
restrict: "E",
link: linkFunction
});
}
})( angular, InVision );
;
;
/*! share-sketch-viewer-image.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invShareSketchViewerImage", Directive );
/** @ngInject */
function Directive( $, $window, modelEvents ) {
return {
restrict: 'A',
link: function( $scope, element, attrs ){
var retry = 1;
var timer;
var baseURL = "/api/comments/" + $scope.sketchViewerSketch.commentID + "/sketch/" + $scope.sketchViewerSketch.id;
element.bind("error", function(e){
$scope.setSketchImageIsProcessing( true );
$scope.$apply();
if( retry <= 5 ){
timer = setTimeout(function(){
element.attr("src", baseURL + "?retry=" + retry );
retry++
}, 5000);
}
});
element.bind("load", function(e){
$scope.setSketchImageIsProcessing( false );
$scope.$apply();
})
$scope.$on( "$destroy", function() {
$(window).off("resize.sketchViewerModal");
clearTimeout( timer );
});
}
};
}
})( angular, InVision );
;
;
/*! share-sketch-viewer.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invShareSketchViewer",
/** @ngInject */
function(
$,
$timeout,
$window,
keyCommandsPriority,
keyCommandsService,
modelEvents
) {
return {
restrict: 'A',
transclude: true,
replace: true,
templateUrl: "/assets/apps/share/views/directives/share-sketch-viewer.htm",
link: function( $scope, element, attrs ){
var $win = $($window);
var unlistenToKeyCommands = keyCommandsService.listen(
{
"Escape": handleCloseModalEvent
},
{
priority: keyCommandsPriority.SKETCH_VIEWER
}
);
function handleCloseModalEvent( event ) {
event.preventDefault();
$scope.closeSketchViewer();
}
var resizeSketchViewer = function(){
var overlay = $( element ).find('.modalOverlay');
overlay.css("height", $win.height() );
overlay.css("width", $win.width() );
var sketchViewerWindow = $( element ).find(".sketchViewer");
var sketchImageContainer = $( sketchViewerWindow ).find(".imageContainer");
var sketchImage = $( sketchImageContainer ).find("img");
var sketchHeight = $scope.screen.height * $scope.screen.displayScale;
var sketchWidth = $scope.screen.width * $scope.screen.displayScale;
var viewerMaxHeight = $win.height() * .75;
var viewerMaxWidth = $win.width() * .85;
if ( sketchHeight < viewerMaxHeight){
viewerMaxHeight = sketchHeight;
}
if ( sketchWidth < viewerMaxWidth){
viewerMaxWidth = sketchWidth;
}else{
sketchImage.css( "width", viewerMaxWidth + "px");
}
sketchViewerWindow.css("height", viewerMaxHeight + "px");
sketchViewerWindow.css("width", viewerMaxWidth );
element.find(".isProcessing>p").css({"margin-top": (viewerMaxHeight/2 - 50) + "px"});
var marginTop = ( $win.height() - viewerMaxHeight ) / 2;
var marginLeft = ( $win.width() - viewerMaxWidth ) / 2;
sketchViewerWindow.css("margin-top", marginTop );
sketchViewerWindow.css("margin-left", marginLeft );
sketchViewerWindow.removeClass("taller");
sketchViewerWindow.removeClass("wider");
if ( $win.height() < sketchHeight + viewerMaxHeight ) {
sketchViewerWindow.addClass("taller");
}
if ( $win.width() < sketchWidth + viewerMaxHeight ) {
sketchViewerWindow.addClass("wider");
}
}
var autoScrollSketchViewer = function(){
var sTop = $scope.sketchViewerMarker.y * $scope.screen.displayScale - ( $(element).find(".sketchViewer").height() / 2 );
var sLeft = $scope.sketchViewerMarker.x * $scope.screen.displayScale - ( $(element).find(".sketchViewer").width() / 2 );
sTop = sTop > 0 ? sTop : 0;
sLeft = sLeft > 0 ? sLeft : 0;
$(element).find('.imageContainer').scrollTop( sTop ).scrollLeft( sLeft );
}
$timeout(function(){
resizeSketchViewer();
autoScrollSketchViewer();
});
$(window).on("resize.sketchViewerModal", function(){
resizeSketchViewer();
autoScrollSketchViewer();
});
$scope.$on( "$destroy", function() {
$(window).off("resize.sketchViewerModal");
unlistenToKeyCommands();
});
}
};
}
);
})( angular, InVision );
;
;
/*! success-button.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive( "invSuccessButton", Directive );
/** @ngInject */
function Directive( $timeout ) {
var linkFunction = function( $scope, element, attributes ) {
var $button = $(element),
markup = "<span class=\"success-wrap\">" +
"<span class=\"content\">" + $button.text() + "</span>" +
"<span class=\"success\"></span>" +
"</span>",
delay = attributes.delay || 1500;
$button
.text("")
.addClass("success-button")
.append($(markup));
$scope.$on("invSuccessButton:reload", function() {
$button.removeClass("success");
$button
.text("")
.addClass("success-button")
.append($(markup));
});
$scope.$on("invSuccessButton:success", function() {
$button.addClass("success");
$timeout(function() {
$scope.$apply( attributes.afterSuccess );
}, delay);
});
$scope.$on(
"$destroy",
function() {
$button.off("click.invSuccessButton");
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
})( angular, InVision );
;
;
/*! tinyscrollbar.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invTinyscrollbar",
/** @ngInject */
function( $timeout, _ ) {
var linkFunction = function( $scope, element, attributes ) {
function applyConditionalClasses() {
if ( isScrollbarDisabled() ) {
if ( enabledClass ) {
target.removeClass( enabledClass );
}
if ( disabledClass ) {
target.addClass( disabledClass );
}
} else {
if ( enabledClass ) {
target.addClass( enabledClass );
}
if ( disabledClass ) {
target.removeClass( disabledClass );
}
}
}
function isScrollbarDisabled() {
return( scrollbar.is( ".disable" ) );
}
var target = $( element );
target
.wrapInner( "<div class='overview'>" )
.wrapInner( "<div class='viewport'>" )
.prepend( "<div unselectable='on' class='scrollbar unselectable'><div unselectable='on' class='track unselectable'><div unselectable='on' class='thumb unselectable'><div unselectable='on' class='end unselectable'></div></div></div></div>" )
.tinyscrollbar({
axis: "y"
});
;
var viewport = target.children( "div.viewport" );
var overview = viewport.children( "div.overview" );
var scrollbar = target.children( "div.scrollbar" );
var disabledClass = ( attributes.tinyscrollbarDisabledClass || "" );
var enabledClass = ( attributes.tinyscrollbarEnabledClass || "" );
scrollbar.on(
"mousedown.invTinyscrollbar selectstart.invTinyscrollbar",
function( event ) {
event.preventDefault();
}
);
$scope.$watch(
function() {
return( overview.height() );
},
function( newValue ) {
target.tinyscrollbar_update();
applyConditionalClasses();
}
);
$( window ).on(
"resize.invTinyscrollbar",
function( event ) {
target.tinyscrollbar_update();
applyConditionalClasses();
}
);
$scope.$on(
"$destroy",
function() {
target.remove();
scrollbar.off( "mousedown.invTinyscrollbar" );
scrollbar.off( "selectstart.invTinyscrollbar" );
$( window ).off( "resize.invTinyscrollbar" );
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! toggle.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invToggle",
function() {
var linkFunction = function( $scope, element, attributes, modelController ) {
function applyModelValue( value ) {
if ( value ) {
element
.addClass( "on" )
.removeClass( "off" )
;
} else {
element
.addClass( "off" )
.removeClass( "on" )
;
}
}
function toggle() {
var newValue = ! modelController.$modelValue;
applyModelValue( newValue );
modelController.$setViewValue( newValue );
}
var thumb = element.siblings('.clickable'); //element.find( "a.toggle-thumb" );
thumb.on(
"click.invToggle", 
function( event ) {
event.preventDefault();
$scope.$apply( toggle );
}
);
modelController.$render = function() {
applyModelValue( modelController.$modelValue );
};
$scope.$on(
"$destroy",
function() {
thumb.off( "click.invToggle" );
}
);
};
return({
link: linkFunction,
replace: true,
require: "^ngModel",
restrict: "A",
templateUrl: "/assets/apps/share/views/directives/toggle.htm"
});
}
);
})( angular, InVision );
;
;
/*! toolbar.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invToolbar",
/** @ngInject */
function( _ ) {
var linkFunction = function( $scope, element, attributes ) {
element.on(
"mouseenter.invToolbar",
function( event ) {
$scope.$apply(
function() {
$scope.isUserOverToolbar = true;
$scope.updateActiveStatus();
}
);
}
);
element.on(
"mouseleave.invToolbar",
function( event ) {
$scope.$apply(
function() {
$scope.isUserOverToolbar = false;
$scope.updateActiveStatus();
}
);
}
);
$scope.$on(
"$destroy",
function() {
element.off( "mouseenter.invToolbar" );
element.off( "mouseleave.invToolbar" );
}
);
};
return({
link: linkFunction,
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! tour-comments-form.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invTourCommentsForm",
/** @ngInject */
function( $window, $rootScope, $document, $timeout, _, modelEvents, config ) {
var linkFunction = function( $scope, element, attributes, markersController ) {
function getMarkerElement( conversation ) {
var tourPointMarker = $("[data-tour-point-id='" + conversation.id + "']:visible");
var headerMarker;
var finalMarker;
var headerRect;
var footerRect;
var curPos;
if( tourPointMarker.length > 1 ) {
if( $(".headerSlice").length > 0 ) {
headerMarker = $(".headerSlice [data-tour-point-id='" + conversation.id + "']:visible");
curPos = headerMarker[0].getBoundingClientRect();
headerRect = $(".headerSlice")[0].getBoundingClientRect();
if( curPos.top < headerRect.bottom ) {
return headerMarker[0];
}
}
if( $(".header-slice").length > 0 ) {
headerMarker = $(".header-slice [data-tour-point-id='" + conversation.id + "']:visible");
curPos = headerMarker[0].getBoundingClientRect();
headerRect = $(".header-slice")[0].getBoundingClientRect();
if( curPos.top < headerRect.bottom ) {
return headerMarker[0];
}
}
if( $(".footer-slice").length > 0 ) {
var footerMarker = $(".footer-slice [data-tour-point-id='" + conversation.id + "']:visible");
curPos = footerMarker[0].getBoundingClientRect();
footerRect = $(".footer-slice")[0].getBoundingClientRect();
if( curPos.top > footerRect.top ) {
return footerMarker[0];
}
}
return $(".primary-preview [data-tour-point-id='" + conversation.id + "']")[0];
} else {
finalMarker = tourPointMarker[0];
}
return finalMarker;
}
function updatePosition( conversation, isScrolling ) {
isScrolling = !! isScrolling;
var marker;
marker = getMarkerElement(conversation);
if( ! marker ) {
element.hide();
return;
}
var markerRect = marker.getBoundingClientRect();
var destPosition = {
left: ( Math.floor(markerRect.left) + Math.floor(markerRect.width / 2) ),
top: ( Math.floor(markerRect.top) + Math.floor(markerRect.height / 2) - 5 )
};
if(
isScrolling ||
( ! element[0].style.left || ! element[0].style.top ) ||
Math.abs(parseInt(element[0].style.left.replace("px", ""), 10) - destPosition.left) > 3 ||
Math.abs(parseInt(element[0].style.top.replace("px", ""), 10) - destPosition.top) > 3
) {
element.css({
left: destPosition.left + "px",
top: destPosition.top + "px"
});
}
if( config.project.isMobile ) {
markerRect = $(marker).offset();
element.hide();
}
if ( $(window).width() - markerRect.right <= 387 && markerRect.left >= 450 ) {
element.addClass( "left" );
element.removeClass( "right" );
element.removeClass( "bottom" );
} else if(
(! config.project.isMobile || config.project.mobileDeviceWidth > 500) &&
markerRect.left >= 135 &&
$(window).width() - markerRect.right > 387
) {
element.removeClass( "left" );
element.removeClass( "right" );
element.addClass( "bottom" );
} else {
element.removeClass( "left" );
element.addClass( "right" );
element.removeClass( "bottom" );
}
var formRect = element.find(".comment-thread")[0].getBoundingClientRect();
var markerPosition = {
top: marker.offsetTop,
left:  marker.offsetLeft
};
var containerElem = config.project.isMobile ? ".scroll-wrap" : window;
var formVisible = (formRect.left + formRect.width) < $(containerElem).width() &&
(formRect.top + formRect.height) < $(containerElem).height() &&
formRect.top > ( !! $scope.screen.fixedHeaderHeight ? ($scope.screen.fixedHeaderHeight * $scope.screen.displayScale) + 75 : 0 ) &&
formRect.left > 0;
var markerVisible = markerPosition.top >= $(containerElem).scrollTop() &&
markerPosition.top < $(containerElem).scrollTop() + $(containerElem).height() &&
markerPosition.left >= 0 &&
(
! config.project.isMobile ||
$(".mobile-status-bar").length > 0 && $(".mobile-status-bar").height() < markerPosition.top - $(containerElem).scrollTop()
) &&
(
! $scope.screen.fixedHeaderHeight ||
( $scope.screen.fixedHeaderHeight * $scope.screen.displayScale ) < markerPosition.top - $(containerElem).scrollTop()
) &&
(
! $scope.screen.fixedFooterHeight ||
( $scope.screen.fixedFooterHeight * $scope.screen.displayScale ) > markerPosition.top - $(containerElem).scrollTop()
);
var avoidScroll = $(marker).parents(".fixed-element").length > 0;
if( ((! formVisible || !markerVisible) && ! config.project.isMobile) || (! markerVisible && config.project.isMobile) ) {
$( "html, body" ).css( "padding-bottom", formRect.height + "px" );
if( ! isScrolling && ! avoidScroll ) {
var scrollElem = config.project.isMobile ? ".scroll-wrap" : "html, body";
var scrollRect = config.project.isMobile ? {
top: marker.parentNode.offsetTop + Math.floor( marker.parentNode.offsetHeight / 2 ),
left: marker.parentNode.offsetLeft + Math.floor( marker.parentNode.offsetWidth / 2 )
} : formRect;
var left, top;
if( ! config.project.isMobile ) {
left = scrollRect.left + $(window).scrollLeft();
top = scrollRect.top + $(window).scrollTop();
} else {
left = marker.offsetLeft;
top = marker.offsetTop;
}
isViewportScrolling = true;
var animateTime = ( config.project.isMobile &&
Math.max(0, Math.floor(
( top - 100 ) -
($scope.screen.fixedHeaderHeight * $scope.screen.displayScale)
)) !== $(".scroll-wrap").scrollTop()
) ? 250 : 0;
$( scrollElem ).stop( true ).animate(
{
scrollLeft: ( left - 100 ),
scrollTop: Math.max(0, Math.floor(( top - 100 ) - ($scope.screen.fixedHeaderHeight * $scope.screen.displayScale)))
},
animateTime, function() {
isViewportScrolling = false;
if( config.project.isMobile ) {
markerRect = marker.getBoundingClientRect();
destPosition = {
left: ( Math.floor(markerRect.left) + Math.floor(markerRect.width / 2) ),
top: ( Math.floor(markerRect.top) + Math.floor(markerRect.height / 2) - 5 )
};
if(
( ! element[0].style.left || ! element[0].style.top ) ||
Math.abs(parseInt(element[0].style.left.replace("px", ""), 10) - destPosition.left) > 3 ||
Math.abs(parseInt(element[0].style.top.replace("px", ""), 10) - destPosition.top) > 3
) {
element.css({
left: destPosition.left + "px",
top: destPosition.top + "px"
});
}
element.show();
} else {
element.show();
}
}
);
} else {
element.show();
}
} else {
element.show();
}
}
function setTextClass() {
if( ! $scope.conversation.isTourPoint ) {
return;
}
if( element.find(".primary-comment .post-comment").height() <= 40 ) {
element.find(".primary-comment .post-comment").addClass("single-line");
} else {
element.find(".primary-comment .post-comment").removeClass("single-line");
}
}
var documentWidth = $document.width();
var viewport = $( "div.viewport" );
var containerOffset = viewport.offset();
updatePosition( $scope.conversation );
$timeout(function() {
updatePosition( $scope.conversation, false );
setTextClass();
});
$timeout(function() {
updatePosition( $scope.conversation, false );
}, 250);
$scope.showCommentInput = function() {
$scope.isCommentInputVisible = true;
$timeout( function(){
element.find( "textarea" ).focus();
});
};
if ( $scope.conversation.id === 0 ) {
$scope.showCommentInput();
}
$scope.toggleCommentsExpanded = function() {
$scope.commentsExpanded = ! $scope.commentsExpanded;
if( $scope.commentsExpanded ) {
$timeout(function() {
updatePosition( $scope.conversation, true );
element.find("textarea").focus();
});
}
};
$scope.onReplyFinished = function() {
$scope.$broadcast("invSuccessButton:reload");
$scope.toggleCommentsExpanded();
};
$scope.commentsExpanded = false;
var isViewportScrolling = false;
$( window ).on(
"resize.invCommentsForm",
function( event ) {
updatePosition( $scope.conversation );
}
);
$( window ).on(
"scroll.invCommentsForm",
_.throttle(function( event ) {
updatePosition( $scope.conversation, true );
}, 10)
);
$(".scroll-wrap").on(
"scroll.invCommentsForm",
function(event) {
if( ! isViewportScrolling ) {
updatePosition( $scope.conversation, true );
}
}
);
$document.on("keydown.invCommentsForm", function(e) {
if ( e.keyCode === 13 && ( e.metaKey || e.ctrlKey ) ) {
$scope.$apply(
function invokeNgSubmitBinding() {
$scope.$eval( attributes.ngSubmit );
}
);
}
});
$(document).on("mousedown.invCommentsForm", function(e) {
if( $(".sketchViewer").length > 0 ) {
return;
}
if(
! $(e.target).is(".tour-point-form") &&
! $(e.target).is(".tour-point-form footer") &&
$(e.target).closest(".tour-point-form").length === 0 &&
$(e.target).closest(".tour-point-form footer").length === 0
) {
$scope.selectTourPoint(null);
}
});
$(".scroll-wrap").on("click.invCommentsForm", function(e) {
if(
$(".sketchViewer").length <= 0 &&
$(".tour-point-form").length > 0
) {
$scope.selectTourPoint(null);
}
});
modelEvents.on("commentCreated.invTourCommentsForm", function() {
$timeout(function() {
$scope.$emit("reloadComments");
});
});
$scope.$on(
"commentChanged",
function() {
$timeout(function() {
setTextClass();
});
}
);
$scope.$on(
"conversationSelected",
function(event, conversation, mouseEvent) {
$("html, body").css("padding-bottom", 0);
}
);
$scope.$on(
"refreshConversationPosition",
function() {
updatePosition( $scope.conversation, false );
}
);
$scope.$on(
"$destroy",
function() {
markersController.clearCallback();
modelEvents.off("commentCreated.invTourCommentsForm");
$document.off( "resize.invCommentsForm" );
$document.off( "keydown.invCommentsForm" );
$( window ).off( "resize.invCommentsForm" );
$(window).off( "scroll.invCommentsForm" );
$(document).off("mousedown.invCommentsForm");
$(".skinWrapper").off("scroll.invCommentsForm");
$(".scroll-wrap").off("click.invCommentsForm");
$(".scroll-wrap").removeClass("tour-points");
$(".scroll-wrap").off("scroll.invCommentsForm");
}
);
};
return({
link: linkFunction,
require: "^invCommentsMarkers",
restrict: "A"
});
}
);
})( angular, InVision );
;
;
/*! tour-point-tooltip.js */ 
;
;
(function (ng, app) {
"use strict";
app.directive(
"invTourPointTooltip",
/** @ngInject */
function(_, $timeout, config, commentService, emojiService) {
var linkFunction = function($scope, element, attributes) {
var tooltipStyle = function() {
if (!$scope.tooltipTourPoint) {
return {};
}
var tourPointMarker = $("[data-tour-point-id='" + $scope.tooltipTourPoint.id + "']:visible");
var finalMarker;
var headerRect;
var curPos;
if (tourPointMarker.length > 1) {
if ($(".headerSlice").length > 0) {
var headerMarker = $(".headerSlice [data-tour-point-id='" + $scope.tooltipTourPoint.id + "']:visible");
curPos = headerMarker[0].getBoundingClientRect();
headerRect = $(".headerSlice")[0].getBoundingClientRect();
if (curPos.top < headerRect.bottom) {
finalMarker = $(headerMarker[0]);
}
}
if ($(".header-slice").length > 0) {
var headerMarker = $(".header-slice [data-tour-point-id='" + $scope.tooltipTourPoint.id + "']:visible");
curPos = headerMarker[0].getBoundingClientRect();
headerRect = $(".header-slice")[0].getBoundingClientRect();
if (curPos.top < headerRect.bottom) {
finalMarker = $(headerMarker[0]);
}
}
if ($(".footer-slice").length > 0) {
var footerMarker = $(".footer-slice [data-tour-point-id='" + $scope.tooltipTourPoint.id + "']:visible");
curPos = footerMarker[0].getBoundingClientRect();
var footerRect = $(".footer-slice")[0].getBoundingClientRect();
if (curPos.top > footerRect.top) {
finalMarker = $(footerMarker[0]);
}
}
if (!finalMarker) {
finalMarker = $(".primary-preview [data-tour-point-id='" + $scope.tooltipTourPoint.id + "']:visible");
}
} else {
finalMarker = tourPointMarker;
}
if (finalMarker.length > 0) {
var markerRect = finalMarker[0].getBoundingClientRect();
return {
top: markerRect.top + "px",
left: markerRect.left - 1 + "px"
};
}
return {};
};
$scope.tooltipExcerpt = function() {
if (!$scope.tooltipTourPoint) {
return "";
}
var comment = $scope.tooltipTourPoint.comment;
var sanitizedComment = commentService.escapeHtml(comment.comment);
return comment.emojiparsedcomment || emojiService.parseEmoji(sanitizedComment);
};
$scope.tooltipClass = function() {
if (!$scope.tooltipTourPoint) {
return [];
}
var tourPointMarker = $("[data-tour-point-id='" + $scope.tooltipTourPoint.id + "']");
var finalMarker;
if (tourPointMarker.length > 1) {
for (var i = 0; i < tourPointMarker.length; i++) {
var curPos = $(tourPointMarker[i]).offset();
if (curPos.top < $(window).height() + $(window).scrollTop() && curPos.top >= 0) {
finalMarker = $(tourPointMarker[i]);
}
}
} else {
finalMarker = tourPointMarker;
}
if (!!finalMarker) {
var tourClasses = [];
var markerRect = finalMarker[0].getBoundingClientRect();
if ($(window).width() - markerRect.right > 300) {
tourClasses.push("left");
} else {
tourClasses.push("right");
}
if (
$(".tour-point-form").length <= 0 || !$(".tour-point-form").is(":visible") ||
parseInt($(".tour-point-form").css("opacity"), 10) === 0
) {
tourClasses.push("visible");
}
return tourClasses;
}
return [];
};
element.css(tooltipStyle());
$(window).on(
"scroll.invTourPointTooltip",
_.throttle(function(event) {
element.css(tooltipStyle());
}, 10)
);
$(".mobile-viewport").on(
"scroll.invTourPointTooltip",
_.throttle(function(event) {
element.css(tooltipStyle());
}, 10)
);
$scope.$watch(
"tooltipTourPoint",
function(newValue, oldValue) {
element.css(tooltipStyle());
}
);
$scope.$on(
"refreshTooltipStyle",
function() {
element.css(tooltipStyle());
}
);
$scope.$on(
"$destroy",
function() {
$(window).off("scroll.invTourPointTooltip");
$(".m-preview").css("padding-bottom", "0");
$(".mobile-viewport").off("scroll.invTourPointTooltip");
$(element[0].parentNode.querySelector(".marker")).off("mouseenter.invTourPointTooltip");
$(element[0].parentNode.querySelector(".marker")).off("mouseleave.invTourPointTooltip");
}
);
};
return ({
link: linkFunction,
restrict: "A"
});
}
);
})(angular, InVision);
;
;
/*! uniform.js */ 
;
;
(function( ng, app ) {
"use strict";
app.directive(
"invUniform",
function() {
var linkFunction = function( $scope, element, attributes ) {
$( element ).uniform();
$scope.$watch(
attributes.ngModel,
function( newValue, oldValue ) {
$.uniform.update( element );
}
);
$scope.$on(
"$destroy",
function() {
}
);
};
return({
link: linkFunction,
restrict: "A",
scope: false
});
}
);
})( angular, InVision );
;
;
/*! viewport-intersection-src.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "viewportIntersectionService", ViewportIntersectionService );
app.directive( "invViewportIntersectionSrc", ViewportIntersectionSrcDirective );
function ViewportIntersectionService( errorLogService ) {
var observer = ( window.IntersectionObserver ) 
? new IntersectionObserver( handleIntersections )
: null
;
var callbackIndex = Object.create( null );
var callbackID = 0;
var callbackIDAttribute = "x-viewport-intersection-id";
return({
addElement: addElement,
removeElement: removeElement
});
function addElement( element, callback ) {
if ( ! observer ) {
safelyInvokeCallback( callback );
return;
}
setCallback( element, callback );
observer.observe( element );
}
function removeElement( element ) {
if ( ! observer ) {
return;
}
unsetCallback( element );
observer.unobserve( element );
}
function handleIntersections( entries ) {
for ( var i = 0, length = entries.length ; i < length ; i++ ) {
var entry = entries[ i ];
var element = entry.target;
if ( entry.isIntersecting ) {
safelyInvokeCallback( unsetCallback( element ) );
observer.unobserve( element );
}
}
}
function safelyInvokeCallback( callback ) {
if ( ! callback ) {
return;
}
try {
callback();
} catch ( error ) {
errorLogService.exceptionHandler( error );
}
}
function setCallback( element, callback ) {
var nextID = ++callbackID;
callbackIndex[ nextID ] = callback;
element.setAttribute( callbackIDAttribute, nextID );
}
function unsetCallback( element ) {
var id = element.getAttribute( callbackIDAttribute );
element.removeAttribute( callbackIDAttribute );
if ( ! id || ! callbackIndex[ id ] ) {
return;
}
var callback = callbackIndex[ id ];
delete( callbackIndex[ id ] );
return( callback );
}
}
function ViewportIntersectionSrcDirective( viewportIntersectionService ) {
return({
link: link,
restrict: "A"
});
function link( $scope, $element, $attributes ) {
var removeDestroyHandler = $scope.$on( "$destroy", handleDestroy );
viewportIntersectionService.addElement( $element[ 0 ], handleIntersection );
function handleDestroy() {
viewportIntersectionService.removeElement( $element[ 0 ] );
}
function handleIntersection() {
$element.prop( "src", $attributes.invViewportIntersectionSrc );
removeDestroyHandler();
}
}
}
})( angular, InVision );
;
;
/*! account-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "accountService", Service );
/** @ngInject */
function Service(
$http,
$q,
$resource,
analyticsService,
serviceHelper,
config,
modelEvents
) {
function createAccount( criteria ) {
var submissionForm = "Signup from anonymous comment";
var name = criteria.name;
var email = criteria.email;
var password = criteria.password;
var marketingOptOut = criteria.marketingOptOut;
var originUserID = config.user.id // capture anonymous user's ID
var postData = {
name: name,
email: email,
password: password,
marketingOptOut: marketingOptOut,
submissionForm: submissionForm,
originUserID: originUserID
};
var analyticsData = {
name: name,
email: email,
submissionForm: submissionForm
};
var promise = serviceHelper.executeRequest({
resource: resource,
name: "signup",
parameters: postData,
successCallback: function( response ) {
analyticsService.track( "SignupSelfServe", analyticsData );
analyticsService.track( "Comment.AccountCreated", analyticsData );
},
errorCallback: function() {
analyticsService.track( "Comment.AccountCreationFailure", analyticsData );
}
});
return( promise );
}
var resource = $resource(
"/api/account/:command",
{
command: "@command"
},
{
signup: {
method: "POST",
params: {
command: "signup"
}
}
}
);
return({
createAccount: createAccount
});
}
})( angular, InVision );
;
;
/*! before-unload-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "beforeUnloadService", BeforeUnloadService );
/** @ngInject */
function BeforeUnloadService( $window, _ ) {
this.functionQueue = [];
$window.onbeforeunload = ng.bind( this, this.run );
return( this );
}
BeforeUnloadService.prototype = {
run: function( ) {
ng.forEach( this.functionQueue, function( bundle ){
bundle.funcRef.apply( bundle.context, bundle.args );
});
},
push: function( context, funcRef, args ) {
if( _.isUndefined( funcRef ) || !_.isFunction( funcRef ) ) {
funcRef = ng.noop;
}
this.functionQueue.push( {	
context: context,
funcRef: funcRef,
args: args
} );
}
};
})( angular, InVision );
;
;
/*! comment-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "commentService", CommentService );
/** @ngInject */
function CommentService(
_,
$resource,
serviceHelper,
modelEvents,
config,
MAX_COMMENT_LIKES_DISPLAYED,
mentionStorage
) {
function getCurrentShareKey() {
if (config && config.share && config.share.key) {
return config.share.key;
}
return "";
}
function addComment( conversationID, comment, mentions ) {
var shareKey = getCurrentShareKey();
var promise = serviceHelper.executeRequest({
resource: resource,
name: "addComment",
parameters: {
conversationID: conversationID,
comment: comment,
mentions: mentions,
shareKey: shareKey
},
successCallback: function( response ) {
modelEvents.trigger( "commentCreated", response );
}
});
return( promise );
}
function deleteComment( commentID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "deleteComment",
parameters: {
id: commentID
},
successCallback: function( response ) {
modelEvents.trigger( "commentDeleted", commentID );
}
});
return( promise );
}
function formatCommentLikers( comment ) {
var likedByList = _.pluck( comment.likedBy, "name" ).join("<br >");
if( comment.numberOfLikes > MAX_COMMENT_LIKES_DISPLAYED ) {
likedByList += "<br >+" + (comment.numberOfLikes - MAX_COMMENT_LIKES_DISPLAYED ) + " more";
}
return likedByList;
}
function getCommentsByConversationID( conversationID ) {
var comments = _.withProperty( config.comments, "conversationID", conversationID );
for (var c = 0, length = comments.length; c < length; c++){
comments[c].sketches = getSketchesByCommentID( comments[c].id );
comments[c].likedByList = formatCommentLikers( comments[c] );
}
return(
ng.copy( comments )
);
}
function getSketchesByCommentID( commentID ){
var commentSketches = _.withProperty( config.commentSketches, "commentID", commentID );
return(
ng.copy( commentSketches )
);
}
function escapeHtml( string ) {
if ( !string ) {
return;
}
var text = string;
text = replaceLinks( text );
text = text.replace( /(\r\n?|\n)/g, "<br />" );
return text;
}
function getHtmlForComment( comment ) {
comment = comment.replace(
/(<)|(>)|(&)|(")/g,
function( $0, lt, gt, amp, quot ) {
if ( lt ) {
return( "&lt;" );
} else if ( gt ) {
return( "&gt;" );
} else if ( amp ) {
return( "&amp;" );
} else if ( quot ) {
return( "&quot;" );
}
}
);
comment = replaceLinks( comment );
comment = comment.replace( /(\r\n?|\n)/g, "<br />" );
return( comment );
}
function replaceLinks( comment ) {
comment = comment.replace(
/((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,
function( $0 ){
if ( ( /^javascript:/i ).test( $0 ) ) {
return( "" );
}
var hasProtocol = ( /^\w+:\/\//i ).test( $0 );
var href = ( hasProtocol ? $0 : ( "http://" + $0 ) );
var text = $0;
return(
"<a href=\"" + href + "\" target=\"_blank\">" + text + "</a>"
);
}
);
return( comment );
}
function updateComment( commentID, conversationID, comment ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "updateComment",
parameters: {
id: commentID,
conversationID: conversationID,
comment: comment,
mentions: mentionStorage.get()
},
successCallback: function( response ) {
modelEvents.trigger( "commentUpdated", response );
}
});
return( promise );
}
var resource = $resource(
"/api/comments/:id/:command",
{
id: "@id",
command: "@command"
},
{
addComment: {
method: "POST"
},
deleteComment: {
method: "DELETE"
},
updateComment: {
method: "POST"
}
}
);
modelEvents.on(
"commentCreated",
function( event, comment ) {
comment.userAvatarID = comment.avatarID;
if( ! _.findWithProperty( config.comments, "id", comment.id ) ){
config.comments = _.rejectWithProperty( config.comments, "id", undefined );
config.comments.push( comment );
}
}
);
modelEvents.on(
"commentDeleted",
function( event, commentID ) {
config.comments = _.withoutProperty( config.comments, "id", commentID );
}
);
modelEvents.on(
"commentMarkedUnread",
function handleEvent( event, commentID ) {
var targetComment = _.findWithProperty( config.comments, "id", commentID );
if ( ! targetComment ) {
return;
}
var comments = _.withProperty( config.comments, "conversationID", targetComment.conversationID );
comments.forEach(
function iterator( comment ) {
if ( comment.id >= targetComment.id ) {
comment.isUnread = true;
}
}
);
}
);
modelEvents.on(
"commentUpdated",
function( event, comment ) {
var cachedComment = _.findWithProperty( config.comments, "id", comment.id );
if ( cachedComment ) {
_.extendExistingProperties( cachedComment, comment );
}
}
);
modelEvents.on(
"conversationDeleted",
function( event, conversationID ) {
config.comments = _.withoutProperty( config.comments, "conversationID", conversationID );
}
);
modelEvents.on(
"conversationMarkedRead",
function( event, conversationID ) {
var comments = _.withProperty( config.comments, "conversationID", conversationID );
_.setProperty( comments, "isUnread", false );
}
);
return({
addComment: addComment,
deleteComment: deleteComment,
formatCommentLikers: formatCommentLikers,
getCommentsByConversationID: getCommentsByConversationID,
getHtmlForComment: getHtmlForComment,
escapeHtml: escapeHtml,
updateComment: updateComment
});
}
})( angular, InVision );
;
;
/*! conversation-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "conversationService", ConversationService );
/** @ngInject */
function ConversationService( $resource, serviceHelper, modelEvents, config, _ ) {
function getCurrentShareKey() {
if (config && config.share && config.share.key) {
return config.share.key;
}
return "";
}
function getConversationParticipants( conversationID ) {
return serviceHelper.executeRequest({
resource: resource,
name: "participants",
parameters: {
id: conversationID
}
});
}
function changePosition( conversationID, x, y ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "changePosition",
parameters: {
id: conversationID,
x: x,
y: y
},
successCallback: function( response ) {
modelEvents.trigger( "conversationUpdated", response );
}
});
return( promise );
}
function changePrivacy( conversationID, isForDevelopment, isPrivate ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "changePrivacy",
parameters: {
id: conversationID,
isForDevelopment: isForDevelopment,
isPrivate: isPrivate
},
successCallback: function( response ) {
modelEvents.trigger( "conversationUpdated", response );
}
});
return( promise );
}
function deleteConversation( conversationID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "deleteConversation",
parameters: {
id: conversationID
},
successCallback: function( response ) {
modelEvents.trigger( "conversationDeleted", conversationID );
}
});
return( promise );
}
function getConversationByID( conversationID ) {
var conversation = _.findWithProperty( config.conversations, "id", conversationID );
return(
ng.copy( conversation )
);
}
function getConversationsByScreenID( screenID ) {
var conversations = _.withProperty( config.conversations, "screenID", screenID );
return(
ng.copy( conversations )
);
}
function getMarkerType( marker ) {
if ( marker.isTourPoint) {
return "tour-point";
}
if ( marker.isForDevelopment ) {
return "dev-note";
}
if ( marker.isPrivate ) {
return "private-comment";
}
return "comment";
}
function markCommentAsUnread( commentID ) {
var promise = serviceHelper.executeRequest({
resource: commentResource,
name: "markAsUnread",
parameters: {
commentID: commentID
},
successCallback: function( response ) {
modelEvents.trigger( "commentMarkedUnread", commentID );
}
});
return promise;
}
function markComplete( conversationID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "markComplete",
parameters: {
id: conversationID
},
successCallback: function( response ) {
modelEvents.trigger( "conversationUpdated", response );
}
});
return( promise );
}
function markIncomplete( conversationID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "markIncomplete",
parameters: {
id: conversationID
},
successCallback: function( response ) {
modelEvents.trigger( "conversationUpdated", response );
}
});
return( promise );
}
function markRead( conversationID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "markRead",
parameters: {
id: conversationID
},
successCallback: function( response ) {
modelEvents.trigger( "conversationMarkedRead", conversationID );
}
});
return( promise );
}
function startConversation( screenID, label, x, y, isForDevelopment, isPrivate, isTourPoint ) {
var shareKey = getCurrentShareKey();
var promise = serviceHelper.executeRequest({
resource: resource,
name: "startConversation",
parameters: {
screenID: screenID,
label: label,
x: x,
y: y,
isPrivate: isPrivate,
isForDevelopment: isForDevelopment,
isTourPoint: isTourPoint,
isComplete: false,
shareKey: shareKey
},
successCallback: function( response ) {
modelEvents.trigger( "conversationCreated", response );
}
});
return( promise );
}
function toggleCommentLike( commentID, conversationID ) {
var promise = serviceHelper.executeRequest({
resource: commentResource,
name: "toggleLike",
parameters: {
commentID: commentID
},
successCallback: function( response ) {
modelEvents.trigger(
"commentUpdated",
commentID,
conversationID
);
}
});
return promise;
}
function deleteSketch( sketchID ){
var promise = serviceHelper.executeRequest({
resource: sketchResource,
name: "deleteSketch",
parameters: {sketchID : sketchID},
successCallback: function( response ){
}
});
return promise;
}
function saveConversation( conversation ){
var parameters = _.pick( conversation, "id", "screenID", "label", "x", "y", "isPrivate", "isForDevelopment", "isComplete", "isTourPoint" );
if ( ! parameters.id ) {
delete parameters.id;
}
var promise = serviceHelper.executeRequest({
resource: ConversationResource,
name: "save",
parameters: parameters,
successCallback: function( response ){
}
});
return promise;
}
var ConversationResource = $resource( "/api/conversations/:id",	{
id: "@id"
});
var resource = $resource(
"/api/conversations/:id/:command",
{
id: "@id",
command: "@command"
},
{
participants: {
method: "POST",
params: {
command: "participants"
}
},
changePosition: {
method: "POST",
params: {
command: "change-position"
}
},
changePrivacy: {
method: "POST",
params: {
command: "change-privacy"
}
},
deleteConversation: {
method: "DELETE"
},
markComplete: {
method: "POST",
params: {
command: "mark-complete"
}
},
markIncomplete: {
method: "POST",
params: {
command: "mark-incomplete"
}
},
markRead: {
method: "POST",
params: {
command: "mark-read"
}
},
startConversation: {
method: "POST"
}
}
);
var commentResource = $resource(
"/api/comments/:command",
{
command: "@command"
},
{
markAsUnread: {
method: "POST",
params: {
command: "mark-as-unread"
}
},
toggleLike: {
method: "POST",
params: {
command: "toggle-like"
}
}
}
);
var sketchResource = $resource(
"/api/comments/:command/:sketchID",
{
sketchID: "@sketchID",
command: "deleteSketch"
},
{
deleteSketch:{
method: "DELETE",
params: {
command: "deleteSketch"
}
}
}
);
modelEvents.on(
"conversationCreated",
function( event, conversation ) {
config.conversations.push( ng.copy( conversation ) );
}
);
modelEvents.on(
"conversationDeleted",
function( event, conversationID ) {
config.conversations = _.withoutProperty( config.conversations, "id", conversationID );
}
);
modelEvents.on(
"conversationUpdated",
function( event, conversation ) {
var cachedConversation = _.findWithProperty( config.conversations, "id", conversation.id );
if ( cachedConversation ) {
_.extendExistingProperties( cachedConversation, conversation );
}
}
);
return({
changePosition: changePosition,
changePrivacy: changePrivacy,
deleteConversation: deleteConversation,
deleteSketch: deleteSketch,
getConversationByID: getConversationByID,
getConversationsByScreenID: getConversationsByScreenID,
getConversationParticipants: getConversationParticipants,
getMarkerType: getMarkerType,
markCommentAsUnread: markCommentAsUnread,
markComplete: markComplete,
markIncomplete: markIncomplete,
markRead: markRead,
startConversation: startConversation,
toggleCommentLike: toggleCommentLike,
saveConversation: saveConversation
});
}
})( angular, InVision );
;
;
/*! fake-css-module-compiler-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.value( "fakeCssModuleCompiler", fakeCssModuleCompiler );
function fakeCssModuleCompiler( cssModuleName, link ) {
return( compileDirective );
function compileDirective( tElement, tAttributes ) {
tElement
.addClass( cssModuleName )
.attr( cssModuleName, "" )
;
angular.forEach(
tElement.find( "*" ),
function iterator( tChild ) {
tChild.setAttribute( cssModuleName, "" );
}
);
return( link || undefined );
}
}
})( angular, InVision );
;
;
/*! hotspot-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "hotspotService", HotspotService );
/** @ngInject */
function HotspotService( config, _ ) {
function getHotspotsByScreenID( screenID ) {
var hotspots = _.withProperty( config.hotspots, "screenID", screenID );
return(
ng.copy( hotspots )
);
}
function getAllHotSpots(){
return(
ng.copy( config.hotspots )
);
}
var eventTypes = {
click: 1,
doubleTap: 2,
pressHold: 3,
swipeRight: 4,
swipeLeft: 5,
swipeUp: 6,
swipeDown: 7,
hover: 8,
autoRedirect: 9
};
var targetTypes = {
screen: 1,
lastScreenVisited: 2,
previousScreenInSort: 3,
nextScreenInSort: 4,
externalUrl: 5,
positionOnScreen: 6,
screenOverlay: 7
};
var transitionTypes = {
none: 1,
pushRight: 2,
pushLeft: 3,
slideUp: 4,
slideDown: 5,
flipRight: 6,
flipLeft: 7,
dissolve: 8
};
return({
eventTypes: eventTypes,
getHotspotsByScreenID: getHotspotsByScreenID,
targetTypes: targetTypes,
transitionTypes: transitionTypes,
getAllHotSpots: getAllHotSpots
});
}
})( angular, InVision );
;
;
/*! key-commands-priority.js */ 
;
;
(function( ng, app ) {
"use strict";
app.value(
"keyCommandsPriority",
{
APP: -1,
PREVIEW: 100,
COMMENTS: 100,
COMMENTS_POPUP: 100.1,
TITLE: 100,
BROWSE_MODAL: 500,
COMMENTS_MODAL: 500,
FLOW_MODAL: 500,
FLOW_MODAL_MENU: 500.1,
SKETCH_VIEWER: 600
}
);
})( angular, InVision );
;
;
/*! project-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "projectService", ProjectService );
/** @ngInject */
function ProjectService( config, _, modelEvents, $resource, sessionService, serviceHelper ) {
function getProject() {
return( 
ng.copy( config.project )
);
}
function sendRequestPermission( projectIDThatNeedsPermission, screenID, requestEmail, requestName, doNotSend ) {
if ( typeof(doNotSend) === 'undefined' ) {
doNotSend = false;
}
var promise = serviceHelper.executeRequest({
resource: resource,
name: "sendRequestPermission",
parameters: {
id: projectIDThatNeedsPermission,
screenID: screenID,
requestEmail: requestEmail,
requestName: requestName,
doNotSend: doNotSend
}
});
return( promise );
}
var resource = $resource(
"/api/project/:id/:command",
{
id: "@id",
command: "@command"
},
{
sendRequestPermission: {
method: "POST",
params: {
command: "sendRequestPermissionV2" // v2 version of request access
}
}
}
);
return({
getProject: getProject,
sendRequestPermission: sendRequestPermission
});
}
})( angular, InVision );
;
;
/*! project-viewing-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "projectViewingService", ProjectViewingService );
/** @ngInject */
function ProjectViewingService( $log, $resource, serviceHelper, _ ) {
function incrementCommentCount( shareID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "incrementCommentCount",
parameters: {
shareID: shareID
}
})
.catch(
function handleError() {
$log.warn( "Failed to increment comment count." );
return( true );
}
);
return( promise );
}
function setEndedAt( shareID ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "setEndedAt",
parameters: {
shareID: shareID
}
})
.catch(
function handleError() {
$log.warn( "Failed to set ended-at." );
return( true );
}
);
return( promise );
}
function incrementScreenCount( shareID ) {
if ( cachedScreenCountFailure !== null ) {
return( cachedScreenCountFailure );
}
var promise = serviceHelper.executeRequest({
resource: resource,
name: "incrementScreenCount",
parameters: {
shareID: shareID
}
})
.catch(
function handleError() {
cachedScreenCountFailure = promise;
$log.warn( "Failed to increment screen count." );
return( true );
}
);
return( promise );
}
var resource = $resource(
"/api/project-viewing/:shareID/:command",
{
shareID: "@shareID",
command: "@command"
},
{
incrementCommentCount: {
method: "POST",
params: {
command: "increment-comment-count"
}
},
incrementScreenCount: {
method: "POST",
params: {
command: "increment-screen-count"
}
},
setEndedAt: {
method: "POST",
params: {
command: "set-ended-at"
}
}
}
);
var cachedScreenCountFailure = null;
return({
setEndedAt: setEndedAt,
incrementCommentCount: incrementCommentCount,
incrementScreenCount: incrementScreenCount
});
}
})( angular, InVision );
;
;
/*! screen-service.js */ 
;
;
(function(ng, app) {
app.service('screenService', ScreenService);
/** @ngInject */
function ScreenService(config, _, sortScreens) {
var zoomScrollBehaviors = {
NORMAL:                       1,
DISABLE_HORIZONTAL_SCROLLING: 2,
ZOOM_OUT_TO_BROWSER_WIDTH:    3
};
var _screen          = {};
var _screenClickedOn = {};
var sortedScreens = undefined;
var service = {
alterCommentCount:        alterCommentCount,
getNextScreen:            getNextScreen,
getPreviousScreen:        getPreviousScreen,
getScreenByID:            getScreenByID,
getScreens:               getScreens,
getDividers:              getDividers,
getAppIcon:               getAppIcon,
getLoadingScreen:         getLoadingScreen,
setScreenFixedAreaColors: setScreenFixedAreaColors,
zoomScrollBehaviors:      zoomScrollBehaviors,
getCurrentScreen:         getCurrentScreen,
setCurrentScreen:         setCurrentScreen,
getCurrentScreenIndex:    getCurrentScreenIndex,
getScreenClickedOn:       getScreenClickedOn,
setScreenClickedOn:       setScreenClickedOn,
getTotalScreenCount:      getTotalScreenCount,
bustSortedScreenCache:    bustSortedScreenCache
};
return service;
function bustSortedScreenCache() {
sortedScreens = undefined;
}
function setScreenClickedOn(newScreen) {
_screenClickedOn = ng.copy(newScreen);
}
function getScreenClickedOn() {
return _screenClickedOn;
}
function getCurrentScreen() {
return ng.copy(_screen);
}
function getCurrentScreenIndex() {
var _screens = getScreens();
for ( var i = 0; i < _screens.length; i++ ) {
if ( _screen !== undefined && _screens[ i ].id === _screen.id ) {
return ( i + 1 );
}
}
return 0;
}
function getTotalScreenCount() {
return config.screens.length;
}
function setCurrentScreen(newScreen) {
_screen = newScreen;
}
function alterCommentCount(screenID, count) {
var cachedScreen = _.findWithProperty(config.screens, 'id', screenID);
if (cachedScreen) {
cachedScreen.commentCount += count;
}
}
function getNextScreen(screenID) {
var _screens = getScreens();
var index     = _.indexOfWithProperty(_screens, 'id', screenID);
var nextIndex = (index + 1);
if (nextIndex >= _screens.length) {
nextIndex = 0;
}
_screen = _screens[nextIndex];
return _screen;
}
function getPreviousScreen(screenID) {
var _screens = getScreens();
var index         = _.indexOfWithProperty(_screens, 'id', screenID);
var previousIndex = (index - 1);
if (previousIndex < 0) {
previousIndex = (_screens.length - 1);
}
_screen = _screens[previousIndex];
return _screen;
}
function getScreenByID(screenID) {
_screen = _.findWithProperty(config.screens, 'id', screenID);
return ng.copy(_screen);
}
function setScreenFixedAreaColors(screenID, fixedHeaderBgColor, fixedFooterBgColor) {
_screen = _.findWithProperty(config.screens, 'id', screenID);
_screen.fixedHeaderBgColor = fixedHeaderBgColor;
_screen.fixedFooterBgColor = fixedFooterBgColor;
}
function getScreens() {
if ( !sortedScreens ) {
var _screens = ng.copy(config.screens);
sortedScreens = sortScreens(_screens, config.dividers, config.project.sortTypeID);
}
return sortedScreens;
}
function getDividers() {
return ng.copy(config.dividers);
}
function getAppIcon() {
return ng.copy(config.metaScreens.icon);
}
function getLoadingScreen() {
return ng.copy(config.metaScreens.splash);
}
}
})(angular, InVision);
;
;
/*! scroller-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "scrollerService", scrollerServiceFactory );
var USE_AUTO_BEHAVIOR = true;
function scrollerServiceFactory() {
return({
scrollIntoView: scrollIntoView,
scrollIntoViewFast: scrollIntoViewFast,
scrollToTop: scrollToTop
});
function scrollIntoView( element, useAutoBehavior ) {
if ( ! element ) {
return;
}
try {
element.scrollIntoView({
behavior: ( useAutoBehavior ? "auto" : "smooth" ),
block: "center",
inline: "center"
});
} catch ( error ) {
element.scrollIntoView();
}
}
function scrollIntoViewFast( element ) {
scrollIntoView( element, USE_AUTO_BEHAVIOR );
}
function scrollToTop( element ) {
if ( ! element ) {
return;
}
element.scrollTop = 0;
}
}
})( angular, InVision );
;
;
/*! session-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "sessionService", SessionService );
/** @ngInject */
function SessionService( $resource, serviceHelper, config, modelEvents, userService, _ ) {
function authenticate() {
var promise = resource
.get({
})
.$promise
.then(
function handleSuccess( response ) {
ng.extend( user, response.account );
ng.extend( subscription, response.subscription );
user.projectsUrl = response.projectsUrl;
user.initials = userService.getInitials( user.name );
user.hasSystemAvatar = userService.isSystemAvatar( user.avatarID );
user.companyInfo = response.companyInfo;
return( response );
}
)
;
return( promise );
}
function get( key, defaultValue ) {
var localKey = getDataKey( key );
if ( data.hasOwnProperty( localKey ) ) {
return( data[ localKey ] );
} else if ( ! ng.isUndefined( defaultValue ) ) {
data[ localKey ] = defaultValue;
return( defaultValue );
}
}
function getDataKey( key ) {
return( "session__" + key );
}
function keepAlive() {
authenticate().catch(
function handleError() {
console.warn( "Session Keep-alive heartbeat failed." );
}
);
}
function set( key, value ) {
var localKey = getDataKey( key );
data[ localKey ] = value;
}
var user = ng.copy( config.user );
user.hasSystemAvatar = userService.isSystemAvatar( user.avatarID );
user.initials = userService.getInitials( user.name );
user.hasCompanyMembership = user.hasCompanyMembership;
user.isLoaded = true;
var data = {};
modelEvents.on(
"shareIdentityChanged.sessionService",
function( event, identifiedUser ) {
user = ng.copy( identifiedUser );
user.hasSystemAvatar = userService.isSystemAvatar( user.avatarID );
user.initials = userService.getInitials( user.name );
user.hasCompanyMembership = user.hasCompanyMembership;
}
);
var resource = $resource(
"/api/account",
{
},
{
getUser: {
method: "GET"
}
}
);
var subscription = {};
return({
authenticate: authenticate,
get: get,
keepAlive: keepAlive,
set: set,
subscription: subscription,
user: user
});
}
})( angular, InVision );
;
;
/*! share-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "shareService", ShareService );
/** @ngInject */
function ShareService( $resource, serviceHelper, config, modelEvents, _ ) {
function getShare() {
var share = config.share;
if ( _.isArray( share )) share = share[ 0 ];
return( 
ng.copy( share )
);
}
function sendSMS( shareID, phoneNumber ) {
var promise = serviceHelper.executeRequest({
resource: resource,
name: "sendSMS",
parameters: {
id: shareID,
phoneNumber: phoneNumber
}
});
return( promise );
}
function getExistingUser( userEmail ) {
return serviceHelper.executeRequest({
resource: resource,
name: "getExistingUser",
parameters: {
userEmail: userEmail
}
});
}
function validateUser( userEmail, password, projectID, anonUserID, workflow ) {
return serviceHelper.executeRequest({
resource: resource,
name: "validateUser",
parameters: {
userEmail: userEmail,
password: password,
projectID: projectID,
anonUserID: anonUserID,
workflow: workflow
},
successCallback: function( response ) {
if ( _.isEmpty( response.user ) ) {
return;
}
modelEvents.trigger( "shareIdentityChanged", response.user );
}
});
}
function getShareConfig( shareID, noCdnUrls, trigger ){
if ( cachedShareConfigFailure !== null ) {
return( cachedShareConfigFailure );
}
if ( !noCdnUrls ) {
noCdnUrls = false;
}
var promise = serviceHelper.executeRequest({
resource: resource,
name: "getShareConfig",
parameters: {
id: shareID,
noCdnUrls: noCdnUrls,
trigger: trigger
}
});
promise.then(
null,
function() {
cachedShareConfigFailure = promise;
}
);
return( promise );
}
var resource = $resource(
"/api/share/:id/:command",
{
id: "@id",
command: "@command",
workflow: "@workflow",
trigger: "@trigger"
},
{
sendSMS: {
method: "POST",
params: {
command: "send-sms"
}
},
getShareConfig: {
method: "GET",
params: {
command: "get-share-config"
}
},
getExistingUser: {
method: "POST",
params: {
command: "get-existing-user"
}
},
validateUser: {
method: "POST",
params: {
command: "validate-user"
}
}
}
);
var cachedShareConfigFailure = null;
return({
getShare: getShare,
getExistingUser: getExistingUser,
sendSMS: sendSMS,
getShareConfig: getShareConfig,
validateUser: validateUser
});
}
})( angular, InVision );
;
;
/*! storage-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "storageService", StorageService );
function StorageService( _ ) {
var cache = Object.create( null );
var isLocalStorageAvailable = testLocalStorage();
var localStorageKey = "share-storage-service";
hydrateCacheFromLocalStorage();
return({
get: get,
remove: remove,
set: set
});
/**
* I get the value stored at the given key. If the key doesn't exist, the default
* value is returned.
*/
function get( key, defaultValue ) {
if ( key in cache ) {
return( cache[ key ] );
}
return( defaultValue );
}
/**
* I remove the value stored at the given key.
*/
function remove( key ) {
delete( cache[ key ] );
saveCacheToLocalStorage();
}
/**
* I store the given value at the given key. The value MUST BE SERIALIZABLE.
*/
function set( key, value ) {
cache[ key ] = value;
saveCacheToLocalStorage();
return( value );
}
/**
* I attempt to pull any persisted cache out of LocalStorage and push it into the
* runtime cache. This allows GET calls to only deal with the in-memory storage.
*/
function hydrateCacheFromLocalStorage() {
if ( ! isLocalStorageAvailable ) {
return;
}
try {
var serializedPayload = localStorage.getItem( localStorageKey );
if ( serializedPayload ) {
_.extend( cache, JSON.parse( serializedPayload ) );
}
} catch ( error ) {
console.warn( "Could not parse cached storage data." );
console.error( error );
}
}
/**
* I save the current cache to the LocalStorage API, if it is available.
*/
function saveCacheToLocalStorage() {
if ( ! isLocalStorageAvailable ) {
return;
}
try {
localStorage.setItem( localStorageKey, JSON.stringify( cache ) );
} catch ( error ) {
console.warn( "Could not persist storage data to cache." );
console.error( error );
}
}
/**
* I attempt to call the localStorage API. If it runs without error, the API is
* available. If it throws an error, the API is unavailable.
*/
function testLocalStorage() {
try {
var testKey = "__local_storage_test_key__";
localStorage.setItem( testKey, "" );
localStorage.removeItem( testKey );
return( true );
} catch ( error ) {
return( false );
}
}
}
})( angular, InVision );
;
;
/*! user-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.service( "userService", UserService );
/** @ngInject */
function UserService( config, modelEvents, _ ) {
function getInitials( name ) {
if ( ! name ) {
return( "" );
}
var nameParts = name.replace( /^\s+|\s+$/i, "" ).split( /\s+/i );
var namePartsCount = nameParts.length;
if ( namePartsCount > 1 ) {
return(
nameParts[ 0 ].slice( 0, 1 ) +
nameParts[ namePartsCount - 1 ].slice( 0, 1 )
);
}
return( nameParts[ 0 ].slice( 0, 1 ) );
}
function getFirstName( name ) {
if ( ! name ) {
return( "" );
}
var nameParts = name.replace( /^\s+|\s+$/i, "" ).split( /\s+/i );
return( nameParts[ 0 ] );
}
function getOnlineStatus( lastRequestAt ) {
var now = ( new Date() ).getTime();
var onlineCutoff = ( 10 * 60 * 1000 ); 	// 10 minutes.
var awayCutoff = ( 30 * 60 * 1000 );	// 30 minutes.
if ( lastRequestAt > ( now - onlineCutoff ) ) {
return( "Online" );
} else if ( lastRequestAt > ( now - awayCutoff ) ) {
return( "Away" );
}
return( "Offline" );
}
function getMembers() {
return(
ng.copy( config.members )
);
}
function isSystemAvatar( avatarID ) {
return( avatarID.indexOf( "00000000" ) === 0 );
}
var ROLES = {
ADMIN : 1,
MANAGER : 2,
CONTRIBUTOR: 3,
REVIEWER: 4
};
return({
getInitials: getInitials,
getFirstName: getFirstName,
getOnlineStatus: getOnlineStatus,
getMembers: getMembers,
isSystemAvatar: isSystemAvatar,
ROLES: ROLES
});
}
})( angular, InVision );
;
;
/*! window-scrolling-service.js */ 
;
;
(function( ng, app ) {
"use strict";
app.factory( "windowScrollingService", windowScrollingServiceFactory );
function windowScrollingServiceFactory() {
var styleElement = buildStyleElement();
return({
disable: disable,
enable: enable
});
function disable() {
document.body.appendChild( styleElement );
}
function enable() {
try {
document.body.removeChild( styleElement );
} catch ( error ) {
}
}
function buildStyleElement() {
var styleElement = document.createElement( "style" );
styleElement.type = "text/css";
styleElement.setAttribute( "data-debug", "Injected by windowScrollingService." );
styleElement.textContent = "html { overflow: hidden ! important ; }";
return( styleElement );
}
}
})( angular, InVision );
;
;
/*! react-compiled.js */ 
;
;
!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}module.exports=_interopRequireDefault,module.exports["default"]=module.exports,module.exports.__esModule=!0}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","/../../../../node_modules/@babel/runtime/helpers")},{buffer:5,hXUCVB:4}],2:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function define(O,key,value){O[key]||Object[DEFINE_PROPERTY](O,key,{writable:!0,configurable:!0,value:value})}if(require("core-js/shim"),require("regenerator-runtime/runtime"),require("core-js/fn/regexp/escape"),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var DEFINE_PROPERTY="defineProperty";define(String.prototype,"padLeft","".padStart),define(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(key){[][key]&&define(Array,key,Function.call.bind([][key]))})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/babel-polyfill/lib/index.js","/../../../../node_modules/babel-polyfill/lib")},{buffer:5,"core-js/fn/regexp/escape":8,"core-js/shim":336,hXUCVB:4,"regenerator-runtime/runtime":404}],3:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var lookup="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(exports){"use strict";function decode(elt){var code=elt.charCodeAt(0);return code===PLUS||code===PLUS_URL_SAFE?62:code===SLASH||code===SLASH_URL_SAFE?63:NUMBER>code?-1:NUMBER+10>code?code-NUMBER+26+26:UPPER+26>code?code-UPPER:LOWER+26>code?code-LOWER+26:void 0}function b64ToByteArray(b64){function push(v){arr[L++]=v}var i,j,l,tmp,placeHolders,arr;if(b64.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var len=b64.length;placeHolders="="===b64.charAt(len-2)?2:"="===b64.charAt(len-1)?1:0,arr=new Arr(3*b64.length/4-placeHolders),l=placeHolders>0?b64.length-4:b64.length;var L=0;for(i=0,j=0;l>i;i+=4,j+=3)tmp=decode(b64.charAt(i))<<18|decode(b64.charAt(i+1))<<12|decode(b64.charAt(i+2))<<6|decode(b64.charAt(i+3)),push((16711680&tmp)>>16),push((65280&tmp)>>8),push(255&tmp);return 2===placeHolders?(tmp=decode(b64.charAt(i))<<2|decode(b64.charAt(i+1))>>4,push(255&tmp)):1===placeHolders&&(tmp=decode(b64.charAt(i))<<10|decode(b64.charAt(i+1))<<4|decode(b64.charAt(i+2))>>2,push(tmp>>8&255),push(255&tmp)),arr}function uint8ToBase64(uint8){function encode(num){return lookup.charAt(num)}function tripletToBase64(num){return encode(num>>18&63)+encode(num>>12&63)+encode(num>>6&63)+encode(63&num)}var i,temp,length,extraBytes=uint8.length%3,output="";for(i=0,length=uint8.length-extraBytes;length>i;i+=3)temp=(uint8[i]<<16)+(uint8[i+1]<<8)+uint8[i+2],output+=tripletToBase64(temp);switch(extraBytes){case 1:temp=uint8[uint8.length-1],output+=encode(temp>>2),output+=encode(temp<<4&63),output+="==";break;case 2:temp=(uint8[uint8.length-2]<<8)+uint8[uint8.length-1],output+=encode(temp>>10),output+=encode(temp>>4&63),output+=encode(temp<<2&63),output+="="}return output}var Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,PLUS="+".charCodeAt(0),SLASH="/".charCodeAt(0),NUMBER="0".charCodeAt(0),LOWER="a".charCodeAt(0),UPPER="A".charCodeAt(0),PLUS_URL_SAFE="-".charCodeAt(0),SLASH_URL_SAFE="_".charCodeAt(0);exports.toByteArray=b64ToByteArray,exports.fromByteArray=uint8ToBase64}("undefined"==typeof exports?this.base64js={}:exports)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/base64-js/lib/b64.js","/../../../../node_modules/base64-js/lib")},{buffer:5,hXUCVB:4}],4:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function noop(){}var process=module.exports={};process.nextTick=function(){var canSetImmediate="undefined"!=typeof window&&window.setImmediate,canPost="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(canSetImmediate)return function(f){return window.setImmediate(f)};if(canPost){var queue=[];return window.addEventListener("message",function(ev){var source=ev.source;if((source===window||null===source)&&"process-tick"===ev.data&&(ev.stopPropagation(),queue.length>0)){var fn=queue.shift();fn()}},!0),function(fn){queue.push(fn),window.postMessage("process-tick","*")}}return function(fn){setTimeout(fn,0)}}(),process.title="browser",process.browser=!0,process.env={},process.argv=[],process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/browserify/node_modules/process/browser.js","/../../../../node_modules/browserify/node_modules/process")},{buffer:5,hXUCVB:4}],5:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function Buffer(subject,encoding,noZero){if(!(this instanceof Buffer))return new Buffer(subject,encoding,noZero);var type=typeof subject;if("base64"===encoding&&"string"===type)for(subject=stringtrim(subject);subject.length%4!==0;)subject+="=";var length;if("number"===type)length=coerce(subject);else if("string"===type)length=Buffer.byteLength(subject,encoding);else{if("object"!==type)throw new Error("First argument needs to be a number, array or string.");length=coerce(subject.length)}var buf;Buffer._useTypedArrays?buf=Buffer._augment(new Uint8Array(length)):(buf=this,buf.length=length,buf._isBuffer=!0);var i;if(Buffer._useTypedArrays&&"number"==typeof subject.byteLength)buf._set(subject);else if(isArrayish(subject))for(i=0;length>i;i++)Buffer.isBuffer(subject)?buf[i]=subject.readUInt8(i):buf[i]=subject[i];else if("string"===type)buf.write(subject,0,encoding);else if("number"===type&&!Buffer._useTypedArrays&&!noZero)for(i=0;length>i;i++)buf[i]=0;return buf}function _hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining;var strLen=string.length;assert(strLen%2===0,"Invalid hex string"),length>strLen/2&&(length=strLen/2);for(var i=0;length>i;i++){var byte=parseInt(string.substr(2*i,2),16);assert(!isNaN(byte),"Invalid hex string"),buf[offset+i]=byte}return Buffer._charsWritten=2*i,i}function _utf8Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf8ToBytes(string),buf,offset,length);return charsWritten}function _asciiWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(asciiToBytes(string),buf,offset,length);return charsWritten}function _binaryWrite(buf,string,offset,length){return _asciiWrite(buf,string,offset,length)}function _base64Write(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(base64ToBytes(string),buf,offset,length);return charsWritten}function _utf16leWrite(buf,string,offset,length){var charsWritten=Buffer._charsWritten=blitBuffer(utf16leToBytes(string),buf,offset,length);return charsWritten}function _base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function _utf8Slice(buf,start,end){var res="",tmp="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)buf[i]<=127?(res+=decodeUtf8Char(tmp)+String.fromCharCode(buf[i]),tmp=""):tmp+="%"+buf[i].toString(16);return res+decodeUtf8Char(tmp)}function _asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;end>i;i++)ret+=String.fromCharCode(buf[i]);return ret}function _binarySlice(buf,start,end){return _asciiSlice(buf,start,end)}function _hexSlice(buf,start,end){var len=buf.length;(!start||0>start)&&(start=0),(!end||0>end||end>len)&&(end=len);for(var out="",i=start;end>i;i++)out+=toHex(buf[i]);return out}function _utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function _readUInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(val=buf[offset],len>offset+1&&(val|=buf[offset+1]<<8)):(val=buf[offset]<<8,len>offset+1&&(val|=buf[offset+1])),val}}function _readUInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val;return littleEndian?(len>offset+2&&(val=buf[offset+2]<<16),len>offset+1&&(val|=buf[offset+1]<<8),val|=buf[offset],len>offset+3&&(val+=buf[offset+3]<<24>>>0)):(len>offset+1&&(val=buf[offset+1]<<16),len>offset+2&&(val|=buf[offset+2]<<8),len>offset+3&&(val|=buf[offset+3]),val+=buf[offset]<<24>>>0),val}}function _readInt16(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt16(buf,offset,littleEndian,!0),neg=32768&val;return neg?-1*(65535-val+1):val}}function _readInt32(buf,offset,littleEndian,noAssert){noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to read beyond buffer length"));var len=buf.length;if(!(offset>=len)){var val=_readUInt32(buf,offset,littleEndian,!0),neg=2147483648&val;return neg?-1*(4294967295-val+1):val}}function _readFloat(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+3<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,23,4)}function _readDouble(buf,offset,littleEndian,noAssert){return noAssert||(assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(offset+7<buf.length,"Trying to read beyond buffer length")),ieee754.read(buf,offset,littleEndian,52,8)}function _writeUInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"trying to write beyond buffer length"),verifuint(value,65535));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,2);j>i;i++)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function _writeUInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"trying to write beyond buffer length"),verifuint(value,4294967295));var len=buf.length;if(!(offset>=len))for(var i=0,j=Math.min(len-offset,4);j>i;i++)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function _writeInt16(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+1<buf.length,"Trying to write beyond buffer length"),verifsint(value,32767,-32768));var len=buf.length;offset>=len||(value>=0?_writeUInt16(buf,value,offset,littleEndian,noAssert):_writeUInt16(buf,65535+value+1,offset,littleEndian,noAssert))}function _writeInt32(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifsint(value,2147483647,-2147483648));var len=buf.length;offset>=len||(value>=0?_writeUInt32(buf,value,offset,littleEndian,noAssert):_writeUInt32(buf,4294967295+value+1,offset,littleEndian,noAssert))}function _writeFloat(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+3<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,3.4028234663852886e38,-3.4028234663852886e38));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,23,4)}function _writeDouble(buf,value,offset,littleEndian,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert("boolean"==typeof littleEndian,"missing or invalid endian"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset+7<buf.length,"Trying to write beyond buffer length"),verifIEEE754(value,1.7976931348623157e308,-1.7976931348623157e308));var len=buf.length;offset>=len||ieee754.write(buf,value,offset,littleEndian,52,8)}function stringtrim(str){return str.trim?str.trim():str.replace(/^\s+|\s+$/g,"")}function clamp(index,len,defaultValue){return"number"!=typeof index?defaultValue:(index=~~index,index>=len?len:index>=0?index:(index+=len,index>=0?index:0))}function coerce(length){return length=~~Math.ceil(+length),0>length?0:length}function isArray(subject){return(Array.isArray||function(subject){return"[object Array]"===Object.prototype.toString.call(subject)})(subject)}function isArrayish(subject){return isArray(subject)||Buffer.isBuffer(subject)||subject&&"object"==typeof subject&&"number"==typeof subject.length}function toHex(n){return 16>n?"0"+n.toString(16):n.toString(16)}function utf8ToBytes(str){for(var byteArray=[],i=0;i<str.length;i++){var b=str.charCodeAt(i);if(127>=b)byteArray.push(str.charCodeAt(i));else{var start=i;b>=55296&&57343>=b&&i++;for(var h=encodeURIComponent(str.slice(start,i+1)).substr(1).split("%"),j=0;j<h.length;j++)byteArray.push(parseInt(h[j],16))}}return byteArray}function asciiToBytes(str){for(var byteArray=[],i=0;i<str.length;i++)byteArray.push(255&str.charCodeAt(i));return byteArray}function utf16leToBytes(str){for(var c,hi,lo,byteArray=[],i=0;i<str.length;i++)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}function base64ToBytes(str){return base64.toByteArray(str)}function blitBuffer(src,dst,offset,length){for(var i=0;length>i&&!(i+offset>=dst.length||i>=src.length);i++)dst[i+offset]=src[i];return i}function decodeUtf8Char(str){try{return decodeURIComponent(str)}catch(err){return String.fromCharCode(65533)}}function verifuint(value,max){assert("number"==typeof value,"cannot write a non-number as a number"),assert(value>=0,"specified a negative value for writing an unsigned value"),assert(max>=value,"value is larger than maximum value for type"),assert(Math.floor(value)===value,"value has a fractional component")}function verifsint(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value"),assert(Math.floor(value)===value,"value has a fractional component")}function verifIEEE754(value,max,min){assert("number"==typeof value,"cannot write a non-number as a number"),assert(max>=value,"value larger than maximum allowed value"),assert(value>=min,"value smaller than minimum allowed value")}function assert(test,message){if(!test)throw new Error(message||"Failed assertion")}var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=Buffer,exports.INSPECT_MAX_BYTES=50,Buffer.poolSize=8192,Buffer._useTypedArrays=function(){try{var buf=new ArrayBuffer(0),arr=new Uint8Array(buf);return arr.foo=function(){return 42},42===arr.foo()&&"function"==typeof arr.subarray}catch(e){return!1}}(),Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.isBuffer=function(b){return!(null===b||void 0===b||!b._isBuffer)},Buffer.byteLength=function(str,encoding){var ret;switch(str+="",encoding||"utf8"){case"hex":ret=str.length/2;break;case"utf8":case"utf-8":ret=utf8ToBytes(str).length;break;case"ascii":case"binary":case"raw":ret=str.length;break;case"base64":ret=base64ToBytes(str).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=2*str.length;break;default:throw new Error("Unknown encoding")}return ret},Buffer.concat=function(list,totalLength){if(assert(isArray(list),"Usage: Buffer.concat(list, [totalLength])\nlist should be an Array."),0===list.length)return new Buffer(0);if(1===list.length)return list[0];var i;if("number"!=typeof totalLength)for(totalLength=0,i=0;i<list.length;i++)totalLength+=list[i].length;var buf=new Buffer(totalLength),pos=0;for(i=0;i<list.length;i++){var item=list[i];item.copy(buf,pos),pos+=item.length}return buf},Buffer.prototype.write=function(string,offset,length,encoding){if(isFinite(offset))isFinite(length)||(encoding=length,length=void 0);else{var swap=encoding;encoding=offset,offset=length,length=swap}offset=Number(offset)||0;var remaining=this.length-offset;length?(length=Number(length),length>remaining&&(length=remaining)):length=remaining,encoding=String(encoding||"utf8").toLowerCase();var ret;switch(encoding){case"hex":ret=_hexWrite(this,string,offset,length);break;case"utf8":case"utf-8":ret=_utf8Write(this,string,offset,length);break;case"ascii":ret=_asciiWrite(this,string,offset,length);break;case"binary":ret=_binaryWrite(this,string,offset,length);break;case"base64":ret=_base64Write(this,string,offset,length);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leWrite(this,string,offset,length);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toString=function(encoding,start,end){var self=this;if(encoding=String(encoding||"utf8").toLowerCase(),start=Number(start)||0,end=void 0!==end?Number(end):end=self.length,end===start)return"";var ret;switch(encoding){case"hex":ret=_hexSlice(self,start,end);break;case"utf8":case"utf-8":ret=_utf8Slice(self,start,end);break;case"ascii":ret=_asciiSlice(self,start,end);break;case"binary":ret=_binarySlice(self,start,end);break;case"base64":ret=_base64Slice(self,start,end);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":ret=_utf16leSlice(self,start,end);break;default:throw new Error("Unknown encoding")}return ret},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.copy=function(target,target_start,start,end){var source=this;if(start||(start=0),end||0===end||(end=this.length),target_start||(target_start=0),end!==start&&0!==target.length&&0!==source.length){assert(end>=start,"sourceEnd < sourceStart"),assert(target_start>=0&&target_start<target.length,"targetStart out of bounds"),assert(start>=0&&start<source.length,"sourceStart out of bounds"),assert(end>=0&&end<=source.length,"sourceEnd out of bounds"),end>this.length&&(end=this.length),target.length-target_start<end-start&&(end=target.length-target_start+start);var len=end-start;if(100>len||!Buffer._useTypedArrays)for(var i=0;len>i;i++)target[i+target_start]=this[i+start];else target._set(this.subarray(start,start+len),target_start)}},Buffer.prototype.slice=function(start,end){var len=this.length;if(start=clamp(start,len,0),end=clamp(end,len,len),Buffer._useTypedArrays)return Buffer._augment(this.subarray(start,end));for(var sliceLen=end-start,newBuf=new Buffer(sliceLen,void 0,!0),i=0;sliceLen>i;i++)newBuf[i]=this[i+start];return newBuf},Buffer.prototype.get=function(offset){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(offset)},Buffer.prototype.set=function(v,offset){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(v,offset)},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),offset>=this.length?void 0:this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return _readUInt16(this,offset,!0,noAssert)},Buffer.prototype.readUInt16BE=function(offset,noAssert){return _readUInt16(this,offset,!1,noAssert)},Buffer.prototype.readUInt32LE=function(offset,noAssert){return _readUInt32(this,offset,!0,noAssert)},Buffer.prototype.readUInt32BE=function(offset,noAssert){return _readUInt32(this,offset,!1,noAssert)},Buffer.prototype.readInt8=function(offset,noAssert){if(noAssert||(assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to read beyond buffer length")),!(offset>=this.length)){var neg=128&this[offset];return neg?-1*(255-this[offset]+1):this[offset]}},Buffer.prototype.readInt16LE=function(offset,noAssert){return _readInt16(this,offset,!0,noAssert)},Buffer.prototype.readInt16BE=function(offset,noAssert){return _readInt16(this,offset,!1,noAssert)},Buffer.prototype.readInt32LE=function(offset,noAssert){return _readInt32(this,offset,!0,noAssert)},Buffer.prototype.readInt32BE=function(offset,noAssert){return _readInt32(this,offset,!1,noAssert)},Buffer.prototype.readFloatLE=function(offset,noAssert){return _readFloat(this,offset,!0,noAssert)},Buffer.prototype.readFloatBE=function(offset,noAssert){return _readFloat(this,offset,!1,noAssert)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return _readDouble(this,offset,!0,noAssert)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return _readDouble(this,offset,!1,noAssert)},Buffer.prototype.writeUInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"trying to write beyond buffer length"),verifuint(value,255)),offset>=this.length||(this[offset]=value)},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){_writeUInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){_writeUInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt8=function(value,offset,noAssert){noAssert||(assert(void 0!==value&&null!==value,"missing value"),assert(void 0!==offset&&null!==offset,"missing offset"),assert(offset<this.length,"Trying to write beyond buffer length"),verifsint(value,127,-128)),offset>=this.length||(value>=0?this.writeUInt8(value,offset,noAssert):this.writeUInt8(255+value+1,offset,noAssert))},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){_writeInt16(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){_writeInt16(this,value,offset,!1,noAssert)},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){_writeInt32(this,value,offset,!0,noAssert)},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){_writeInt32(this,value,offset,!1,noAssert)},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){_writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){_writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){_writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){_writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.fill=function(value,start,end){if(value||(value=0),start||(start=0),end||(end=this.length),"string"==typeof value&&(value=value.charCodeAt(0)),assert("number"==typeof value&&!isNaN(value),"value is not a number"),assert(end>=start,"end < start"),end!==start&&0!==this.length){assert(start>=0&&start<this.length,"start out of bounds"),assert(end>=0&&end<=this.length,"end out of bounds");for(var i=start;end>i;i++)this[i]=value}},Buffer.prototype.inspect=function(){for(var out=[],len=this.length,i=0;len>i;i++)if(out[i]=toHex(this[i]),i===exports.INSPECT_MAX_BYTES){out[i+1]="...";break}return"<Buffer "+out.join(" ")+">"},Buffer.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(Buffer._useTypedArrays)return new Buffer(this).buffer;for(var buf=new Uint8Array(this.length),i=0,len=buf.length;len>i;i+=1)buf[i]=this[i];return buf.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var BP=Buffer.prototype;Buffer._augment=function(arr){return arr._isBuffer=!0,arr._get=arr.get,arr._set=arr.set,arr.get=BP.get,arr.set=BP.set,arr.write=BP.write,arr.toString=BP.toString,arr.toLocaleString=BP.toString,arr.toJSON=BP.toJSON,arr.copy=BP.copy,arr.slice=BP.slice,arr.readUInt8=BP.readUInt8,arr.readUInt16LE=BP.readUInt16LE,arr.readUInt16BE=BP.readUInt16BE,arr.readUInt32LE=BP.readUInt32LE,arr.readUInt32BE=BP.readUInt32BE,arr.readInt8=BP.readInt8,arr.readInt16LE=BP.readInt16LE,arr.readInt16BE=BP.readInt16BE,arr.readInt32LE=BP.readInt32LE,arr.readInt32BE=BP.readInt32BE,arr.readFloatLE=BP.readFloatLE,arr.readFloatBE=BP.readFloatBE,arr.readDoubleLE=BP.readDoubleLE,arr.readDoubleBE=BP.readDoubleBE,arr.writeUInt8=BP.writeUInt8,arr.writeUInt16LE=BP.writeUInt16LE,arr.writeUInt16BE=BP.writeUInt16BE,arr.writeUInt32LE=BP.writeUInt32LE,arr.writeUInt32BE=BP.writeUInt32BE,arr.writeInt8=BP.writeInt8,arr.writeInt16LE=BP.writeInt16LE,arr.writeInt16BE=BP.writeInt16BE,arr.writeInt32LE=BP.writeInt32LE,arr.writeInt32BE=BP.writeInt32BE,arr.writeFloatLE=BP.writeFloatLE,arr.writeFloatBE=BP.writeFloatBE,arr.writeDoubleLE=BP.writeDoubleLE,arr.writeDoubleBE=BP.writeDoubleBE,arr.fill=BP.fill,arr.inspect=BP.inspect,arr.toArrayBuffer=BP.toArrayBuffer,arr}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/buffer/index.js","/../../../../node_modules/buffer")},{"base64-js":3,buffer:5,hXUCVB:4,ieee754:351}],6:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(){for(var len=arguments.length,args=[],i=0;len>i;i++)args[i]=arguments[i];return args=args.filter(function(fn){return null!=fn}),0!==args.length?1===args.length?args[0]:args.reduce(function(current,next){return function(){current.apply(this,arguments),next.apply(this,arguments)}}):void 0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/chain-function/index.js","/../../../../node_modules/chain-function")},{buffer:5,hXUCVB:4}],7:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){!function(){"use strict";function classNames(){for(var classes="",i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){var argType=typeof arg;if("string"===argType||"number"===argType)classes+=" "+arg;else if(Array.isArray(arg))classes+=" "+classNames.apply(null,arg);else if("object"===argType)for(var key in arg)arg.hasOwnProperty(key)&&arg[key]&&(classes+=" "+key)}}return classes.substr(1)}"undefined"!=typeof module&&module.exports?module.exports=classNames:"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return classNames}):window.classNames=classNames}()}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/classnames/index.js","/../../../../node_modules/classnames")},{buffer:5,hXUCVB:4}],8:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("../../modules/core.regexp.escape"),module.exports=require("../../modules/_core").RegExp.escape}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/fn/regexp/escape.js","/../../../../node_modules/core-js/fn/regexp")},{"../../modules/_core":30,"../../modules/core.regexp.escape":138,buffer:5,hXUCVB:4}],9:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(it){if("function"!=typeof it)throw TypeError(it+" is not a function!");return it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_a-function.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],10:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var cof=require("./_cof");module.exports=function(it,msg){if("number"!=typeof it&&"Number"!=cof(it))throw TypeError(msg);return+it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_a-number-value.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,buffer:5,hXUCVB:4}],11:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var UNSCOPABLES=require("./_wks")("unscopables"),ArrayProto=Array.prototype;void 0==ArrayProto[UNSCOPABLES]&&require("./_hide")(ArrayProto,UNSCOPABLES,{}),module.exports=function(key){ArrayProto[UNSCOPABLES][key]=!0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_add-to-unscopables.js","/../../../../node_modules/core-js/modules");
},{"./_hide":50,"./_wks":136,buffer:5,hXUCVB:4}],12:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var at=require("./_string-at")(!0);module.exports=function(S,index,unicode){return index+(unicode?at(S,index).length:1)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_advance-string-index.js","/../../../../node_modules/core-js/modules")},{"./_string-at":113,buffer:5,hXUCVB:4}],13:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(it,Constructor,name,forbiddenField){if(!(it instanceof Constructor)||void 0!==forbiddenField&&forbiddenField in it)throw TypeError(name+": incorrect invocation!");return it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_an-instance.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],14:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");module.exports=function(it){if(!isObject(it))throw TypeError(it+" is not an object!");return it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_an-object.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,buffer:5,hXUCVB:4}],15:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var toObject=require("./_to-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length");module.exports=[].copyWithin||function(target,start){var O=toObject(this),len=toLength(O.length),to=toAbsoluteIndex(target,len),from=toAbsoluteIndex(start,len),end=arguments.length>2?arguments[2]:void 0,count=Math.min((void 0===end?len:toAbsoluteIndex(end,len))-from,len-to),inc=1;for(to>from&&from+count>to&&(inc=-1,from+=count-1,to+=count-1);count-- >0;)from in O?O[to]=O[from]:delete O[to],to+=inc,from+=inc;return O}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-copy-within.js","/../../../../node_modules/core-js/modules")},{"./_to-absolute-index":121,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],16:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var toObject=require("./_to-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length");module.exports=function(value){for(var O=toObject(this),length=toLength(O.length),aLen=arguments.length,index=toAbsoluteIndex(aLen>1?arguments[1]:void 0,length),end=aLen>2?arguments[2]:void 0,endPos=void 0===end?length:toAbsoluteIndex(end,length);endPos>index;)O[index++]=value;return O}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-fill.js","/../../../../node_modules/core-js/modules")},{"./_to-absolute-index":121,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],17:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var forOf=require("./_for-of");module.exports=function(iter,ITERATOR){var result=[];return forOf(iter,!1,result.push,result,ITERATOR),result}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-from-iterable.js","/../../../../node_modules/core-js/modules")},{"./_for-of":46,buffer:5,hXUCVB:4}],18:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toIObject=require("./_to-iobject"),toLength=require("./_to-length"),toAbsoluteIndex=require("./_to-absolute-index");module.exports=function(IS_INCLUDES){return function($this,el,fromIndex){var value,O=toIObject($this),length=toLength(O.length),index=toAbsoluteIndex(fromIndex,length);if(IS_INCLUDES&&el!=el){for(;length>index;)if(value=O[index++],value!=value)return!0}else for(;length>index;index++)if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0;return!IS_INCLUDES&&-1}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-includes.js","/../../../../node_modules/core-js/modules")},{"./_to-absolute-index":121,"./_to-iobject":124,"./_to-length":125,buffer:5,hXUCVB:4}],19:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ctx=require("./_ctx"),IObject=require("./_iobject"),toObject=require("./_to-object"),toLength=require("./_to-length"),asc=require("./_array-species-create");module.exports=function(TYPE,$create){var IS_MAP=1==TYPE,IS_FILTER=2==TYPE,IS_SOME=3==TYPE,IS_EVERY=4==TYPE,IS_FIND_INDEX=6==TYPE,NO_HOLES=5==TYPE||IS_FIND_INDEX,create=$create||asc;return function($this,callbackfn,that){for(var val,res,O=toObject($this),self=IObject(O),f=ctx(callbackfn,that,3),length=toLength(self.length),index=0,result=IS_MAP?create($this,length):IS_FILTER?create($this,0):void 0;length>index;index++)if((NO_HOLES||index in self)&&(val=self[index],res=f(val,index,O),TYPE))if(IS_MAP)result[index]=res;else if(res)switch(TYPE){case 3:return!0;case 5:return val;case 6:return index;case 2:result.push(val)}else if(IS_EVERY)return!1;return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:result}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-methods.js","/../../../../node_modules/core-js/modules")},{"./_array-species-create":22,"./_ctx":32,"./_iobject":55,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],20:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var aFunction=require("./_a-function"),toObject=require("./_to-object"),IObject=require("./_iobject"),toLength=require("./_to-length");module.exports=function(that,callbackfn,aLen,memo,isRight){aFunction(callbackfn);var O=toObject(that),self=IObject(O),length=toLength(O.length),index=isRight?length-1:0,i=isRight?-1:1;if(2>aLen)for(;;){if(index in self){memo=self[index],index+=i;break}if(index+=i,isRight?0>index:index>=length)throw TypeError("Reduce of empty array with no initial value")}for(;isRight?index>=0:length>index;index+=i)index in self&&(memo=callbackfn(memo,self[index],index,O));return memo}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-reduce.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_iobject":55,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],21:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),isArray=require("./_is-array"),SPECIES=require("./_wks")("species");module.exports=function(original){var C;return isArray(original)&&(C=original.constructor,"function"!=typeof C||C!==Array&&!isArray(C.prototype)||(C=void 0),isObject(C)&&(C=C[SPECIES],null===C&&(C=void 0))),void 0===C?Array:C}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-species-constructor.js","/../../../../node_modules/core-js/modules")},{"./_is-array":57,"./_is-object":59,"./_wks":136,buffer:5,hXUCVB:4}],22:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var speciesConstructor=require("./_array-species-constructor");module.exports=function(original,length){return new(speciesConstructor(original))(length)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_array-species-create.js","/../../../../node_modules/core-js/modules")},{"./_array-species-constructor":21,buffer:5,hXUCVB:4}],23:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var aFunction=require("./_a-function"),isObject=require("./_is-object"),invoke=require("./_invoke"),arraySlice=[].slice,factories={},construct=function(F,len,args){if(!(len in factories)){for(var n=[],i=0;len>i;i++)n[i]="a["+i+"]";factories[len]=Function("F,a","return new F("+n.join(",")+")")}return factories[len](F,args)};module.exports=Function.bind||function(that){var fn=aFunction(this),partArgs=arraySlice.call(arguments,1),bound=function(){var args=partArgs.concat(arraySlice.call(arguments));return this instanceof bound?construct(fn,args.length,args):invoke(fn,args,that)};return isObject(fn.prototype)&&(bound.prototype=fn.prototype),bound}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_bind.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_invoke":54,"./_is-object":59,buffer:5,hXUCVB:4}],24:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var cof=require("./_cof"),TAG=require("./_wks")("toStringTag"),ARG="Arguments"==cof(function(){return arguments}()),tryGet=function(it,key){try{return it[key]}catch(e){}};module.exports=function(it){var O,T,B;return void 0===it?"Undefined":null===it?"Null":"string"==typeof(T=tryGet(O=Object(it),TAG))?T:ARG?cof(O):"Object"==(B=cof(O))&&"function"==typeof O.callee?"Arguments":B}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_classof.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_wks":136,buffer:5,hXUCVB:4}],25:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_cof.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],26:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var dP=require("./_object-dp").f,create=require("./_object-create"),redefineAll=require("./_redefine-all"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),$iterDefine=require("./_iter-define"),step=require("./_iter-step"),setSpecies=require("./_set-species"),DESCRIPTORS=require("./_descriptors"),fastKey=require("./_meta").fastKey,validate=require("./_validate-collection"),SIZE=DESCRIPTORS?"_s":"size",getEntry=function(that,key){var entry,index=fastKey(key);if("F"!==index)return that._i[index];for(entry=that._f;entry;entry=entry.n)if(entry.k==key)return entry};module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=create(null),that._f=void 0,that._l=void 0,that[SIZE]=0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{clear:function(){for(var that=validate(this,NAME),data=that._i,entry=that._f;entry;entry=entry.n)entry.r=!0,entry.p&&(entry.p=entry.p.n=void 0),delete data[entry.i];that._f=that._l=void 0,that[SIZE]=0},"delete":function(key){var that=validate(this,NAME),entry=getEntry(that,key);if(entry){var next=entry.n,prev=entry.p;delete that._i[entry.i],entry.r=!0,prev&&(prev.n=next),next&&(next.p=prev),that._f==entry&&(that._f=next),that._l==entry&&(that._l=prev),that[SIZE]--}return!!entry},forEach:function(callbackfn){validate(this,NAME);for(var entry,f=ctx(callbackfn,arguments.length>1?arguments[1]:void 0,3);entry=entry?entry.n:this._f;)for(f(entry.v,entry.k,this);entry&&entry.r;)entry=entry.p},has:function(key){return!!getEntry(validate(this,NAME),key)}}),DESCRIPTORS&&dP(C.prototype,"size",{get:function(){return validate(this,NAME)[SIZE]}}),C},def:function(that,key,value){var prev,index,entry=getEntry(that,key);return entry?entry.v=value:(that._l=entry={i:index=fastKey(key,!0),k:key,v:value,p:prev=that._l,n:void 0,r:!1},that._f||(that._f=entry),prev&&(prev.n=entry),that[SIZE]++,"F"!==index&&(that._i[index]=entry)),that},getEntry:getEntry,setStrong:function(C,NAME,IS_MAP){$iterDefine(C,NAME,function(iterated,kind){this._t=validate(iterated,NAME),this._k=kind,this._l=void 0},function(){for(var that=this,kind=that._k,entry=that._l;entry&&entry.r;)entry=entry.p;return that._t&&(that._l=entry=entry?entry.n:that._t._f)?"keys"==kind?step(0,entry.k):"values"==kind?step(0,entry.v):step(0,[entry.k,entry.v]):(that._t=void 0,step(1))},IS_MAP?"entries":"values",!IS_MAP,!0),setSpecies(NAME)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_collection-strong.js","/../../../../node_modules/core-js/modules")},{"./_an-instance":13,"./_ctx":32,"./_descriptors":36,"./_for-of":46,"./_iter-define":63,"./_iter-step":65,"./_meta":73,"./_object-create":78,"./_object-dp":79,"./_redefine-all":98,"./_set-species":107,"./_validate-collection":133,buffer:5,hXUCVB:4}],27:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var classof=require("./_classof"),from=require("./_array-from-iterable");module.exports=function(NAME){return function(){if(classof(this)!=NAME)throw TypeError(NAME+"#toJSON isn't generic");return from(this)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_collection-to-json.js","/../../../../node_modules/core-js/modules")},{"./_array-from-iterable":17,"./_classof":24,buffer:5,hXUCVB:4}],28:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var redefineAll=require("./_redefine-all"),getWeak=require("./_meta").getWeak,anObject=require("./_an-object"),isObject=require("./_is-object"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),createArrayMethod=require("./_array-methods"),$has=require("./_has"),validate=require("./_validate-collection"),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),id=0,uncaughtFrozenStore=function(that){return that._l||(that._l=new UncaughtFrozenStore)},UncaughtFrozenStore=function(){this.a=[]},findUncaughtFrozen=function(store,key){return arrayFind(store.a,function(it){return it[0]===key})};UncaughtFrozenStore.prototype={get:function(key){var entry=findUncaughtFrozen(this,key);return entry?entry[1]:void 0},has:function(key){return!!findUncaughtFrozen(this,key)},set:function(key,value){var entry=findUncaughtFrozen(this,key);entry?entry[1]=value:this.a.push([key,value])},"delete":function(key){var index=arrayFindIndex(this.a,function(it){return it[0]===key});return~index&&this.a.splice(index,1),!!~index}},module.exports={getConstructor:function(wrapper,NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,NAME,"_i"),that._t=NAME,that._i=id++,that._l=void 0,void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that)});return redefineAll(C.prototype,{"delete":function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(validate(this,NAME))["delete"](key):data&&$has(data,this._i)&&delete data[this._i]},has:function(key){if(!isObject(key))return!1;var data=getWeak(key);return data===!0?uncaughtFrozenStore(validate(this,NAME)).has(key):data&&$has(data,this._i)}}),C},def:function(that,key,value){var data=getWeak(anObject(key),!0);return data===!0?uncaughtFrozenStore(that).set(key,value):data[that._i]=value,that},ufstore:uncaughtFrozenStore}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_collection-weak.js","/../../../../node_modules/core-js/modules")},{"./_an-instance":13,"./_an-object":14,"./_array-methods":19,"./_for-of":46,"./_has":49,"./_is-object":59,"./_meta":73,"./_redefine-all":98,"./_validate-collection":133,buffer:5,hXUCVB:4}],29:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var global=require("./_global"),$export=require("./_export"),redefine=require("./_redefine"),redefineAll=require("./_redefine-all"),meta=require("./_meta"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),fails=require("./_fails"),$iterDetect=require("./_iter-detect"),setToStringTag=require("./_set-to-string-tag"),inheritIfRequired=require("./_inherit-if-required");module.exports=function(NAME,wrapper,methods,common,IS_MAP,IS_WEAK){var Base=global[NAME],C=Base,ADDER=IS_MAP?"set":"add",proto=C&&C.prototype,O={},fixMethod=function(KEY){var fn=proto[KEY];redefine(proto,KEY,"delete"==KEY?function(a){return IS_WEAK&&!isObject(a)?!1:fn.call(this,0===a?0:a)}:"has"==KEY?function(a){return IS_WEAK&&!isObject(a)?!1:fn.call(this,0===a?0:a)}:"get"==KEY?function(a){return IS_WEAK&&!isObject(a)?void 0:fn.call(this,0===a?0:a)}:"add"==KEY?function(a){return fn.call(this,0===a?0:a),this}:function(a,b){return fn.call(this,0===a?0:a,b),this})};if("function"==typeof C&&(IS_WEAK||proto.forEach&&!fails(function(){(new C).entries().next()}))){var instance=new C,HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance,THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)}),ACCEPT_ITERABLES=$iterDetect(function(iter){new C(iter)}),BUGGY_ZERO=!IS_WEAK&&fails(function(){for(var $instance=new C,index=5;index--;)$instance[ADDER](index,index);return!$instance.has(-0)});ACCEPT_ITERABLES||(C=wrapper(function(target,iterable){anInstance(target,C,NAME);var that=inheritIfRequired(new Base,target,C);return void 0!=iterable&&forOf(iterable,IS_MAP,that[ADDER],that),that}),C.prototype=proto,proto.constructor=C),(THROWS_ON_PRIMITIVES||BUGGY_ZERO)&&(fixMethod("delete"),fixMethod("has"),IS_MAP&&fixMethod("get")),(BUGGY_ZERO||HASNT_CHAINING)&&fixMethod(ADDER),IS_WEAK&&proto.clear&&delete proto.clear}else C=common.getConstructor(wrapper,NAME,IS_MAP,ADDER),redefineAll(C.prototype,methods),meta.NEED=!0;return setToStringTag(C,NAME),O[NAME]=C,$export($export.G+$export.W+$export.F*(C!=Base),O),IS_WEAK||common.setStrong(C,NAME,IS_MAP),C}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_collection.js","/../../../../node_modules/core-js/modules")},{"./_an-instance":13,"./_export":40,"./_fails":42,"./_for-of":46,"./_global":48,"./_inherit-if-required":53,"./_is-object":59,"./_iter-detect":64,"./_meta":73,"./_redefine":99,"./_redefine-all":98,"./_set-to-string-tag":108,buffer:5,hXUCVB:4}],30:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var core=module.exports={version:"2.6.12"};"number"==typeof __e&&(__e=core)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_core.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],31:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $defineProperty=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=function(object,index,value){index in object?$defineProperty.f(object,index,createDesc(0,value)):object[index]=value}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_create-property.js","/../../../../node_modules/core-js/modules")},{"./_object-dp":79,"./_property-desc":97,buffer:5,hXUCVB:4}],32:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var aFunction=require("./_a-function");module.exports=function(fn,that,length){if(aFunction(fn),void 0===that)return fn;switch(length){case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_ctx.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,buffer:5,hXUCVB:4}],33:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var fails=require("./_fails"),getTime=Date.prototype.getTime,$toISOString=Date.prototype.toISOString,lz=function(num){return num>9?num:"0"+num};module.exports=fails(function(){return"0385-07-25T07:06:39.999Z"!=$toISOString.call(new Date(-5e13-1))})||!fails(function(){$toISOString.call(new Date(NaN))})?function(){if(!isFinite(getTime.call(this)))throw RangeError("Invalid time value");var d=this,y=d.getUTCFullYear(),m=d.getUTCMilliseconds(),s=0>y?"-":y>9999?"+":"";return s+("00000"+Math.abs(y)).slice(s?-6:-4)+"-"+lz(d.getUTCMonth()+1)+"-"+lz(d.getUTCDate())+"T"+lz(d.getUTCHours())+":"+lz(d.getUTCMinutes())+":"+lz(d.getUTCSeconds())+"."+(m>99?m:"0"+lz(m))+"Z"}:$toISOString}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_date-to-iso-string.js","/../../../../node_modules/core-js/modules")},{"./_fails":42,buffer:5,hXUCVB:4}],34:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var anObject=require("./_an-object"),toPrimitive=require("./_to-primitive"),NUMBER="number";module.exports=function(hint){if("string"!==hint&&hint!==NUMBER&&"default"!==hint)throw TypeError("Incorrect hint");return toPrimitive(anObject(this),hint!=NUMBER)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_date-to-primitive.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_to-primitive":127,buffer:5,hXUCVB:4}],35:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(it){if(void 0==it)throw TypeError("Can't call method on  "+it);return it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_defined.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],36:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=!require("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_descriptors.js","/../../../../node_modules/core-js/modules")},{"./_fails":42,buffer:5,hXUCVB:4}],37:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),document=require("./_global").document,is=isObject(document)&&isObject(document.createElement);module.exports=function(it){return is?document.createElement(it):{}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_dom-create.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_is-object":59,buffer:5,hXUCVB:4}],38:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_enum-bug-keys.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],39:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie");module.exports=function(it){var result=getKeys(it),getSymbols=gOPS.f;if(getSymbols)for(var key,symbols=getSymbols(it),isEnum=pIE.f,i=0;symbols.length>i;)isEnum.call(it,key=symbols[i++])&&result.push(key);return result}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_enum-keys.js","/../../../../node_modules/core-js/modules")},{"./_object-gops":85,"./_object-keys":88,"./_object-pie":89,buffer:5,hXUCVB:4}],40:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),core=require("./_core"),hide=require("./_hide"),redefine=require("./_redefine"),ctx=require("./_ctx"),PROTOTYPE="prototype",$export=function(type,name,source){var key,own,out,exp,IS_FORCED=type&$export.F,IS_GLOBAL=type&$export.G,IS_STATIC=type&$export.S,IS_PROTO=type&$export.P,IS_BIND=type&$export.B,target=IS_GLOBAL?global:IS_STATIC?global[name]||(global[name]={}):(global[name]||{})[PROTOTYPE],exports=IS_GLOBAL?core:core[name]||(core[name]={}),expProto=exports[PROTOTYPE]||(exports[PROTOTYPE]={});IS_GLOBAL&&(source=name);for(key in source)own=!IS_FORCED&&target&&void 0!==target[key],out=(own?target:source)[key],exp=IS_BIND&&own?ctx(out,global):IS_PROTO&&"function"==typeof out?ctx(Function.call,out):out,target&&redefine(target,key,out,type&$export.U),exports[key]!=out&&hide(exports,key,exp),IS_PROTO&&expProto[key]!=out&&(expProto[key]=out)};global.core=core,$export.F=1,$export.G=2,$export.S=4,$export.P=8,$export.B=16,$export.W=32,$export.U=64,$export.R=128,module.exports=$export}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_export.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_ctx":32,"./_global":48,"./_hide":50,"./_redefine":99,buffer:5,hXUCVB:4}],41:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var MATCH=require("./_wks")("match");module.exports=function(KEY){var re=/./;try{"/./"[KEY](re)}catch(e){try{return re[MATCH]=!1,!"/./"[KEY](re)}catch(f){}}return!0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_fails-is-regexp.js","/../../../../node_modules/core-js/modules")},{"./_wks":136,buffer:5,hXUCVB:4}],42:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(exec){try{return!!exec()}catch(e){return!0}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_fails.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],43:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./es6.regexp.exec");var redefine=require("./_redefine"),hide=require("./_hide"),fails=require("./_fails"),defined=require("./_defined"),wks=require("./_wks"),regexpExec=require("./_regexp-exec"),SPECIES=wks("species"),REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;return re.exec=function(){var result=[];return result.groups={a:"7"},result},"7"!=="".replace(re,"$<a>")}),SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=function(){var re=/(?:)/,originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return 2===result.length&&"a"===result[0]&&"b"===result[1]}();module.exports=function(KEY,length,exec){var SYMBOL=wks(KEY),DELEGATES_TO_SYMBOL=!fails(function(){var O={};return O[SYMBOL]=function(){return 7},7!=""[KEY](O)}),DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL?!fails(function(){var execCalled=!1,re=/a/;return re.exec=function(){return execCalled=!0,null},"split"===KEY&&(re.constructor={},re.constructor[SPECIES]=function(){return re}),re[SYMBOL](""),
!execCalled}):void 0;if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||"replace"===KEY&&!REPLACE_SUPPORTS_NAMED_GROUPS||"split"===KEY&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL],fns=exec(defined,SYMBOL,""[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){return regexp.exec===regexpExec?DELEGATES_TO_SYMBOL&&!forceStringMethod?{done:!0,value:nativeRegExpMethod.call(regexp,str,arg2)}:{done:!0,value:nativeMethod.call(str,regexp,arg2)}:{done:!1}}),strfn=fns[0],rxfn=fns[1];redefine(String.prototype,KEY,strfn),hide(RegExp.prototype,SYMBOL,2==length?function(string,arg){return rxfn.call(string,this,arg)}:function(string){return rxfn.call(string,this)})}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_fix-re-wks.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_fails":42,"./_hide":50,"./_redefine":99,"./_regexp-exec":101,"./_wks":136,"./es6.regexp.exec":233,buffer:5,hXUCVB:4}],44:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var anObject=require("./_an-object");module.exports=function(){var that=anObject(this),result="";return that.global&&(result+="g"),that.ignoreCase&&(result+="i"),that.multiline&&(result+="m"),that.unicode&&(result+="u"),that.sticky&&(result+="y"),result}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_flags.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,buffer:5,hXUCVB:4}],45:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function flattenIntoArray(target,original,source,sourceLen,start,depth,mapper,thisArg){for(var element,spreadable,targetIndex=start,sourceIndex=0,mapFn=mapper?ctx(mapper,thisArg,3):!1;sourceLen>sourceIndex;){if(sourceIndex in source){if(element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex],spreadable=!1,isObject(element)&&(spreadable=element[IS_CONCAT_SPREADABLE],spreadable=void 0!==spreadable?!!spreadable:isArray(element)),spreadable&&depth>0)targetIndex=flattenIntoArray(target,original,element,toLength(element.length),targetIndex,depth-1)-1;else{if(targetIndex>=9007199254740991)throw TypeError();target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex}var isArray=require("./_is-array"),isObject=require("./_is-object"),toLength=require("./_to-length"),ctx=require("./_ctx"),IS_CONCAT_SPREADABLE=require("./_wks")("isConcatSpreadable");module.exports=flattenIntoArray}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_flatten-into-array.js","/../../../../node_modules/core-js/modules")},{"./_ctx":32,"./_is-array":57,"./_is-object":59,"./_to-length":125,"./_wks":136,buffer:5,hXUCVB:4}],46:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ctx=require("./_ctx"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),anObject=require("./_an-object"),toLength=require("./_to-length"),getIterFn=require("./core.get-iterator-method"),BREAK={},RETURN={},exports=module.exports=function(iterable,entries,fn,that,ITERATOR){var length,step,iterator,result,iterFn=ITERATOR?function(){return iterable}:getIterFn(iterable),f=ctx(fn,that,entries?2:1),index=0;if("function"!=typeof iterFn)throw TypeError(iterable+" is not iterable!");if(isArrayIter(iterFn)){for(length=toLength(iterable.length);length>index;index++)if(result=entries?f(anObject(step=iterable[index])[0],step[1]):f(iterable[index]),result===BREAK||result===RETURN)return result}else for(iterator=iterFn.call(iterable);!(step=iterator.next()).done;)if(result=call(iterator,f,step.value,entries),result===BREAK||result===RETURN)return result};exports.BREAK=BREAK,exports.RETURN=RETURN}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_for-of.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_ctx":32,"./_is-array-iter":56,"./_iter-call":61,"./_to-length":125,"./core.get-iterator-method":137,buffer:5,hXUCVB:4}],47:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=require("./_shared")("native-function-to-string",Function.toString)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_function-to-string.js","/../../../../node_modules/core-js/modules")},{"./_shared":110,buffer:5,hXUCVB:4}],48:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=module.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=global)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_global.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],49:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_has.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],50:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var dP=require("./_object-dp"),createDesc=require("./_property-desc");module.exports=require("./_descriptors")?function(object,key,value){return dP.f(object,key,createDesc(1,value))}:function(object,key,value){return object[key]=value,object}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_hide.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_object-dp":79,"./_property-desc":97,buffer:5,hXUCVB:4}],51:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var document=require("./_global").document;module.exports=document&&document.documentElement}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_html.js","/../../../../node_modules/core-js/modules")},{"./_global":48,buffer:5,hXUCVB:4}],52:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=!require("./_descriptors")&&!require("./_fails")(function(){return 7!=Object.defineProperty(require("./_dom-create")("div"),"a",{get:function(){return 7}}).a})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_ie8-dom-define.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_dom-create":37,"./_fails":42,buffer:5,hXUCVB:4}],53:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),setPrototypeOf=require("./_set-proto").set;module.exports=function(that,target,C){var P,S=target.constructor;return S!==C&&"function"==typeof S&&(P=S.prototype)!==C.prototype&&isObject(P)&&setPrototypeOf&&setPrototypeOf(that,P),that}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_inherit-if-required.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_set-proto":106,buffer:5,hXUCVB:4}],54:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(fn,args,that){var un=void 0===that;switch(args.length){case 0:return un?fn():fn.call(that);case 1:return un?fn(args[0]):fn.call(that,args[0]);case 2:return un?fn(args[0],args[1]):fn.call(that,args[0],args[1]);case 3:return un?fn(args[0],args[1],args[2]):fn.call(that,args[0],args[1],args[2]);case 4:return un?fn(args[0],args[1],args[2],args[3]):fn.call(that,args[0],args[1],args[2],args[3])}return fn.apply(that,args)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_invoke.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],55:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var cof=require("./_cof");module.exports=Object("z").propertyIsEnumerable(0)?Object:function(it){return"String"==cof(it)?it.split(""):Object(it)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iobject.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,buffer:5,hXUCVB:4}],56:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Iterators=require("./_iterators"),ITERATOR=require("./_wks")("iterator"),ArrayProto=Array.prototype;module.exports=function(it){return void 0!==it&&(Iterators.Array===it||ArrayProto[ITERATOR]===it)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_is-array-iter.js","/../../../../node_modules/core-js/modules")},{"./_iterators":66,"./_wks":136,buffer:5,hXUCVB:4}],57:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var cof=require("./_cof");module.exports=Array.isArray||function(arg){return"Array"==cof(arg)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_is-array.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,buffer:5,hXUCVB:4}],58:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),floor=Math.floor;module.exports=function(it){return!isObject(it)&&isFinite(it)&&floor(it)===it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_is-integer.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,buffer:5,hXUCVB:4}],59:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(it){return"object"==typeof it?null!==it:"function"==typeof it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_is-object.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],60:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),cof=require("./_cof"),MATCH=require("./_wks")("match");module.exports=function(it){var isRegExp;return isObject(it)&&(void 0!==(isRegExp=it[MATCH])?!!isRegExp:"RegExp"==cof(it))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_is-regexp.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_is-object":59,"./_wks":136,buffer:5,hXUCVB:4}],61:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var anObject=require("./_an-object");module.exports=function(iterator,fn,value,entries){try{return entries?fn(anObject(value)[0],value[1]):fn(value)}catch(e){var ret=iterator["return"];throw void 0!==ret&&anObject(ret.call(iterator)),e}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iter-call.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,buffer:5,hXUCVB:4}],62:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var create=require("./_object-create"),descriptor=require("./_property-desc"),setToStringTag=require("./_set-to-string-tag"),IteratorPrototype={};require("./_hide")(IteratorPrototype,require("./_wks")("iterator"),function(){return this}),module.exports=function(Constructor,NAME,next){Constructor.prototype=create(IteratorPrototype,{next:descriptor(1,next)}),setToStringTag(Constructor,NAME+" Iterator")}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iter-create.js","/../../../../node_modules/core-js/modules")},{"./_hide":50,"./_object-create":78,"./_property-desc":97,"./_set-to-string-tag":108,"./_wks":136,buffer:5,hXUCVB:4}],63:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var LIBRARY=require("./_library"),$export=require("./_export"),redefine=require("./_redefine"),hide=require("./_hide"),Iterators=require("./_iterators"),$iterCreate=require("./_iter-create"),setToStringTag=require("./_set-to-string-tag"),getPrototypeOf=require("./_object-gpo"),ITERATOR=require("./_wks")("iterator"),BUGGY=!([].keys&&"next"in[].keys()),FF_ITERATOR="@@iterator",KEYS="keys",VALUES="values",returnThis=function(){return this};module.exports=function(Base,NAME,Constructor,next,DEFAULT,IS_SET,FORCED){$iterCreate(Constructor,NAME,next);var methods,key,IteratorPrototype,getMethod=function(kind){if(!BUGGY&&kind in proto)return proto[kind];switch(kind){case KEYS:return function(){return new Constructor(this,kind)};case VALUES:return function(){return new Constructor(this,kind)}}return function(){return new Constructor(this,kind)}},TAG=NAME+" Iterator",DEF_VALUES=DEFAULT==VALUES,VALUES_BUG=!1,proto=Base.prototype,$native=proto[ITERATOR]||proto[FF_ITERATOR]||DEFAULT&&proto[DEFAULT],$default=$native||getMethod(DEFAULT),$entries=DEFAULT?DEF_VALUES?getMethod("entries"):$default:void 0,$anyNative="Array"==NAME?proto.entries||$native:$native;if($anyNative&&(IteratorPrototype=getPrototypeOf($anyNative.call(new Base)),IteratorPrototype!==Object.prototype&&IteratorPrototype.next&&(setToStringTag(IteratorPrototype,TAG,!0),LIBRARY||"function"==typeof IteratorPrototype[ITERATOR]||hide(IteratorPrototype,ITERATOR,returnThis))),DEF_VALUES&&$native&&$native.name!==VALUES&&(VALUES_BUG=!0,$default=function(){return $native.call(this)}),LIBRARY&&!FORCED||!BUGGY&&!VALUES_BUG&&proto[ITERATOR]||hide(proto,ITERATOR,$default),Iterators[NAME]=$default,Iterators[TAG]=returnThis,DEFAULT)if(methods={values:DEF_VALUES?$default:getMethod(VALUES),keys:IS_SET?$default:getMethod(KEYS),entries:$entries},FORCED)for(key in methods)key in proto||redefine(proto,key,methods[key]);else $export($export.P+$export.F*(BUGGY||VALUES_BUG),NAME,methods);return methods}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iter-define.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_hide":50,"./_iter-create":62,"./_iterators":66,"./_library":67,"./_object-gpo":86,"./_redefine":99,"./_set-to-string-tag":108,"./_wks":136,buffer:5,hXUCVB:4}],64:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ITERATOR=require("./_wks")("iterator"),SAFE_CLOSING=!1;try{var riter=[7][ITERATOR]();riter["return"]=function(){SAFE_CLOSING=!0},Array.from(riter,function(){throw 2})}catch(e){}module.exports=function(exec,skipClosing){if(!skipClosing&&!SAFE_CLOSING)return!1;var safe=!1;try{var arr=[7],iter=arr[ITERATOR]();iter.next=function(){return{done:safe=!0}},arr[ITERATOR]=function(){return iter},exec(arr)}catch(e){}return safe}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iter-detect.js","/../../../../node_modules/core-js/modules")},{"./_wks":136,buffer:5,hXUCVB:4}],65:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(done,value){return{value:value,done:!!done}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iter-step.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],66:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_iterators.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],67:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=!1}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_library.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],68:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $expm1=Math.expm1;module.exports=!$expm1||$expm1(10)>22025.465794806718||$expm1(10)<22025.465794806718||-2e-17!=$expm1(-2e-17)?function(x){return 0==(x=+x)?x:x>-1e-6&&1e-6>x?x+x*x/2:Math.exp(x)-1}:$expm1}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_math-expm1.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],69:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var sign=require("./_math-sign"),pow=Math.pow,EPSILON=pow(2,-52),EPSILON32=pow(2,-23),MAX32=pow(2,127)*(2-EPSILON32),MIN32=pow(2,-126),roundTiesToEven=function(n){return n+1/EPSILON-1/EPSILON};module.exports=Math.fround||function(x){var a,result,$abs=Math.abs(x),$sign=sign(x);return MIN32>$abs?$sign*roundTiesToEven($abs/MIN32/EPSILON32)*MIN32*EPSILON32:(a=(1+EPSILON32/EPSILON)*$abs,result=a-(a-$abs),result>MAX32||result!=result?$sign*(1/0):$sign*result)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_math-fround.js","/../../../../node_modules/core-js/modules")},{"./_math-sign":72,buffer:5,hXUCVB:4}],70:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=Math.log1p||function(x){return(x=+x)>-1e-8&&1e-8>x?x-x*x/2:Math.log(1+x)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_math-log1p.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],71:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=Math.scale||function(x,inLow,inHigh,outLow,outHigh){return 0===arguments.length||x!=x||inLow!=inLow||inHigh!=inHigh||outLow!=outLow||outHigh!=outHigh?NaN:x===1/0||x===-(1/0)?x:(x-inLow)*(outHigh-outLow)/(inHigh-inLow)+outLow}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_math-scale.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],72:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=Math.sign||function(x){return 0==(x=+x)||x!=x?x:0>x?-1:1}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_math-sign.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],73:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var META=require("./_uid")("meta"),isObject=require("./_is-object"),has=require("./_has"),setDesc=require("./_object-dp").f,id=0,isExtensible=Object.isExtensible||function(){return!0},FREEZE=!require("./_fails")(function(){return isExtensible(Object.preventExtensions({}))}),setMeta=function(it){setDesc(it,META,{value:{i:"O"+ ++id,w:{}}})},fastKey=function(it,create){if(!isObject(it))return"symbol"==typeof it?it:("string"==typeof it?"S":"P")+it;if(!has(it,META)){if(!isExtensible(it))return"F";if(!create)return"E";setMeta(it)}return it[META].i},getWeak=function(it,create){if(!has(it,META)){if(!isExtensible(it))return!0;if(!create)return!1;setMeta(it)}return it[META].w},onFreeze=function(it){return FREEZE&&meta.NEED&&isExtensible(it)&&!has(it,META)&&setMeta(it),it},meta=module.exports={KEY:META,NEED:!1,fastKey:fastKey,getWeak:getWeak,onFreeze:onFreeze}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_meta.js","/../../../../node_modules/core-js/modules")},{"./_fails":42,"./_has":49,"./_is-object":59,"./_object-dp":79,"./_uid":131,buffer:5,hXUCVB:4}],74:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Map=require("./es6.map"),$export=require("./_export"),shared=require("./_shared")("metadata"),store=shared.store||(shared.store=new(require("./es6.weak-map"))),getOrCreateMetadataMap=function(target,targetKey,create){var targetMetadata=store.get(target);if(!targetMetadata){if(!create)return;store.set(target,targetMetadata=new Map)}var keyMetadata=targetMetadata.get(targetKey);if(!keyMetadata){if(!create)return;targetMetadata.set(targetKey,keyMetadata=new Map)}return keyMetadata},ordinaryHasOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?!1:metadataMap.has(MetadataKey)},ordinaryGetOwnMetadata=function(MetadataKey,O,P){var metadataMap=getOrCreateMetadataMap(O,P,!1);return void 0===metadataMap?void 0:metadataMap.get(MetadataKey)},ordinaryDefineOwnMetadata=function(MetadataKey,MetadataValue,O,P){getOrCreateMetadataMap(O,P,!0).set(MetadataKey,MetadataValue)},ordinaryOwnMetadataKeys=function(target,targetKey){var metadataMap=getOrCreateMetadataMap(target,targetKey,!1),keys=[];return metadataMap&&metadataMap.forEach(function(_,key){keys.push(key)}),keys},toMetaKey=function(it){return void 0===it||"symbol"==typeof it?it:String(it)},exp=function(O){$export($export.S,"Reflect",O)};module.exports={store:store,map:getOrCreateMetadataMap,has:ordinaryHasOwnMetadata,get:ordinaryGetOwnMetadata,set:ordinaryDefineOwnMetadata,keys:ordinaryOwnMetadataKeys,key:toMetaKey,exp:exp}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_metadata.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_shared":110,"./es6.map":168,"./es6.weak-map":275,buffer:5,hXUCVB:4}],75:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),macrotask=require("./_task").set,Observer=global.MutationObserver||global.WebKitMutationObserver,process=global.process,Promise=global.Promise,isNode="process"==require("./_cof")(process);module.exports=function(){var head,last,notify,flush=function(){var parent,fn;for(isNode&&(parent=process.domain)&&parent.exit();head;){fn=head.fn,head=head.next;try{fn()}catch(e){throw head?notify():last=void 0,e}}last=void 0,parent&&parent.enter()};if(isNode)notify=function(){process.nextTick(flush)};else if(!Observer||global.navigator&&global.navigator.standalone)if(Promise&&Promise.resolve){var promise=Promise.resolve(void 0);notify=function(){promise.then(flush)}}else notify=function(){macrotask.call(global,flush)};else{var toggle=!0,node=document.createTextNode("");new Observer(flush).observe(node,{characterData:!0}),notify=function(){node.data=toggle=!toggle}}return function(fn){var task={fn:fn,next:void 0};last&&(last.next=task),head||(head=task,notify()),last=task}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_microtask.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_global":48,"./_task":120,buffer:5,hXUCVB:4}],76:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function PromiseCapability(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(void 0!==resolve||void 0!==reject)throw TypeError("Bad Promise constructor");resolve=$$resolve,reject=$$reject}),this.resolve=aFunction(resolve),this.reject=aFunction(reject)}var aFunction=require("./_a-function");module.exports.f=function(C){return new PromiseCapability(C)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_new-promise-capability.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,buffer:5,hXUCVB:4}],77:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var DESCRIPTORS=require("./_descriptors"),getKeys=require("./_object-keys"),gOPS=require("./_object-gops"),pIE=require("./_object-pie"),toObject=require("./_to-object"),IObject=require("./_iobject"),$assign=Object.assign;module.exports=!$assign||require("./_fails")(function(){var A={},B={},S=Symbol(),K="abcdefghijklmnopqrst";return A[S]=7,K.split("").forEach(function(k){B[k]=k}),7!=$assign({},A)[S]||Object.keys($assign({},B)).join("")!=K})?function(target,source){for(var T=toObject(target),aLen=arguments.length,index=1,getSymbols=gOPS.f,isEnum=pIE.f;aLen>index;)for(var key,S=IObject(arguments[index++]),keys=getSymbols?getKeys(S).concat(getSymbols(S)):getKeys(S),length=keys.length,j=0;length>j;)key=keys[j++],(!DESCRIPTORS||isEnum.call(S,key))&&(T[key]=S[key]);return T}:$assign}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-assign.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_fails":42,"./_iobject":55,"./_object-gops":85,"./_object-keys":88,"./_object-pie":89,"./_to-object":126,buffer:5,hXUCVB:4}],78:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var anObject=require("./_an-object"),dPs=require("./_object-dps"),enumBugKeys=require("./_enum-bug-keys"),IE_PROTO=require("./_shared-key")("IE_PROTO"),Empty=function(){},PROTOTYPE="prototype",createDict=function(){var iframeDocument,iframe=require("./_dom-create")("iframe"),i=enumBugKeys.length,lt="<",gt=">";for(iframe.style.display="none",require("./_html").appendChild(iframe),iframe.src="javascript:",iframeDocument=iframe.contentWindow.document,iframeDocument.open(),iframeDocument.write(lt+"script"+gt+"document.F=Object"+lt+"/script"+gt),iframeDocument.close(),createDict=iframeDocument.F;i--;)delete createDict[PROTOTYPE][enumBugKeys[i]];return createDict()};module.exports=Object.create||function(O,Properties){var result;return null!==O?(Empty[PROTOTYPE]=anObject(O),result=new Empty,Empty[PROTOTYPE]=null,result[IE_PROTO]=O):result=createDict(),void 0===Properties?result:dPs(result,Properties)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-create.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_dom-create":37,"./_enum-bug-keys":38,"./_html":51,"./_object-dps":80,"./_shared-key":109,buffer:5,hXUCVB:4}],79:[function(require,module,exports){
(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var anObject=require("./_an-object"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),toPrimitive=require("./_to-primitive"),dP=Object.defineProperty;exports.f=require("./_descriptors")?Object.defineProperty:function(O,P,Attributes){if(anObject(O),P=toPrimitive(P,!0),anObject(Attributes),IE8_DOM_DEFINE)try{return dP(O,P,Attributes)}catch(e){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported!");return"value"in Attributes&&(O[P]=Attributes.value),O}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-dp.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_descriptors":36,"./_ie8-dom-define":52,"./_to-primitive":127,buffer:5,hXUCVB:4}],80:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var dP=require("./_object-dp"),anObject=require("./_an-object"),getKeys=require("./_object-keys");module.exports=require("./_descriptors")?Object.defineProperties:function(O,Properties){anObject(O);for(var P,keys=getKeys(Properties),length=keys.length,i=0;length>i;)dP.f(O,P=keys[i++],Properties[P]);return O}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-dps.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_descriptors":36,"./_object-dp":79,"./_object-keys":88,buffer:5,hXUCVB:4}],81:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports=require("./_library")||!require("./_fails")(function(){var K=Math.random();__defineSetter__.call(null,K,function(){}),delete require("./_global")[K]})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-forced-pam.js","/../../../../node_modules/core-js/modules")},{"./_fails":42,"./_global":48,"./_library":67,buffer:5,hXUCVB:4}],82:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var pIE=require("./_object-pie"),createDesc=require("./_property-desc"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),has=require("./_has"),IE8_DOM_DEFINE=require("./_ie8-dom-define"),gOPD=Object.getOwnPropertyDescriptor;exports.f=require("./_descriptors")?gOPD:function(O,P){if(O=toIObject(O),P=toPrimitive(P,!0),IE8_DOM_DEFINE)try{return gOPD(O,P)}catch(e){}return has(O,P)?createDesc(!pIE.f.call(O,P),O[P]):void 0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-gopd.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_has":49,"./_ie8-dom-define":52,"./_object-pie":89,"./_property-desc":97,"./_to-iobject":124,"./_to-primitive":127,buffer:5,hXUCVB:4}],83:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toIObject=require("./_to-iobject"),gOPN=require("./_object-gopn").f,toString={}.toString,windowNames="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],getWindowNames=function(it){try{return gOPN(it)}catch(e){return windowNames.slice()}};module.exports.f=function(it){return windowNames&&"[object Window]"==toString.call(it)?getWindowNames(it):gOPN(toIObject(it))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-gopn-ext.js","/../../../../node_modules/core-js/modules")},{"./_object-gopn":84,"./_to-iobject":124,buffer:5,hXUCVB:4}],84:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $keys=require("./_object-keys-internal"),hiddenKeys=require("./_enum-bug-keys").concat("length","prototype");exports.f=Object.getOwnPropertyNames||function(O){return $keys(O,hiddenKeys)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-gopn.js","/../../../../node_modules/core-js/modules")},{"./_enum-bug-keys":38,"./_object-keys-internal":87,buffer:5,hXUCVB:4}],85:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.f=Object.getOwnPropertySymbols}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-gops.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],86:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var has=require("./_has"),toObject=require("./_to-object"),IE_PROTO=require("./_shared-key")("IE_PROTO"),ObjectProto=Object.prototype;module.exports=Object.getPrototypeOf||function(O){return O=toObject(O),has(O,IE_PROTO)?O[IE_PROTO]:"function"==typeof O.constructor&&O instanceof O.constructor?O.constructor.prototype:O instanceof Object?ObjectProto:null}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-gpo.js","/../../../../node_modules/core-js/modules")},{"./_has":49,"./_shared-key":109,"./_to-object":126,buffer:5,hXUCVB:4}],87:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var has=require("./_has"),toIObject=require("./_to-iobject"),arrayIndexOf=require("./_array-includes")(!1),IE_PROTO=require("./_shared-key")("IE_PROTO");module.exports=function(object,names){var key,O=toIObject(object),i=0,result=[];for(key in O)key!=IE_PROTO&&has(O,key)&&result.push(key);for(;names.length>i;)has(O,key=names[i++])&&(~arrayIndexOf(result,key)||result.push(key));return result}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-keys-internal.js","/../../../../node_modules/core-js/modules")},{"./_array-includes":18,"./_has":49,"./_shared-key":109,"./_to-iobject":124,buffer:5,hXUCVB:4}],88:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $keys=require("./_object-keys-internal"),enumBugKeys=require("./_enum-bug-keys");module.exports=Object.keys||function(O){return $keys(O,enumBugKeys)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-keys.js","/../../../../node_modules/core-js/modules")},{"./_enum-bug-keys":38,"./_object-keys-internal":87,buffer:5,hXUCVB:4}],89:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.f={}.propertyIsEnumerable}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-pie.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],90:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),core=require("./_core"),fails=require("./_fails");module.exports=function(KEY,exec){var fn=(core.Object||{})[KEY]||Object[KEY],exp={};exp[KEY]=exec(fn),$export($export.S+$export.F*fails(function(){fn(1)}),"Object",exp)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-sap.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_export":40,"./_fails":42,buffer:5,hXUCVB:4}],91:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var DESCRIPTORS=require("./_descriptors"),getKeys=require("./_object-keys"),toIObject=require("./_to-iobject"),isEnum=require("./_object-pie").f;module.exports=function(isEntries){return function(it){for(var key,O=toIObject(it),keys=getKeys(O),length=keys.length,i=0,result=[];length>i;)key=keys[i++],(!DESCRIPTORS||isEnum.call(O,key))&&result.push(isEntries?[key,O[key]]:O[key]);return result}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_object-to-array.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_object-keys":88,"./_object-pie":89,"./_to-iobject":124,buffer:5,hXUCVB:4}],92:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var gOPN=require("./_object-gopn"),gOPS=require("./_object-gops"),anObject=require("./_an-object"),Reflect=require("./_global").Reflect;module.exports=Reflect&&Reflect.ownKeys||function(it){var keys=gOPN.f(anObject(it)),getSymbols=gOPS.f;return getSymbols?keys.concat(getSymbols(it)):keys}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_own-keys.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_global":48,"./_object-gopn":84,"./_object-gops":85,buffer:5,hXUCVB:4}],93:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $parseFloat=require("./_global").parseFloat,$trim=require("./_string-trim").trim;module.exports=1/$parseFloat(require("./_string-ws")+"-0")!==-(1/0)?function(str){var string=$trim(String(str),3),result=$parseFloat(string);return 0===result&&"-"==string.charAt(0)?-0:result}:$parseFloat}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_parse-float.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_string-trim":118,"./_string-ws":119,buffer:5,hXUCVB:4}],94:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $parseInt=require("./_global").parseInt,$trim=require("./_string-trim").trim,ws=require("./_string-ws"),hex=/^[-+]?0[xX]/;module.exports=8!==$parseInt(ws+"08")||22!==$parseInt(ws+"0x16")?function(str,radix){var string=$trim(String(str),3);return $parseInt(string,radix>>>0||(hex.test(string)?16:10))}:$parseInt}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_parse-int.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_string-trim":118,"./_string-ws":119,buffer:5,hXUCVB:4}],95:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(exec){try{return{e:!1,v:exec()}}catch(e){return{e:!0,v:e}}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_perform.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],96:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var anObject=require("./_an-object"),isObject=require("./_is-object"),newPromiseCapability=require("./_new-promise-capability");module.exports=function(C,x){if(anObject(C),isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C),resolve=promiseCapability.resolve;return resolve(x),promiseCapability.promise}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_promise-resolve.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_is-object":59,"./_new-promise-capability":76,buffer:5,hXUCVB:4}],97:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(bitmap,value){return{enumerable:!(1&bitmap),configurable:!(2&bitmap),writable:!(4&bitmap),value:value}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_property-desc.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],98:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var redefine=require("./_redefine");module.exports=function(target,src,safe){for(var key in src)redefine(target,key,src[key],safe);return target}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_redefine-all.js","/../../../../node_modules/core-js/modules")},{"./_redefine":99,buffer:5,hXUCVB:4}],99:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),hide=require("./_hide"),has=require("./_has"),SRC=require("./_uid")("src"),$toString=require("./_function-to-string"),TO_STRING="toString",TPL=(""+$toString).split(TO_STRING);require("./_core").inspectSource=function(it){return $toString.call(it)},(module.exports=function(O,key,val,safe){var isFunction="function"==typeof val;isFunction&&(has(val,"name")||hide(val,"name",key)),O[key]!==val&&(isFunction&&(has(val,SRC)||hide(val,SRC,O[key]?""+O[key]:TPL.join(String(key)))),O===global?O[key]=val:safe?O[key]?O[key]=val:hide(O,key,val):(delete O[key],hide(O,key,val)))})(Function.prototype,TO_STRING,function(){return"function"==typeof this&&this[SRC]||$toString.call(this)})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_redefine.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_function-to-string":47,"./_global":48,"./_has":49,"./_hide":50,"./_uid":131,buffer:5,hXUCVB:4}],100:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classof=require("./_classof"),builtinExec=RegExp.prototype.exec;module.exports=function(R,S){var exec=R.exec;if("function"==typeof exec){var result=exec.call(R,S);if("object"!=typeof result)throw new TypeError("RegExp exec method returned something other than an Object or null");return result}if("RegExp"!==classof(R))throw new TypeError("RegExp#exec called on incompatible receiver");return builtinExec.call(R,S)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_regexp-exec-abstract.js","/../../../../node_modules/core-js/modules")},{"./_classof":24,buffer:5,hXUCVB:4}],101:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var regexpFlags=require("./_flags"),nativeExec=RegExp.prototype.exec,nativeReplace=String.prototype.replace,patchedExec=nativeExec,LAST_INDEX="lastIndex",UPDATES_LAST_INDEX_WRONG=function(){var re1=/a/,re2=/b*/g;return nativeExec.call(re1,"a"),nativeExec.call(re2,"a"),0!==re1[LAST_INDEX]||0!==re2[LAST_INDEX]}(),NPCG_INCLUDED=void 0!==/()??/.exec("")[1],PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED;PATCH&&(patchedExec=function(str){var lastIndex,reCopy,match,i,re=this;return NPCG_INCLUDED&&(reCopy=new RegExp("^"+re.source+"$(?!\\s)",regexpFlags.call(re))),UPDATES_LAST_INDEX_WRONG&&(lastIndex=re[LAST_INDEX]),match=nativeExec.call(re,str),UPDATES_LAST_INDEX_WRONG&&match&&(re[LAST_INDEX]=re.global?match.index+match[0].length:lastIndex),NPCG_INCLUDED&&match&&match.length>1&&nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(match[i]=void 0)}),match}),module.exports=patchedExec}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_regexp-exec.js","/../../../../node_modules/core-js/modules")},{"./_flags":44,buffer:5,hXUCVB:4}],102:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(regExp,replace){var replacer=replace===Object(replace)?function(part){return replace[part]}:replace;return function(it){return String(it).replace(regExp,replacer)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_replacer.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],103:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=Object.is||function(x,y){return x===y?0!==x||1/x===1/y:x!=x&&y!=y}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_same-value.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],104:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),ctx=require("./_ctx"),forOf=require("./_for-of");module.exports=function(COLLECTION){$export($export.S,COLLECTION,{from:function(source){var mapping,A,n,cb,mapFn=arguments[1];return aFunction(this),mapping=void 0!==mapFn,mapping&&aFunction(mapFn),void 0==source?new this:(A=[],mapping?(n=0,cb=ctx(mapFn,arguments[2],2),forOf(source,!1,function(nextItem){A.push(cb(nextItem,n++))})):forOf(source,!1,A.push,A),new this(A))}})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_set-collection-from.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_ctx":32,"./_export":40,"./_for-of":46,buffer:5,hXUCVB:4}],105:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export");module.exports=function(COLLECTION){$export($export.S,COLLECTION,{of:function(){for(var length=arguments.length,A=new Array(length);length--;)A[length]=arguments[length];return new this(A)}})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_set-collection-of.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],106:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),anObject=require("./_an-object"),check=function(O,proto){if(anObject(O),!isObject(proto)&&null!==proto)throw TypeError(proto+": can't set as prototype!")};module.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(test,buggy,set){try{set=require("./_ctx")(Function.call,require("./_object-gopd").f(Object.prototype,"__proto__").set,2),set(test,[]),buggy=!(test instanceof Array)}catch(e){buggy=!0}return function(O,proto){return check(O,proto),buggy?O.__proto__=proto:set(O,proto),O}}({},!1):void 0),check:check}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_set-proto.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_ctx":32,"./_is-object":59,"./_object-gopd":82,buffer:5,hXUCVB:4}],107:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var global=require("./_global"),dP=require("./_object-dp"),DESCRIPTORS=require("./_descriptors"),SPECIES=require("./_wks")("species");module.exports=function(KEY){var C=global[KEY];DESCRIPTORS&&C&&!C[SPECIES]&&dP.f(C,SPECIES,{configurable:!0,get:function(){return this}})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_set-species.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_global":48,"./_object-dp":79,"./_wks":136,buffer:5,hXUCVB:4}],108:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var def=require("./_object-dp").f,has=require("./_has"),TAG=require("./_wks")("toStringTag");module.exports=function(it,tag,stat){it&&!has(it=stat?it:it.prototype,TAG)&&def(it,TAG,{configurable:!0,value:tag})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_set-to-string-tag.js","/../../../../node_modules/core-js/modules")},{"./_has":49,"./_object-dp":79,"./_wks":136,buffer:5,hXUCVB:4}],109:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var shared=require("./_shared")("keys"),uid=require("./_uid");module.exports=function(key){return shared[key]||(shared[key]=uid(key))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_shared-key.js","/../../../../node_modules/core-js/modules")},{"./_shared":110,"./_uid":131,buffer:5,hXUCVB:4}],110:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var core=require("./_core"),global=require("./_global"),SHARED="__core-js_shared__",store=global[SHARED]||(global[SHARED]={});(module.exports=function(key,value){return store[key]||(store[key]=void 0!==value?value:{})})("versions",[]).push({version:core.version,mode:require("./_library")?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_shared.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_global":48,"./_library":67,buffer:5,hXUCVB:4}],111:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var anObject=require("./_an-object"),aFunction=require("./_a-function"),SPECIES=require("./_wks")("species");module.exports=function(O,D){var S,C=anObject(O).constructor;return void 0===C||void 0==(S=anObject(C)[SPECIES])?D:aFunction(S)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_species-constructor.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-object":14,"./_wks":136,buffer:5,hXUCVB:4}],112:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var fails=require("./_fails");module.exports=function(method,arg){return!!method&&fails(function(){arg?method.call(null,function(){},1):method.call(null)})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_strict-method.js","/../../../../node_modules/core-js/modules")},{"./_fails":42,buffer:5,hXUCVB:4}],113:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(TO_STRING){return function(that,pos){var a,b,s=String(defined(that)),i=toInteger(pos),l=s.length;return 0>i||i>=l?TO_STRING?"":void 0:(a=s.charCodeAt(i),55296>a||a>56319||i+1===l||(b=s.charCodeAt(i+1))<56320||b>57343?TO_STRING?s.charAt(i):a:TO_STRING?s.slice(i,i+2):(a-55296<<10)+(b-56320)+65536)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-at.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_to-integer":123,buffer:5,hXUCVB:4}],114:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isRegExp=require("./_is-regexp"),defined=require("./_defined");module.exports=function(that,searchString,NAME){if(isRegExp(searchString))throw TypeError("String#"+NAME+" doesn't accept regex!");return String(defined(that))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-context.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_is-regexp":60,buffer:5,hXUCVB:4}],115:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),fails=require("./_fails"),defined=require("./_defined"),quot=/"/g,createHTML=function(string,tag,attribute,value){var S=String(defined(string)),p1="<"+tag;return""!==attribute&&(p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"'),p1+">"+S+"</"+tag+">"};module.exports=function(NAME,exec){var O={};O[NAME]=exec(createHTML),$export($export.P+$export.F*fails(function(){var test=""[NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3}),"String",O)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-html.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_export":40,"./_fails":42,buffer:5,hXUCVB:4}],116:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toLength=require("./_to-length"),repeat=require("./_string-repeat"),defined=require("./_defined");module.exports=function(that,maxLength,fillString,left){var S=String(defined(that)),stringLength=S.length,fillStr=void 0===fillString?" ":String(fillString),intMaxLength=toLength(maxLength);if(stringLength>=intMaxLength||""==fillStr)return S;var fillLen=intMaxLength-stringLength,stringFiller=repeat.call(fillStr,Math.ceil(fillLen/fillStr.length));return stringFiller.length>fillLen&&(stringFiller=stringFiller.slice(0,fillLen)),left?stringFiller+S:S+stringFiller}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-pad.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_string-repeat":117,"./_to-length":125,buffer:5,hXUCVB:4}],117:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var toInteger=require("./_to-integer"),defined=require("./_defined");module.exports=function(count){var str=String(defined(this)),res="",n=toInteger(count);if(0>n||n==1/0)throw RangeError("Count can't be negative");for(;n>0;(n>>>=1)&&(str+=str))1&n&&(res+=str);return res}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-repeat.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_to-integer":123,buffer:5,hXUCVB:4}],118:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),defined=require("./_defined"),fails=require("./_fails"),spaces=require("./_string-ws"),space="["+spaces+"]",non="​",ltrim=RegExp("^"+space+space+"*"),rtrim=RegExp(space+space+"*$"),exporter=function(KEY,exec,ALIAS){var exp={},FORCE=fails(function(){return!!spaces[KEY]()||non[KEY]()!=non}),fn=exp[KEY]=FORCE?exec(trim):spaces[KEY];ALIAS&&(exp[ALIAS]=fn),$export($export.P+$export.F*FORCE,"String",exp)},trim=exporter.trim=function(string,TYPE){return string=String(defined(string)),1&TYPE&&(string=string.replace(ltrim,"")),2&TYPE&&(string=string.replace(rtrim,"")),string};module.exports=exporter}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-trim.js","/../../../../node_modules/core-js/modules");
},{"./_defined":35,"./_export":40,"./_fails":42,"./_string-ws":119,buffer:5,hXUCVB:4}],119:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff"}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_string-ws.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],120:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var defer,channel,port,ctx=require("./_ctx"),invoke=require("./_invoke"),html=require("./_html"),cel=require("./_dom-create"),global=require("./_global"),process=global.process,setTask=global.setImmediate,clearTask=global.clearImmediate,MessageChannel=global.MessageChannel,Dispatch=global.Dispatch,counter=0,queue={},ONREADYSTATECHANGE="onreadystatechange",run=function(){var id=+this;if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id],fn()}},listener=function(event){run.call(event.data)};setTask&&clearTask||(setTask=function(fn){for(var args=[],i=1;arguments.length>i;)args.push(arguments[i++]);return queue[++counter]=function(){invoke("function"==typeof fn?fn:Function(fn),args)},defer(counter),counter},clearTask=function(id){delete queue[id]},"process"==require("./_cof")(process)?defer=function(id){process.nextTick(ctx(run,id,1))}:Dispatch&&Dispatch.now?defer=function(id){Dispatch.now(ctx(run,id,1))}:MessageChannel?(channel=new MessageChannel,port=channel.port2,channel.port1.onmessage=listener,defer=ctx(port.postMessage,port,1)):global.addEventListener&&"function"==typeof postMessage&&!global.importScripts?(defer=function(id){global.postMessage(id+"","*")},global.addEventListener("message",listener,!1)):defer=ONREADYSTATECHANGE in cel("script")?function(id){html.appendChild(cel("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run.call(id)}}:function(id){setTimeout(ctx(run,id,1),0)}),module.exports={set:setTask,clear:clearTask}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_task.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_ctx":32,"./_dom-create":37,"./_global":48,"./_html":51,"./_invoke":54,buffer:5,hXUCVB:4}],121:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toInteger=require("./_to-integer"),max=Math.max,min=Math.min;module.exports=function(index,length){return index=toInteger(index),0>index?max(index+length,0):min(index,length)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-absolute-index.js","/../../../../node_modules/core-js/modules")},{"./_to-integer":123,buffer:5,hXUCVB:4}],122:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toInteger=require("./_to-integer"),toLength=require("./_to-length");module.exports=function(it){if(void 0===it)return 0;var number=toInteger(it),length=toLength(number);if(number!==length)throw RangeError("Wrong length!");return length}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-index.js","/../../../../node_modules/core-js/modules")},{"./_to-integer":123,"./_to-length":125,buffer:5,hXUCVB:4}],123:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var ceil=Math.ceil,floor=Math.floor;module.exports=function(it){return isNaN(it=+it)?0:(it>0?floor:ceil)(it)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-integer.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],124:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var IObject=require("./_iobject"),defined=require("./_defined");module.exports=function(it){return IObject(defined(it))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-iobject.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_iobject":55,buffer:5,hXUCVB:4}],125:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toInteger=require("./_to-integer"),min=Math.min;module.exports=function(it){return it>0?min(toInteger(it),9007199254740991):0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-length.js","/../../../../node_modules/core-js/modules")},{"./_to-integer":123,buffer:5,hXUCVB:4}],126:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var defined=require("./_defined");module.exports=function(it){return Object(defined(it))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-object.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,buffer:5,hXUCVB:4}],127:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");module.exports=function(it,S){if(!isObject(it))return it;var fn,val;if(S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;if("function"==typeof(fn=it.valueOf)&&!isObject(val=fn.call(it)))return val;if(!S&&"function"==typeof(fn=it.toString)&&!isObject(val=fn.call(it)))return val;throw TypeError("Can't convert object to primitive value")}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_to-primitive.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,buffer:5,hXUCVB:4}],128:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";if(require("./_descriptors")){var LIBRARY=require("./_library"),global=require("./_global"),fails=require("./_fails"),$export=require("./_export"),$typed=require("./_typed"),$buffer=require("./_typed-buffer"),ctx=require("./_ctx"),anInstance=require("./_an-instance"),propertyDesc=require("./_property-desc"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),toAbsoluteIndex=require("./_to-absolute-index"),toPrimitive=require("./_to-primitive"),has=require("./_has"),classof=require("./_classof"),isObject=require("./_is-object"),toObject=require("./_to-object"),isArrayIter=require("./_is-array-iter"),create=require("./_object-create"),getPrototypeOf=require("./_object-gpo"),gOPN=require("./_object-gopn").f,getIterFn=require("./core.get-iterator-method"),uid=require("./_uid"),wks=require("./_wks"),createArrayMethod=require("./_array-methods"),createArrayIncludes=require("./_array-includes"),speciesConstructor=require("./_species-constructor"),ArrayIterators=require("./es6.array.iterator"),Iterators=require("./_iterators"),$iterDetect=require("./_iter-detect"),setSpecies=require("./_set-species"),arrayFill=require("./_array-fill"),arrayCopyWithin=require("./_array-copy-within"),$DP=require("./_object-dp"),$GOPD=require("./_object-gopd"),dP=$DP.f,gOPD=$GOPD.f,RangeError=global.RangeError,TypeError=global.TypeError,Uint8Array=global.Uint8Array,ARRAY_BUFFER="ArrayBuffer",SHARED_BUFFER="Shared"+ARRAY_BUFFER,BYTES_PER_ELEMENT="BYTES_PER_ELEMENT",PROTOTYPE="prototype",ArrayProto=Array[PROTOTYPE],$ArrayBuffer=$buffer.ArrayBuffer,$DataView=$buffer.DataView,arrayForEach=createArrayMethod(0),arrayFilter=createArrayMethod(2),arraySome=createArrayMethod(3),arrayEvery=createArrayMethod(4),arrayFind=createArrayMethod(5),arrayFindIndex=createArrayMethod(6),arrayIncludes=createArrayIncludes(!0),arrayIndexOf=createArrayIncludes(!1),arrayValues=ArrayIterators.values,arrayKeys=ArrayIterators.keys,arrayEntries=ArrayIterators.entries,arrayLastIndexOf=ArrayProto.lastIndexOf,arrayReduce=ArrayProto.reduce,arrayReduceRight=ArrayProto.reduceRight,arrayJoin=ArrayProto.join,arraySort=ArrayProto.sort,arraySlice=ArrayProto.slice,arrayToString=ArrayProto.toString,arrayToLocaleString=ArrayProto.toLocaleString,ITERATOR=wks("iterator"),TAG=wks("toStringTag"),TYPED_CONSTRUCTOR=uid("typed_constructor"),DEF_CONSTRUCTOR=uid("def_constructor"),ALL_CONSTRUCTORS=$typed.CONSTR,TYPED_ARRAY=$typed.TYPED,VIEW=$typed.VIEW,WRONG_LENGTH="Wrong length!",$map=createArrayMethod(1,function(O,length){return allocate(speciesConstructor(O,O[DEF_CONSTRUCTOR]),length)}),LITTLE_ENDIAN=fails(function(){return 1===new Uint8Array(new Uint16Array([1]).buffer)[0]}),FORCED_SET=!!Uint8Array&&!!Uint8Array[PROTOTYPE].set&&fails(function(){new Uint8Array(1).set({})}),toOffset=function(it,BYTES){var offset=toInteger(it);if(0>offset||offset%BYTES)throw RangeError("Wrong offset!");return offset},validate=function(it){if(isObject(it)&&TYPED_ARRAY in it)return it;throw TypeError(it+" is not a typed array!")},allocate=function(C,length){if(!(isObject(C)&&TYPED_CONSTRUCTOR in C))throw TypeError("It is not a typed array constructor!");return new C(length)},speciesFromList=function(O,list){return fromList(speciesConstructor(O,O[DEF_CONSTRUCTOR]),list)},fromList=function(C,list){for(var index=0,length=list.length,result=allocate(C,length);length>index;)result[index]=list[index++];return result},addGetter=function(it,key,internal){dP(it,key,{get:function(){return this._d[internal]}})},$from=function(source){var i,length,values,result,step,iterator,O=toObject(source),aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,iterFn=getIterFn(O);if(void 0!=iterFn&&!isArrayIter(iterFn)){for(iterator=iterFn.call(O),values=[],i=0;!(step=iterator.next()).done;i++)values.push(step.value);O=values}for(mapping&&aLen>2&&(mapfn=ctx(mapfn,arguments[2],2)),i=0,length=toLength(O.length),result=allocate(this,length);length>i;i++)result[i]=mapping?mapfn(O[i],i):O[i];return result},$of=function(){for(var index=0,length=arguments.length,result=allocate(this,length);length>index;)result[index]=arguments[index++];return result},TO_LOCALE_BUG=!!Uint8Array&&fails(function(){arrayToLocaleString.call(new Uint8Array(1))}),$toLocaleString=function(){return arrayToLocaleString.apply(TO_LOCALE_BUG?arraySlice.call(validate(this)):validate(this),arguments)},proto={copyWithin:function(target,start){return arrayCopyWithin.call(validate(this),target,start,arguments.length>2?arguments[2]:void 0)},every:function(callbackfn){return arrayEvery(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},fill:function(value){return arrayFill.apply(validate(this),arguments)},filter:function(callbackfn){return speciesFromList(this,arrayFilter(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0))},find:function(predicate){return arrayFind(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},findIndex:function(predicate){return arrayFindIndex(validate(this),predicate,arguments.length>1?arguments[1]:void 0)},forEach:function(callbackfn){arrayForEach(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},indexOf:function(searchElement){return arrayIndexOf(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},includes:function(searchElement){return arrayIncludes(validate(this),searchElement,arguments.length>1?arguments[1]:void 0)},join:function(separator){return arrayJoin.apply(validate(this),arguments)},lastIndexOf:function(searchElement){return arrayLastIndexOf.apply(validate(this),arguments)},map:function(mapfn){return $map(validate(this),mapfn,arguments.length>1?arguments[1]:void 0)},reduce:function(callbackfn){return arrayReduce.apply(validate(this),arguments)},reduceRight:function(callbackfn){return arrayReduceRight.apply(validate(this),arguments)},reverse:function(){for(var value,that=this,length=validate(that).length,middle=Math.floor(length/2),index=0;middle>index;)value=that[index],that[index++]=that[--length],that[length]=value;return that},some:function(callbackfn){return arraySome(validate(this),callbackfn,arguments.length>1?arguments[1]:void 0)},sort:function(comparefn){return arraySort.call(validate(this),comparefn)},subarray:function(begin,end){var O=validate(this),length=O.length,$begin=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O[DEF_CONSTRUCTOR]))(O.buffer,O.byteOffset+$begin*O.BYTES_PER_ELEMENT,toLength((void 0===end?length:toAbsoluteIndex(end,length))-$begin))}},$slice=function(start,end){return speciesFromList(this,arraySlice.call(validate(this),start,end))},$set=function(arrayLike){validate(this);var offset=toOffset(arguments[1],1),length=this.length,src=toObject(arrayLike),len=toLength(src.length),index=0;if(len+offset>length)throw RangeError(WRONG_LENGTH);for(;len>index;)this[offset+index]=src[index++]},$iterators={entries:function(){return arrayEntries.call(validate(this))},keys:function(){return arrayKeys.call(validate(this))},values:function(){return arrayValues.call(validate(this))}},isTAIndex=function(target,key){return isObject(target)&&target[TYPED_ARRAY]&&"symbol"!=typeof key&&key in target&&String(+key)==String(key)},$getDesc=function(target,key){return isTAIndex(target,key=toPrimitive(key,!0))?propertyDesc(2,target[key]):gOPD(target,key)},$setDesc=function(target,key,desc){return!(isTAIndex(target,key=toPrimitive(key,!0))&&isObject(desc)&&has(desc,"value"))||has(desc,"get")||has(desc,"set")||desc.configurable||has(desc,"writable")&&!desc.writable||has(desc,"enumerable")&&!desc.enumerable?dP(target,key,desc):(target[key]=desc.value,target)};ALL_CONSTRUCTORS||($GOPD.f=$getDesc,$DP.f=$setDesc),$export($export.S+$export.F*!ALL_CONSTRUCTORS,"Object",{getOwnPropertyDescriptor:$getDesc,defineProperty:$setDesc}),fails(function(){arrayToString.call({})})&&(arrayToString=arrayToLocaleString=function(){return arrayJoin.call(this)});var $TypedArrayPrototype$=redefineAll({},proto);redefineAll($TypedArrayPrototype$,$iterators),hide($TypedArrayPrototype$,ITERATOR,$iterators.values),redefineAll($TypedArrayPrototype$,{slice:$slice,set:$set,constructor:function(){},toString:arrayToString,toLocaleString:$toLocaleString}),addGetter($TypedArrayPrototype$,"buffer","b"),addGetter($TypedArrayPrototype$,"byteOffset","o"),addGetter($TypedArrayPrototype$,"byteLength","l"),addGetter($TypedArrayPrototype$,"length","e"),dP($TypedArrayPrototype$,TAG,{get:function(){return this[TYPED_ARRAY]}}),module.exports=function(KEY,BYTES,wrapper,CLAMPED){CLAMPED=!!CLAMPED;var NAME=KEY+(CLAMPED?"Clamped":"")+"Array",GETTER="get"+KEY,SETTER="set"+KEY,TypedArray=global[NAME],Base=TypedArray||{},TAC=TypedArray&&getPrototypeOf(TypedArray),FORCED=!TypedArray||!$typed.ABV,O={},TypedArrayPrototype=TypedArray&&TypedArray[PROTOTYPE],getter=function(that,index){var data=that._d;return data.v[GETTER](index*BYTES+data.o,LITTLE_ENDIAN)},setter=function(that,index,value){var data=that._d;CLAMPED&&(value=(value=Math.round(value))<0?0:value>255?255:255&value),data.v[SETTER](index*BYTES+data.o,value,LITTLE_ENDIAN)},addElement=function(that,index){dP(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:!0})};FORCED?(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME,"_d");var buffer,byteLength,length,klass,index=0,offset=0;if(isObject(data)){if(!(data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER))return TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data);buffer=data,offset=toOffset($offset,BYTES);var $len=data.byteLength;if(void 0===$length){if($len%BYTES)throw RangeError(WRONG_LENGTH);if(byteLength=$len-offset,0>byteLength)throw RangeError(WRONG_LENGTH)}else if(byteLength=toLength($length)*BYTES,byteLength+offset>$len)throw RangeError(WRONG_LENGTH);length=byteLength/BYTES}else length=toIndex(data),byteLength=length*BYTES,buffer=new $ArrayBuffer(byteLength);for(hide(that,"_d",{b:buffer,o:offset,l:byteLength,e:length,v:new $DataView(buffer)});length>index;)addElement(that,index++)}),TypedArrayPrototype=TypedArray[PROTOTYPE]=create($TypedArrayPrototype$),hide(TypedArrayPrototype,"constructor",TypedArray)):fails(function(){TypedArray(1)})&&fails(function(){new TypedArray(-1)})&&$iterDetect(function(iter){new TypedArray,new TypedArray(null),new TypedArray(1.5),new TypedArray(iter)},!0)||(TypedArray=wrapper(function(that,data,$offset,$length){anInstance(that,TypedArray,NAME);var klass;return isObject(data)?data instanceof $ArrayBuffer||(klass=classof(data))==ARRAY_BUFFER||klass==SHARED_BUFFER?void 0!==$length?new Base(data,toOffset($offset,BYTES),$length):void 0!==$offset?new Base(data,toOffset($offset,BYTES)):new Base(data):TYPED_ARRAY in data?fromList(TypedArray,data):$from.call(TypedArray,data):new Base(toIndex(data))}),arrayForEach(TAC!==Function.prototype?gOPN(Base).concat(gOPN(TAC)):gOPN(Base),function(key){key in TypedArray||hide(TypedArray,key,Base[key])}),TypedArray[PROTOTYPE]=TypedArrayPrototype,LIBRARY||(TypedArrayPrototype.constructor=TypedArray));var $nativeIterator=TypedArrayPrototype[ITERATOR],CORRECT_ITER_NAME=!!$nativeIterator&&("values"==$nativeIterator.name||void 0==$nativeIterator.name),$iterator=$iterators.values;hide(TypedArray,TYPED_CONSTRUCTOR,!0),hide(TypedArrayPrototype,TYPED_ARRAY,NAME),hide(TypedArrayPrototype,VIEW,!0),hide(TypedArrayPrototype,DEF_CONSTRUCTOR,TypedArray),(CLAMPED?new TypedArray(1)[TAG]==NAME:TAG in TypedArrayPrototype)||dP(TypedArrayPrototype,TAG,{get:function(){return NAME}}),O[NAME]=TypedArray,$export($export.G+$export.W+$export.F*(TypedArray!=Base),O),$export($export.S,NAME,{BYTES_PER_ELEMENT:BYTES}),$export($export.S+$export.F*fails(function(){Base.of.call(TypedArray,1)}),NAME,{from:$from,of:$of}),BYTES_PER_ELEMENT in TypedArrayPrototype||hide(TypedArrayPrototype,BYTES_PER_ELEMENT,BYTES),$export($export.P,NAME,proto),setSpecies(NAME),$export($export.P+$export.F*FORCED_SET,NAME,{set:$set}),$export($export.P+$export.F*!CORRECT_ITER_NAME,NAME,$iterators),LIBRARY||TypedArrayPrototype.toString==arrayToString||(TypedArrayPrototype.toString=arrayToString),$export($export.P+$export.F*fails(function(){new TypedArray(1).slice()}),NAME,{slice:$slice}),$export($export.P+$export.F*(fails(function(){return[1,2].toLocaleString()!=new TypedArray([1,2]).toLocaleString()})||!fails(function(){TypedArrayPrototype.toLocaleString.call([1,2])})),NAME,{toLocaleString:$toLocaleString}),Iterators[NAME]=CORRECT_ITER_NAME?$nativeIterator:$iterator,LIBRARY||CORRECT_ITER_NAME||hide(TypedArrayPrototype,ITERATOR,$iterator)}}else module.exports=function(){}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_typed-array.js","/../../../../node_modules/core-js/modules")},{"./_an-instance":13,"./_array-copy-within":15,"./_array-fill":16,"./_array-includes":18,"./_array-methods":19,"./_classof":24,"./_ctx":32,"./_descriptors":36,"./_export":40,"./_fails":42,"./_global":48,"./_has":49,"./_hide":50,"./_is-array-iter":56,"./_is-object":59,"./_iter-detect":64,"./_iterators":66,"./_library":67,"./_object-create":78,"./_object-dp":79,"./_object-gopd":82,"./_object-gopn":84,"./_object-gpo":86,"./_property-desc":97,"./_redefine-all":98,"./_set-species":107,"./_species-constructor":111,"./_to-absolute-index":121,"./_to-index":122,"./_to-integer":123,"./_to-length":125,"./_to-object":126,"./_to-primitive":127,"./_typed":130,"./_typed-buffer":129,"./_uid":131,"./_wks":136,"./core.get-iterator-method":137,"./es6.array.iterator":149,buffer:5,hXUCVB:4}],129:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function packIEEE754(value,mLen,nBytes){var e,m,c,buffer=new Array(nBytes),eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?pow(2,-24)-pow(2,-77):0,i=0,s=0>value||0===value&&0>1/value?1:0;for(value=abs(value),value!=value||value===Infinity?(m=value!=value?1:0,e=eMax):(e=floor(log(value)/LN2),value*(c=pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*pow(2,mLen),e+=eBias):(m=value*pow(2,eBias-1)*pow(2,mLen),e=0));mLen>=8;buffer[i++]=255&m,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[i++]=255&e,e/=256,eLen-=8);return buffer[--i]|=128*s,buffer}function unpackIEEE754(buffer,mLen,nBytes){var m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=eLen-7,i=nBytes-1,s=buffer[i--],e=127&s;for(s>>=7;nBits>0;e=256*e+buffer[i],i--,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[i],i--,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:s?-Infinity:Infinity;m+=pow(2,mLen),e-=eBias}return(s?-1:1)*m*pow(2,e-mLen)}function unpackI32(bytes){return bytes[3]<<24|bytes[2]<<16|bytes[1]<<8|bytes[0]}function packI8(it){return[255&it]}function packI16(it){return[255&it,it>>8&255]}function packI32(it){return[255&it,it>>8&255,it>>16&255,it>>24&255]}function packF64(it){return packIEEE754(it,52,8)}function packF32(it){return packIEEE754(it,23,4)}function addGetter(C,key,internal){dP(C[PROTOTYPE],key,{get:function(){return this[internal]}})}function get(view,bytes,index,isLittleEndian){var numIndex=+index,intIndex=toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=store.slice(start,start+bytes);return isLittleEndian?pack:pack.reverse()}function set(view,bytes,index,conversion,value,isLittleEndian){var numIndex=+index,intIndex=toIndex(numIndex);if(intIndex+bytes>view[$LENGTH])throw RangeError(WRONG_INDEX);for(var store=view[$BUFFER]._b,start=intIndex+view[$OFFSET],pack=conversion(+value),i=0;bytes>i;i++)store[start+i]=pack[isLittleEndian?i:bytes-i-1]}var global=require("./_global"),DESCRIPTORS=require("./_descriptors"),LIBRARY=require("./_library"),$typed=require("./_typed"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),fails=require("./_fails"),anInstance=require("./_an-instance"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),toIndex=require("./_to-index"),gOPN=require("./_object-gopn").f,dP=require("./_object-dp").f,arrayFill=require("./_array-fill"),setToStringTag=require("./_set-to-string-tag"),ARRAY_BUFFER="ArrayBuffer",DATA_VIEW="DataView",PROTOTYPE="prototype",WRONG_LENGTH="Wrong length!",WRONG_INDEX="Wrong index!",$ArrayBuffer=global[ARRAY_BUFFER],$DataView=global[DATA_VIEW],Math=global.Math,RangeError=global.RangeError,Infinity=global.Infinity,BaseBuffer=$ArrayBuffer,abs=Math.abs,pow=Math.pow,floor=Math.floor,log=Math.log,LN2=Math.LN2,BUFFER="buffer",BYTE_LENGTH="byteLength",BYTE_OFFSET="byteOffset",$BUFFER=DESCRIPTORS?"_b":BUFFER,$LENGTH=DESCRIPTORS?"_l":BYTE_LENGTH,$OFFSET=DESCRIPTORS?"_o":BYTE_OFFSET;if($typed.ABV){if(!fails(function(){$ArrayBuffer(1)})||!fails(function(){new $ArrayBuffer(-1)})||fails(function(){return new $ArrayBuffer,new $ArrayBuffer(1.5),new $ArrayBuffer(NaN),$ArrayBuffer.name!=ARRAY_BUFFER})){$ArrayBuffer=function(length){return anInstance(this,$ArrayBuffer),new BaseBuffer(toIndex(length))};for(var key,ArrayBufferProto=$ArrayBuffer[PROTOTYPE]=BaseBuffer[PROTOTYPE],keys=gOPN(BaseBuffer),j=0;keys.length>j;)(key=keys[j++])in $ArrayBuffer||hide($ArrayBuffer,key,BaseBuffer[key]);LIBRARY||(ArrayBufferProto.constructor=$ArrayBuffer)}var view=new $DataView(new $ArrayBuffer(2)),$setInt8=$DataView[PROTOTYPE].setInt8;view.setInt8(0,2147483648),view.setInt8(1,2147483649),(view.getInt8(0)||!view.getInt8(1))&&redefineAll($DataView[PROTOTYPE],{setInt8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)},setUint8:function(byteOffset,value){$setInt8.call(this,byteOffset,value<<24>>24)}},!0)}else $ArrayBuffer=function(length){anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var byteLength=toIndex(length);this._b=arrayFill.call(new Array(byteLength),0),this[$LENGTH]=byteLength},$DataView=function(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW),anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=buffer[$LENGTH],offset=toInteger(byteOffset);if(0>offset||offset>bufferLength)throw RangeError("Wrong offset!");if(byteLength=void 0===byteLength?bufferLength-offset:toLength(byteLength),offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);this[$BUFFER]=buffer,this[$OFFSET]=offset,this[$LENGTH]=byteLength},DESCRIPTORS&&(addGetter($ArrayBuffer,BYTE_LENGTH,"_l"),addGetter($DataView,BUFFER,"_b"),addGetter($DataView,BYTE_LENGTH,"_l"),addGetter($DataView,BYTE_OFFSET,"_o")),redefineAll($DataView[PROTOTYPE],{getInt8:function(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function(byteOffset){var bytes=get(this,2,byteOffset,arguments[1]);return bytes[1]<<8|bytes[0]},getInt32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))},getUint32:function(byteOffset){return unpackI32(get(this,4,byteOffset,arguments[1]))>>>0},getFloat32:function(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments[1]),23,4)},getFloat64:function(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments[1]),52,8)},setInt8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setUint8:function(byteOffset,value){set(this,1,byteOffset,packI8,value)},setInt16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setUint16:function(byteOffset,value){set(this,2,byteOffset,packI16,value,arguments[2])},setInt32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setUint32:function(byteOffset,value){set(this,4,byteOffset,packI32,value,arguments[2])},setFloat32:function(byteOffset,value){set(this,4,byteOffset,packF32,value,arguments[2])},setFloat64:function(byteOffset,value){set(this,8,byteOffset,packF64,value,arguments[2])}});setToStringTag($ArrayBuffer,ARRAY_BUFFER),setToStringTag($DataView,DATA_VIEW),hide($DataView[PROTOTYPE],$typed.VIEW,!0),exports[ARRAY_BUFFER]=$ArrayBuffer,exports[DATA_VIEW]=$DataView}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_typed-buffer.js","/../../../../node_modules/core-js/modules")},{"./_an-instance":13,"./_array-fill":16,"./_descriptors":36,"./_fails":42,"./_global":48,"./_hide":50,"./_library":67,"./_object-dp":79,"./_object-gopn":84,"./_redefine-all":98,"./_set-to-string-tag":108,"./_to-index":122,"./_to-integer":123,"./_to-length":125,"./_typed":130,buffer:5,hXUCVB:4}],130:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){for(var Typed,global=require("./_global"),hide=require("./_hide"),uid=require("./_uid"),TYPED=uid("typed_array"),VIEW=uid("view"),ABV=!(!global.ArrayBuffer||!global.DataView),CONSTR=ABV,i=0,l=9,TypedArrayConstructors="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l>i;)(Typed=global[TypedArrayConstructors[i++]])?(hide(Typed.prototype,TYPED,!0),hide(Typed.prototype,VIEW,!0)):CONSTR=!1;module.exports={ABV:ABV,CONSTR:CONSTR,TYPED:TYPED,VIEW:VIEW}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_typed.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_hide":50,"./_uid":131,buffer:5,hXUCVB:4}],131:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var id=0,px=Math.random();module.exports=function(key){return"Symbol(".concat(void 0===key?"":key,")_",(++id+px).toString(36))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_uid.js","/../../../../node_modules/core-js/modules")},{buffer:5,hXUCVB:4}],132:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),navigator=global.navigator;module.exports=navigator&&navigator.userAgent||""}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_user-agent.js","/../../../../node_modules/core-js/modules")},{"./_global":48,buffer:5,hXUCVB:4}],133:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");module.exports=function(it,TYPE){if(!isObject(it)||it._t!==TYPE)throw TypeError("Incompatible receiver, "+TYPE+" required!");return it}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_validate-collection.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,buffer:5,hXUCVB:4}],134:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),core=require("./_core"),LIBRARY=require("./_library"),wksExt=require("./_wks-ext"),defineProperty=require("./_object-dp").f;module.exports=function(name){var $Symbol=core.Symbol||(core.Symbol=LIBRARY?{}:global.Symbol||{});"_"==name.charAt(0)||name in $Symbol||defineProperty($Symbol,name,{value:wksExt.f(name)})}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_wks-define.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_global":48,"./_library":67,"./_object-dp":79,"./_wks-ext":135,buffer:5,hXUCVB:4}],135:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
exports.f=require("./_wks")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_wks-ext.js","/../../../../node_modules/core-js/modules")},{"./_wks":136,buffer:5,hXUCVB:4}],136:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var store=require("./_shared")("wks"),uid=require("./_uid"),Symbol=require("./_global").Symbol,USE_SYMBOL="function"==typeof Symbol,$exports=module.exports=function(name){return store[name]||(store[name]=USE_SYMBOL&&Symbol[name]||(USE_SYMBOL?Symbol:uid)("Symbol."+name))};$exports.store=store}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/_wks.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_shared":110,"./_uid":131,buffer:5,hXUCVB:4}],137:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var classof=require("./_classof"),ITERATOR=require("./_wks")("iterator"),Iterators=require("./_iterators");module.exports=require("./_core").getIteratorMethod=function(it){return void 0!=it?it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]:void 0}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/core.get-iterator-method.js","/../../../../node_modules/core-js/modules")},{"./_classof":24,"./_core":30,"./_iterators":66,"./_wks":136,buffer:5,hXUCVB:4}],138:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$re=require("./_replacer")(/[\\^$*+?.()|[\]{}]/g,"\\$&");$export($export.S,"RegExp",{escape:function(it){return $re(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/core.regexp.escape.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_replacer":102,buffer:5,hXUCVB:4}],139:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P,"Array",{copyWithin:require("./_array-copy-within")}),require("./_add-to-unscopables")("copyWithin")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.copy-within.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-copy-within":15,"./_export":40,buffer:5,hXUCVB:4}],140:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$every=require("./_array-methods")(4);$export($export.P+$export.F*!require("./_strict-method")([].every,!0),"Array",{every:function(callbackfn){return $every(this,callbackfn,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.every.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],141:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P,"Array",{fill:require("./_array-fill")}),require("./_add-to-unscopables")("fill")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.fill.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-fill":16,"./_export":40,buffer:5,hXUCVB:4}],142:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$filter=require("./_array-methods")(2);$export($export.P+$export.F*!require("./_strict-method")([].filter,!0),"Array",{filter:function(callbackfn){return $filter(this,callbackfn,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.filter.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],143:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(6),KEY="findIndex",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{findIndex:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.find-index.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-methods":19,"./_export":40,buffer:5,hXUCVB:4}],144:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$find=require("./_array-methods")(5),KEY="find",forced=!0;KEY in[]&&Array(1)[KEY](function(){forced=!1}),$export($export.P+$export.F*forced,"Array",{find:function(callbackfn){return $find(this,callbackfn,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")(KEY)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.find.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-methods":19,"./_export":40,buffer:5,hXUCVB:4}],145:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$forEach=require("./_array-methods")(0),STRICT=require("./_strict-method")([].forEach,!0);$export($export.P+$export.F*!STRICT,"Array",{forEach:function(callbackfn){return $forEach(this,callbackfn,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.for-each.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],146:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var ctx=require("./_ctx"),$export=require("./_export"),toObject=require("./_to-object"),call=require("./_iter-call"),isArrayIter=require("./_is-array-iter"),toLength=require("./_to-length"),createProperty=require("./_create-property"),getIterFn=require("./core.get-iterator-method");$export($export.S+$export.F*!require("./_iter-detect")(function(iter){Array.from(iter)}),"Array",{from:function(arrayLike){var length,result,step,iterator,O=toObject(arrayLike),C="function"==typeof this?this:Array,aLen=arguments.length,mapfn=aLen>1?arguments[1]:void 0,mapping=void 0!==mapfn,index=0,iterFn=getIterFn(O);if(mapping&&(mapfn=ctx(mapfn,aLen>2?arguments[2]:void 0,2)),void 0==iterFn||C==Array&&isArrayIter(iterFn))for(length=toLength(O.length),result=new C(length);length>index;index++)createProperty(result,index,mapping?mapfn(O[index],index):O[index]);else for(iterator=iterFn.call(O),result=new C;!(step=iterator.next()).done;index++)createProperty(result,index,mapping?call(iterator,mapfn,[step.value,index],!0):step.value);return result.length=index,result}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.from.js","/../../../../node_modules/core-js/modules")},{"./_create-property":31,"./_ctx":32,"./_export":40,"./_is-array-iter":56,"./_iter-call":61,"./_iter-detect":64,"./_to-length":125,"./_to-object":126,"./core.get-iterator-method":137,buffer:5,hXUCVB:4}],147:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$indexOf=require("./_array-includes")(!1),$native=[].indexOf,NEGATIVE_ZERO=!!$native&&1/[1].indexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{indexOf:function(searchElement){return NEGATIVE_ZERO?$native.apply(this,arguments)||0:$indexOf(this,searchElement,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.index-of.js","/../../../../node_modules/core-js/modules")},{"./_array-includes":18,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],148:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Array",{isArray:require("./_is-array")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.is-array.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_is-array":57,buffer:5,hXUCVB:4}],149:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var addToUnscopables=require("./_add-to-unscopables"),step=require("./_iter-step"),Iterators=require("./_iterators"),toIObject=require("./_to-iobject");module.exports=require("./_iter-define")(Array,"Array",function(iterated,kind){this._t=toIObject(iterated),this._i=0,this._k=kind},function(){var O=this._t,kind=this._k,index=this._i++;return!O||index>=O.length?(this._t=void 0,step(1)):"keys"==kind?step(0,index):"values"==kind?step(0,O[index]):step(0,[index,O[index]])},"values"),Iterators.Arguments=Iterators.Array,addToUnscopables("keys"),addToUnscopables("values"),addToUnscopables("entries")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.iterator.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_iter-define":63,"./_iter-step":65,"./_iterators":66,"./_to-iobject":124,buffer:5,hXUCVB:4}],150:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),arrayJoin=[].join;$export($export.P+$export.F*(require("./_iobject")!=Object||!require("./_strict-method")(arrayJoin)),"Array",{join:function(separator){return arrayJoin.call(toIObject(this),void 0===separator?",":separator)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.join.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_iobject":55,"./_strict-method":112,"./_to-iobject":124,buffer:5,hXUCVB:4}],151:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toIObject=require("./_to-iobject"),toInteger=require("./_to-integer"),toLength=require("./_to-length"),$native=[].lastIndexOf,NEGATIVE_ZERO=!!$native&&1/[1].lastIndexOf(1,-0)<0;$export($export.P+$export.F*(NEGATIVE_ZERO||!require("./_strict-method")($native)),"Array",{lastIndexOf:function(searchElement){if(NEGATIVE_ZERO)return $native.apply(this,arguments)||0;var O=toIObject(this),length=toLength(O.length),index=length-1;for(arguments.length>1&&(index=Math.min(index,toInteger(arguments[1]))),0>index&&(index=length+index);index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.last-index-of.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_strict-method":112,"./_to-integer":123,"./_to-iobject":124,"./_to-length":125,buffer:5,hXUCVB:4}],152:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$map=require("./_array-methods")(1);$export($export.P+$export.F*!require("./_strict-method")([].map,!0),"Array",{map:function(callbackfn){return $map(this,callbackfn,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.map.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],153:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),createProperty=require("./_create-property");$export($export.S+$export.F*require("./_fails")(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var index=0,aLen=arguments.length,result=new("function"==typeof this?this:Array)(aLen);aLen>index;)createProperty(result,index,arguments[index++]);return result.length=aLen,result}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.of.js","/../../../../node_modules/core-js/modules")},{"./_create-property":31,"./_export":40,"./_fails":42,buffer:5,hXUCVB:4}],154:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduceRight,!0),"Array",{reduceRight:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!0)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.reduce-right.js","/../../../../node_modules/core-js/modules")},{"./_array-reduce":20,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],155:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$reduce=require("./_array-reduce");$export($export.P+$export.F*!require("./_strict-method")([].reduce,!0),"Array",{reduce:function(callbackfn){return $reduce(this,callbackfn,arguments.length,arguments[1],!1)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.reduce.js","/../../../../node_modules/core-js/modules")},{"./_array-reduce":20,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],156:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),html=require("./_html"),cof=require("./_cof"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length"),arraySlice=[].slice;$export($export.P+$export.F*require("./_fails")(function(){html&&arraySlice.call(html)}),"Array",{slice:function(begin,end){var len=toLength(this.length),klass=cof(this);if(end=void 0===end?len:end,"Array"==klass)return arraySlice.call(this,begin,end);for(var start=toAbsoluteIndex(begin,len),upTo=toAbsoluteIndex(end,len),size=toLength(upTo-start),cloned=new Array(size),i=0;size>i;i++)cloned[i]="String"==klass?this.charAt(start+i):this[start+i];return cloned}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.slice.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_export":40,"./_fails":42,"./_html":51,"./_to-absolute-index":121,"./_to-length":125,buffer:5,hXUCVB:4}],157:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$some=require("./_array-methods")(3);$export($export.P+$export.F*!require("./_strict-method")([].some,!0),"Array",{some:function(callbackfn){return $some(this,callbackfn,arguments[1])}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.some.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_export":40,"./_strict-method":112,buffer:5,hXUCVB:4}],158:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),aFunction=require("./_a-function"),toObject=require("./_to-object"),fails=require("./_fails"),$sort=[].sort,test=[1,2,3];$export($export.P+$export.F*(fails(function(){test.sort(void 0)})||!fails(function(){test.sort(null)})||!require("./_strict-method")($sort)),"Array",{sort:function(comparefn){return void 0===comparefn?$sort.call(toObject(this)):$sort.call(toObject(this),aFunction(comparefn))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.sort.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_export":40,"./_fails":42,"./_strict-method":112,"./_to-object":126,buffer:5,hXUCVB:4}],159:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-species")("Array")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.array.species.js","/../../../../node_modules/core-js/modules")},{"./_set-species":107,buffer:5,hXUCVB:4}],160:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Date",{now:function(){return(new Date).getTime()}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.date.now.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],161:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),toISOString=require("./_date-to-iso-string");$export($export.P+$export.F*(Date.prototype.toISOString!==toISOString),"Date",{toISOString:toISOString})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.date.to-iso-string.js","/../../../../node_modules/core-js/modules")},{"./_date-to-iso-string":33,"./_export":40,buffer:5,hXUCVB:4}],162:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive");$export($export.P+$export.F*require("./_fails")(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(key){var O=toObject(this),pv=toPrimitive(O);return"number"!=typeof pv||isFinite(pv)?O.toISOString():null}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.date.to-json.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails":42,"./_to-object":126,"./_to-primitive":127,buffer:5,hXUCVB:4}],163:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var TO_PRIMITIVE=require("./_wks")("toPrimitive"),proto=Date.prototype;TO_PRIMITIVE in proto||require("./_hide")(proto,TO_PRIMITIVE,require("./_date-to-primitive"))}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.date.to-primitive.js","/../../../../node_modules/core-js/modules")},{"./_date-to-primitive":34,"./_hide":50,"./_wks":136,buffer:5,hXUCVB:4}],164:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var DateProto=Date.prototype,INVALID_DATE="Invalid Date",TO_STRING="toString",$toString=DateProto[TO_STRING],getTime=DateProto.getTime;new Date(NaN)+""!=INVALID_DATE&&require("./_redefine")(DateProto,TO_STRING,function(){var value=getTime.call(this);return value===value?$toString.call(this):INVALID_DATE})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.date.to-string.js","/../../../../node_modules/core-js/modules")},{"./_redefine":99,buffer:5,hXUCVB:4}],165:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P,"Function",{bind:require("./_bind")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.function.bind.js","/../../../../node_modules/core-js/modules")},{"./_bind":23,"./_export":40,buffer:5,hXUCVB:4}],166:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var isObject=require("./_is-object"),getPrototypeOf=require("./_object-gpo"),HAS_INSTANCE=require("./_wks")("hasInstance"),FunctionProto=Function.prototype;HAS_INSTANCE in FunctionProto||require("./_object-dp").f(FunctionProto,HAS_INSTANCE,{value:function(O){if("function"!=typeof this||!isObject(O))return!1;if(!isObject(this.prototype))return O instanceof this;for(;O=getPrototypeOf(O);)if(this.prototype===O)return!0;return!1}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.function.has-instance.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_object-dp":79,"./_object-gpo":86,"./_wks":136,buffer:5,hXUCVB:4}],167:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var dP=require("./_object-dp").f,FProto=Function.prototype,nameRE=/^\s*function ([^ (]*)/,NAME="name";NAME in FProto||require("./_descriptors")&&dP(FProto,NAME,{configurable:!0,get:function(){try{return(""+this).match(nameRE)[1]}catch(e){return""}}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.function.name.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_object-dp":79,buffer:5,hXUCVB:4}],168:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var strong=require("./_collection-strong"),validate=require("./_validate-collection"),MAP="Map";module.exports=require("./_collection")(MAP,function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{get:function(key){var entry=strong.getEntry(validate(this,MAP),key);return entry&&entry.v},set:function(key,value){return strong.def(validate(this,MAP),0===key?0:key,value)}},strong,!0)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.map.js","/../../../../node_modules/core-js/modules")},{"./_collection":29,"./_collection-strong":26,"./_validate-collection":133,buffer:5,hXUCVB:4}],169:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),log1p=require("./_math-log1p"),sqrt=Math.sqrt,$acosh=Math.acosh;$export($export.S+$export.F*!($acosh&&710==Math.floor($acosh(Number.MAX_VALUE))&&$acosh(1/0)==1/0),"Math",{acosh:function(x){return(x=+x)<1?NaN:x>94906265.62425156?Math.log(x)+Math.LN2:log1p(x-1+sqrt(x-1)*sqrt(x+1))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.acosh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-log1p":70,buffer:5,hXUCVB:4}],170:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function asinh(x){return isFinite(x=+x)&&0!=x?0>x?-asinh(-x):Math.log(x+Math.sqrt(x*x+1)):x}var $export=require("./_export"),$asinh=Math.asinh;$export($export.S+$export.F*!($asinh&&1/$asinh(0)>0),"Math",{asinh:asinh})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.asinh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],171:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$atanh=Math.atanh;$export($export.S+$export.F*!($atanh&&1/$atanh(-0)<0),"Math",{atanh:function(x){return 0==(x=+x)?x:Math.log((1+x)/(1-x))/2}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.atanh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],172:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),sign=require("./_math-sign");$export($export.S,"Math",{cbrt:function(x){return sign(x=+x)*Math.pow(Math.abs(x),1/3)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.cbrt.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-sign":72,buffer:5,hXUCVB:4}],173:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{clz32:function(x){return(x>>>=0)?31-Math.floor(Math.log(x+.5)*Math.LOG2E):32}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.clz32.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],174:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),exp=Math.exp;$export($export.S,"Math",{cosh:function(x){return(exp(x=+x)+exp(-x))/2}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.cosh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],175:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$expm1=require("./_math-expm1");$export($export.S+$export.F*($expm1!=Math.expm1),"Math",{expm1:$expm1})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.expm1.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-expm1":68,
buffer:5,hXUCVB:4}],176:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{fround:require("./_math-fround")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.fround.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-fround":69,buffer:5,hXUCVB:4}],177:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),abs=Math.abs;$export($export.S,"Math",{hypot:function(value1,value2){for(var arg,div,sum=0,i=0,aLen=arguments.length,larg=0;aLen>i;)arg=abs(arguments[i++]),arg>larg?(div=larg/arg,sum=sum*div*div+1,larg=arg):arg>0?(div=arg/larg,sum+=div*div):sum+=arg;return larg===1/0?1/0:larg*Math.sqrt(sum)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.hypot.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],178:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$imul=Math.imul;$export($export.S+$export.F*require("./_fails")(function(){return-5!=$imul(4294967295,5)||2!=$imul.length}),"Math",{imul:function(x,y){var UINT16=65535,xn=+x,yn=+y,xl=UINT16&xn,yl=UINT16&yn;return 0|xl*yl+((UINT16&xn>>>16)*yl+xl*(UINT16&yn>>>16)<<16>>>0)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.imul.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails":42,buffer:5,hXUCVB:4}],179:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{log10:function(x){return Math.log(x)*Math.LOG10E}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.log10.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],180:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{log1p:require("./_math-log1p")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.log1p.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-log1p":70,buffer:5,hXUCVB:4}],181:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{log2:function(x){return Math.log(x)/Math.LN2}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.log2.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],182:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{sign:require("./_math-sign")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.sign.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-sign":72,buffer:5,hXUCVB:4}],183:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S+$export.F*require("./_fails")(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(x){return Math.abs(x=+x)<1?(expm1(x)-expm1(-x))/2:(exp(x-1)-exp(-x-1))*(Math.E/2)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.sinh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails":42,"./_math-expm1":68,buffer:5,hXUCVB:4}],184:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),expm1=require("./_math-expm1"),exp=Math.exp;$export($export.S,"Math",{tanh:function(x){var a=expm1(x=+x),b=expm1(-x);return a==1/0?1:b==1/0?-1:(a-b)/(exp(x)+exp(-x))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.tanh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-expm1":68,buffer:5,hXUCVB:4}],185:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{trunc:function(it){return(it>0?Math.floor:Math.ceil)(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.math.trunc.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],186:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var global=require("./_global"),has=require("./_has"),cof=require("./_cof"),inheritIfRequired=require("./_inherit-if-required"),toPrimitive=require("./_to-primitive"),fails=require("./_fails"),gOPN=require("./_object-gopn").f,gOPD=require("./_object-gopd").f,dP=require("./_object-dp").f,$trim=require("./_string-trim").trim,NUMBER="Number",$Number=global[NUMBER],Base=$Number,proto=$Number.prototype,BROKEN_COF=cof(require("./_object-create")(proto))==NUMBER,TRIM="trim"in String.prototype,toNumber=function(argument){var it=toPrimitive(argument,!1);if("string"==typeof it&&it.length>2){it=TRIM?it.trim():$trim(it,3);var third,radix,maxCode,first=it.charCodeAt(0);if(43===first||45===first){if(third=it.charCodeAt(2),88===third||120===third)return NaN}else if(48===first){switch(it.charCodeAt(1)){case 66:case 98:radix=2,maxCode=49;break;case 79:case 111:radix=8,maxCode=55;break;default:return+it}for(var code,digits=it.slice(2),i=0,l=digits.length;l>i;i++)if(code=digits.charCodeAt(i),48>code||code>maxCode)return NaN;return parseInt(digits,radix)}}return+it};if(!$Number(" 0o1")||!$Number("0b1")||$Number("+0x1")){$Number=function(value){var it=arguments.length<1?0:value,that=this;return that instanceof $Number&&(BROKEN_COF?fails(function(){proto.valueOf.call(that)}):cof(that)!=NUMBER)?inheritIfRequired(new Base(toNumber(it)),that,$Number):toNumber(it)};for(var key,keys=require("./_descriptors")?gOPN(Base):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;keys.length>j;j++)has(Base,key=keys[j])&&!has($Number,key)&&dP($Number,key,gOPD(Base,key));$Number.prototype=proto,proto.constructor=$Number,require("./_redefine")(global,NUMBER,$Number)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.constructor.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_descriptors":36,"./_fails":42,"./_global":48,"./_has":49,"./_inherit-if-required":53,"./_object-create":78,"./_object-dp":79,"./_object-gopd":82,"./_object-gopn":84,"./_redefine":99,"./_string-trim":118,"./_to-primitive":127,buffer:5,hXUCVB:4}],187:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Number",{EPSILON:Math.pow(2,-52)})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.epsilon.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],188:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),_isFinite=require("./_global").isFinite;$export($export.S,"Number",{isFinite:function(it){return"number"==typeof it&&_isFinite(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.is-finite.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_global":48,buffer:5,hXUCVB:4}],189:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Number",{isInteger:require("./_is-integer")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.is-integer.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_is-integer":58,buffer:5,hXUCVB:4}],190:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Number",{isNaN:function(number){return number!=number}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.is-nan.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],191:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),isInteger=require("./_is-integer"),abs=Math.abs;$export($export.S,"Number",{isSafeInteger:function(number){return isInteger(number)&&abs(number)<=9007199254740991}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.is-safe-integer.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_is-integer":58,buffer:5,hXUCVB:4}],192:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.max-safe-integer.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],193:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.min-safe-integer.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],194:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.S+$export.F*(Number.parseFloat!=$parseFloat),"Number",{parseFloat:$parseFloat})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.parse-float.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_parse-float":93,buffer:5,hXUCVB:4}],195:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.S+$export.F*(Number.parseInt!=$parseInt),"Number",{parseInt:$parseInt})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.parse-int.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_parse-int":94,buffer:5,hXUCVB:4}],196:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toInteger=require("./_to-integer"),aNumberValue=require("./_a-number-value"),repeat=require("./_string-repeat"),$toFixed=1..toFixed,floor=Math.floor,data=[0,0,0,0,0,0],ERROR="Number.toFixed: incorrect invocation!",ZERO="0",multiply=function(n,c){for(var i=-1,c2=c;++i<6;)c2+=n*data[i],data[i]=c2%1e7,c2=floor(c2/1e7)},divide=function(n){for(var i=6,c=0;--i>=0;)c+=data[i],data[i]=floor(c/n),c=c%n*1e7},numToString=function(){for(var i=6,s="";--i>=0;)if(""!==s||0===i||0!==data[i]){var t=String(data[i]);s=""===s?t:s+repeat.call(ZERO,7-t.length)+t}return s},pow=function(x,n,acc){return 0===n?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)},log=function(x){for(var n=0,x2=x;x2>=4096;)n+=12,x2/=4096;for(;x2>=2;)n+=1,x2/=2;return n};$export($export.P+$export.F*(!!$toFixed&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==0xde0b6b3a7640080.toFixed(0))||!require("./_fails")(function(){$toFixed.call({})})),"Number",{toFixed:function(fractionDigits){var e,z,j,k,x=aNumberValue(this,ERROR),f=toInteger(fractionDigits),s="",m=ZERO;if(0>f||f>20)throw RangeError(ERROR);if(x!=x)return"NaN";if(-1e21>=x||x>=1e21)return String(x);if(0>x&&(s="-",x=-x),x>1e-21)if(e=log(x*pow(2,69,1))-69,z=0>e?x*pow(2,-e,1):x/pow(2,e,1),z*=4503599627370496,e=52-e,e>0){for(multiply(0,z),j=f;j>=7;)multiply(1e7,0),j-=7;for(multiply(pow(10,j,1),0),j=e-1;j>=23;)divide(1<<23),j-=23;divide(1<<j),multiply(1,1),divide(2),m=numToString()}else multiply(0,z),multiply(1<<-e,0),m=numToString()+repeat.call(ZERO,f);return f>0?(k=m.length,m=s+(f>=k?"0."+repeat.call(ZERO,f-k)+m:m.slice(0,k-f)+"."+m.slice(k-f))):m=s+m,m}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.to-fixed.js","/../../../../node_modules/core-js/modules")},{"./_a-number-value":10,"./_export":40,"./_fails":42,"./_string-repeat":117,"./_to-integer":123,buffer:5,hXUCVB:4}],197:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$fails=require("./_fails"),aNumberValue=require("./_a-number-value"),$toPrecision=1..toPrecision;$export($export.P+$export.F*($fails(function(){return"1"!==$toPrecision.call(1,void 0)})||!$fails(function(){$toPrecision.call({})})),"Number",{toPrecision:function(precision){var that=aNumberValue(this,"Number#toPrecision: incorrect invocation!");return void 0===precision?$toPrecision.call(that):$toPrecision.call(that,precision)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.number.to-precision.js","/../../../../node_modules/core-js/modules")},{"./_a-number-value":10,"./_export":40,"./_fails":42,buffer:5,hXUCVB:4}],198:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S+$export.F,"Object",{assign:require("./_object-assign")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.assign.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_object-assign":77,buffer:5,hXUCVB:4}],199:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Object",{create:require("./_object-create")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.create.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_object-create":78,buffer:5,hXUCVB:4}],200:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperties:require("./_object-dps")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.define-properties.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_export":40,"./_object-dps":80,buffer:5,hXUCVB:4}],201:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S+$export.F*!require("./_descriptors"),"Object",{defineProperty:require("./_object-dp").f})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.define-property.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_export":40,"./_object-dp":79,buffer:5,hXUCVB:4}],202:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("freeze",function($freeze){return function(it){return $freeze&&isObject(it)?$freeze(meta(it)):it}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.freeze.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_meta":73,"./_object-sap":90,buffer:5,hXUCVB:4}],203:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toIObject=require("./_to-iobject"),$getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_object-sap")("getOwnPropertyDescriptor",function(){return function(it,key){return $getOwnPropertyDescriptor(toIObject(it),key)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.get-own-property-descriptor.js","/../../../../node_modules/core-js/modules")},{"./_object-gopd":82,"./_object-sap":90,"./_to-iobject":124,buffer:5,hXUCVB:4}],204:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_object-sap")("getOwnPropertyNames",function(){return require("./_object-gopn-ext").f})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.get-own-property-names.js","/../../../../node_modules/core-js/modules")},{"./_object-gopn-ext":83,"./_object-sap":90,buffer:5,hXUCVB:4}],205:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toObject=require("./_to-object"),$getPrototypeOf=require("./_object-gpo");require("./_object-sap")("getPrototypeOf",function(){return function(it){return $getPrototypeOf(toObject(it))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.get-prototype-of.js","/../../../../node_modules/core-js/modules")},{"./_object-gpo":86,"./_object-sap":90,"./_to-object":126,buffer:5,hXUCVB:4}],206:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");require("./_object-sap")("isExtensible",function($isExtensible){return function(it){return isObject(it)?$isExtensible?$isExtensible(it):!0:!1}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.is-extensible.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_object-sap":90,buffer:5,hXUCVB:4}],207:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");require("./_object-sap")("isFrozen",function($isFrozen){return function(it){return isObject(it)?$isFrozen?$isFrozen(it):!1:!0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.is-frozen.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_object-sap":90,buffer:5,hXUCVB:4}],208:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object");require("./_object-sap")("isSealed",function($isSealed){return function(it){return isObject(it)?$isSealed?$isSealed(it):!1:!0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.is-sealed.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_object-sap":90,buffer:5,hXUCVB:4}],209:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Object",{is:require("./_same-value")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.is.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_same-value":103,buffer:5,hXUCVB:4}],210:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var toObject=require("./_to-object"),$keys=require("./_object-keys");require("./_object-sap")("keys",function(){return function(it){return $keys(toObject(it))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.keys.js","/../../../../node_modules/core-js/modules")},{"./_object-keys":88,"./_object-sap":90,"./_to-object":126,buffer:5,hXUCVB:4}],211:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("preventExtensions",function($preventExtensions){return function(it){return $preventExtensions&&isObject(it)?$preventExtensions(meta(it)):it}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.prevent-extensions.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_meta":73,"./_object-sap":90,buffer:5,hXUCVB:4}],212:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=require("./_is-object"),meta=require("./_meta").onFreeze;require("./_object-sap")("seal",function($seal){return function(it){return $seal&&isObject(it)?$seal(meta(it)):it}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.seal.js","/../../../../node_modules/core-js/modules")},{"./_is-object":59,"./_meta":73,"./_object-sap":90,buffer:5,hXUCVB:4}],213:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Object",{setPrototypeOf:require("./_set-proto").set})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.set-prototype-of.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_set-proto":106,buffer:5,hXUCVB:4}],214:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classof=require("./_classof"),test={};test[require("./_wks")("toStringTag")]="z",test+""!="[object z]"&&require("./_redefine")(Object.prototype,"toString",function(){return"[object "+classof(this)+"]"},!0)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.object.to-string.js","/../../../../node_modules/core-js/modules")},{"./_classof":24,"./_redefine":99,"./_wks":136,buffer:5,hXUCVB:4}],215:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$parseFloat=require("./_parse-float");$export($export.G+$export.F*(parseFloat!=$parseFloat),{parseFloat:$parseFloat})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.parse-float.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_parse-float":93,buffer:5,hXUCVB:4}],216:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$parseInt=require("./_parse-int");$export($export.G+$export.F*(parseInt!=$parseInt),{parseInt:$parseInt})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.parse-int.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_parse-int":94,buffer:5,hXUCVB:4}],217:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var Internal,newGenericPromiseCapability,OwnPromiseCapability,Wrapper,LIBRARY=require("./_library"),global=require("./_global"),ctx=require("./_ctx"),classof=require("./_classof"),$export=require("./_export"),isObject=require("./_is-object"),aFunction=require("./_a-function"),anInstance=require("./_an-instance"),forOf=require("./_for-of"),speciesConstructor=require("./_species-constructor"),task=require("./_task").set,microtask=require("./_microtask")(),newPromiseCapabilityModule=require("./_new-promise-capability"),perform=require("./_perform"),userAgent=require("./_user-agent"),promiseResolve=require("./_promise-resolve"),PROMISE="Promise",TypeError=global.TypeError,process=global.process,versions=process&&process.versions,v8=versions&&versions.v8||"",$Promise=global[PROMISE],isNode="process"==classof(process),empty=function(){},newPromiseCapability=newGenericPromiseCapability=newPromiseCapabilityModule.f,USE_NATIVE=!!function(){try{var promise=$Promise.resolve(1),FakePromise=(promise.constructor={})[require("./_wks")("species")]=function(exec){exec(empty,empty)};return(isNode||"function"==typeof PromiseRejectionEvent)&&promise.then(empty)instanceof FakePromise&&0!==v8.indexOf("6.6")&&-1===userAgent.indexOf("Chrome/66")}catch(e){}}(),isThenable=function(it){var then;return isObject(it)&&"function"==typeof(then=it.then)?then:!1},notify=function(promise,isReject){if(!promise._n){promise._n=!0;var chain=promise._c;microtask(function(){for(var value=promise._v,ok=1==promise._s,i=0,run=function(reaction){var result,then,exited,handler=ok?reaction.ok:reaction.fail,resolve=reaction.resolve,reject=reaction.reject,domain=reaction.domain;try{handler?(ok||(2==promise._h&&onHandleUnhandled(promise),promise._h=1),handler===!0?result=value:(domain&&domain.enter(),result=handler(value),domain&&(domain.exit(),
exited=!0)),result===reaction.promise?reject(TypeError("Promise-chain cycle")):(then=isThenable(result))?then.call(result,resolve,reject):resolve(result)):reject(value)}catch(e){domain&&!exited&&domain.exit(),reject(e)}};chain.length>i;)run(chain[i++]);promise._c=[],promise._n=!1,isReject&&!promise._h&&onUnhandled(promise)})}},onUnhandled=function(promise){task.call(global,function(){var result,handler,console,value=promise._v,unhandled=isUnhandled(promise);if(unhandled&&(result=perform(function(){isNode?process.emit("unhandledRejection",value,promise):(handler=global.onunhandledrejection)?handler({promise:promise,reason:value}):(console=global.console)&&console.error&&console.error("Unhandled promise rejection",value)}),promise._h=isNode||isUnhandled(promise)?2:1),promise._a=void 0,unhandled&&result.e)throw result.v})},isUnhandled=function(promise){return 1!==promise._h&&0===(promise._a||promise._c).length},onHandleUnhandled=function(promise){task.call(global,function(){var handler;isNode?process.emit("rejectionHandled",promise):(handler=global.onrejectionhandled)&&handler({promise:promise,reason:promise._v})})},$reject=function(value){var promise=this;promise._d||(promise._d=!0,promise=promise._w||promise,promise._v=value,promise._s=2,promise._a||(promise._a=promise._c.slice()),notify(promise,!0))},$resolve=function(value){var then,promise=this;if(!promise._d){promise._d=!0,promise=promise._w||promise;try{if(promise===value)throw TypeError("Promise can't be resolved itself");(then=isThenable(value))?microtask(function(){var wrapper={_w:promise,_d:!1};try{then.call(value,ctx($resolve,wrapper,1),ctx($reject,wrapper,1))}catch(e){$reject.call(wrapper,e)}}):(promise._v=value,promise._s=1,notify(promise,!1))}catch(e){$reject.call({_w:promise,_d:!1},e)}}};USE_NATIVE||($Promise=function(executor){anInstance(this,$Promise,PROMISE,"_h"),aFunction(executor),Internal.call(this);try{executor(ctx($resolve,this,1),ctx($reject,this,1))}catch(err){$reject.call(this,err)}},Internal=function(executor){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},Internal.prototype=require("./_redefine-all")($Promise.prototype,{then:function(onFulfilled,onRejected){var reaction=newPromiseCapability(speciesConstructor(this,$Promise));return reaction.ok="function"==typeof onFulfilled?onFulfilled:!0,reaction.fail="function"==typeof onRejected&&onRejected,reaction.domain=isNode?process.domain:void 0,this._c.push(reaction),this._a&&this._a.push(reaction),this._s&&notify(this,!1),reaction.promise},"catch":function(onRejected){return this.then(void 0,onRejected)}}),OwnPromiseCapability=function(){var promise=new Internal;this.promise=promise,this.resolve=ctx($resolve,promise,1),this.reject=ctx($reject,promise,1)},newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===$Promise||C===Wrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Promise:$Promise}),require("./_set-to-string-tag")($Promise,PROMISE),require("./_set-species")(PROMISE),Wrapper=require("./_core")[PROMISE],$export($export.S+$export.F*!USE_NATIVE,PROMISE,{reject:function(r){var capability=newPromiseCapability(this),$$reject=capability.reject;return $$reject(r),capability.promise}}),$export($export.S+$export.F*(LIBRARY||!USE_NATIVE),PROMISE,{resolve:function(x){return promiseResolve(LIBRARY&&this===Wrapper?$Promise:this,x)}}),$export($export.S+$export.F*!(USE_NATIVE&&require("./_iter-detect")(function(iter){$Promise.all(iter)["catch"](empty)})),PROMISE,{all:function(iterable){var C=this,capability=newPromiseCapability(C),resolve=capability.resolve,reject=capability.reject,result=perform(function(){var values=[],index=0,remaining=1;forOf(iterable,!1,function(promise){var $index=index++,alreadyCalled=!1;values.push(void 0),remaining++,C.resolve(promise).then(function(value){alreadyCalled||(alreadyCalled=!0,values[$index]=value,--remaining||resolve(values))},reject)}),--remaining||resolve(values)});return result.e&&reject(result.v),capability.promise},race:function(iterable){var C=this,capability=newPromiseCapability(C),reject=capability.reject,result=perform(function(){forOf(iterable,!1,function(promise){C.resolve(promise).then(capability.resolve,reject)})});return result.e&&reject(result.v),capability.promise}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.promise.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-instance":13,"./_classof":24,"./_core":30,"./_ctx":32,"./_export":40,"./_for-of":46,"./_global":48,"./_is-object":59,"./_iter-detect":64,"./_library":67,"./_microtask":75,"./_new-promise-capability":76,"./_perform":95,"./_promise-resolve":96,"./_redefine-all":98,"./_set-species":107,"./_set-to-string-tag":108,"./_species-constructor":111,"./_task":120,"./_user-agent":132,"./_wks":136,buffer:5,hXUCVB:4}],218:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),aFunction=require("./_a-function"),anObject=require("./_an-object"),rApply=(require("./_global").Reflect||{}).apply,fApply=Function.apply;$export($export.S+$export.F*!require("./_fails")(function(){rApply(function(){})}),"Reflect",{apply:function(target,thisArgument,argumentsList){var T=aFunction(target),L=anObject(argumentsList);return rApply?rApply(T,thisArgument,L):fApply.call(T,thisArgument,L)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.apply.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-object":14,"./_export":40,"./_fails":42,"./_global":48,buffer:5,hXUCVB:4}],219:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),create=require("./_object-create"),aFunction=require("./_a-function"),anObject=require("./_an-object"),isObject=require("./_is-object"),fails=require("./_fails"),bind=require("./_bind"),rConstruct=(require("./_global").Reflect||{}).construct,NEW_TARGET_BUG=fails(function(){function F(){}return!(rConstruct(function(){},[],F)instanceof F)}),ARGS_BUG=!fails(function(){rConstruct(function(){})});$export($export.S+$export.F*(NEW_TARGET_BUG||ARGS_BUG),"Reflect",{construct:function(Target,args){aFunction(Target),anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return rConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];return $args.push.apply($args,args),new(bind.apply(Target,$args))}var proto=newTarget.prototype,instance=create(isObject(proto)?proto:Object.prototype),result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.construct.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-object":14,"./_bind":23,"./_export":40,"./_fails":42,"./_global":48,"./_is-object":59,"./_object-create":78,buffer:5,hXUCVB:4}],220:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var dP=require("./_object-dp"),$export=require("./_export"),anObject=require("./_an-object"),toPrimitive=require("./_to-primitive");$export($export.S+$export.F*require("./_fails")(function(){Reflect.defineProperty(dP.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(target,propertyKey,attributes){anObject(target),propertyKey=toPrimitive(propertyKey,!0),anObject(attributes);try{return dP.f(target,propertyKey,attributes),!0}catch(e){return!1}}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.define-property.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_fails":42,"./_object-dp":79,"./_to-primitive":127,buffer:5,hXUCVB:4}],221:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),gOPD=require("./_object-gopd").f,anObject=require("./_an-object");$export($export.S,"Reflect",{deleteProperty:function(target,propertyKey){var desc=gOPD(anObject(target),propertyKey);return desc&&!desc.configurable?!1:delete target[propertyKey]}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.delete-property.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_object-gopd":82,buffer:5,hXUCVB:4}],222:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),anObject=require("./_an-object"),Enumerate=function(iterated){this._t=anObject(iterated),this._i=0;var key,keys=this._k=[];for(key in iterated)keys.push(key)};require("./_iter-create")(Enumerate,"Object",function(){var key,that=this,keys=that._k;do if(that._i>=keys.length)return{value:void 0,done:!0};while(!((key=keys[that._i++])in that._t));return{value:key,done:!1}}),$export($export.S,"Reflect",{enumerate:function(target){return new Enumerate(target)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.enumerate.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_iter-create":62,buffer:5,hXUCVB:4}],223:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var gOPD=require("./_object-gopd"),$export=require("./_export"),anObject=require("./_an-object");$export($export.S,"Reflect",{getOwnPropertyDescriptor:function(target,propertyKey){return gOPD.f(anObject(target),propertyKey)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_object-gopd":82,buffer:5,hXUCVB:4}],224:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),getProto=require("./_object-gpo"),anObject=require("./_an-object");$export($export.S,"Reflect",{getPrototypeOf:function(target){return getProto(anObject(target))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.get-prototype-of.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_object-gpo":86,buffer:5,hXUCVB:4}],225:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function get(target,propertyKey){var desc,proto,receiver=arguments.length<3?target:arguments[2];return anObject(target)===receiver?target[propertyKey]:(desc=gOPD.f(target,propertyKey))?has(desc,"value")?desc.value:void 0!==desc.get?desc.get.call(receiver):void 0:isObject(proto=getPrototypeOf(target))?get(proto,propertyKey,receiver):void 0}var gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),isObject=require("./_is-object"),anObject=require("./_an-object");$export($export.S,"Reflect",{get:get})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.get.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_has":49,"./_is-object":59,"./_object-gopd":82,"./_object-gpo":86,buffer:5,hXUCVB:4}],226:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Reflect",{has:function(target,propertyKey){return propertyKey in target}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.has.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],227:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),anObject=require("./_an-object"),$isExtensible=Object.isExtensible;$export($export.S,"Reflect",{isExtensible:function(target){return anObject(target),$isExtensible?$isExtensible(target):!0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.is-extensible.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,buffer:5,hXUCVB:4}],228:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Reflect",{ownKeys:require("./_own-keys")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.own-keys.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_own-keys":92,buffer:5,hXUCVB:4}],229:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),anObject=require("./_an-object"),$preventExtensions=Object.preventExtensions;$export($export.S,"Reflect",{preventExtensions:function(target){anObject(target);try{return $preventExtensions&&$preventExtensions(target),!0}catch(e){return!1}}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.prevent-extensions.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,buffer:5,hXUCVB:4}],230:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),setProto=require("./_set-proto");setProto&&$export($export.S,"Reflect",{setPrototypeOf:function(target,proto){setProto.check(target,proto);try{return setProto.set(target,proto),!0}catch(e){return!1}}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.set-prototype-of.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_set-proto":106,buffer:5,hXUCVB:4}],231:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function set(target,propertyKey,V){var existingDescriptor,proto,receiver=arguments.length<4?target:arguments[3],ownDesc=gOPD.f(anObject(target),propertyKey);if(!ownDesc){if(isObject(proto=getPrototypeOf(target)))return set(proto,propertyKey,V,receiver);ownDesc=createDesc(0)}if(has(ownDesc,"value")){if(ownDesc.writable===!1||!isObject(receiver))return!1;if(existingDescriptor=gOPD.f(receiver,propertyKey)){if(existingDescriptor.get||existingDescriptor.set||existingDescriptor.writable===!1)return!1;existingDescriptor.value=V,dP.f(receiver,propertyKey,existingDescriptor)}else dP.f(receiver,propertyKey,createDesc(0,V));return!0}return void 0===ownDesc.set?!1:(ownDesc.set.call(receiver,V),!0)}var dP=require("./_object-dp"),gOPD=require("./_object-gopd"),getPrototypeOf=require("./_object-gpo"),has=require("./_has"),$export=require("./_export"),createDesc=require("./_property-desc"),anObject=require("./_an-object"),isObject=require("./_is-object");$export($export.S,"Reflect",{set:set})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.reflect.set.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_has":49,"./_is-object":59,"./_object-dp":79,"./_object-gopd":82,"./_object-gpo":86,"./_property-desc":97,buffer:5,hXUCVB:4}],232:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),inheritIfRequired=require("./_inherit-if-required"),dP=require("./_object-dp").f,gOPN=require("./_object-gopn").f,isRegExp=require("./_is-regexp"),$flags=require("./_flags"),$RegExp=global.RegExp,Base=$RegExp,proto=$RegExp.prototype,re1=/a/g,re2=/a/g,CORRECT_NEW=new $RegExp(re1)!==re1;if(require("./_descriptors")&&(!CORRECT_NEW||require("./_fails")(function(){return re2[require("./_wks")("match")]=!1,$RegExp(re1)!=re1||$RegExp(re2)==re2||"/a/i"!=$RegExp(re1,"i")}))){$RegExp=function(p,f){var tiRE=this instanceof $RegExp,piRE=isRegExp(p),fiU=void 0===f;return!tiRE&&piRE&&p.constructor===$RegExp&&fiU?p:inheritIfRequired(CORRECT_NEW?new Base(piRE&&!fiU?p.source:p,f):Base((piRE=p instanceof $RegExp)?p.source:p,piRE&&fiU?$flags.call(p):f),tiRE?this:proto,$RegExp)};for(var proxy=(function(key){key in $RegExp||dP($RegExp,key,{configurable:!0,get:function(){return Base[key]},set:function(it){Base[key]=it}})}),keys=gOPN(Base),i=0;keys.length>i;)proxy(keys[i++]);proto.constructor=$RegExp,$RegExp.prototype=proto,require("./_redefine")(global,"RegExp",$RegExp)}require("./_set-species")("RegExp")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.constructor.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_fails":42,"./_flags":44,"./_global":48,"./_inherit-if-required":53,"./_is-regexp":60,"./_object-dp":79,"./_object-gopn":84,"./_redefine":99,"./_set-species":107,"./_wks":136,buffer:5,hXUCVB:4}],233:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var regexpExec=require("./_regexp-exec");require("./_export")({target:"RegExp",proto:!0,forced:regexpExec!==/./.exec},{exec:regexpExec})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.exec.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_regexp-exec":101,buffer:5,hXUCVB:4}],234:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_descriptors")&&"g"!=/./g.flags&&require("./_object-dp").f(RegExp.prototype,"flags",{configurable:!0,get:require("./_flags")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.flags.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_flags":44,"./_object-dp":79,buffer:5,hXUCVB:4}],235:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var anObject=require("./_an-object"),toLength=require("./_to-length"),advanceStringIndex=require("./_advance-string-index"),regExpExec=require("./_regexp-exec-abstract");require("./_fix-re-wks")("match",1,function(defined,MATCH,$match,maybeCallNative){return[function(regexp){var O=defined(this),fn=void 0==regexp?void 0:regexp[MATCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative($match,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;for(var result,A=[],n=0;null!==(result=regExpExec(rx,S));){var matchStr=String(result[0]);A[n]=matchStr,""===matchStr&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)),n++}return 0===n?null:A}]})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.match.js","/../../../../node_modules/core-js/modules")},{"./_advance-string-index":12,"./_an-object":14,"./_fix-re-wks":43,"./_regexp-exec-abstract":100,"./_to-length":125,buffer:5,hXUCVB:4}],236:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var anObject=require("./_an-object"),toObject=require("./_to-object"),toLength=require("./_to-length"),toInteger=require("./_to-integer"),advanceStringIndex=require("./_advance-string-index"),regExpExec=require("./_regexp-exec-abstract"),max=Math.max,min=Math.min,floor=Math.floor,SUBSTITUTION_SYMBOLS=/\$([$&`']|\d\d?|<[^>]*>)/g,SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&`']|\d\d?)/g,maybeToString=function(it){return void 0===it?it:String(it)};require("./_fix-re-wks")("replace",2,function(defined,REPLACE,$replace,maybeCallNative){function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length,m=captures.length,symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;return void 0!==namedCaptures&&(namedCaptures=toObject(namedCaptures),symbols=SUBSTITUTION_SYMBOLS),$replace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(0===n)return match;if(n>m){var f=floor(n/10);return 0===f?match:m>=f?void 0===captures[f-1]?ch.charAt(1):captures[f-1]+ch.charAt(1):match}capture=captures[n-1]}return void 0===capture?"":capture})}return[function(searchValue,replaceValue){var O=defined(this),fn=void 0==searchValue?void 0:searchValue[REPLACE];return void 0!==fn?fn.call(searchValue,O,replaceValue):$replace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){var res=maybeCallNative($replace,regexp,this,replaceValue);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),functionalReplace="function"==typeof replaceValue;functionalReplace||(replaceValue=String(replaceValue));var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}for(var results=[];;){var result=regExpExec(rx,S);if(null===result)break;if(results.push(result),!global)break;var matchStr=String(result[0]);""===matchStr&&(rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode))}for(var accumulatedResult="",nextSourcePosition=0,i=0;i<results.length;i++){result=results[i];for(var matched=String(result[0]),position=max(min(toInteger(result.index),S.length),0),captures=[],j=1;j<result.length;j++)captures.push(maybeToString(result[j]));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);void 0!==namedCaptures&&replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(void 0,replacerArgs))}else replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue);position>=nextSourcePosition&&(accumulatedResult+=S.slice(nextSourcePosition,position)+replacement,nextSourcePosition=position+matched.length)}return accumulatedResult+S.slice(nextSourcePosition)}]})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.replace.js","/../../../../node_modules/core-js/modules")},{"./_advance-string-index":12,"./_an-object":14,"./_fix-re-wks":43,"./_regexp-exec-abstract":100,"./_to-integer":123,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],237:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var anObject=require("./_an-object"),sameValue=require("./_same-value"),regExpExec=require("./_regexp-exec-abstract");require("./_fix-re-wks")("search",1,function(defined,SEARCH,$search,maybeCallNative){return[function(regexp){var O=defined(this),fn=void 0==regexp?void 0:regexp[SEARCH];return void 0!==fn?fn.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative($search,regexp,this);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),previousLastIndex=rx.lastIndex;sameValue(previousLastIndex,0)||(rx.lastIndex=0);var result=regExpExec(rx,S);return sameValue(rx.lastIndex,previousLastIndex)||(rx.lastIndex=previousLastIndex),null===result?-1:result.index}]})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.search.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_fix-re-wks":43,"./_regexp-exec-abstract":100,"./_same-value":103,buffer:5,hXUCVB:4}],238:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var isRegExp=require("./_is-regexp"),anObject=require("./_an-object"),speciesConstructor=require("./_species-constructor"),advanceStringIndex=require("./_advance-string-index"),toLength=require("./_to-length"),callRegExpExec=require("./_regexp-exec-abstract"),regexpExec=require("./_regexp-exec"),fails=require("./_fails"),$min=Math.min,$push=[].push,$SPLIT="split",LENGTH="length",LAST_INDEX="lastIndex",MAX_UINT32=4294967295,SUPPORTS_Y=!fails(function(){RegExp(MAX_UINT32,"y")});require("./_fix-re-wks")("split",2,function(defined,SPLIT,$split,maybeCallNative){var internalSplit;return internalSplit="c"=="abbc"[$SPLIT](/(b)*/)[1]||4!="test"[$SPLIT](/(?:)/,-1)[LENGTH]||2!="ab"[$SPLIT](/(?:ab)*/)[LENGTH]||4!="."[$SPLIT](/(.?)(.?)/)[LENGTH]||"."[$SPLIT](/()()/)[LENGTH]>1||""[$SPLIT](/.?/)[LENGTH]?function(separator,limit){var string=String(this);if(void 0===separator&&0===limit)return[];if(!isRegExp(separator))return $split.call(string,separator,limit);for(var match,lastIndex,lastLength,output=[],flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":""),lastLastIndex=0,splitLimit=void 0===limit?MAX_UINT32:limit>>>0,separatorCopy=new RegExp(separator.source,flags+"g");(match=regexpExec.call(separatorCopy,string))&&(lastIndex=separatorCopy[LAST_INDEX],!(lastIndex>lastLastIndex&&(output.push(string.slice(lastLastIndex,match.index)),match[LENGTH]>1&&match.index<string[LENGTH]&&$push.apply(output,match.slice(1)),lastLength=match[0][LENGTH],lastLastIndex=lastIndex,output[LENGTH]>=splitLimit)));)separatorCopy[LAST_INDEX]===match.index&&separatorCopy[LAST_INDEX]++;return lastLastIndex===string[LENGTH]?(lastLength||!separatorCopy.test(""))&&output.push(""):output.push(string.slice(lastLastIndex)),output[LENGTH]>splitLimit?output.slice(0,splitLimit):output}:"0"[$SPLIT](void 0,0)[LENGTH]?function(separator,limit){return void 0===separator&&0===limit?[]:$split.call(this,separator,limit)}:$split,[function(separator,limit){var O=defined(this),splitter=void 0==separator?void 0:separator[SPLIT];return void 0!==splitter?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==$split);if(res.done)return res.value;var rx=anObject(regexp),S=String(this),C=speciesConstructor(rx,RegExp),unicodeMatching=rx.unicode,flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g"),splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags),lim=void 0===limit?MAX_UINT32:limit>>>0;if(0===lim)return[];if(0===S.length)return null===callRegExpExec(splitter,S)?[S]:[];for(var p=0,q=0,A=[];q<S.length;){splitter.lastIndex=SUPPORTS_Y?q:0;var e,z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));if(null===z||(e=$min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p)q=advanceStringIndex(S,q,unicodeMatching);else{if(A.push(S.slice(p,q)),A.length===lim)return A;for(var i=1;i<=z.length-1;i++)if(A.push(z[i]),A.length===lim)return A;q=p=e}}return A.push(S.slice(p)),A}]})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.split.js","/../../../../node_modules/core-js/modules")},{"./_advance-string-index":12,"./_an-object":14,"./_fails":42,"./_fix-re-wks":43,"./_is-regexp":60,"./_regexp-exec":101,"./_regexp-exec-abstract":100,"./_species-constructor":111,"./_to-length":125,buffer:5,hXUCVB:4}],239:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./es6.regexp.flags");var anObject=require("./_an-object"),$flags=require("./_flags"),DESCRIPTORS=require("./_descriptors"),TO_STRING="toString",$toString=/./[TO_STRING],define=function(fn){require("./_redefine")(RegExp.prototype,TO_STRING,fn,!0)};require("./_fails")(function(){return"/a/b"!=$toString.call({source:"a",flags:"b"})})?define(function(){var R=anObject(this);return"/".concat(R.source,"/","flags"in R?R.flags:!DESCRIPTORS&&R instanceof RegExp?$flags.call(R):void 0)}):$toString.name!=TO_STRING&&define(function(){return $toString.call(this)})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.regexp.to-string.js","/../../../../node_modules/core-js/modules");
},{"./_an-object":14,"./_descriptors":36,"./_fails":42,"./_flags":44,"./_redefine":99,"./es6.regexp.flags":234,buffer:5,hXUCVB:4}],240:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var strong=require("./_collection-strong"),validate=require("./_validate-collection"),SET="Set";module.exports=require("./_collection")(SET,function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return strong.def(validate(this,SET),value=0===value?0:value,value)}},strong)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.set.js","/../../../../node_modules/core-js/modules")},{"./_collection":29,"./_collection-strong":26,"./_validate-collection":133,buffer:5,hXUCVB:4}],241:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("anchor",function(createHTML){return function(name){return createHTML(this,"a","name",name)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.anchor.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],242:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("big",function(createHTML){return function(){return createHTML(this,"big","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.big.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],243:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("blink",function(createHTML){return function(){return createHTML(this,"blink","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.blink.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],244:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("bold",function(createHTML){return function(){return createHTML(this,"b","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.bold.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],245:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!1);$export($export.P,"String",{codePointAt:function(pos){return $at(this,pos)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.code-point-at.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_string-at":113,buffer:5,hXUCVB:4}],246:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),ENDS_WITH="endsWith",$endsWith=""[ENDS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(ENDS_WITH),"String",{endsWith:function(searchString){var that=context(this,searchString,ENDS_WITH),endPosition=arguments.length>1?arguments[1]:void 0,len=toLength(that.length),end=void 0===endPosition?len:Math.min(toLength(endPosition),len),search=String(searchString);return $endsWith?$endsWith.call(that,search,end):that.slice(end-search.length,end)===search}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.ends-with.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails-is-regexp":41,"./_string-context":114,"./_to-length":125,buffer:5,hXUCVB:4}],247:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("fixed",function(createHTML){return function(){return createHTML(this,"tt","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.fixed.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],248:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("fontcolor",function(createHTML){return function(color){return createHTML(this,"font","color",color)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.fontcolor.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],249:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("fontsize",function(createHTML){return function(size){return createHTML(this,"font","size",size)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.fontsize.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],250:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),toAbsoluteIndex=require("./_to-absolute-index"),fromCharCode=String.fromCharCode,$fromCodePoint=String.fromCodePoint;$export($export.S+$export.F*(!!$fromCodePoint&&1!=$fromCodePoint.length),"String",{fromCodePoint:function(x){for(var code,res=[],aLen=arguments.length,i=0;aLen>i;){if(code=+arguments[i++],toAbsoluteIndex(code,1114111)!==code)throw RangeError(code+" is not a valid code point");res.push(65536>code?fromCharCode(code):fromCharCode(((code-=65536)>>10)+55296,code%1024+56320))}return res.join("")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.from-code-point.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_to-absolute-index":121,buffer:5,hXUCVB:4}],251:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),context=require("./_string-context"),INCLUDES="includes";$export($export.P+$export.F*require("./_fails-is-regexp")(INCLUDES),"String",{includes:function(searchString){return!!~context(this,searchString,INCLUDES).indexOf(searchString,arguments.length>1?arguments[1]:void 0)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.includes.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails-is-regexp":41,"./_string-context":114,buffer:5,hXUCVB:4}],252:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("italics",function(createHTML){return function(){return createHTML(this,"i","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.italics.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],253:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $at=require("./_string-at")(!0);require("./_iter-define")(String,"String",function(iterated){this._t=String(iterated),this._i=0},function(){var point,O=this._t,index=this._i;return index>=O.length?{value:void 0,done:!0}:(point=$at(O,index),this._i+=point.length,{value:point,done:!1})})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.iterator.js","/../../../../node_modules/core-js/modules")},{"./_iter-define":63,"./_string-at":113,buffer:5,hXUCVB:4}],254:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("link",function(createHTML){return function(url){return createHTML(this,"a","href",url)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.link.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],255:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),toIObject=require("./_to-iobject"),toLength=require("./_to-length");$export($export.S,"String",{raw:function(callSite){for(var tpl=toIObject(callSite.raw),len=toLength(tpl.length),aLen=arguments.length,res=[],i=0;len>i;)res.push(String(tpl[i++])),aLen>i&&res.push(String(arguments[i]));return res.join("")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.raw.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_to-iobject":124,"./_to-length":125,buffer:5,hXUCVB:4}],256:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P,"String",{repeat:require("./_string-repeat")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.repeat.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_string-repeat":117,buffer:5,hXUCVB:4}],257:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("small",function(createHTML){return function(){return createHTML(this,"small","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.small.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],258:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toLength=require("./_to-length"),context=require("./_string-context"),STARTS_WITH="startsWith",$startsWith=""[STARTS_WITH];$export($export.P+$export.F*require("./_fails-is-regexp")(STARTS_WITH),"String",{startsWith:function(searchString){var that=context(this,searchString,STARTS_WITH),index=toLength(Math.min(arguments.length>1?arguments[1]:void 0,that.length)),search=String(searchString);return $startsWith?$startsWith.call(that,search,index):that.slice(index,index+search.length)===search}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.starts-with.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails-is-regexp":41,"./_string-context":114,"./_to-length":125,buffer:5,hXUCVB:4}],259:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("strike",function(createHTML){return function(){return createHTML(this,"strike","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.strike.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],260:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("sub",function(createHTML){return function(){return createHTML(this,"sub","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.sub.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],261:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-html")("sup",function(createHTML){return function(){return createHTML(this,"sup","","")}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.sup.js","/../../../../node_modules/core-js/modules")},{"./_string-html":115,buffer:5,hXUCVB:4}],262:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-trim")("trim",function($trim){return function(){return $trim(this,3)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.string.trim.js","/../../../../node_modules/core-js/modules")},{"./_string-trim":118,buffer:5,hXUCVB:4}],263:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var global=require("./_global"),has=require("./_has"),DESCRIPTORS=require("./_descriptors"),$export=require("./_export"),redefine=require("./_redefine"),META=require("./_meta").KEY,$fails=require("./_fails"),shared=require("./_shared"),setToStringTag=require("./_set-to-string-tag"),uid=require("./_uid"),wks=require("./_wks"),wksExt=require("./_wks-ext"),wksDefine=require("./_wks-define"),enumKeys=require("./_enum-keys"),isArray=require("./_is-array"),anObject=require("./_an-object"),isObject=require("./_is-object"),toObject=require("./_to-object"),toIObject=require("./_to-iobject"),toPrimitive=require("./_to-primitive"),createDesc=require("./_property-desc"),_create=require("./_object-create"),gOPNExt=require("./_object-gopn-ext"),$GOPD=require("./_object-gopd"),$GOPS=require("./_object-gops"),$DP=require("./_object-dp"),$keys=require("./_object-keys"),gOPD=$GOPD.f,dP=$DP.f,gOPN=gOPNExt.f,$Symbol=global.Symbol,$JSON=global.JSON,_stringify=$JSON&&$JSON.stringify,PROTOTYPE="prototype",HIDDEN=wks("_hidden"),TO_PRIMITIVE=wks("toPrimitive"),isEnum={}.propertyIsEnumerable,SymbolRegistry=shared("symbol-registry"),AllSymbols=shared("symbols"),OPSymbols=shared("op-symbols"),ObjectProto=Object[PROTOTYPE],USE_NATIVE="function"==typeof $Symbol&&!!$GOPS.f,QObject=global.QObject,setter=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild,setSymbolDesc=DESCRIPTORS&&$fails(function(){return 7!=_create(dP({},"a",{get:function(){return dP(this,"a",{value:7}).a}})).a})?function(it,key,D){var protoDesc=gOPD(ObjectProto,key);protoDesc&&delete ObjectProto[key],dP(it,key,D),protoDesc&&it!==ObjectProto&&dP(ObjectProto,key,protoDesc)}:dP,wrap=function(tag){var sym=AllSymbols[tag]=_create($Symbol[PROTOTYPE]);return sym._k=tag,sym},isSymbol=USE_NATIVE&&"symbol"==typeof $Symbol.iterator?function(it){return"symbol"==typeof it}:function(it){return it instanceof $Symbol},$defineProperty=function(it,key,D){return it===ObjectProto&&$defineProperty(OPSymbols,key,D),anObject(it),key=toPrimitive(key,!0),anObject(D),has(AllSymbols,key)?(D.enumerable?(has(it,HIDDEN)&&it[HIDDEN][key]&&(it[HIDDEN][key]=!1),D=_create(D,{enumerable:createDesc(0,!1)})):(has(it,HIDDEN)||dP(it,HIDDEN,createDesc(1,{})),it[HIDDEN][key]=!0),setSymbolDesc(it,key,D)):dP(it,key,D)},$defineProperties=function(it,P){anObject(it);for(var key,keys=enumKeys(P=toIObject(P)),i=0,l=keys.length;l>i;)$defineProperty(it,key=keys[i++],P[key]);return it},$create=function(it,P){return void 0===P?_create(it):$defineProperties(_create(it),P)},$propertyIsEnumerable=function(key){var E=isEnum.call(this,key=toPrimitive(key,!0));return this===ObjectProto&&has(AllSymbols,key)&&!has(OPSymbols,key)?!1:E||!has(this,key)||!has(AllSymbols,key)||has(this,HIDDEN)&&this[HIDDEN][key]?E:!0},$getOwnPropertyDescriptor=function(it,key){if(it=toIObject(it),key=toPrimitive(key,!0),it!==ObjectProto||!has(AllSymbols,key)||has(OPSymbols,key)){var D=gOPD(it,key);return!D||!has(AllSymbols,key)||has(it,HIDDEN)&&it[HIDDEN][key]||(D.enumerable=!0),D}},$getOwnPropertyNames=function(it){for(var key,names=gOPN(toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])||key==HIDDEN||key==META||result.push(key);return result},$getOwnPropertySymbols=function(it){for(var key,IS_OP=it===ObjectProto,names=gOPN(IS_OP?OPSymbols:toIObject(it)),result=[],i=0;names.length>i;)has(AllSymbols,key=names[i++])&&(IS_OP?has(ObjectProto,key):!0)&&result.push(AllSymbols[key]);return result};USE_NATIVE||($Symbol=function(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor!");var tag=uid(arguments.length>0?arguments[0]:void 0),$set=function(value){this===ObjectProto&&$set.call(OPSymbols,value),has(this,HIDDEN)&&has(this[HIDDEN],tag)&&(this[HIDDEN][tag]=!1),setSymbolDesc(this,tag,createDesc(1,value))};return DESCRIPTORS&&setter&&setSymbolDesc(ObjectProto,tag,{configurable:!0,set:$set}),wrap(tag)},redefine($Symbol[PROTOTYPE],"toString",function(){return this._k}),$GOPD.f=$getOwnPropertyDescriptor,$DP.f=$defineProperty,require("./_object-gopn").f=gOPNExt.f=$getOwnPropertyNames,require("./_object-pie").f=$propertyIsEnumerable,$GOPS.f=$getOwnPropertySymbols,DESCRIPTORS&&!require("./_library")&&redefine(ObjectProto,"propertyIsEnumerable",$propertyIsEnumerable,!0),wksExt.f=function(name){return wrap(wks(name))}),$export($export.G+$export.W+$export.F*!USE_NATIVE,{Symbol:$Symbol});for(var es6Symbols="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),j=0;es6Symbols.length>j;)wks(es6Symbols[j++]);for(var wellKnownSymbols=$keys(wks.store),k=0;wellKnownSymbols.length>k;)wksDefine(wellKnownSymbols[k++]);$export($export.S+$export.F*!USE_NATIVE,"Symbol",{"for":function(key){return has(SymbolRegistry,key+="")?SymbolRegistry[key]:SymbolRegistry[key]=$Symbol(key)},keyFor:function(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol!");for(var key in SymbolRegistry)if(SymbolRegistry[key]===sym)return key},useSetter:function(){setter=!0},useSimple:function(){setter=!1}}),$export($export.S+$export.F*!USE_NATIVE,"Object",{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor,getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});var FAILS_ON_PRIMITIVES=$fails(function(){$GOPS.f(1)});$export($export.S+$export.F*FAILS_ON_PRIMITIVES,"Object",{getOwnPropertySymbols:function(it){return $GOPS.f(toObject(it))}}),$JSON&&$export($export.S+$export.F*(!USE_NATIVE||$fails(function(){var S=$Symbol();return"[null]"!=_stringify([S])||"{}"!=_stringify({a:S})||"{}"!=_stringify(Object(S))})),"JSON",{stringify:function(it){for(var replacer,$replacer,args=[it],i=1;arguments.length>i;)args.push(arguments[i++]);return $replacer=replacer=args[1],!isObject(replacer)&&void 0===it||isSymbol(it)?void 0:(isArray(replacer)||(replacer=function(key,value){return"function"==typeof $replacer&&(value=$replacer.call(this,key,value)),isSymbol(value)?void 0:value}),args[1]=replacer,_stringify.apply($JSON,args))}}),$Symbol[PROTOTYPE][TO_PRIMITIVE]||require("./_hide")($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf),setToStringTag($Symbol,"Symbol"),setToStringTag(Math,"Math",!0),setToStringTag(global.JSON,"JSON",!0)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.symbol.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_descriptors":36,"./_enum-keys":39,"./_export":40,"./_fails":42,"./_global":48,"./_has":49,"./_hide":50,"./_is-array":57,"./_is-object":59,"./_library":67,"./_meta":73,"./_object-create":78,"./_object-dp":79,"./_object-gopd":82,"./_object-gopn":84,"./_object-gopn-ext":83,"./_object-gops":85,"./_object-keys":88,"./_object-pie":89,"./_property-desc":97,"./_redefine":99,"./_set-to-string-tag":108,"./_shared":110,"./_to-iobject":124,"./_to-object":126,"./_to-primitive":127,"./_uid":131,"./_wks":136,"./_wks-define":134,"./_wks-ext":135,buffer:5,hXUCVB:4}],264:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$typed=require("./_typed"),buffer=require("./_typed-buffer"),anObject=require("./_an-object"),toAbsoluteIndex=require("./_to-absolute-index"),toLength=require("./_to-length"),isObject=require("./_is-object"),ArrayBuffer=require("./_global").ArrayBuffer,speciesConstructor=require("./_species-constructor"),$ArrayBuffer=buffer.ArrayBuffer,$DataView=buffer.DataView,$isView=$typed.ABV&&ArrayBuffer.isView,$slice=$ArrayBuffer.prototype.slice,VIEW=$typed.VIEW,ARRAY_BUFFER="ArrayBuffer";$export($export.G+$export.W+$export.F*(ArrayBuffer!==$ArrayBuffer),{ArrayBuffer:$ArrayBuffer}),$export($export.S+$export.F*!$typed.CONSTR,ARRAY_BUFFER,{isView:function(it){return $isView&&$isView(it)||isObject(it)&&VIEW in it}}),$export($export.P+$export.U+$export.F*require("./_fails")(function(){return!new $ArrayBuffer(2).slice(1,void 0).byteLength}),ARRAY_BUFFER,{slice:function(start,end){if(void 0!==$slice&&void 0===end)return $slice.call(anObject(this),start);for(var len=anObject(this).byteLength,first=toAbsoluteIndex(start,len),fin=toAbsoluteIndex(void 0===end?len:end,len),result=new(speciesConstructor(this,$ArrayBuffer))(toLength(fin-first)),viewS=new $DataView(this),viewT=new $DataView(result),index=0;fin>first;)viewT.setUint8(index++,viewS.getUint8(first++));return result}}),require("./_set-species")(ARRAY_BUFFER)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.array-buffer.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_export":40,"./_fails":42,"./_global":48,"./_is-object":59,"./_set-species":107,"./_species-constructor":111,"./_to-absolute-index":121,"./_to-length":125,"./_typed":130,"./_typed-buffer":129,buffer:5,hXUCVB:4}],265:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.G+$export.W+$export.F*!require("./_typed").ABV,{DataView:require("./_typed-buffer").DataView})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.data-view.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_typed":130,"./_typed-buffer":129,buffer:5,hXUCVB:4}],266:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Float32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.float32-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],267:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Float64",8,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.float64-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],268:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Int16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.int16-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],269:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Int32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.int32-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],270:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Int8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.int8-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],271:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Uint16",2,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.uint16-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],272:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Uint32",4,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.uint32-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],273:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.uint8-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],274:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_typed-array")("Uint8",1,function(init){return function(data,byteOffset,length){return init(this,data,byteOffset,length)}},!0)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.typed.uint8-clamped-array.js","/../../../../node_modules/core-js/modules")},{"./_typed-array":128,buffer:5,hXUCVB:4}],275:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var InternalMap,global=require("./_global"),each=require("./_array-methods")(0),redefine=require("./_redefine"),meta=require("./_meta"),assign=require("./_object-assign"),weak=require("./_collection-weak"),isObject=require("./_is-object"),validate=require("./_validate-collection"),NATIVE_WEAK_MAP=require("./_validate-collection"),IS_IE11=!global.ActiveXObject&&"ActiveXObject"in global,WEAK_MAP="WeakMap",getWeak=meta.getWeak,isExtensible=Object.isExtensible,uncaughtFrozenStore=weak.ufstore,wrapper=function(get){
return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},methods={get:function(key){if(isObject(key)){var data=getWeak(key);return data===!0?uncaughtFrozenStore(validate(this,WEAK_MAP)).get(key):data?data[this._i]:void 0}},set:function(key,value){return weak.def(validate(this,WEAK_MAP),key,value)}},$WeakMap=module.exports=require("./_collection")(WEAK_MAP,wrapper,methods,weak,!0,!0);NATIVE_WEAK_MAP&&IS_IE11&&(InternalMap=weak.getConstructor(wrapper,WEAK_MAP),assign(InternalMap.prototype,methods),meta.NEED=!0,each(["delete","has","get","set"],function(key){var proto=$WeakMap.prototype,method=proto[key];redefine(proto,key,function(a,b){if(isObject(a)&&!isExtensible(a)){this._f||(this._f=new InternalMap);var result=this._f[key](a,b);return"set"==key?this:result}return method.call(this,a,b)})}))}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.weak-map.js","/../../../../node_modules/core-js/modules")},{"./_array-methods":19,"./_collection":29,"./_collection-weak":28,"./_global":48,"./_is-object":59,"./_meta":73,"./_object-assign":77,"./_redefine":99,"./_validate-collection":133,buffer:5,hXUCVB:4}],276:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var weak=require("./_collection-weak"),validate=require("./_validate-collection"),WEAK_SET="WeakSet";require("./_collection")(WEAK_SET,function(get){return function(){return get(this,arguments.length>0?arguments[0]:void 0)}},{add:function(value){return weak.def(validate(this,WEAK_SET),value,!0)}},weak,!1,!0)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es6.weak-set.js","/../../../../node_modules/core-js/modules")},{"./_collection":29,"./_collection-weak":28,"./_validate-collection":133,buffer:5,hXUCVB:4}],277:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),flattenIntoArray=require("./_flatten-into-array"),toObject=require("./_to-object"),toLength=require("./_to-length"),aFunction=require("./_a-function"),arraySpeciesCreate=require("./_array-species-create");$export($export.P,"Array",{flatMap:function(callbackfn){var sourceLen,A,O=toObject(this);return aFunction(callbackfn),sourceLen=toLength(O.length),A=arraySpeciesCreate(O,0),flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments[1]),A}}),require("./_add-to-unscopables")("flatMap")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.array.flat-map.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_add-to-unscopables":11,"./_array-species-create":22,"./_export":40,"./_flatten-into-array":45,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],278:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),flattenIntoArray=require("./_flatten-into-array"),toObject=require("./_to-object"),toLength=require("./_to-length"),toInteger=require("./_to-integer"),arraySpeciesCreate=require("./_array-species-create");$export($export.P,"Array",{flatten:function(){var depthArg=arguments[0],O=toObject(this),sourceLen=toLength(O.length),A=arraySpeciesCreate(O,0);return flattenIntoArray(A,O,O,sourceLen,0,void 0===depthArg?1:toInteger(depthArg)),A}}),require("./_add-to-unscopables")("flatten")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.array.flatten.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-species-create":22,"./_export":40,"./_flatten-into-array":45,"./_to-integer":123,"./_to-length":125,"./_to-object":126,buffer:5,hXUCVB:4}],279:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$includes=require("./_array-includes")(!0);$export($export.P,"Array",{includes:function(el){return $includes(this,el,arguments.length>1?arguments[1]:void 0)}}),require("./_add-to-unscopables")("includes")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.array.includes.js","/../../../../node_modules/core-js/modules")},{"./_add-to-unscopables":11,"./_array-includes":18,"./_export":40,buffer:5,hXUCVB:4}],280:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),microtask=require("./_microtask")(),process=require("./_global").process,isNode="process"==require("./_cof")(process);$export($export.G,{asap:function(fn){var domain=isNode&&process.domain;microtask(domain?domain.bind(fn):fn)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.asap.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_export":40,"./_global":48,"./_microtask":75,buffer:5,hXUCVB:4}],281:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),cof=require("./_cof");$export($export.S,"Error",{isError:function(it){return"Error"===cof(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.error.is-error.js","/../../../../node_modules/core-js/modules")},{"./_cof":25,"./_export":40,buffer:5,hXUCVB:4}],282:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.G,{global:require("./_global")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.global.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_global":48,buffer:5,hXUCVB:4}],283:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-from")("Map")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.map.from.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-from":104,buffer:5,hXUCVB:4}],284:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-of")("Map")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.map.of.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-of":105,buffer:5,hXUCVB:4}],285:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P+$export.R,"Map",{toJSON:require("./_collection-to-json")("Map")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.map.to-json.js","/../../../../node_modules/core-js/modules")},{"./_collection-to-json":27,"./_export":40,buffer:5,hXUCVB:4}],286:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{clamp:function(x,lower,upper){return Math.min(upper,Math.max(lower,x))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.clamp.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],287:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{DEG_PER_RAD:Math.PI/180})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.deg-per-rad.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],288:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),RAD_PER_DEG=180/Math.PI;$export($export.S,"Math",{degrees:function(radians){return radians*RAD_PER_DEG}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.degrees.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],289:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),scale=require("./_math-scale"),fround=require("./_math-fround");$export($export.S,"Math",{fscale:function(x,inLow,inHigh,outLow,outHigh){return fround(scale(x,inLow,inHigh,outLow,outHigh))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.fscale.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-fround":69,"./_math-scale":71,buffer:5,hXUCVB:4}],290:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{iaddh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1+(y1>>>0)+(($x0&$y0|($x0|$y0)&~($x0+$y0>>>0))>>>31)|0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.iaddh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],291:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{imulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>16,v1=$v>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>16)+((u0*v1>>>0)+(t&UINT16)>>16)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.imulh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],292:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{isubh:function(x0,x1,y0,y1){var $x0=x0>>>0,$x1=x1>>>0,$y0=y0>>>0;return $x1-(y1>>>0)-((~$x0&$y0|~($x0^$y0)&$x0-$y0>>>0)>>>31)|0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.isubh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],293:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{RAD_PER_DEG:180/Math.PI})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.rad-per-deg.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],294:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),DEG_PER_RAD=Math.PI/180;$export($export.S,"Math",{radians:function(degrees){return degrees*DEG_PER_RAD}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.radians.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],295:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{scale:require("./_math-scale")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.scale.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_math-scale":71,buffer:5,hXUCVB:4}],296:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{signbit:function(x){return(x=+x)!=x?x:0==x?1/x==1/0:x>0}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.signbit.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],297:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"Math",{umulh:function(u,v){var UINT16=65535,$u=+u,$v=+v,u0=$u&UINT16,v0=$v&UINT16,u1=$u>>>16,v1=$v>>>16,t=(u1*v0>>>0)+(u0*v0>>>16);return u1*v1+(t>>>16)+((u0*v1>>>0)+(t&UINT16)>>>16)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.math.umulh.js","/../../../../node_modules/core-js/modules")},{"./_export":40,buffer:5,hXUCVB:4}],298:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineGetter__:function(P,getter){$defineProperty.f(toObject(this),P,{get:aFunction(getter),enumerable:!0,configurable:!0})}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.define-getter.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_descriptors":36,"./_export":40,"./_object-dp":79,"./_object-forced-pam":81,"./_to-object":126,buffer:5,hXUCVB:4}],299:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),aFunction=require("./_a-function"),$defineProperty=require("./_object-dp");require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__defineSetter__:function(P,setter){$defineProperty.f(toObject(this),P,{set:aFunction(setter),enumerable:!0,configurable:!0})}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.define-setter.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_descriptors":36,"./_export":40,"./_object-dp":79,"./_object-forced-pam":81,"./_to-object":126,buffer:5,hXUCVB:4}],300:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$entries=require("./_object-to-array")(!0);$export($export.S,"Object",{entries:function(it){return $entries(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.entries.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_object-to-array":91,buffer:5,hXUCVB:4}],301:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),ownKeys=require("./_own-keys"),toIObject=require("./_to-iobject"),gOPD=require("./_object-gopd"),createProperty=require("./_create-property");$export($export.S,"Object",{getOwnPropertyDescriptors:function(object){for(var key,desc,O=toIObject(object),getDesc=gOPD.f,keys=ownKeys(O),result={},i=0;keys.length>i;)desc=getDesc(O,key=keys[i++]),void 0!==desc&&createProperty(result,key,desc);return result}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","/../../../../node_modules/core-js/modules")},{"./_create-property":31,"./_export":40,"./_object-gopd":82,"./_own-keys":92,"./_to-iobject":124,buffer:5,hXUCVB:4}],302:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupGetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.get;while(O=getPrototypeOf(O))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.lookup-getter.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_export":40,"./_object-forced-pam":81,"./_object-gopd":82,"./_object-gpo":86,"./_to-object":126,"./_to-primitive":127,buffer:5,hXUCVB:4}],303:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),toObject=require("./_to-object"),toPrimitive=require("./_to-primitive"),getPrototypeOf=require("./_object-gpo"),getOwnPropertyDescriptor=require("./_object-gopd").f;require("./_descriptors")&&$export($export.P+require("./_object-forced-pam"),"Object",{__lookupSetter__:function(P){var D,O=toObject(this),K=toPrimitive(P,!0);do if(D=getOwnPropertyDescriptor(O,K))return D.set;while(O=getPrototypeOf(O))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.lookup-setter.js","/../../../../node_modules/core-js/modules")},{"./_descriptors":36,"./_export":40,"./_object-forced-pam":81,"./_object-gopd":82,"./_object-gpo":86,"./_to-object":126,"./_to-primitive":127,buffer:5,hXUCVB:4}],304:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$values=require("./_object-to-array")(!1);$export($export.S,"Object",{values:function(it){return $values(it)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.object.values.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_object-to-array":91,buffer:5,hXUCVB:4}],305:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),global=require("./_global"),core=require("./_core"),microtask=require("./_microtask")(),OBSERVABLE=require("./_wks")("observable"),aFunction=require("./_a-function"),anObject=require("./_an-object"),anInstance=require("./_an-instance"),redefineAll=require("./_redefine-all"),hide=require("./_hide"),forOf=require("./_for-of"),RETURN=forOf.RETURN,getMethod=function(fn){return null==fn?void 0:aFunction(fn)},cleanupSubscription=function(subscription){var cleanup=subscription._c;cleanup&&(subscription._c=void 0,cleanup())},subscriptionClosed=function(subscription){return void 0===subscription._o},closeSubscription=function(subscription){subscriptionClosed(subscription)||(subscription._o=void 0,cleanupSubscription(subscription))},Subscription=function(observer,subscriber){anObject(observer),this._c=void 0,this._o=observer,observer=new SubscriptionObserver(this);try{var cleanup=subscriber(observer),subscription=cleanup;null!=cleanup&&("function"==typeof cleanup.unsubscribe?cleanup=function(){subscription.unsubscribe()}:aFunction(cleanup),this._c=cleanup)}catch(e){return void observer.error(e)}subscriptionClosed(this)&&cleanupSubscription(this)};Subscription.prototype=redefineAll({},{unsubscribe:function(){closeSubscription(this)}});var SubscriptionObserver=function(subscription){this._s=subscription};SubscriptionObserver.prototype=redefineAll({},{next:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;try{var m=getMethod(observer.next);if(m)return m.call(observer,value)}catch(e){try{closeSubscription(subscription)}finally{throw e}}}},error:function(value){var subscription=this._s;if(subscriptionClosed(subscription))throw value;var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.error);if(!m)throw value;value=m.call(observer,value)}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value},complete:function(value){var subscription=this._s;if(!subscriptionClosed(subscription)){var observer=subscription._o;subscription._o=void 0;try{var m=getMethod(observer.complete);value=m?m.call(observer,value):void 0}catch(e){try{cleanupSubscription(subscription)}finally{throw e}}return cleanupSubscription(subscription),value}}});var $Observable=function(subscriber){anInstance(this,$Observable,"Observable","_f")._f=aFunction(subscriber)};redefineAll($Observable.prototype,{subscribe:function(observer){return new Subscription(observer,this._f)},forEach:function(fn){var that=this;return new(core.Promise||global.Promise)(function(resolve,reject){aFunction(fn);var subscription=that.subscribe({next:function(value){try{return fn(value)}catch(e){reject(e),subscription.unsubscribe()}},error:reject,complete:resolve})})}}),redefineAll($Observable,{from:function(x){var C="function"==typeof this?this:$Observable,method=getMethod(anObject(x)[OBSERVABLE]);if(method){var observable=anObject(method.call(x));return observable.constructor===C?observable:new C(function(observer){return observable.subscribe(observer)})}return new C(function(observer){var done=!1;return microtask(function(){if(!done){try{if(forOf(x,!1,function(it){return observer.next(it),done?RETURN:void 0})===RETURN)return}catch(e){if(done)throw e;return void observer.error(e)}observer.complete()}}),function(){done=!0}})},of:function(){for(var i=0,l=arguments.length,items=new Array(l);l>i;)items[i]=arguments[i++];return new("function"==typeof this?this:$Observable)(function(observer){var done=!1;return microtask(function(){if(!done){for(var j=0;j<items.length;++j)if(observer.next(items[j]),done)return;observer.complete()}}),function(){done=!0}})}}),hide($Observable.prototype,OBSERVABLE,function(){return this}),$export($export.G,{Observable:$Observable}),require("./_set-species")("Observable")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.observable.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-instance":13,"./_an-object":14,"./_core":30,"./_export":40,"./_for-of":46,"./_global":48,"./_hide":50,"./_microtask":75,"./_redefine-all":98,"./_set-species":107,"./_wks":136,buffer:5,hXUCVB:4}],306:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),core=require("./_core"),global=require("./_global"),speciesConstructor=require("./_species-constructor"),promiseResolve=require("./_promise-resolve");$export($export.P+$export.R,"Promise",{"finally":function(onFinally){var C=speciesConstructor(this,core.Promise||global.Promise),isFunction="function"==typeof onFinally;return this.then(isFunction?function(x){return promiseResolve(C,onFinally()).then(function(){return x})}:onFinally,isFunction?function(e){return promiseResolve(C,onFinally()).then(function(){throw e})}:onFinally)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.promise.finally.js","/../../../../node_modules/core-js/modules")},{"./_core":30,"./_export":40,"./_global":48,"./_promise-resolve":96,"./_species-constructor":111,buffer:5,hXUCVB:4}],307:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),newPromiseCapability=require("./_new-promise-capability"),perform=require("./_perform");$export($export.S,"Promise",{"try":function(callbackfn){var promiseCapability=newPromiseCapability.f(this),result=perform(callbackfn);return(result.e?promiseCapability.reject:promiseCapability.resolve)(result.v),promiseCapability.promise}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.promise.try.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_new-promise-capability":76,"./_perform":95,buffer:5,hXUCVB:4}],308:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,ordinaryDefineOwnMetadata=metadata.set;metadata.exp({defineMetadata:function(metadataKey,metadataValue,target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,anObject(target),toMetaKey(targetKey))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.define-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],309:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),toMetaKey=metadata.key,getOrCreateMetadataMap=metadata.map,store=metadata.store;metadata.exp({deleteMetadata:function(metadataKey,target){var targetKey=arguments.length<3?void 0:toMetaKey(arguments[2]),metadataMap=getOrCreateMetadataMap(anObject(target),targetKey,!1);if(void 0===metadataMap||!metadataMap["delete"](metadataKey))return!1;if(metadataMap.size)return!0;var targetMetadata=store.get(target);return targetMetadata["delete"](targetKey),!!targetMetadata.size||store["delete"](target)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.delete-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],310:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Set=require("./es6.set"),from=require("./_array-from-iterable"),metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key,ordinaryMetadataKeys=function(O,P){var oKeys=ordinaryOwnMetadataKeys(O,P),parent=getPrototypeOf(O);if(null===parent)return oKeys;var pKeys=ordinaryMetadataKeys(parent,P);return pKeys.length?oKeys.length?from(new Set(oKeys.concat(pKeys))):pKeys:oKeys};metadata.exp({getMetadataKeys:function(target){return ordinaryMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.get-metadata-keys.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_array-from-iterable":17,"./_metadata":74,"./_object-gpo":86,"./es6.set":240,buffer:5,hXUCVB:4}],311:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){
var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key,ordinaryGetMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return ordinaryGetOwnMetadata(MetadataKey,O,P);var parent=getPrototypeOf(O);return null!==parent?ordinaryGetMetadata(MetadataKey,parent,P):void 0};metadata.exp({getMetadata:function(metadataKey,target){return ordinaryGetMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.get-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,"./_object-gpo":86,buffer:5,hXUCVB:4}],312:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryOwnMetadataKeys=metadata.keys,toMetaKey=metadata.key;metadata.exp({getOwnMetadataKeys:function(target){return ordinaryOwnMetadataKeys(anObject(target),arguments.length<2?void 0:toMetaKey(arguments[1]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.get-own-metadata-keys.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],313:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryGetOwnMetadata=metadata.get,toMetaKey=metadata.key;metadata.exp({getOwnMetadata:function(metadataKey,target){return ordinaryGetOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.get-own-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],314:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),getPrototypeOf=require("./_object-gpo"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key,ordinaryHasMetadata=function(MetadataKey,O,P){var hasOwn=ordinaryHasOwnMetadata(MetadataKey,O,P);if(hasOwn)return!0;var parent=getPrototypeOf(O);return null!==parent?ordinaryHasMetadata(MetadataKey,parent,P):!1};metadata.exp({hasMetadata:function(metadataKey,target){return ordinaryHasMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.has-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,"./_object-gpo":86,buffer:5,hXUCVB:4}],315:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var metadata=require("./_metadata"),anObject=require("./_an-object"),ordinaryHasOwnMetadata=metadata.has,toMetaKey=metadata.key;metadata.exp({hasOwnMetadata:function(metadataKey,target){return ordinaryHasOwnMetadata(metadataKey,anObject(target),arguments.length<3?void 0:toMetaKey(arguments[2]))}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.has-own-metadata.js","/../../../../node_modules/core-js/modules")},{"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],316:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $metadata=require("./_metadata"),anObject=require("./_an-object"),aFunction=require("./_a-function"),toMetaKey=$metadata.key,ordinaryDefineOwnMetadata=$metadata.set;$metadata.exp({metadata:function(metadataKey,metadataValue){return function(target,targetKey){ordinaryDefineOwnMetadata(metadataKey,metadataValue,(void 0!==targetKey?anObject:aFunction)(target),toMetaKey(targetKey))}}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.reflect.metadata.js","/../../../../node_modules/core-js/modules")},{"./_a-function":9,"./_an-object":14,"./_metadata":74,buffer:5,hXUCVB:4}],317:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-from")("Set")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.set.from.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-from":104,buffer:5,hXUCVB:4}],318:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-of")("Set")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.set.of.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-of":105,buffer:5,hXUCVB:4}],319:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.P+$export.R,"Set",{toJSON:require("./_collection-to-json")("Set")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.set.to-json.js","/../../../../node_modules/core-js/modules")},{"./_collection-to-json":27,"./_export":40,buffer:5,hXUCVB:4}],320:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$at=require("./_string-at")(!0),$fails=require("./_fails"),FORCED=$fails(function(){return"𠮷"!=="𠮷".at(0)});$export($export.P+$export.F*FORCED,"String",{at:function(pos){return $at(this,pos)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.at.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_fails":42,"./_string-at":113,buffer:5,hXUCVB:4}],321:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),defined=require("./_defined"),toLength=require("./_to-length"),isRegExp=require("./_is-regexp"),getFlags=require("./_flags"),RegExpProto=RegExp.prototype,$RegExpStringIterator=function(regexp,string){this._r=regexp,this._s=string};require("./_iter-create")($RegExpStringIterator,"RegExp String",function(){var match=this._r.exec(this._s);return{value:match,done:null===match}}),$export($export.P,"String",{matchAll:function(regexp){if(defined(this),!isRegExp(regexp))throw TypeError(regexp+" is not a regexp!");var S=String(this),flags="flags"in RegExpProto?String(regexp.flags):getFlags.call(regexp),rx=new RegExp(regexp.source,~flags.indexOf("g")?flags:"g"+flags);return rx.lastIndex=toLength(regexp.lastIndex),new $RegExpStringIterator(rx,S)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.match-all.js","/../../../../node_modules/core-js/modules")},{"./_defined":35,"./_export":40,"./_flags":44,"./_is-regexp":60,"./_iter-create":62,"./_to-length":125,buffer:5,hXUCVB:4}],322:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$pad=require("./_string-pad"),userAgent=require("./_user-agent"),WEBKIT_BUG=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);$export($export.P+$export.F*WEBKIT_BUG,"String",{padEnd:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!1)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.pad-end.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_string-pad":116,"./_user-agent":132,buffer:5,hXUCVB:4}],323:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $export=require("./_export"),$pad=require("./_string-pad"),userAgent=require("./_user-agent"),WEBKIT_BUG=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(userAgent);$export($export.P+$export.F*WEBKIT_BUG,"String",{padStart:function(maxLength){return $pad(this,maxLength,arguments.length>1?arguments[1]:void 0,!0)}})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.pad-start.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_string-pad":116,"./_user-agent":132,buffer:5,hXUCVB:4}],324:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-trim")("trimLeft",function($trim){return function(){return $trim(this,1)}},"trimStart")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.trim-left.js","/../../../../node_modules/core-js/modules")},{"./_string-trim":118,buffer:5,hXUCVB:4}],325:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("./_string-trim")("trimRight",function($trim){return function(){return $trim(this,2)}},"trimEnd")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.string.trim-right.js","/../../../../node_modules/core-js/modules")},{"./_string-trim":118,buffer:5,hXUCVB:4}],326:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_wks-define")("asyncIterator")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.symbol.async-iterator.js","/../../../../node_modules/core-js/modules")},{"./_wks-define":134,buffer:5,hXUCVB:4}],327:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_wks-define")("observable")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.symbol.observable.js","/../../../../node_modules/core-js/modules")},{"./_wks-define":134,buffer:5,hXUCVB:4}],328:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export");$export($export.S,"System",{global:require("./_global")})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.system.global.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_global":48,buffer:5,hXUCVB:4}],329:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-from")("WeakMap")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.weak-map.from.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-from":104,buffer:5,hXUCVB:4}],330:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-of")("WeakMap")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.weak-map.of.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-of":105,buffer:5,hXUCVB:4}],331:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-from")("WeakSet")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.weak-set.from.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-from":104,buffer:5,hXUCVB:4}],332:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./_set-collection-of")("WeakSet")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/es7.weak-set.of.js","/../../../../node_modules/core-js/modules")},{"./_set-collection-of":105,buffer:5,hXUCVB:4}],333:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){for(var $iterators=require("./es6.array.iterator"),getKeys=require("./_object-keys"),redefine=require("./_redefine"),global=require("./_global"),hide=require("./_hide"),Iterators=require("./_iterators"),wks=require("./_wks"),ITERATOR=wks("iterator"),TO_STRING_TAG=wks("toStringTag"),ArrayValues=Iterators.Array,DOMIterables={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},collections=getKeys(DOMIterables),i=0;i<collections.length;i++){var key,NAME=collections[i],explicit=DOMIterables[NAME],Collection=global[NAME],proto=Collection&&Collection.prototype;if(proto&&(proto[ITERATOR]||hide(proto,ITERATOR,ArrayValues),proto[TO_STRING_TAG]||hide(proto,TO_STRING_TAG,NAME),Iterators[NAME]=ArrayValues,explicit))for(key in $iterators)proto[key]||redefine(proto,key,$iterators[key],!0)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/web.dom.iterable.js","/../../../../node_modules/core-js/modules")},{"./_global":48,"./_hide":50,"./_iterators":66,"./_object-keys":88,"./_redefine":99,"./_wks":136,"./es6.array.iterator":149,buffer:5,hXUCVB:4}],334:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var $export=require("./_export"),$task=require("./_task");$export($export.G+$export.B,{setImmediate:$task.set,clearImmediate:$task.clear})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/web.immediate.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_task":120,buffer:5,hXUCVB:4}],335:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var global=require("./_global"),$export=require("./_export"),userAgent=require("./_user-agent"),slice=[].slice,MSIE=/MSIE .\./.test(userAgent),wrap=function(set){return function(fn,time){var boundArgs=arguments.length>2,args=boundArgs?slice.call(arguments,2):!1;return set(boundArgs?function(){("function"==typeof fn?fn:Function(fn)).apply(this,args)}:fn,time)}};$export($export.G+$export.B+$export.F*MSIE,{setTimeout:wrap(global.setTimeout),setInterval:wrap(global.setInterval)})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/modules/web.timers.js","/../../../../node_modules/core-js/modules")},{"./_export":40,"./_global":48,"./_user-agent":132,buffer:5,hXUCVB:4}],336:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){require("./modules/es6.symbol"),require("./modules/es6.object.create"),require("./modules/es6.object.define-property"),require("./modules/es6.object.define-properties"),require("./modules/es6.object.get-own-property-descriptor"),require("./modules/es6.object.get-prototype-of"),require("./modules/es6.object.keys"),require("./modules/es6.object.get-own-property-names"),require("./modules/es6.object.freeze"),require("./modules/es6.object.seal"),require("./modules/es6.object.prevent-extensions"),require("./modules/es6.object.is-frozen"),require("./modules/es6.object.is-sealed"),require("./modules/es6.object.is-extensible"),require("./modules/es6.object.assign"),require("./modules/es6.object.is"),require("./modules/es6.object.set-prototype-of"),require("./modules/es6.object.to-string"),require("./modules/es6.function.bind"),require("./modules/es6.function.name"),require("./modules/es6.function.has-instance"),require("./modules/es6.parse-int"),require("./modules/es6.parse-float"),require("./modules/es6.number.constructor"),require("./modules/es6.number.to-fixed"),require("./modules/es6.number.to-precision"),require("./modules/es6.number.epsilon"),require("./modules/es6.number.is-finite"),require("./modules/es6.number.is-integer"),require("./modules/es6.number.is-nan"),require("./modules/es6.number.is-safe-integer"),require("./modules/es6.number.max-safe-integer"),require("./modules/es6.number.min-safe-integer"),require("./modules/es6.number.parse-float"),require("./modules/es6.number.parse-int"),require("./modules/es6.math.acosh"),require("./modules/es6.math.asinh"),require("./modules/es6.math.atanh"),require("./modules/es6.math.cbrt"),require("./modules/es6.math.clz32"),require("./modules/es6.math.cosh"),require("./modules/es6.math.expm1"),require("./modules/es6.math.fround"),require("./modules/es6.math.hypot"),require("./modules/es6.math.imul"),require("./modules/es6.math.log10"),require("./modules/es6.math.log1p"),require("./modules/es6.math.log2"),require("./modules/es6.math.sign"),require("./modules/es6.math.sinh"),require("./modules/es6.math.tanh"),require("./modules/es6.math.trunc"),require("./modules/es6.string.from-code-point"),require("./modules/es6.string.raw"),require("./modules/es6.string.trim"),require("./modules/es6.string.iterator"),require("./modules/es6.string.code-point-at"),require("./modules/es6.string.ends-with"),require("./modules/es6.string.includes"),require("./modules/es6.string.repeat"),require("./modules/es6.string.starts-with"),require("./modules/es6.string.anchor"),require("./modules/es6.string.big"),require("./modules/es6.string.blink"),require("./modules/es6.string.bold"),require("./modules/es6.string.fixed"),require("./modules/es6.string.fontcolor"),require("./modules/es6.string.fontsize"),require("./modules/es6.string.italics"),require("./modules/es6.string.link"),require("./modules/es6.string.small"),require("./modules/es6.string.strike"),require("./modules/es6.string.sub"),require("./modules/es6.string.sup"),require("./modules/es6.date.now"),require("./modules/es6.date.to-json"),require("./modules/es6.date.to-iso-string"),require("./modules/es6.date.to-string"),require("./modules/es6.date.to-primitive"),require("./modules/es6.array.is-array"),require("./modules/es6.array.from"),require("./modules/es6.array.of"),require("./modules/es6.array.join"),require("./modules/es6.array.slice"),require("./modules/es6.array.sort"),require("./modules/es6.array.for-each"),require("./modules/es6.array.map"),require("./modules/es6.array.filter"),require("./modules/es6.array.some"),require("./modules/es6.array.every"),require("./modules/es6.array.reduce"),require("./modules/es6.array.reduce-right"),require("./modules/es6.array.index-of"),require("./modules/es6.array.last-index-of"),require("./modules/es6.array.copy-within"),require("./modules/es6.array.fill"),require("./modules/es6.array.find"),require("./modules/es6.array.find-index"),require("./modules/es6.array.species"),require("./modules/es6.array.iterator"),require("./modules/es6.regexp.constructor"),require("./modules/es6.regexp.exec"),require("./modules/es6.regexp.to-string"),require("./modules/es6.regexp.flags"),require("./modules/es6.regexp.match"),require("./modules/es6.regexp.replace"),require("./modules/es6.regexp.search"),require("./modules/es6.regexp.split"),require("./modules/es6.promise"),require("./modules/es6.map"),require("./modules/es6.set"),require("./modules/es6.weak-map"),require("./modules/es6.weak-set"),require("./modules/es6.typed.array-buffer"),require("./modules/es6.typed.data-view"),require("./modules/es6.typed.int8-array"),require("./modules/es6.typed.uint8-array"),require("./modules/es6.typed.uint8-clamped-array"),require("./modules/es6.typed.int16-array"),require("./modules/es6.typed.uint16-array"),require("./modules/es6.typed.int32-array"),require("./modules/es6.typed.uint32-array"),require("./modules/es6.typed.float32-array"),require("./modules/es6.typed.float64-array"),require("./modules/es6.reflect.apply"),require("./modules/es6.reflect.construct"),require("./modules/es6.reflect.define-property"),require("./modules/es6.reflect.delete-property"),require("./modules/es6.reflect.enumerate"),require("./modules/es6.reflect.get"),require("./modules/es6.reflect.get-own-property-descriptor"),require("./modules/es6.reflect.get-prototype-of"),require("./modules/es6.reflect.has"),require("./modules/es6.reflect.is-extensible"),require("./modules/es6.reflect.own-keys"),require("./modules/es6.reflect.prevent-extensions"),require("./modules/es6.reflect.set"),require("./modules/es6.reflect.set-prototype-of"),require("./modules/es7.array.includes"),require("./modules/es7.array.flat-map"),require("./modules/es7.array.flatten"),require("./modules/es7.string.at"),require("./modules/es7.string.pad-start"),require("./modules/es7.string.pad-end"),require("./modules/es7.string.trim-left"),require("./modules/es7.string.trim-right"),require("./modules/es7.string.match-all"),require("./modules/es7.symbol.async-iterator"),require("./modules/es7.symbol.observable"),require("./modules/es7.object.get-own-property-descriptors"),require("./modules/es7.object.values"),require("./modules/es7.object.entries"),require("./modules/es7.object.define-getter"),require("./modules/es7.object.define-setter"),require("./modules/es7.object.lookup-getter"),require("./modules/es7.object.lookup-setter"),require("./modules/es7.map.to-json"),require("./modules/es7.set.to-json"),require("./modules/es7.map.of"),require("./modules/es7.set.of"),require("./modules/es7.weak-map.of"),require("./modules/es7.weak-set.of"),require("./modules/es7.map.from"),require("./modules/es7.set.from"),require("./modules/es7.weak-map.from"),require("./modules/es7.weak-set.from"),require("./modules/es7.global"),require("./modules/es7.system.global"),require("./modules/es7.error.is-error"),require("./modules/es7.math.clamp"),require("./modules/es7.math.deg-per-rad"),require("./modules/es7.math.degrees"),require("./modules/es7.math.fscale"),require("./modules/es7.math.iaddh"),require("./modules/es7.math.isubh"),require("./modules/es7.math.imulh"),require("./modules/es7.math.rad-per-deg"),require("./modules/es7.math.radians"),require("./modules/es7.math.scale"),require("./modules/es7.math.umulh"),require("./modules/es7.math.signbit"),require("./modules/es7.promise.finally"),require("./modules/es7.promise.try"),require("./modules/es7.reflect.define-metadata"),require("./modules/es7.reflect.delete-metadata"),require("./modules/es7.reflect.get-metadata"),require("./modules/es7.reflect.get-metadata-keys"),require("./modules/es7.reflect.get-own-metadata"),require("./modules/es7.reflect.get-own-metadata-keys"),require("./modules/es7.reflect.has-metadata"),require("./modules/es7.reflect.has-own-metadata"),require("./modules/es7.reflect.metadata"),require("./modules/es7.asap"),require("./modules/es7.observable"),require("./modules/web.timers"),require("./modules/web.immediate"),require("./modules/web.dom.iterable"),module.exports=require("./modules/_core")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/core-js/shim.js","/../../../../node_modules/core-js")},{"./modules/_core":30,"./modules/es6.array.copy-within":139,"./modules/es6.array.every":140,"./modules/es6.array.fill":141,"./modules/es6.array.filter":142,"./modules/es6.array.find":144,"./modules/es6.array.find-index":143,"./modules/es6.array.for-each":145,"./modules/es6.array.from":146,"./modules/es6.array.index-of":147,"./modules/es6.array.is-array":148,"./modules/es6.array.iterator":149,"./modules/es6.array.join":150,"./modules/es6.array.last-index-of":151,"./modules/es6.array.map":152,"./modules/es6.array.of":153,"./modules/es6.array.reduce":155,"./modules/es6.array.reduce-right":154,"./modules/es6.array.slice":156,"./modules/es6.array.some":157,"./modules/es6.array.sort":158,"./modules/es6.array.species":159,"./modules/es6.date.now":160,"./modules/es6.date.to-iso-string":161,"./modules/es6.date.to-json":162,"./modules/es6.date.to-primitive":163,"./modules/es6.date.to-string":164,"./modules/es6.function.bind":165,"./modules/es6.function.has-instance":166,"./modules/es6.function.name":167,"./modules/es6.map":168,"./modules/es6.math.acosh":169,"./modules/es6.math.asinh":170,"./modules/es6.math.atanh":171,"./modules/es6.math.cbrt":172,"./modules/es6.math.clz32":173,"./modules/es6.math.cosh":174,"./modules/es6.math.expm1":175,"./modules/es6.math.fround":176,"./modules/es6.math.hypot":177,"./modules/es6.math.imul":178,"./modules/es6.math.log10":179,"./modules/es6.math.log1p":180,"./modules/es6.math.log2":181,"./modules/es6.math.sign":182,"./modules/es6.math.sinh":183,"./modules/es6.math.tanh":184,"./modules/es6.math.trunc":185,"./modules/es6.number.constructor":186,"./modules/es6.number.epsilon":187,"./modules/es6.number.is-finite":188,"./modules/es6.number.is-integer":189,"./modules/es6.number.is-nan":190,"./modules/es6.number.is-safe-integer":191,"./modules/es6.number.max-safe-integer":192,"./modules/es6.number.min-safe-integer":193,"./modules/es6.number.parse-float":194,"./modules/es6.number.parse-int":195,"./modules/es6.number.to-fixed":196,"./modules/es6.number.to-precision":197,"./modules/es6.object.assign":198,"./modules/es6.object.create":199,"./modules/es6.object.define-properties":200,"./modules/es6.object.define-property":201,"./modules/es6.object.freeze":202,"./modules/es6.object.get-own-property-descriptor":203,"./modules/es6.object.get-own-property-names":204,"./modules/es6.object.get-prototype-of":205,"./modules/es6.object.is":209,"./modules/es6.object.is-extensible":206,"./modules/es6.object.is-frozen":207,"./modules/es6.object.is-sealed":208,"./modules/es6.object.keys":210,"./modules/es6.object.prevent-extensions":211,"./modules/es6.object.seal":212,"./modules/es6.object.set-prototype-of":213,"./modules/es6.object.to-string":214,"./modules/es6.parse-float":215,"./modules/es6.parse-int":216,"./modules/es6.promise":217,"./modules/es6.reflect.apply":218,"./modules/es6.reflect.construct":219,"./modules/es6.reflect.define-property":220,"./modules/es6.reflect.delete-property":221,"./modules/es6.reflect.enumerate":222,"./modules/es6.reflect.get":225,"./modules/es6.reflect.get-own-property-descriptor":223,"./modules/es6.reflect.get-prototype-of":224,"./modules/es6.reflect.has":226,"./modules/es6.reflect.is-extensible":227,"./modules/es6.reflect.own-keys":228,"./modules/es6.reflect.prevent-extensions":229,"./modules/es6.reflect.set":231,"./modules/es6.reflect.set-prototype-of":230,"./modules/es6.regexp.constructor":232,"./modules/es6.regexp.exec":233,"./modules/es6.regexp.flags":234,"./modules/es6.regexp.match":235,"./modules/es6.regexp.replace":236,"./modules/es6.regexp.search":237,"./modules/es6.regexp.split":238,"./modules/es6.regexp.to-string":239,"./modules/es6.set":240,"./modules/es6.string.anchor":241,"./modules/es6.string.big":242,"./modules/es6.string.blink":243,"./modules/es6.string.bold":244,"./modules/es6.string.code-point-at":245,"./modules/es6.string.ends-with":246,"./modules/es6.string.fixed":247,"./modules/es6.string.fontcolor":248,"./modules/es6.string.fontsize":249,"./modules/es6.string.from-code-point":250,"./modules/es6.string.includes":251,"./modules/es6.string.italics":252,"./modules/es6.string.iterator":253,"./modules/es6.string.link":254,"./modules/es6.string.raw":255,"./modules/es6.string.repeat":256,"./modules/es6.string.small":257,"./modules/es6.string.starts-with":258,"./modules/es6.string.strike":259,"./modules/es6.string.sub":260,"./modules/es6.string.sup":261,"./modules/es6.string.trim":262,"./modules/es6.symbol":263,"./modules/es6.typed.array-buffer":264,"./modules/es6.typed.data-view":265,"./modules/es6.typed.float32-array":266,"./modules/es6.typed.float64-array":267,"./modules/es6.typed.int16-array":268,"./modules/es6.typed.int32-array":269,
"./modules/es6.typed.int8-array":270,"./modules/es6.typed.uint16-array":271,"./modules/es6.typed.uint32-array":272,"./modules/es6.typed.uint8-array":273,"./modules/es6.typed.uint8-clamped-array":274,"./modules/es6.weak-map":275,"./modules/es6.weak-set":276,"./modules/es7.array.flat-map":277,"./modules/es7.array.flatten":278,"./modules/es7.array.includes":279,"./modules/es7.asap":280,"./modules/es7.error.is-error":281,"./modules/es7.global":282,"./modules/es7.map.from":283,"./modules/es7.map.of":284,"./modules/es7.map.to-json":285,"./modules/es7.math.clamp":286,"./modules/es7.math.deg-per-rad":287,"./modules/es7.math.degrees":288,"./modules/es7.math.fscale":289,"./modules/es7.math.iaddh":290,"./modules/es7.math.imulh":291,"./modules/es7.math.isubh":292,"./modules/es7.math.rad-per-deg":293,"./modules/es7.math.radians":294,"./modules/es7.math.scale":295,"./modules/es7.math.signbit":296,"./modules/es7.math.umulh":297,"./modules/es7.object.define-getter":298,"./modules/es7.object.define-setter":299,"./modules/es7.object.entries":300,"./modules/es7.object.get-own-property-descriptors":301,"./modules/es7.object.lookup-getter":302,"./modules/es7.object.lookup-setter":303,"./modules/es7.object.values":304,"./modules/es7.observable":305,"./modules/es7.promise.finally":306,"./modules/es7.promise.try":307,"./modules/es7.reflect.define-metadata":308,"./modules/es7.reflect.delete-metadata":309,"./modules/es7.reflect.get-metadata":311,"./modules/es7.reflect.get-metadata-keys":310,"./modules/es7.reflect.get-own-metadata":313,"./modules/es7.reflect.get-own-metadata-keys":312,"./modules/es7.reflect.has-metadata":314,"./modules/es7.reflect.has-own-metadata":315,"./modules/es7.reflect.metadata":316,"./modules/es7.set.from":317,"./modules/es7.set.of":318,"./modules/es7.set.to-json":319,"./modules/es7.string.at":320,"./modules/es7.string.match-all":321,"./modules/es7.string.pad-end":322,"./modules/es7.string.pad-start":323,"./modules/es7.string.trim-left":324,"./modules/es7.string.trim-right":325,"./modules/es7.symbol.async-iterator":326,"./modules/es7.symbol.observable":327,"./modules/es7.system.global":328,"./modules/es7.weak-map.from":329,"./modules/es7.weak-map.of":330,"./modules/es7.weak-set.from":331,"./modules/es7.weak-set.of":332,"./modules/web.dom.iterable":333,"./modules/web.immediate":334,"./modules/web.timers":335,buffer:5,hXUCVB:4}],337:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function identity(fn){return fn}function factory(ReactComponent,isValidElement,ReactNoopUpdateQueue){function validateMethodOverride(isAlreadyDefined,name){var specPolicy=ReactClassInterface.hasOwnProperty(name)?ReactClassInterface[name]:null;ReactClassMixin.hasOwnProperty(name)&&_invariant("OVERRIDE_BASE"===specPolicy,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",name),isAlreadyDefined&&_invariant("DEFINE_MANY"===specPolicy||"DEFINE_MANY_MERGED"===specPolicy,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name)}function mixSpecIntoComponent(Constructor,spec){if(spec){_invariant("function"!=typeof spec,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),_invariant(!isValidElement(spec),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var proto=Constructor.prototype,autoBindPairs=proto.__reactAutoBindPairs;spec.hasOwnProperty(MIXINS_KEY)&&RESERVED_SPEC_KEYS.mixins(Constructor,spec.mixins);for(var name in spec)if(spec.hasOwnProperty(name)&&name!==MIXINS_KEY){var property=spec[name],isAlreadyDefined=proto.hasOwnProperty(name);if(validateMethodOverride(isAlreadyDefined,name),RESERVED_SPEC_KEYS.hasOwnProperty(name))RESERVED_SPEC_KEYS[name](Constructor,property);else{var isReactClassMethod=ReactClassInterface.hasOwnProperty(name),isFunction="function"==typeof property,shouldAutoBind=isFunction&&!isReactClassMethod&&!isAlreadyDefined&&spec.autobind!==!1;if(shouldAutoBind)autoBindPairs.push(name,property),proto[name]=property;else if(isAlreadyDefined){var specPolicy=ReactClassInterface[name];_invariant(isReactClassMethod&&("DEFINE_MANY_MERGED"===specPolicy||"DEFINE_MANY"===specPolicy),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",specPolicy,name),"DEFINE_MANY_MERGED"===specPolicy?proto[name]=createMergedResultFunction(proto[name],property):"DEFINE_MANY"===specPolicy&&(proto[name]=createChainedFunction(proto[name],property))}else proto[name]=property}}}else;}function mixStaticSpecIntoComponent(Constructor,statics){if(statics)for(var name in statics){var property=statics[name];if(statics.hasOwnProperty(name)){var isReserved=name in RESERVED_SPEC_KEYS;_invariant(!isReserved,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',name);var isAlreadyDefined=name in Constructor;if(isAlreadyDefined){var specPolicy=ReactClassStaticInterface.hasOwnProperty(name)?ReactClassStaticInterface[name]:null;return _invariant("DEFINE_MANY_MERGED"===specPolicy,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",name),void(Constructor[name]=createMergedResultFunction(Constructor[name],property))}Constructor[name]=property}}}function mergeIntoWithNoDuplicateKeys(one,two){_invariant(one&&two&&"object"==typeof one&&"object"==typeof two,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects.");for(var key in two)two.hasOwnProperty(key)&&(_invariant(void 0===one[key],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",key),one[key]=two[key]);return one}function createMergedResultFunction(one,two){return function(){var a=one.apply(this,arguments),b=two.apply(this,arguments);if(null==a)return b;if(null==b)return a;var c={};return mergeIntoWithNoDuplicateKeys(c,a),mergeIntoWithNoDuplicateKeys(c,b),c}}function createChainedFunction(one,two){return function(){one.apply(this,arguments),two.apply(this,arguments)}}function bindAutoBindMethod(component,method){var boundMethod=method.bind(component);return boundMethod}function bindAutoBindMethods(component){for(var pairs=component.__reactAutoBindPairs,i=0;i<pairs.length;i+=2){var autoBindKey=pairs[i],method=pairs[i+1];component[autoBindKey]=bindAutoBindMethod(component,method)}}function createClass(spec){var Constructor=identity(function(props,context,updater){this.__reactAutoBindPairs.length&&bindAutoBindMethods(this),this.props=props,this.context=context,this.refs=emptyObject,this.updater=updater||ReactNoopUpdateQueue,this.state=null;var initialState=this.getInitialState?this.getInitialState():null;_invariant("object"==typeof initialState&&!Array.isArray(initialState),"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"),this.state=initialState});Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,Constructor.prototype.__reactAutoBindPairs=[],injectedMixins.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,IsMountedPreMixin),mixSpecIntoComponent(Constructor,spec),mixSpecIntoComponent(Constructor,IsMountedPostMixin),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),_invariant(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method.");for(var methodName in ReactClassInterface)Constructor.prototype[methodName]||(Constructor.prototype[methodName]=null);return Constructor}var injectedMixins=[],ReactClassInterface={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},ReactClassStaticInterface={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},RESERVED_SPEC_KEYS={displayName:function(Constructor,displayName){Constructor.displayName=displayName},mixins:function(Constructor,mixins){if(mixins)for(var i=0;i<mixins.length;i++)mixSpecIntoComponent(Constructor,mixins[i])},childContextTypes:function(Constructor,childContextTypes){Constructor.childContextTypes=_assign({},Constructor.childContextTypes,childContextTypes)},contextTypes:function(Constructor,contextTypes){Constructor.contextTypes=_assign({},Constructor.contextTypes,contextTypes)},getDefaultProps:function(Constructor,getDefaultProps){Constructor.getDefaultProps?Constructor.getDefaultProps=createMergedResultFunction(Constructor.getDefaultProps,getDefaultProps):Constructor.getDefaultProps=getDefaultProps},propTypes:function(Constructor,propTypes){Constructor.propTypes=_assign({},Constructor.propTypes,propTypes)},statics:function(Constructor,statics){mixStaticSpecIntoComponent(Constructor,statics)},autobind:function(){}},IsMountedPreMixin={componentDidMount:function(){this.__isMounted=!0}},IsMountedPostMixin={componentWillUnmount:function(){this.__isMounted=!1}},ReactClassMixin={replaceState:function(newState,callback){this.updater.enqueueReplaceState(this,newState,callback)},isMounted:function(){return!!this.__isMounted}},ReactClassComponent=function(){};return _assign(ReactClassComponent.prototype,ReactComponent.prototype,ReactClassMixin),createClass}var ReactPropTypeLocationNames,_assign=require("object-assign"),emptyObject=require("fbjs/lib/emptyObject"),_invariant=require("fbjs/lib/invariant"),MIXINS_KEY="mixins";ReactPropTypeLocationNames={},module.exports=factory}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/create-react-class/factory.js","/../../../../node_modules/create-react-class")},{buffer:5,"fbjs/lib/emptyObject":347,"fbjs/lib/invariant":348,"fbjs/lib/warning":350,hXUCVB:4,"object-assign":354}],338:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var React=require("react"),factory=require("./factory");if("undefined"==typeof React)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var ReactNoopUpdateQueue=(new React.Component).updater;module.exports=factory(React.Component,React.isValidElement,ReactNoopUpdateQueue)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/create-react-class/index.js","/../../../../node_modules/create-react-class")},{"./factory":337,buffer:5,hXUCVB:4,react:385}],339:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function addClass(element,className){element.classList?element.classList.add(className):(0,_hasClass["default"])(element,className)||("string"==typeof element.className?element.className=element.className+" "+className:element.setAttribute("class",(element.className&&element.className.baseVal||"")+" "+className))}var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports["default"]=addClass;var _hasClass=_interopRequireDefault(require("./hasClass"));module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/class/addClass.js","/../../../../node_modules/dom-helpers/class")},{"./hasClass":340,"@babel/runtime/helpers/interopRequireDefault":1,buffer:5,hXUCVB:4}],340:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function hasClass(element,className){return element.classList?!!className&&element.classList.contains(className):-1!==(" "+(element.className.baseVal||element.className)+" ").indexOf(" "+className+" ")}exports.__esModule=!0,exports["default"]=hasClass,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/class/hasClass.js","/../../../../node_modules/dom-helpers/class")},{buffer:5,hXUCVB:4}],341:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function replaceClassName(origClass,classToRemove){return origClass.replace(new RegExp("(^|\\s)"+classToRemove+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}module.exports=function(element,className){element.classList?element.classList.remove(className):"string"==typeof element.className?element.className=replaceClassName(element.className,className):element.setAttribute("class",replaceClassName(element.className&&element.className.baseVal||"",className))}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/class/removeClass.js","/../../../../node_modules/dom-helpers/class")},{buffer:5,hXUCVB:4}],342:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function getTransitionProperties(){for(var transitionEnd,animationEnd,style=document.createElement("div").style,vendorMap={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},vendors=Object.keys(vendorMap),prefix="",i=0;i<vendors.length;i++){var vendor=vendors[i];if(vendor+"TransitionProperty"in style){prefix="-"+vendor.toLowerCase(),transitionEnd=vendorMap[vendor]("TransitionEnd"),animationEnd=vendorMap[vendor]("AnimationEnd");break}}return!transitionEnd&&"transitionProperty"in style&&(transitionEnd="transitionend"),!animationEnd&&"animationName"in style&&(animationEnd="animationend"),style=null,{animationEnd:animationEnd,transitionEnd:transitionEnd,prefix:prefix}}var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports["default"]=exports.animationEnd=exports.animationDelay=exports.animationTiming=exports.animationDuration=exports.animationName=exports.transitionEnd=exports.transitionDuration=exports.transitionDelay=exports.transitionTiming=exports.transitionProperty=exports.transform=void 0;var _inDOM=_interopRequireDefault(require("../util/inDOM")),transform="transform";exports.transform=transform;var prefix,transitionEnd,animationEnd;exports.animationEnd=animationEnd,exports.transitionEnd=transitionEnd;var transitionProperty,transitionDuration,transitionTiming,transitionDelay;exports.transitionDelay=transitionDelay,exports.transitionTiming=transitionTiming,exports.transitionDuration=transitionDuration,exports.transitionProperty=transitionProperty;var animationName,animationDuration,animationTiming,animationDelay;if(exports.animationDelay=animationDelay,exports.animationTiming=animationTiming,exports.animationDuration=animationDuration,exports.animationName=animationName,_inDOM["default"]){var _getTransitionPropert=getTransitionProperties();prefix=_getTransitionPropert.prefix,exports.transitionEnd=transitionEnd=_getTransitionPropert.transitionEnd,exports.animationEnd=animationEnd=_getTransitionPropert.animationEnd,exports.transform=transform=prefix+"-"+transform,exports.transitionProperty=transitionProperty=prefix+"-transition-property",exports.transitionDuration=transitionDuration=prefix+"-transition-duration",exports.transitionDelay=transitionDelay=prefix+"-transition-delay",exports.transitionTiming=transitionTiming=prefix+"-transition-timing-function",exports.animationName=animationName=prefix+"-animation-name",exports.animationDuration=animationDuration=prefix+"-animation-duration",exports.animationTiming=animationTiming=prefix+"-animation-delay",exports.animationDelay=animationDelay=prefix+"-animation-timing-function"}var _default={transform:transform,end:transitionEnd,property:transitionProperty,timing:transitionTiming,delay:transitionDelay,duration:transitionDuration};exports["default"]=_default}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/transition/properties.js","/../../../../node_modules/dom-helpers/transition")},{"../util/inDOM":343,"@babel/runtime/helpers/interopRequireDefault":1,buffer:5,hXUCVB:4}],343:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";exports.__esModule=!0,exports["default"]=void 0;var _default=!("undefined"==typeof window||!window.document||!window.document.createElement);exports["default"]=_default,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/util/inDOM.js","/../../../../node_modules/dom-helpers/util")},{buffer:5,hXUCVB:4}],344:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function fallback(fn){var curr=(new Date).getTime(),ms=Math.max(0,16-(curr-prev)),req=setTimeout(fn,ms);return prev=curr,req}var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");exports.__esModule=!0,exports["default"]=void 0;var compatRaf,_inDOM=_interopRequireDefault(require("./inDOM")),vendors=["","webkit","moz","o","ms"],cancel="clearTimeout",raf=fallback,getKey=function(vendor,k){return vendor+(vendor?k[0].toUpperCase()+k.substr(1):k)+"AnimationFrame"};_inDOM["default"]&&vendors.some(function(vendor){var rafKey=getKey(vendor,"request");return rafKey in window?(cancel=getKey(vendor,"cancel"),raf=function(cb){return window[rafKey](cb)}):void 0});var prev=(new Date).getTime();compatRaf=function(cb){return raf(cb)},compatRaf.cancel=function(id){window[cancel]&&"function"==typeof window[cancel]&&window[cancel](id)};var _default=compatRaf;exports["default"]=_default,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/dom-helpers/util/requestAnimationFrame.js","/../../../../node_modules/dom-helpers/util")},{"./inDOM":343,"@babel/runtime/helpers/interopRequireDefault":1,buffer:5,hXUCVB:4}],345:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function EE(fn,context,once){this.fn=fn,this.context=context,this.once=once||!1}function EventEmitter(){}EventEmitter.prototype._events=void 0,EventEmitter.prototype.listeners=function(event){if(!this._events||!this._events[event])return[];if(this._events[event].fn)return[this._events[event].fn];for(var i=0,l=this._events[event].length,ee=new Array(l);l>i;i++)ee[i]=this._events[event][i].fn;return ee},EventEmitter.prototype.emit=function(event,a1,a2,a3,a4,a5){if(!this._events||!this._events[event])return!1;var args,i,listeners=this._events[event],len=arguments.length;if("function"==typeof listeners.fn){switch(listeners.once&&this.removeListener(event,listeners.fn,!0),len){case 1:return listeners.fn.call(listeners.context),!0;case 2:return listeners.fn.call(listeners.context,a1),!0;case 3:return listeners.fn.call(listeners.context,a1,a2),!0;case 4:return listeners.fn.call(listeners.context,a1,a2,a3),!0;case 5:return listeners.fn.call(listeners.context,a1,a2,a3,a4),!0;case 6:return listeners.fn.call(listeners.context,a1,a2,a3,a4,a5),!0}for(i=1,args=new Array(len-1);len>i;i++)args[i-1]=arguments[i];listeners.fn.apply(listeners.context,args)}else{var j,length=listeners.length;for(i=0;length>i;i++)switch(listeners[i].once&&this.removeListener(event,listeners[i].fn,!0),len){case 1:listeners[i].fn.call(listeners[i].context);break;case 2:listeners[i].fn.call(listeners[i].context,a1);break;case 3:listeners[i].fn.call(listeners[i].context,a1,a2);break;default:if(!args)for(j=1,args=new Array(len-1);len>j;j++)args[j-1]=arguments[j];listeners[i].fn.apply(listeners[i].context,args)}}return!0},EventEmitter.prototype.on=function(event,fn,context){var listener=new EE(fn,context||this);return this._events||(this._events={}),this._events[event]?this._events[event].fn?this._events[event]=[this._events[event],listener]:this._events[event].push(listener):this._events[event]=listener,this},EventEmitter.prototype.once=function(event,fn,context){var listener=new EE(fn,context||this,!0);return this._events||(this._events={}),this._events[event]?this._events[event].fn?this._events[event]=[this._events[event],listener]:this._events[event].push(listener):this._events[event]=listener,this},EventEmitter.prototype.removeListener=function(event,fn,once){if(!this._events||!this._events[event])return this;var listeners=this._events[event],events=[];if(fn&&(listeners.fn&&(listeners.fn!==fn||once&&!listeners.once)&&events.push(listeners),!listeners.fn))for(var i=0,length=listeners.length;length>i;i++)(listeners[i].fn!==fn||once&&!listeners[i].once)&&events.push(listeners[i]);return events.length?this._events[event]=1===events.length?events[0]:events:delete this._events[event],this},EventEmitter.prototype.removeAllListeners=function(event){return this._events?(event?delete this._events[event]:this._events={},this):this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.EventEmitter=EventEmitter,EventEmitter.EventEmitter2=EventEmitter,EventEmitter.EventEmitter3=EventEmitter,module.exports=EventEmitter}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/eventemitter3/index.js","/../../../../node_modules/eventemitter3")},{buffer:5,hXUCVB:4}],346:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function makeEmptyFunction(arg){return function(){return arg}}var emptyFunction=function(){};emptyFunction.thatReturns=makeEmptyFunction,emptyFunction.thatReturnsFalse=makeEmptyFunction(!1),emptyFunction.thatReturnsTrue=makeEmptyFunction(!0),emptyFunction.thatReturnsNull=makeEmptyFunction(null),emptyFunction.thatReturnsThis=function(){return this},emptyFunction.thatReturnsArgument=function(arg){return arg},module.exports=emptyFunction}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/fbjs/lib/emptyFunction.js","/../../../../node_modules/fbjs/lib")},{buffer:5,hXUCVB:4}],347:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var emptyObject={};module.exports=emptyObject}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/fbjs/lib/emptyObject.js","/../../../../node_modules/fbjs/lib")},{buffer:5,hXUCVB:4}],348:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function invariant(condition,format,a,b,c,d,e,f){if(validateFormat(format),!condition){var error;if(void 0===format)error=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var args=[a,b,c,d,e,f],argIndex=0;error=new Error(format.replace(/%s/g,function(){return args[argIndex++]})),error.name="Invariant Violation"}throw error.framesToPop=1,error}}var validateFormat=function(format){};module.exports=invariant}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/fbjs/lib/invariant.js","/../../../../node_modules/fbjs/lib")},{buffer:5,hXUCVB:4}],349:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function is(x,y){return x===y?0!==x||0!==y||1/x===1/y:x!==x&&y!==y}function shallowEqual(objA,objB){if(is(objA,objB))return!0;if("object"!=typeof objA||null===objA||"object"!=typeof objB||null===objB)return!1;var keysA=Object.keys(objA),keysB=Object.keys(objB);if(keysA.length!==keysB.length)return!1;for(var i=0;i<keysA.length;i++)if(!hasOwnProperty.call(objB,keysA[i])||!is(objA[keysA[i]],objB[keysA[i]]))return!1;return!0}var hasOwnProperty=Object.prototype.hasOwnProperty;module.exports=shallowEqual}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/fbjs/lib/shallowEqual.js","/../../../../node_modules/fbjs/lib")},{buffer:5,hXUCVB:4}],350:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var emptyFunction=require("./emptyFunction"),warning=emptyFunction;module.exports=warning}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/fbjs/lib/warning.js","/../../../../node_modules/fbjs/lib")},{"./emptyFunction":346,buffer:5,hXUCVB:4}],351:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:(s?-1:1)*(1/0);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=0>value||0===value&&0>1/value?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias),value*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/ieee754/index.js","/../../../../node_modules/ieee754")},{buffer:5,hXUCVB:4}],352:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){(function(){function baseCompareAscending(value,other){if(value!==other){var valIsNull=null===value,valIsUndef=value===undefined,valIsReflexive=value===value,othIsNull=null===other,othIsUndef=other===undefined,othIsReflexive=other===other;if(value>other&&!othIsNull||!valIsReflexive||valIsNull&&!othIsUndef&&othIsReflexive||valIsUndef&&othIsReflexive)return 1;if(other>value&&!valIsNull||!othIsReflexive||othIsNull&&!valIsUndef&&valIsReflexive||othIsUndef&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!==value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return null==value?"":value+""}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result){if(index>=ordersLength)return result;var order=orders[index];return result*("asc"===order||order===!0?1:-1)}}return object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeRegExpChar(chr,leadingChar,whitespaceChar){return leadingChar?chr=regexpEscapes[chr]:whitespaceChar&&(chr=stringEscapes[chr]),"\\"+chr}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!==other)return index}return-1}function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return 160>=charCode&&charCode>=9&&13>=charCode||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(8202>=charCode||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,
result[++resIndex]=index);return result}function sortedUniq(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}function runInContext(context){function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=POSITIVE_INFINITY,this.__views__=[]}function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=arrayCopy(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=arrayCopy(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=arrayCopy(this.__views__),result}function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else result=this.clone(),result.__dir__*=-1;return result}function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=0>dir,arrLength=isArr?array.length:0,view=getView(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||LARGE_ARRAY_SIZE>arrLength||arrLength==length&&takeCount==length)return baseWrapperValue(isRight&&isArr?array.reverse():array,this.__actions__);var result=[];outer:for(;length--&&takeCount>resIndex;){index+=dir;for(var iterIndex=-1,value=array[index];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}result[resIndex++]=value}return result}function MapCache(){this.__data__={}}function mapDelete(key){return this.has(key)&&delete this.__data__[key]}function mapGet(key){return"__proto__"==key?undefined:this.__data__[key]}function mapHas(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)}function mapSet(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data,result="string"==typeof value||isObject(value)?data.set.has(value):data.hash[value];return result?0:-1}function cachePush(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0}function arrayConcat(array,other){for(var index=-1,length=array.length,othIndex=-1,othLength=other.length,result=Array(length+othLength);++index<length;)result[index]=array[index];for(;++othIndex<othLength;)result[index++]=other[othIndex];return result}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayEachRight(array,iteratee){for(var length=array.length;length--&&iteratee(array[length],length,array)!==!1;);return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayExtremum(array,iteratee,comparator,exValue){for(var index=-1,length=array.length,computed=exValue,result=computed;++index<length;){var value=array[index],current=+iteratee(value);comparator(current,computed)&&(computed=current,result=value)}return result}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function arraySum(array,iteratee){for(var length=array.length,result=0;length--;)result+=+iteratee(array[length])||0;return result}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){for(var index=-1,props=keys(source),length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result===result?result===value:value!==value)&&(value!==undefined||key in object)||(object[key]=result)}return object}function baseAssign(object,source){return null==source?object:baseCopy(source,keys(source),object)}function baseAt(collection,props){for(var index=-1,isNil=null==collection,isArr=!isNil&&isArrayLike(collection),length=isArr?collection.length:0,propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];isArr?result[index]=isIndex(key,length)?collection[key]:undefined:result[index]=isNil?undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?initCloneByTag(value,tag,isDeep):object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=LARGE_ARRAY_SIZE?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value===value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseExtremum(collection,iteratee,comparator,exValue){var computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=+iteratee(value,index,collection);(comparator(current,computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}function baseFill(array,value,start,end){var length=array.length;for(start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end>>>0,start>>>=0;length>start;)array[start++]=value;return array}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){return predicate(value,key,collection)?(result=retKey?key:value,!1):void 0}),result}function baseFlatten(array,isDeep,isStrict,result){result||(result=[]);for(var index=-1,length=array.length;++index<length;){var value=array[index];isObjectLike(value)&&isArrayLike(value)&&(isStrict||isArray(value)||isArguments(value))?isDeep?baseFlatten(value,isDeep,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){pathKey!==undefined&&pathKey in toObject(object)&&(path=[pathKey]);for(var index=0,length=path.length;null!=object&&length>index;)object=object[path[index++]];return index&&index==length?object:undefined}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){return value===other?!0:null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsEqualDeep(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=objToString.call(object),objTag==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||(othTag=objToString.call(other),othTag==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag,othIsObj=othTag==objectTag,isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return equalByTag(object,other,objTag);if(!isLoose){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped)return equalFunc(objIsWrapped?object.value():object,othIsWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?equalArrays:equalObjects)(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}function baseIsMatch(object,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=toObject(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(objValue===undefined&&!(key in object))return!1}else{var result=customizer?customizer(objValue,srcValue,key):undefined;if(!(result===undefined?baseIsEqual(srcValue,objValue,customizer,!0):result))return!1}}return!0}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var matchData=getMatchData(source);if(1==matchData.length&&matchData[0][2]){var key=matchData[0][0],value=matchData[0][1];return function(object){return null==object?!1:object[key]===value&&(value!==undefined||key in toObject(object))}}return function(object){return baseIsMatch(object,matchData)}}function baseMatchesProperty(path,srcValue){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(srcValue),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;key=last(path),object=toObject(object)}return object[key]===srcValue?srcValue!==undefined||key in object:baseIsEqual(srcValue,object[key],undefined,!0)}}function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isArrayLike(source)&&(isArray(source)||isTypedArray(source)),props=isSrcArr?undefined:keys(source);return arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),baseMergeDeep(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),result===undefined&&(!isSrcArr||key in object)||!isCommon&&(result===result?result===value:value!==value)||(object[key]=result)}}),object}function baseMergeDeep(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isArrayLike(srcValue)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:isArrayLike(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result===result?result!==value:value===value)&&(object[key]=result)}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyDeep(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}function basePullAt(array,indexes){for(var length=array?indexes.length:0;length--;){var index=indexes[length];if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+nativeFloor(nativeRandom()*(max-min+1))}function baseReduce(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}function baseSlice(array,start,end){var index=-1,length=array.length;start=null==start?0:+start||0,0>start&&(start=-start>length?0:length+start),end=end===undefined||end>length?length:+end||0,0>end&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return result=predicate(value,index,collection),!result}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)});var result=baseMap(collection,function(value){var criteria=arrayMap(iteratees,function(iteratee){return iteratee(value)});return{criteria:criteria,index:++index,value:value}});return baseSortBy(result,function(object,other){return compareMultiple(object,other,orders)})}function baseSum(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=LARGE_ARRAY_SIZE,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value===value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var action=actions[index];result=action.func.apply(action.thisArg,arrayPush([result],action.args))}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value===value&&HALF_MAX_ARRAY_LENGTH>=high){for(;high>low;){var mid=low+high>>>1,computed=array[mid];(retHighest?value>=computed:value>computed)&&null!==computed?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!==value,valIsNull=null===value,valIsUndef=value===undefined;high>low;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),isDef=computed!==undefined,isReflexive=computed===computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsNull?isReflexive&&isDef&&(retHighest||null!=computed):valIsUndef?isReflexive&&(retHighest||isDef):null==computed?!1:retHighest?value>=computed:value>computed;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){var result=new ArrayBuffer(buffer.byteLength),view=new Uint8Array(result);return view.set(new Uint8Array(buffer)),result}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(leftLength+argsLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[offset+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2?sources[length-2]:undefined,guard=length>2?sources[2]:undefined,thisArg=length>1?sources[length-1]:undefined;for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):(customizer="function"==typeof thisArg?thisArg:undefined,length-=customizer?1:0),guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=3>length?undefined:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&iteratee(iterable[index],index,iterable)!==!1;);return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(iteratee(iterable[key],key,iterable)===!1)break}return object}}function createBindWrapper(func,thisArg){function wrapper(){var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(thisArg,arguments)}var Ctor=createCtorWrapper(func);return wrapper}function createCache(values){return nativeCreate&&Set?new SetCache(values):null}function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createCurry(flag){function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=undefined);var result=createWrapper(func,flag,undefined,undefined,undefined,undefined,undefined,arity);return result.placeholder=curryFunc.placeholder,result}return curryFunc}function createDefaults(assigner,customizer){return restParam(function(args){var object=args[0];return null==object?object:(args.push(customizer),assigner.apply(undefined,args))})}function createExtremum(comparator,exValue){return function(collection,iteratee,thisArg){if(thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length){collection=isArray(collection)?collection:toIterable(collection);var result=arrayExtremum(collection,iteratee,comparator,exValue);if(!collection.length||result!==exValue)return result}return baseExtremum(collection,iteratee,comparator,exValue)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?(predicate=getCallback(predicate,thisArg,3),baseFindIndex(array,predicate,fromRight)):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return predicate=getCallback(predicate,thisArg,3),baseFind(object,predicate,objectFunc,!0)}}function createFlow(fromRight){return function(){for(var wrapper,length=arguments.length,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);!wrapper&&LodashWrapper.prototype.thru&&"wrapper"==getFuncName(func)&&(wrapper=new LodashWrapper([],!0))}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var funcName=getFuncName(func),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&data[1]==(ARY_FLAG|CURRY_FLAG|PARTIAL_FLAG|REARG_FLAG)&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value)&&value.length>=LARGE_ARRAY_SIZE)return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return("function"!=typeof iteratee||thisArg!==undefined)&&(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return("function"!=typeof iteratee||thisArg!==undefined)&&(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createObjectMapper(isMapKeys){return function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){var mapped=iteratee(value,key,object);key=isMapKeys?mapped:key,value=isMapKeys?value:mapped,result[key]=value}),result}}function createPadDir(fromRight){return function(string,length,chars){return string=baseToString(string),(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,undefined,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):baseReduce(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if(length-=argsHolders.length,arity>length){var newArgPos=argPos?arrayCopy(argPos):undefined,newArity=nativeMax(arity-length,0),newsHolders=isCurry?argsHolders:undefined,newHoldersRight=isCurry?undefined:argsHolders,newPartials=isCurry?args:undefined,newPartialsRight=isCurry?undefined:args;bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,newPartials,newsHolders,newPartialsRight,newHoldersRight,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return argPos&&(args=reorder(args,argPos)),isAry&&ary<args.length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtorWrapper(func)),fn.apply(thisBinding,args)}var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=isBindKey?undefined:createCtorWrapper(func);return wrapper}function createPadding(string,length,chars){var strLength=string.length;if(length=+length,strLength>=length||!nativeIsFinite(length))return"";var padLength=length-strLength;return chars=null==chars?" ":chars+"",repeat(chars,nativeCeil(padLength/chars.length)).slice(0,padLength)}function createPartialWrapper(func,bitmask,thisArg,partials){function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];var fn=this&&this!==root&&this instanceof wrapper?Ctor:func;return fn.apply(isBind?thisArg:this,args)}var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return wrapper}function createRound(methodName){var func=Math[methodName];return function(number,precision){return precision=precision===undefined?0:+precision||0,precision?(precision=pow(10,precision),
func(number*precision)/precision):func(number)}}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var callback=getCallback(iteratee);return null==iteratee&&callback===baseCallback?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,callback(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=undefined),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(mergeData(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=createBindWrapper(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):createPartialWrapper.apply(undefined,newData);var setter=data?baseSetData:setData;return setter(result,newData)}function equalArrays(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;++index<arrLength;){var arrValue=array[index],othValue=other[index],result=customizer?customizer(isLoose?othValue:arrValue,isLoose?arrValue:othValue,index):undefined;if(result!==undefined){if(result)continue;return!1}if(isLoose){if(!arraySome(other,function(othValue){return arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}))return!1}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))return!1}return!0}function equalByTag(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}function equalObjects(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isLoose)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isLoose?key in other:hasOwnProperty.call(other,key)))return!1}for(var skipCtor=isLoose;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key],result=customizer?customizer(isLoose?othValue:objValue,isLoose?objValue:othValue,key):undefined;if(!(result===undefined?equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB):result))return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}function getFuncName(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}function getMatchData(object){for(var result=pairs(object),length=result.length;length--;)result[length][2]=isStrictComparable(result[length][1]);return result}function getNative(object,key){var value=null==object?undefined:object[key];return isNative(value)?value:undefined}function getView(start,end,transforms){for(var index=-1,length=transforms.length;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}function initCloneArray(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}function invokePath(object,path,args){null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isArrayLike(value){return null!=value&&isLength(getLength(value))}function isIndex(value,length){return value="number"==typeof value||reIsUint.test(value)?+value:-1,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&length>value}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object){var other=object[index];return value===value?value===other:other!==other}return!1}function isKey(value,object){var type=typeof value;if("string"==type&&reIsPlainProp.test(value)||"number"==type)return!0;if(isArray(value))return!1;var result=!reIsDeepProp.test(value);return result||null!=object&&value in toObject(object)}function isLaziable(func){var funcName=getFuncName(func);if(!(funcName in LazyWrapper.prototype))return!1;var other=lodash[funcName];if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&MAX_SAFE_INTEGER>=value}function isStrictComparable(value){return value===value&&!isObject(value)}function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=ARY_FLAG>newBitmask,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}return value=source[5],value&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),value=source[7],value&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask,data}function mergeDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:merge(objectValue,sourceValue,mergeDefaults)}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}function reorder(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,allowIndexes=!!length&&isLength(length)&&(isArray(object)||isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isArrayLike(value)?isObject(value)?value:Object(value):values(value)}function toObject(value){return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(nativeFloor(size)||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(nativeCeil(length/size));length>index;)result[++resIndex]=baseSlice(array,index,index+=size);return result}function compact(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result}function drop(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0>n?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0,0>n?0:n)):[]}function dropRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]}function dropWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]}function fill(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),baseFill(array,value,start,end)):[]}function first(array){return array?array[0]:undefined}function flatten(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]}function flattenDeep(array){var length=array?array.length:0;return length?baseFlatten(array,!0):[]}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=0>fromIndex?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value);return length>index&&(value===value?value===array[index]:array[index]!==array[index])?index:-1}return baseIndexOf(array,value,fromIndex||0)}function initial(array){return dropRight(array,1)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}function lastIndexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(0>fromIndex?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){index=binaryIndex(array,value,!0)-1;var other=array[index];return(value===value?value===other:other!==other)?index:-1}if(value!==value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1}function pull(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array}function remove(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result}function rest(array){return drop(array,1)}function slice(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]}function take(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,0>n?0:n)):[]}function takeRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),n=length-(+n||0),baseSlice(array,0>n?0:n)):[]}function takeRightWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]}function takeWhile(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]}function uniq(array,isSorted,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(thisArg=iteratee,iteratee=isIterateeCall(array,isSorted,thisArg)?undefined:isSorted,isSorted=!1);var callback=getCallback();return(null!=iteratee||callback!==baseCallback)&&(iteratee=callback(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?sortedUniq(array,iteratee):baseUniq(array,iteratee)}function unzip(array){if(!array||!array.length)return[];var index=-1,length=0;array=arrayFilter(array,function(group){return isArrayLike(group)?(length=nativeMax(group.length,length),!0):void 0});for(var result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}function unzipWith(array,iteratee,thisArg){var length=array?array.length:0;if(!length)return[];var result=unzip(array);return null==iteratee?result:(iteratee=bindCallback(iteratee,thisArg,4),arrayMap(result,function(group){return arrayReduce(group,iteratee,undefined,!0)}))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArrayLike(array))var result=result?arrayPush(baseDifference(result,array),baseDifference(array,result)):array}return result?baseUniq(result):[]}function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function tap(value,interceptor,thisArg){return interceptor.call(thisArg,value),value}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}function wrapperChain(){return chain(this)}function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)}function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result}function wrapperReverse(){var value=this.__wrapped__,interceptor=function(value){return wrapped&&wrapped.__dir__<0?value:value.reverse()};if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),wrapped=wrapped.reverse(),wrapped.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(interceptor)}function wrapperToString(){return this.value()+""}function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)}function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,predicate)}function findWhere(collection,source){return find(collection,baseMatches(source))}function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(collection=values(collection),length=collection.length),fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:0>fromIndex?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?length>=fromIndex&&collection.indexOf(target,fromIndex)>-1:!!length&&getIndexOf(collection,target,fromIndex)>-1}function map(collection,iteratee,thisArg){var func=isArray(collection)?arrayMap:baseMap;return iteratee=getCallback(iteratee,thisArg,3),func(collection,iteratee)}function pluck(collection,path){return map(collection,property(path))}function reject(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})}function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){collection=toIterable(collection);var length=collection.length;return length>0?collection[baseRandom(0,length-1)]:undefined}var index=-1,result=toArray(collection),length=result.length,lastIndex=length-1;for(n=nativeMin(0>n?0:+n||0,length);++index<n;){var rand=baseRandom(index,lastIndex),value=result[rand];result[rand]=result[index],result[index]=value}return result.length=n,result}function shuffle(collection){return sample(collection,POSITIVE_INFINITY)}function size(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=undefined),("function"!=typeof predicate||thisArg!==undefined)&&(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function sortBy(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined);var index=-1;iteratee=getCallback(iteratee,thisArg,3);var result=baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}});return baseSortBy(result,compareAscending)}function sortByOrder(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=undefined),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))}function where(collection,source){return filter(collection,baseMatches(source))}function after(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){return--n<1?func.apply(this,arguments):void 0}}function ary(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=undefined),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,undefined,undefined,undefined,undefined,n)}function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),1>=n&&(func=undefined),result}}function debounce(func,wait,options){function cancel(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),lastCalled=0,maxTimeoutId=timeoutId=trailingCall=undefined}function complete(isCalled,id){id&&clearTimeout(id),maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=undefined))}function delayed(){var remaining=wait-(now()-stamp);0>=remaining||remaining>wait?complete(trailingCall,maxTimeoutId):timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){complete(trailing,timeoutId)}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=undefined),result}var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=0>wait?0:+wait||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=!!options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?!!options.trailing:trailing);return debounced.cancel=cancel,debounced}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}}function once(func){return before(2,func)}function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function spread(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}}function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading:leading,maxWait:+wait,trailing:trailing})}function wrap(value,wrapper){return wrapper=null==wrapper?identity:wrapper,createWrapper(wrapper,PARTIAL_FLAG,undefined,[value],[])}function clone(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),"function"==typeof customizer?baseClone(value,isDeep,bindCallback(customizer,thisArg,1)):baseClone(value,isDeep)}function cloneDeep(value,customizer,thisArg){return"function"==typeof customizer?baseClone(value,!0,bindCallback(customizer,thisArg,1)):baseClone(value,!0)}function gt(value,other){return value>other}function gte(value,other){return value>=other}function isArguments(value){return isObjectLike(value)&&isArrayLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")}function isBoolean(value){return value===!0||value===!1||isObjectLike(value)&&objToString.call(value)==boolTag}function isDate(value){return isObjectLike(value)&&objToString.call(value)==dateTag}function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)}function isEmpty(value){return null==value?!0:isArrayLike(value)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!value.length:!keys(value).length}function isEqual(value,other,customizer,thisArg){customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)}function isFunction(value){return isObject(value)&&objToString.call(value)==funcTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isMatch(object,source,customizer,thisArg){return customizer="function"==typeof customizer?bindCallback(customizer,thisArg,3):undefined,baseIsMatch(object,getMatchData(source),customizer)}function isNaN(value){return isNumber(value)&&value!=+value}function isNative(value){return null==value?!1:isFunction(value)?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&reIsHostCtor.test(value)}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}function isPlainObject(value){var Ctor;if(!isObjectLike(value)||objToString.call(value)!=objectTag||isArguments(value)||!hasOwnProperty.call(value,"constructor")&&(Ctor=value.constructor,"function"==typeof Ctor&&!(Ctor instanceof Ctor)))return!1;var result;return baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)}function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function isUndefined(value){return value===undefined}function lt(value,other){return other>value}function lte(value,other){return other>=value}function toArray(value){var length=value?getLength(value):0;return isLength(length)?length?arrayCopy(value):[]:values(value)}function toPlainObject(value){return baseCopy(value,keysIn(value))}function create(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=undefined),properties?baseAssign(result,properties):result}function functions(object){return baseFunctions(object,keysIn(object))}function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result}function has(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);if(!result&&!isKey(path)){if(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),null==object)return!1;path=last(path),result=hasOwnProperty.call(object,path)}return result||isLength(object.length)&&isIndex(path,object.length)&&(isArray(object)||isArguments(object))}function invert(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=undefined);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result}function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length;length=length&&isLength(length)&&(isArray(object)||isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,isProto="function"==typeof Ctor&&Ctor.prototype===object,result=Array(length),skipIndexes=length>0;++index<length;)result[index]=index+"";for(var key in object)skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);return result}function pairs(object){object=toObject(object);for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function result(object,path,defaultValue){var result=null==object?undefined:object[path];return result===undefined&&(null==object||isKey(path,object)||(path=toPath(path),object=1==path.length?object:baseGet(object,baseSlice(path,0,-1)),result=null==object?undefined:object[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result}function set(object,path,value){if(null==object)return object;var pathKey=path+"";path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==lastIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object}function transform(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)?Ctor.prototype:undefined)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator}function values(object){return baseValues(object,keys(object))}function valuesIn(object){return baseValues(object,keysIn(object))}function inRange(value,start,end){return start=+start||0,end===undefined?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)}function random(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=undefined);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function capitalize(string){return string=baseToString(string),string&&string.charAt(0).toUpperCase()+string.slice(1)}function deburr(string){return string=baseToString(string),string&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function endsWith(string,target,position){string=baseToString(string),target+="";var length=string.length;return position=position===undefined?length:nativeMin(0>position?0:+position||0,length),position-=target.length,position>=0&&string.indexOf(target,position)==position}function escape(string){return string=baseToString(string),
string&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string}function escapeRegExp(string){return string=baseToString(string),string&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,escapeRegExpChar):string||"(?:)"}function pad(string,length,chars){string=baseToString(string),length=+length;var strLength=string.length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=nativeFloor(mid),rightLength=nativeCeil(mid);return chars=createPadding("",rightLength,chars),chars.slice(0,leftLength)+string+chars}function parseInt(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))}function repeat(string,n){var result="";if(string=baseToString(string),n=+n,1>n||!string||!nativeIsFinite(n))return result;do n%2&&(result+=string),n=nativeFloor(n/2),string+=string;while(n);return result}function startsWith(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(0>position?0:+position||0,string.length),string.lastIndexOf(target,position)==position}function template(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=undefined),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var isEscaping,isEvaluating,imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result}function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function trimLeft(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string}function trimRight(string,chars,guard){var value=string;return string=baseToString(string),string?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string}function trunc(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=undefined);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(string=baseToString(string),length>=string.length)return string;var end=length-omission.length;if(1>end)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission}function unescape(string){return string=baseToString(string),string&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=undefined),string=baseToString(string),string.match(pattern||reWords)||[]}function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=undefined),isObjectLike(func)?matches(func):baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}function matches(source){return baseMatches(baseClone(source,!0))}function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,!0))}function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj?keys(source):undefined,methodNames=props&&props.length?baseFunctions(source,props):undefined;(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__),actions=result.__actions__=arrayCopy(this.__actions__);return actions.push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))}}(func))}return object}function noConflict(){return root._=oldDash,this}function noop(){}function property(path){return isKey(path)?baseProperty(path):basePropertyDeep(path)}function propertyOf(object){return function(path){return baseGet(object,toPath(path),path+"")}}function range(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function times(n,iteratee,thisArg){if(n=nativeFloor(n),1>n||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)MAX_ARRAY_LENGTH>index?result[index]=iteratee(index):iteratee(index);return result}function uniqueId(prefix){var id=++idCounter;return baseToString(prefix)+id}function add(augend,addend){return(+augend||0)+(+addend||0)}function sum(collection,iteratee,thisArg){return thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=undefined),iteratee=getCallback(iteratee,thisArg,3),1==iteratee.length?arraySum(isArray(collection)?collection:toIterable(collection),iteratee):baseSum(collection,iteratee)}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,objectProto=Object.prototype,stringProto=String.prototype,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=root._,reIsNative=RegExp("^"+fnToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=context.ArrayBuffer,clearTimeout=context.clearTimeout,parseFloat=context.parseFloat,pow=Math.pow,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=getNative(context,"Set"),setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=context.Uint8Array,WeakMap=getNative(context,"WeakMap"),nativeCeil=Math.ceil,nativeCreate=getNative(Object,"create"),nativeFloor=Math.floor,nativeIsArray=getNative(Array,"isArray"),nativeIsFinite=context.isFinite,nativeKeys=getNative(Object,"keys"),nativeMax=Math.max,nativeMin=Math.min,nativeNow=getNative(Date,"now"),nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=4294967295,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,MAX_SAFE_INTEGER=9007199254740991,metaMap=WeakMap&&new WeakMap,realNames={};lodash.support={};lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseCreate=function(){function object(){}return function(prototype){if(isObject(prototype)){object.prototype=prototype;var result=new object;object.prototype=undefined}return result||{}}}(),baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0),baseFor=createBaseFor(),baseForRight=createBaseFor(!0),baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,getData=metaMap?function(func){return metaMap.get(func)}:noop,getLength=baseProperty("length"),setData=function(){var count=0,lastCalled=0;return function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)}}(),difference=restParam(function(array,values){return isObjectLike(array)&&isArrayLike(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]}),findIndex=createFindIndex(),findLastIndex=createFindIndex(!0),intersection=restParam(function(arrays){for(var othLength=arrays.length,othIndex=othLength,caches=Array(length),indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];othIndex--;){var value=arrays[othIndex]=isArrayLike(value=arrays[othIndex])?value:[];caches[othIndex]=isCommon&&value.length>=120?createCache(othIndex&&value):null}var array=arrays[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(var othIndex=othLength;--othIndex;){var cache=caches[othIndex];if((cache?cacheIndexOf(cache,value):indexOf(arrays[othIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result}),pullAt=restParam(function(array,indexes){indexes=baseFlatten(indexes);var result=baseAt(array,indexes);return basePullAt(array,indexes.sort(baseCompareAscending)),result}),sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0),union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))}),without=restParam(function(array,values){return isArrayLike(array)?baseDifference(array,values):[]}),zip=restParam(unzip),zipWith=restParam(function(arrays){var length=arrays.length,iteratee=length>2?arrays[length-2]:undefined,thisArg=length>1?arrays[length-1]:undefined;return length>2&&"function"==typeof iteratee?length-=2:(iteratee=length>1&&"function"==typeof thisArg?(--length,thisArg):undefined,thisArg=undefined),arrays.length=length,unzipWith(arrays,iteratee,thisArg)}),wrapperConcat=restParam(function(values){return values=baseFlatten(values),this.thru(function(array){return arrayConcat(isArray(array)?array:[toObject(array)],values)})}),at=restParam(function(collection,props){return baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1}),find=createFind(baseEach),findLast=createFind(baseEachRight,!0),forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(arrayEachRight,baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]}),indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value?value[path]:undefined;result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result}),partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]}),reduce=createReduce(arrayReduce,baseEach),reduceRight=createReduce(arrayReduceRight,baseEachRight),sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])}),now=nativeNow||function(){return(new Date).getTime()},bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){methodNames=methodNames.length?baseFlatten(methodNames):functions(object);for(var index=-1,length=methodNames.length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG),defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0),modArgs=restParam(function(func,transforms){if(transforms=baseFlatten(transforms),"function"!=typeof func||!arrayEvery(transforms,baseIsFunction))throw new TypeError(FUNC_ERROR_TEXT);var length=transforms.length;return restParam(function(args){for(var index=nativeMin(args.length,length);index--;)args[index]=transforms[index](args[index]);return func.apply(this,args)})}),partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,undefined,undefined,undefined,baseFlatten(indexes))}),isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag},merge=createAssigner(baseMerge),assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)}),defaults=createDefaults(assign,assignDefaults),defaultsDeep=createDefaults(merge,mergeDefaults),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight),keys=nativeKeys?function(object){var Ctor=null==object?undefined:object.constructor;return"function"==typeof Ctor&&Ctor.prototype===object||"function"!=typeof object&&isArrayLike(object)?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys,mapKeys=createObjectMapper(!0),mapValues=createObjectMapper(),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0]){var props=arrayMap(baseFlatten(props),String);return pickByArray(object,baseDifference(keysIn(object),props))}var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})}),pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))}),camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)}),kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()}),padLeft=createPadDir(),padRight=createPadDir(!0),snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))}),attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}}),method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}}),ceil=createRound("ceil"),floor=createRound("floor"),max=createExtremum(gt,NEGATIVE_INFINITY),min=createExtremum(lt,POSITIVE_INFINITY),round=createRound("round");return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype["delete"]=mapDelete,MapCache.prototype.get=mapGet,MapCache.prototype.has=mapHas,MapCache.prototype.set=mapSet,SetCache.prototype.push=cachePush,memoize.Cache=MapCache,lodash.after=after,lodash.ary=ary,lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=chunk,lodash.compact=compact,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=dropRightWhile,lodash.dropWhile=dropWhile,lodash.fill=fill,lodash.filter=filter,lodash.flatten=flatten,lodash.flattenDeep=flattenDeep,lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=mapKeys,lodash.mapValues=mapValues,lodash.matches=matches,lodash.matchesProperty=matchesProperty,lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.modArgs=modArgs,lodash.negate=negate,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.propertyOf=propertyOf,lodash.pull=pull,lodash.pullAt=pullAt,lodash.range=range,lodash.rearg=rearg,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.restParam=restParam,lodash.set=set,lodash.shuffle=shuffle,lodash.slice=slice,lodash.sortBy=sortBy,lodash.sortByAll=sortByAll,lodash.sortByOrder=sortByOrder,lodash.spread=spread,lodash.take=take,lodash.takeRight=takeRight,lodash.takeRightWhile=takeRightWhile,lodash.takeWhile=takeWhile,lodash.tap=tap,lodash.throttle=throttle,lodash.thru=thru,lodash.times=times,lodash.toArray=toArray,lodash.toPlainObject=toPlainObject,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.values=values,lodash.valuesIn=valuesIn,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.zipWith=zipWith,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.deburr=deburr,lodash.endsWith=endsWith,lodash.escape=escape,lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=findWhere,lodash.first=first,lodash.floor=floor,lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=has,lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=inRange,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=isMatch,lodash.isNaN=isNaN,lodash.isNative=isNative,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=isUndefined,lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=lastIndexOf,lodash.lt=lt,lodash.lte=lte,lodash.max=max,lodash.min=min,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.pad=pad,lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=result,lodash.round=round,lodash.runInContext=runInContext,lodash.size=size,lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=startsWith,lodash.sum=sum,lodash.template=template,lodash.trim=trim,lodash.trimLeft=trimLeft,lodash.trimRight=trimRight,lodash.trunc=trunc,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.eq=isEqual,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,function(){var source={};return baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["drop","take"],function(methodName,index){LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__;if(filtered&&!index)return new LazyWrapper(this);n=null==n?1:nativeMax(nativeFloor(n)||0,0);var result=this.clone();return filtered?result.__takeCount__=nativeMin(result.__takeCount__,n):result.__views__.push({size:n,type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}}),arrayEach(["filter","map","takeWhile"],function(methodName,index){var type=index+1,isFilter=type!=LAZY_MAP_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var result=this.clone();return result.__iteratees__.push({iteratee:getCallback(iteratee,thisArg,1),type:type}),result.__filtered__=result.__filtered__||isFilter,result}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){start=null==start?0:+start||0;var result=this;return result.__filtered__&&(start>0||0>end)?new LazyWrapper(result):(0>start?result=result.takeRight(-start):start&&(result=result.drop(start)),end!==undefined&&(end=+end||0,result=0>end?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate,thisArg){return this.reverse().takeWhile(predicate,thisArg).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(POSITIVE_INFINITY)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName),lodashFunc=lodash[retUnwrapped?"take"+("last"==methodName?"Right":""):methodName];lodashFunc&&(lodash.prototype[methodName]=function(){var args=retUnwrapped?[1]:arguments,chainAll=this.__chain__,value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var interceptor=function(value){return retUnwrapped&&chainAll?lodashFunc(value,1)[0]:lodashFunc.apply(undefined,arrayPush([value],args))},action={func:thru,args:[interceptor],thisArg:undefined},onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?(value=value.clone(),value.__actions__.push(action),func.call(value)):lodashFunc.call(undefined,this.value())[0];if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push(action),new LodashWrapper(result,chainAll)}return this.thru(interceptor)})}),arrayEach(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var func=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name,names=realNames[key]||(realNames[key]=[]);names.push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(undefined,BIND_KEY_FLAG).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=lazyClone,LazyWrapper.prototype.reverse=lazyReverse,LazyWrapper.prototype.value=lazyValue,lodash.prototype.chain=wrapperChain,lodash.prototype.commit=wrapperCommit,lodash.prototype.concat=wrapperConcat,lodash.prototype.plant=wrapperPlant,lodash.prototype.reverse=wrapperReverse,lodash.prototype.toString=wrapperToString,lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=wrapperValue,lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}var undefined,VERSION="3.10.1",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LARGE_ARRAY_SIZE=200,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^\d+$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=function(){var upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")}(),contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;
var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[mapTag]=cloneableTags[setTag]=cloneableTags[weakMapTag]=!1;var deburredLetters={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={"function":!0,object:!0},regexpEscapes={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this,_=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}).call(this)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/lodash/index.js","/../../../../node_modules/lodash")},{buffer:5,hXUCVB:4}],353:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){!function(t,n,e){n[t]=n[t]||e(),"undefined"!=typeof module&&module.exports?module.exports=n[t]:"function"==typeof define&&define.amd&&define(function(){return n[t]})}("Promise","undefined"!=typeof global?global:this,function(){"use strict";function t(t,n){l.add(t,n),h||(h=y(l.drain))}function n(t){var n,e=typeof t;return null==t||"object"!=e&&"function"!=e||(n=t.then),"function"==typeof n?n:!1}function e(){for(var t=0;t<this.chain.length;t++)o(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function o(t,e,o){var r,i;try{e===!1?o.reject(t.msg):(r=e===!0?t.msg:e.call(void 0,t.msg),r===o.promise?o.reject(TypeError("Promise-chain cycle")):(i=n(r))?i.call(r,o.resolve,o.reject):o.resolve(r))}catch(c){o.reject(c)}}function r(o){var c,u,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(c=n(o))?(u=new f(a),c.call(o,function(){r.apply(u,arguments)},function(){i.apply(u,arguments)})):(a.msg=o,a.state=1,a.chain.length>0&&t(e,a))}catch(s){i.call(u||new f(a),s)}}}function i(n){var o=this;o.triggered||(o.triggered=!0,o.def&&(o=o.def),o.msg=n,o.state=2,o.chain.length>0&&t(e,o))}function c(t,n,e,o){for(var r=0;r<n.length;r++)!function(r){t.resolve(n[r]).then(function(t){e(r,t)},o)}(r)}function f(t){this.def=t,this.triggered=!1}function u(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function a(n){if("function"!=typeof n)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var o=new u(this);this.then=function(n,r){var i={success:"function"==typeof n?n:!0,failure:"function"==typeof r?r:!1};return i.promise=new this.constructor(function(t,n){if("function"!=typeof t||"function"!=typeof n)throw TypeError("Not a function");i.resolve=t,i.reject=n}),o.chain.push(i),0!==o.state&&t(e,o),i.promise},this["catch"]=function(t){return this.then(void 0,t)};try{n.call(void 0,function(t){r.call(o,t)},function(t){i.call(o,t)})}catch(c){i.call(o,c)}}var s,h,l,p=Object.prototype.toString,y="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),s=function(t,n,e,o){return Object.defineProperty(t,n,{value:e,writable:!0,configurable:o!==!1})}}catch(d){s=function(t,n,e){return t[n]=e,t}}l=function(){function t(t,n){this.fn=t,this.self=n,this.next=void 0}var n,e,o;return{add:function(r,i){o=new t(r,i),e?e.next=o:n=o,e=o,o=void 0},drain:function(){var t=n;for(n=e=h=void 0;t;)t.fn.call(t.self),t=t.next}}}();var g=s({},"constructor",a,!1);return s(a,"prototype",g,!1),s(g,"__NPO__",0,!1),s(a,"resolve",function(t){var n=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new n(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");n(t)})}),s(a,"reject",function(t){return new this(function(n,e){if("function"!=typeof n||"function"!=typeof e)throw TypeError("Not a function");e(t)})}),s(a,"all",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):0===t.length?n.resolve([]):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");var r=t.length,i=Array(r),f=0;c(n,t,function(t,n){i[t]=n,++f===r&&e(i)},o)})}),s(a,"race",function(t){var n=this;return"[object Array]"!=p.call(t)?n.reject(TypeError("Not an array")):new n(function(e,o){if("function"!=typeof e||"function"!=typeof o)throw TypeError("Not a function");c(n,t,function(t,n){e(n)},o)})}),a})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/native-promise-only/npo.js","/../../../../node_modules/native-promise-only")},{buffer:5,hXUCVB:4}],354:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function toObject(val){if(null===val||void 0===val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}function shouldUseNative(){try{if(!Object.assign)return!1;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return!1;for(var test2={},i=0;10>i;i++)test2["_"+String.fromCharCode(i)]=i;var order2=Object.getOwnPropertyNames(test2).map(function(n){return test2[n]});if("0123456789"!==order2.join(""))return!1;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},test3)).join("")?!1:!0}catch(err){return!1}}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=shouldUseNative()?Object.assign:function(target,source){for(var from,symbols,to=toObject(target),s=1;s<arguments.length;s++){from=Object(arguments[s]);for(var key in from)hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols){symbols=getOwnPropertySymbols(from);for(var i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}}return to}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/object-assign/index.js","/../../../../node_modules/object-assign")},{buffer:5,hXUCVB:4}],355:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function checkPropTypes(typeSpecs,values,location,componentName,getStack){}checkPropTypes.resetWarningCache=function(){},module.exports=checkPropTypes}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/prop-types/checkPropTypes.js","/../../../../node_modules/prop-types")},{"./lib/ReactPropTypesSecret":359,buffer:5,hXUCVB:4}],356:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function emptyFunction(){}function emptyFunctionWithReset(){}var ReactPropTypesSecret=require("./lib/ReactPropTypesSecret");emptyFunctionWithReset.resetWarningCache=emptyFunction,module.exports=function(){function shim(props,propName,componentName,location,propFullName,secret){if(secret!==ReactPropTypesSecret){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}function getShim(){return shim}shim.isRequired=shim;var ReactPropTypes={array:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/prop-types/factoryWithThrowingShims.js","/../../../../node_modules/prop-types")},{"./lib/ReactPropTypesSecret":359,buffer:5,hXUCVB:4}],357:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function emptyFunctionThatReturnsNull(){return null}var ReactIs=require("react-is"),assign=require("object-assign"),ReactPropTypesSecret=require("./lib/ReactPropTypesSecret"),checkPropTypes=require("./checkPropTypes"),has=Function.call.bind(Object.prototype.hasOwnProperty),printWarning=function(){};module.exports=function(isValidElement,throwOnDirectAccess){function getIteratorFn(maybeIterable){var iteratorFn=maybeIterable&&(ITERATOR_SYMBOL&&maybeIterable[ITERATOR_SYMBOL]||maybeIterable[FAUX_ITERATOR_SYMBOL]);return"function"==typeof iteratorFn?iteratorFn:void 0}function is(x,y){return x===y?0!==x||1/x===1/y:x!==x&&y!==y}function PropTypeError(message){this.message=message,this.stack=""}function createChainableTypeChecker(validate){function checkType(isRequired,props,propName,componentName,location,propFullName,secret){if(componentName=componentName||ANONYMOUS,propFullName=propFullName||propName,secret!==ReactPropTypesSecret){if(throwOnDirectAccess){var err=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw err.name="Invariant Violation",err}}return null==props[propName]?isRequired?new PropTypeError(null===props[propName]?"The "+location+" `"+propFullName+"` is marked as required "+("in `"+componentName+"`, but its value is `null`."):"The "+location+" `"+propFullName+"` is marked as required in "+("`"+componentName+"`, but its value is `undefined`.")):null:validate(props,propName,componentName,location,propFullName)}var chainedCheckType=checkType.bind(null,!1);return chainedCheckType.isRequired=checkType.bind(null,!0),chainedCheckType}function createPrimitiveTypeChecker(expectedType){function validate(props,propName,componentName,location,propFullName,secret){var propValue=props[propName],propType=getPropType(propValue);if(propType!==expectedType){var preciseType=getPreciseType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+preciseType+"` supplied to `"+componentName+"`, expected ")+("`"+expectedType+"`."))}return null}return createChainableTypeChecker(validate)}function createAnyTypeChecker(){return createChainableTypeChecker(emptyFunctionThatReturnsNull)}function createArrayOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside arrayOf.");var propValue=props[propName];if(!Array.isArray(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an array."))}for(var i=0;i<propValue.length;i++){var error=typeChecker(propValue,i,componentName,location,propFullName+"["+i+"]",ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createElementTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!isValidElement(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement."))}return null}return createChainableTypeChecker(validate)}function createElementTypeTypeChecker(){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName];if(!ReactIs.isValidElementType(propValue)){var propType=getPropType(propValue);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected a single ReactElement type."))}return null}return createChainableTypeChecker(validate)}function createInstanceTypeChecker(expectedClass){function validate(props,propName,componentName,location,propFullName){if(!(props[propName]instanceof expectedClass)){var expectedClassName=expectedClass.name||ANONYMOUS,actualClassName=getClassName(props[propName]);return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+actualClassName+"` supplied to `"+componentName+"`, expected ")+("instance of `"+expectedClassName+"`."))}return null}return createChainableTypeChecker(validate)}function createEnumTypeChecker(expectedValues){function validate(props,propName,componentName,location,propFullName){for(var propValue=props[propName],i=0;i<expectedValues.length;i++)if(is(propValue,expectedValues[i]))return null;var valuesString=JSON.stringify(expectedValues,function(key,value){var type=getPreciseType(value);return"symbol"===type?String(value):value});return new PropTypeError("Invalid "+location+" `"+propFullName+"` of value `"+String(propValue)+"` "+("supplied to `"+componentName+"`, expected one of "+valuesString+"."))}return Array.isArray(expectedValues)?createChainableTypeChecker(validate):emptyFunctionThatReturnsNull}function createObjectOfTypeChecker(typeChecker){function validate(props,propName,componentName,location,propFullName){if("function"!=typeof typeChecker)return new PropTypeError("Property `"+propFullName+"` of component `"+componentName+"` has invalid PropType notation inside objectOf.");var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type "+("`"+propType+"` supplied to `"+componentName+"`, expected an object."));for(var key in propValue)if(has(propValue,key)){var error=typeChecker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error instanceof Error)return error}return null}return createChainableTypeChecker(validate)}function createUnionTypeChecker(arrayOfTypeCheckers){function validate(props,propName,componentName,location,propFullName){for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if(null==checker(props,propName,componentName,location,propFullName,ReactPropTypesSecret))return null}return new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`."))}if(!Array.isArray(arrayOfTypeCheckers))return emptyFunctionThatReturnsNull;for(var i=0;i<arrayOfTypeCheckers.length;i++){var checker=arrayOfTypeCheckers[i];if("function"!=typeof checker)return printWarning("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+getPostfixForTypeWarning(checker)+" at index "+i+"."),emptyFunctionThatReturnsNull}return createChainableTypeChecker(validate)}function createNodeChecker(){function validate(props,propName,componentName,location,propFullName){return isNode(props[propName])?null:new PropTypeError("Invalid "+location+" `"+propFullName+"` supplied to "+("`"+componentName+"`, expected a ReactNode."))}return createChainableTypeChecker(validate)}function createShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."));for(var key in shapeTypes){var checker=shapeTypes[key];if(checker){var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error)return error}}return null}return createChainableTypeChecker(validate)}function createStrictShapeTypeChecker(shapeTypes){function validate(props,propName,componentName,location,propFullName){var propValue=props[propName],propType=getPropType(propValue);if("object"!==propType)return new PropTypeError("Invalid "+location+" `"+propFullName+"` of type `"+propType+"` "+("supplied to `"+componentName+"`, expected `object`."));var allKeys=assign({},props[propName],shapeTypes);for(var key in allKeys){var checker=shapeTypes[key];if(!checker)return new PropTypeError("Invalid "+location+" `"+propFullName+"` key `"+key+"` supplied to `"+componentName+"`.\nBad object: "+JSON.stringify(props[propName],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(shapeTypes),null,"  "));var error=checker(propValue,key,componentName,location,propFullName+"."+key,ReactPropTypesSecret);if(error)return error}return null}return createChainableTypeChecker(validate)}function isNode(propValue){switch(typeof propValue){case"number":case"string":case"undefined":return!0;case"boolean":return!propValue;case"object":if(Array.isArray(propValue))return propValue.every(isNode);if(null===propValue||isValidElement(propValue))return!0;var iteratorFn=getIteratorFn(propValue);if(!iteratorFn)return!1;var step,iterator=iteratorFn.call(propValue);if(iteratorFn!==propValue.entries){for(;!(step=iterator.next()).done;)if(!isNode(step.value))return!1}else for(;!(step=iterator.next()).done;){var entry=step.value;if(entry&&!isNode(entry[1]))return!1}return!0;default:return!1}}function isSymbol(propType,propValue){return"symbol"===propType?!0:propValue?"Symbol"===propValue["@@toStringTag"]?!0:"function"==typeof Symbol&&propValue instanceof Symbol?!0:!1:!1}function getPropType(propValue){var propType=typeof propValue;return Array.isArray(propValue)?"array":propValue instanceof RegExp?"object":isSymbol(propType,propValue)?"symbol":propType}function getPreciseType(propValue){if("undefined"==typeof propValue||null===propValue)return""+propValue;var propType=getPropType(propValue);if("object"===propType){if(propValue instanceof Date)return"date";if(propValue instanceof RegExp)return"regexp"}return propType}function getPostfixForTypeWarning(value){var type=getPreciseType(value);switch(type){case"array":case"object":return"an "+type;case"boolean":case"date":case"regexp":return"a "+type;default:return type}}function getClassName(propValue){return propValue.constructor&&propValue.constructor.name?propValue.constructor.name:ANONYMOUS}var ITERATOR_SYMBOL="function"==typeof Symbol&&Symbol.iterator,FAUX_ITERATOR_SYMBOL="@@iterator",ANONYMOUS="<<anonymous>>",ReactPropTypes={array:createPrimitiveTypeChecker("array"),bool:createPrimitiveTypeChecker("boolean"),func:createPrimitiveTypeChecker("function"),number:createPrimitiveTypeChecker("number"),object:createPrimitiveTypeChecker("object"),string:createPrimitiveTypeChecker("string"),symbol:createPrimitiveTypeChecker("symbol"),any:createAnyTypeChecker(),arrayOf:createArrayOfTypeChecker,element:createElementTypeChecker(),elementType:createElementTypeTypeChecker(),instanceOf:createInstanceTypeChecker,node:createNodeChecker(),objectOf:createObjectOfTypeChecker,oneOf:createEnumTypeChecker,oneOfType:createUnionTypeChecker,shape:createShapeTypeChecker,exact:createStrictShapeTypeChecker};return PropTypeError.prototype=Error.prototype,ReactPropTypes.checkPropTypes=checkPropTypes,ReactPropTypes.resetWarningCache=checkPropTypes.resetWarningCache,ReactPropTypes.PropTypes=ReactPropTypes,ReactPropTypes}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/prop-types/factoryWithTypeCheckers.js","/../../../../node_modules/prop-types")},{"./checkPropTypes":355,"./lib/ReactPropTypesSecret":359,buffer:5,hXUCVB:4,"object-assign":354,"react-is":376}],358:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=require("./factoryWithThrowingShims")()}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/prop-types/index.js","/../../../../node_modules/prop-types")},{"./factoryWithThrowingShims":356,"./factoryWithTypeCheckers":357,buffer:5,hXUCVB:4,"react-is":376}],359:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var ReactPropTypesSecret="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";module.exports=ReactPropTypesSecret}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/prop-types/lib/ReactPropTypesSecret.js","/../../../../node_modules/prop-types/lib")},{buffer:5,hXUCVB:4}],360:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function QR8bitByte(data){this.mode=mode.MODE_8BIT_BYTE,this.data=data}var mode=require("./mode");QR8bitByte.prototype={getLength:function(buffer){return this.data.length},write:function(buffer){for(var i=0;i<this.data.length;i++)buffer.put(this.data.charCodeAt(i),8)}},module.exports=QR8bitByte}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/8BitByte.js","/../../../../node_modules/qr.js/lib")},{"./mode":367,buffer:5,hXUCVB:4}],361:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function QRBitBuffer(){this.buffer=new Array,this.length=0}QRBitBuffer.prototype={get:function(index){var bufIndex=Math.floor(index/8);return 1==(this.buffer[bufIndex]>>>7-index%8&1)},put:function(num,length){for(var i=0;length>i;i++)this.putBit(1==(num>>>length-i-1&1))},getLengthInBits:function(){return this.length},putBit:function(bit){var bufIndex=Math.floor(this.length/8);this.buffer.length<=bufIndex&&this.buffer.push(0),bit&&(this.buffer[bufIndex]|=128>>>this.length%8),this.length++}},module.exports=QRBitBuffer}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/BitBuffer.js","/../../../../node_modules/qr.js/lib")},{buffer:5,hXUCVB:4}],362:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={L:1,M:0,Q:3,H:2}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/ErrorCorrectLevel.js","/../../../../node_modules/qr.js/lib")},{buffer:5,hXUCVB:4}],363:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function QRPolynomial(num,shift){if(void 0==num.length)throw new Error(num.length+"/"+shift);for(var offset=0;offset<num.length&&0==num[offset];)offset++;this.num=new Array(num.length-offset+shift);for(var i=0;i<num.length-offset;i++)this.num[i]=num[i+offset]}var math=require("./math");QRPolynomial.prototype={get:function(index){return this.num[index]},getLength:function(){return this.num.length},multiply:function(e){for(var num=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var j=0;j<e.getLength();j++)num[i+j]^=math.gexp(math.glog(this.get(i))+math.glog(e.get(j)));return new QRPolynomial(num,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var ratio=math.glog(this.get(0))-math.glog(e.get(0)),num=new Array(this.getLength()),i=0;i<this.getLength();i++)num[i]=this.get(i);for(var i=0;i<e.getLength();i++)num[i]^=math.gexp(math.glog(e.get(i))+ratio);return new QRPolynomial(num,0).mod(e)}},module.exports=QRPolynomial}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/Polynomial.js","/../../../../node_modules/qr.js/lib")},{"./math":366,buffer:5,hXUCVB:4}],364:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function QRCode(typeNumber,errorCorrectLevel){this.typeNumber=typeNumber,this.errorCorrectLevel=errorCorrectLevel,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var BitByte=require("./8BitByte"),RSBlock=require("./RSBlock"),BitBuffer=require("./BitBuffer"),util=require("./util"),Polynomial=require("./Polynomial"),proto=QRCode.prototype;proto.addData=function(data){var newData=new BitByte(data);this.dataList.push(newData),this.dataCache=null},proto.isDark=function(row,col){if(0>row||this.moduleCount<=row||0>col||this.moduleCount<=col)throw new Error(row+","+col);return this.modules[row][col]},proto.getModuleCount=function(){return this.moduleCount},proto.make=function(){if(this.typeNumber<1){var typeNumber=1;for(typeNumber=1;40>typeNumber;typeNumber++){for(var rsBlocks=RSBlock.getRSBlocks(typeNumber,this.errorCorrectLevel),buffer=new BitBuffer,totalDataCount=0,i=0;i<rsBlocks.length;i++)totalDataCount+=rsBlocks[i].dataCount;for(var i=0;i<this.dataList.length;i++){var data=this.dataList[i];buffer.put(data.mode,4),buffer.put(data.getLength(),util.getLengthInBits(data.mode,typeNumber)),data.write(buffer)}if(buffer.getLengthInBits()<=8*totalDataCount)break}this.typeNumber=typeNumber}this.makeImpl(!1,this.getBestMaskPattern())},proto.makeImpl=function(test,maskPattern){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var row=0;row<this.moduleCount;row++){this.modules[row]=new Array(this.moduleCount);for(var col=0;col<this.moduleCount;col++)this.modules[row][col]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(test,maskPattern),this.typeNumber>=7&&this.setupTypeNumber(test),null==this.dataCache&&(this.dataCache=QRCode.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,maskPattern)},proto.setupPositionProbePattern=function(row,col){for(var r=-1;7>=r;r++)if(!(-1>=row+r||this.moduleCount<=row+r))for(var c=-1;7>=c;c++)-1>=col+c||this.moduleCount<=col+c||(r>=0&&6>=r&&(0==c||6==c)||c>=0&&6>=c&&(0==r||6==r)||r>=2&&4>=r&&c>=2&&4>=c?this.modules[row+r][col+c]=!0:this.modules[row+r][col+c]=!1)},proto.getBestMaskPattern=function(){for(var minLostPoint=0,pattern=0,i=0;8>i;i++){this.makeImpl(!0,i);var lostPoint=util.getLostPoint(this);(0==i||minLostPoint>lostPoint)&&(minLostPoint=lostPoint,pattern=i)}return pattern},proto.createMovieClip=function(target_mc,instance_name,depth){var qr_mc=target_mc.createEmptyMovieClip(instance_name,depth),cs=1;this.make();for(var row=0;row<this.modules.length;row++)for(var y=row*cs,col=0;col<this.modules[row].length;col++){var x=col*cs,dark=this.modules[row][col];dark&&(qr_mc.beginFill(0,100),qr_mc.moveTo(x,y),qr_mc.lineTo(x+cs,y),qr_mc.lineTo(x+cs,y+cs),qr_mc.lineTo(x,y+cs),qr_mc.endFill())}return qr_mc},proto.setupTimingPattern=function(){for(var r=8;r<this.moduleCount-8;r++)null==this.modules[r][6]&&(this.modules[r][6]=r%2==0);for(var c=8;c<this.moduleCount-8;c++)null==this.modules[6][c]&&(this.modules[6][c]=c%2==0)},proto.setupPositionAdjustPattern=function(){for(var pos=util.getPatternPosition(this.typeNumber),i=0;i<pos.length;i++)for(var j=0;j<pos.length;j++){var row=pos[i],col=pos[j];if(null==this.modules[row][col])for(var r=-2;2>=r;r++)for(var c=-2;2>=c;c++)-2==r||2==r||-2==c||2==c||0==r&&0==c?this.modules[row+r][col+c]=!0:this.modules[row+r][col+c]=!1}},proto.setupTypeNumber=function(test){for(var bits=util.getBCHTypeNumber(this.typeNumber),i=0;18>i;i++){var mod=!test&&1==(bits>>i&1);this.modules[Math.floor(i/3)][i%3+this.moduleCount-8-3]=mod}for(var i=0;18>i;i++){var mod=!test&&1==(bits>>i&1);this.modules[i%3+this.moduleCount-8-3][Math.floor(i/3)]=mod}},proto.setupTypeInfo=function(test,maskPattern){for(var data=this.errorCorrectLevel<<3|maskPattern,bits=util.getBCHTypeInfo(data),i=0;15>i;i++){var mod=!test&&1==(bits>>i&1);6>i?this.modules[i][8]=mod:8>i?this.modules[i+1][8]=mod:this.modules[this.moduleCount-15+i][8]=mod}for(var i=0;15>i;i++){var mod=!test&&1==(bits>>i&1);8>i?this.modules[8][this.moduleCount-i-1]=mod:9>i?this.modules[8][15-i-1+1]=mod:this.modules[8][15-i-1]=mod}this.modules[this.moduleCount-8][8]=!test},proto.mapData=function(data,maskPattern){for(var inc=-1,row=this.moduleCount-1,bitIndex=7,byteIndex=0,col=this.moduleCount-1;col>0;col-=2)for(6==col&&col--;;){for(var c=0;2>c;c++)if(null==this.modules[row][col-c]){var dark=!1;byteIndex<data.length&&(dark=1==(data[byteIndex]>>>bitIndex&1));var mask=util.getMask(maskPattern,row,col-c);mask&&(dark=!dark),this.modules[row][col-c]=dark,bitIndex--,-1==bitIndex&&(byteIndex++,bitIndex=7)}if(row+=inc,0>row||this.moduleCount<=row){row-=inc,inc=-inc;break}}},QRCode.PAD0=236,QRCode.PAD1=17,QRCode.createData=function(typeNumber,errorCorrectLevel,dataList){for(var rsBlocks=RSBlock.getRSBlocks(typeNumber,errorCorrectLevel),buffer=new BitBuffer,i=0;i<dataList.length;i++){var data=dataList[i];buffer.put(data.mode,4),buffer.put(data.getLength(),util.getLengthInBits(data.mode,typeNumber)),data.write(buffer)}for(var totalDataCount=0,i=0;i<rsBlocks.length;i++)totalDataCount+=rsBlocks[i].dataCount;
if(buffer.getLengthInBits()>8*totalDataCount)throw new Error("code length overflow. ("+buffer.getLengthInBits()+">"+8*totalDataCount+")");for(buffer.getLengthInBits()+4<=8*totalDataCount&&buffer.put(0,4);buffer.getLengthInBits()%8!=0;)buffer.putBit(!1);for(;;){if(buffer.getLengthInBits()>=8*totalDataCount)break;if(buffer.put(QRCode.PAD0,8),buffer.getLengthInBits()>=8*totalDataCount)break;buffer.put(QRCode.PAD1,8)}return QRCode.createBytes(buffer,rsBlocks)},QRCode.createBytes=function(buffer,rsBlocks){for(var offset=0,maxDcCount=0,maxEcCount=0,dcdata=new Array(rsBlocks.length),ecdata=new Array(rsBlocks.length),r=0;r<rsBlocks.length;r++){var dcCount=rsBlocks[r].dataCount,ecCount=rsBlocks[r].totalCount-dcCount;maxDcCount=Math.max(maxDcCount,dcCount),maxEcCount=Math.max(maxEcCount,ecCount),dcdata[r]=new Array(dcCount);for(var i=0;i<dcdata[r].length;i++)dcdata[r][i]=255&buffer.buffer[i+offset];offset+=dcCount;var rsPoly=util.getErrorCorrectPolynomial(ecCount),rawPoly=new Polynomial(dcdata[r],rsPoly.getLength()-1),modPoly=rawPoly.mod(rsPoly);ecdata[r]=new Array(rsPoly.getLength()-1);for(var i=0;i<ecdata[r].length;i++){var modIndex=i+modPoly.getLength()-ecdata[r].length;ecdata[r][i]=modIndex>=0?modPoly.get(modIndex):0}}for(var totalCodeCount=0,i=0;i<rsBlocks.length;i++)totalCodeCount+=rsBlocks[i].totalCount;for(var data=new Array(totalCodeCount),index=0,i=0;maxDcCount>i;i++)for(var r=0;r<rsBlocks.length;r++)i<dcdata[r].length&&(data[index++]=dcdata[r][i]);for(var i=0;maxEcCount>i;i++)for(var r=0;r<rsBlocks.length;r++)i<ecdata[r].length&&(data[index++]=ecdata[r][i]);return data},module.exports=QRCode}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/QRCode.js","/../../../../node_modules/qr.js/lib")},{"./8BitByte":360,"./BitBuffer":361,"./Polynomial":363,"./RSBlock":365,"./util":368,buffer:5,hXUCVB:4}],365:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function QRRSBlock(totalCount,dataCount){this.totalCount=totalCount,this.dataCount=dataCount}var ECL=require("./ErrorCorrectLevel");QRRSBlock.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],QRRSBlock.getRSBlocks=function(typeNumber,errorCorrectLevel){var rsBlock=QRRSBlock.getRsBlockTable(typeNumber,errorCorrectLevel);if(void 0==rsBlock)throw new Error("bad rs block @ typeNumber:"+typeNumber+"/errorCorrectLevel:"+errorCorrectLevel);for(var length=rsBlock.length/3,list=new Array,i=0;length>i;i++)for(var count=rsBlock[3*i+0],totalCount=rsBlock[3*i+1],dataCount=rsBlock[3*i+2],j=0;count>j;j++)list.push(new QRRSBlock(totalCount,dataCount));return list},QRRSBlock.getRsBlockTable=function(typeNumber,errorCorrectLevel){switch(errorCorrectLevel){case ECL.L:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+0];case ECL.M:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+1];case ECL.Q:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+2];case ECL.H:return QRRSBlock.RS_BLOCK_TABLE[4*(typeNumber-1)+3];default:return}},module.exports=QRRSBlock}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/RSBlock.js","/../../../../node_modules/qr.js/lib")},{"./ErrorCorrectLevel":362,buffer:5,hXUCVB:4}],366:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){for(var QRMath={glog:function(n){if(1>n)throw new Error("glog("+n+")");return QRMath.LOG_TABLE[n]},gexp:function(n){for(;0>n;)n+=255;for(;n>=256;)n-=255;return QRMath.EXP_TABLE[n]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},i=0;8>i;i++)QRMath.EXP_TABLE[i]=1<<i;for(var i=8;256>i;i++)QRMath.EXP_TABLE[i]=QRMath.EXP_TABLE[i-4]^QRMath.EXP_TABLE[i-5]^QRMath.EXP_TABLE[i-6]^QRMath.EXP_TABLE[i-8];for(var i=0;255>i;i++)QRMath.LOG_TABLE[QRMath.EXP_TABLE[i]]=i;module.exports=QRMath}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/math.js","/../../../../node_modules/qr.js/lib")},{buffer:5,hXUCVB:4}],367:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/mode.js","/../../../../node_modules/qr.js/lib")},{buffer:5,hXUCVB:4}],368:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Mode=require("./mode"),Polynomial=require("./Polynomial"),math=require("./math"),QRMaskPattern={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},QRUtil={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(data){for(var d=data<<10;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15)>=0;)d^=QRUtil.G15<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G15);return(data<<10|d)^QRUtil.G15_MASK},getBCHTypeNumber:function(data){for(var d=data<<12;QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18)>=0;)d^=QRUtil.G18<<QRUtil.getBCHDigit(d)-QRUtil.getBCHDigit(QRUtil.G18);return data<<12|d},getBCHDigit:function(data){for(var digit=0;0!=data;)digit++,data>>>=1;return digit},getPatternPosition:function(typeNumber){return QRUtil.PATTERN_POSITION_TABLE[typeNumber-1]},getMask:function(maskPattern,i,j){switch(maskPattern){case QRMaskPattern.PATTERN000:return(i+j)%2==0;case QRMaskPattern.PATTERN001:return i%2==0;case QRMaskPattern.PATTERN010:return j%3==0;case QRMaskPattern.PATTERN011:return(i+j)%3==0;case QRMaskPattern.PATTERN100:return(Math.floor(i/2)+Math.floor(j/3))%2==0;case QRMaskPattern.PATTERN101:return i*j%2+i*j%3==0;case QRMaskPattern.PATTERN110:return(i*j%2+i*j%3)%2==0;case QRMaskPattern.PATTERN111:return(i*j%3+(i+j)%2)%2==0;default:throw new Error("bad maskPattern:"+maskPattern)}},getErrorCorrectPolynomial:function(errorCorrectLength){for(var a=new Polynomial([1],0),i=0;errorCorrectLength>i;i++)a=a.multiply(new Polynomial([1,math.gexp(i)],0));return a},getLengthInBits:function(mode,type){if(type>=1&&10>type)switch(mode){case Mode.MODE_NUMBER:return 10;case Mode.MODE_ALPHA_NUM:return 9;case Mode.MODE_8BIT_BYTE:return 8;case Mode.MODE_KANJI:return 8;default:throw new Error("mode:"+mode)}else if(27>type)switch(mode){case Mode.MODE_NUMBER:return 12;case Mode.MODE_ALPHA_NUM:return 11;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 10;default:throw new Error("mode:"+mode)}else{if(!(41>type))throw new Error("type:"+type);switch(mode){case Mode.MODE_NUMBER:return 14;case Mode.MODE_ALPHA_NUM:return 13;case Mode.MODE_8BIT_BYTE:return 16;case Mode.MODE_KANJI:return 12;default:throw new Error("mode:"+mode)}}},getLostPoint:function(qrCode){for(var moduleCount=qrCode.getModuleCount(),lostPoint=0,row=0;moduleCount>row;row++)for(var col=0;moduleCount>col;col++){for(var sameCount=0,dark=qrCode.isDark(row,col),r=-1;1>=r;r++)if(!(0>row+r||row+r>=moduleCount))for(var c=-1;1>=c;c++)0>col+c||col+c>=moduleCount||(0!=r||0!=c)&&dark==qrCode.isDark(row+r,col+c)&&sameCount++;sameCount>5&&(lostPoint+=3+sameCount-5)}for(var row=0;moduleCount-1>row;row++)for(var col=0;moduleCount-1>col;col++){var count=0;qrCode.isDark(row,col)&&count++,qrCode.isDark(row+1,col)&&count++,qrCode.isDark(row,col+1)&&count++,qrCode.isDark(row+1,col+1)&&count++,(0==count||4==count)&&(lostPoint+=3)}for(var row=0;moduleCount>row;row++)for(var col=0;moduleCount-6>col;col++)qrCode.isDark(row,col)&&!qrCode.isDark(row,col+1)&&qrCode.isDark(row,col+2)&&qrCode.isDark(row,col+3)&&qrCode.isDark(row,col+4)&&!qrCode.isDark(row,col+5)&&qrCode.isDark(row,col+6)&&(lostPoint+=40);for(var col=0;moduleCount>col;col++)for(var row=0;moduleCount-6>row;row++)qrCode.isDark(row,col)&&!qrCode.isDark(row+1,col)&&qrCode.isDark(row+2,col)&&qrCode.isDark(row+3,col)&&qrCode.isDark(row+4,col)&&!qrCode.isDark(row+5,col)&&qrCode.isDark(row+6,col)&&(lostPoint+=40);for(var darkCount=0,col=0;moduleCount>col;col++)for(var row=0;moduleCount>row;row++)qrCode.isDark(row,col)&&darkCount++;var ratio=Math.abs(100*darkCount/moduleCount/moduleCount-50)/5;return lostPoint+=10*ratio}};module.exports=QRUtil}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qr.js/lib/util.js","/../../../../node_modules/qr.js/lib")},{"./Polynomial":363,"./math":366,"./mode":367,buffer:5,hXUCVB:4}],369:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _extends(){return _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_extends.apply(this,arguments)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=_objectWithoutPropertiesLoose(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}function _possibleConstructorReturn(self,call){return!call||"object"!==_typeof(call)&&"function"!=typeof call?_assertThisInitialized(self):call}function _getPrototypeOf(o){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(o){return o.__proto__||Object.getPrototypeOf(o)})(o)}function _assertThisInitialized(self){if(void 0===self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return self}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function");subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:!0,configurable:!0}}),superClass&&_setPrototypeOf(subClass,superClass)}function _setPrototypeOf(o,p){return(_setPrototypeOf=Object.setPrototypeOf||function(o,p){return o.__proto__=p,o})(o,p)}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function convertStr(str){for(var out="",i=0;i<str.length;i++){var charcode=str.charCodeAt(i);128>charcode?out+=String.fromCharCode(charcode):2048>charcode?(out+=String.fromCharCode(192|charcode>>6),out+=String.fromCharCode(128|63&charcode)):55296>charcode||charcode>=57344?(out+=String.fromCharCode(224|charcode>>12),out+=String.fromCharCode(128|charcode>>6&63),out+=String.fromCharCode(128|63&charcode)):(i++,charcode=65536+((1023&charcode)<<10|1023&str.charCodeAt(i)),out+=String.fromCharCode(240|charcode>>18),out+=String.fromCharCode(128|charcode>>12&63),out+=String.fromCharCode(128|charcode>>6&63),out+=String.fromCharCode(128|63&charcode))}return out}function generatePath(modules){var margin=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,ops=[];return modules.forEach(function(row,y){var start=null;row.forEach(function(cell,x){if(!cell&&null!==start)return ops.push("M".concat(start+margin," ").concat(y+margin,"h").concat(x-start,"v1H").concat(start+margin,"z")),void(start=null);if(x===row.length-1){if(!cell)return;return void(null===start?ops.push("M".concat(x+margin,",").concat(y+margin," h1v1H").concat(x+margin,"z")):ops.push("M".concat(start+margin,",").concat(y+margin," h").concat(x+1-start,"v1H").concat(start+margin,"z")))}cell&&null===start&&(start=x)})}),ops.join("")}function excavateModules(modules,excavation){return modules.slice().map(function(row,y){return y<excavation.y||y>=excavation.y+excavation.h?row:row.map(function(cell,x){return x<excavation.x||x>=excavation.x+excavation.w?cell:!1})})}function getImageSettings(props,cells){var imageSettings=props.imageSettings,size=props.size,includeMargin=props.includeMargin;if(null==imageSettings)return null;var margin=includeMargin?MARGIN_SIZE:0,numCells=cells.length+2*margin,defaultSize=Math.floor(size*DEFAULT_IMG_SCALE),scale=numCells/size,w=(imageSettings.width||defaultSize)*scale,h=(imageSettings.height||defaultSize)*scale,x=null==imageSettings.x?cells.length/2-w/2:imageSettings.x*scale,y=null==imageSettings.y?cells.length/2-h/2:imageSettings.y*scale,excavation=null;if(imageSettings.excavate){var floorX=Math.floor(x),floorY=Math.floor(y),ceilW=Math.ceil(w+x-floorX),ceilH=Math.ceil(h+y-floorY);excavation={x:floorX,y:floorY,w:ceilW,h:ceilH}}return{x:x,y:y,h:h,w:w,excavation:excavation}}var React=require("react"),QRCodeImpl=(require("prop-types"),require("qr.js/lib/QRCode")),ErrorCorrectLevel=require("qr.js/lib/ErrorCorrectLevel"),DEFAULT_PROPS={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},MARGIN_SIZE=4,DEFAULT_IMG_SCALE=.1,SUPPORTS_PATH2D=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),QRCodeCanvas=function(_React$PureComponent){function QRCodeCanvas(){var _getPrototypeOf2,_this;_classCallCheck(this,QRCodeCanvas);for(var _len=arguments.length,args=new Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2,[this].concat(args))),_defineProperty(_assertThisInitialized(_this),"_canvas",void 0),_defineProperty(_assertThisInitialized(_this),"_image",void 0),_defineProperty(_assertThisInitialized(_this),"state",{imgLoaded:!1}),_defineProperty(_assertThisInitialized(_this),"handleImageLoad",function(){_this.setState({imgLoaded:!0})}),_this}return _inherits(QRCodeCanvas,_React$PureComponent),_createClass(QRCodeCanvas,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(nextProps){var _this$props$imageSett,_nextProps$imageSetti,currentSrc=null===(_this$props$imageSett=this.props.imageSettings)||void 0===_this$props$imageSett?void 0:_this$props$imageSett.src,nextSrc=null===(_nextProps$imageSetti=nextProps.imageSettings)||void 0===_nextProps$imageSetti?void 0:_nextProps$imageSetti.src;currentSrc!==nextSrc&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var _this$props=this.props,value=_this$props.value,size=_this$props.size,level=_this$props.level,bgColor=_this$props.bgColor,fgColor=_this$props.fgColor,includeMargin=_this$props.includeMargin,imageSettings=_this$props.imageSettings,qrcode=new QRCodeImpl(-1,ErrorCorrectLevel[level]);if(qrcode.addData(convertStr(value)),qrcode.make(),null!=this._canvas){var canvas=this._canvas,ctx=canvas.getContext("2d");if(!ctx)return;var cells=qrcode.modules;if(null===cells)return;var margin=includeMargin?MARGIN_SIZE:0,numCells=cells.length+2*margin,calculatedImageSettings=getImageSettings(this.props,cells);null!=imageSettings&&null!=calculatedImageSettings&&null!=calculatedImageSettings.excavation&&(cells=excavateModules(cells,calculatedImageSettings.excavation));var pixelRatio=window.devicePixelRatio||1;canvas.height=canvas.width=size*pixelRatio;var scale=size/numCells*pixelRatio;ctx.scale(scale,scale),ctx.fillStyle=bgColor,ctx.fillRect(0,0,numCells,numCells),ctx.fillStyle=fgColor,SUPPORTS_PATH2D?ctx.fill(new Path2D(generatePath(cells,margin))):cells.forEach(function(row,rdx){row.forEach(function(cell,cdx){cell&&ctx.fillRect(cdx+margin,rdx+margin,1,1)})}),this.state.imgLoaded&&this._image&&null!=calculatedImageSettings&&ctx.drawImage(this._image,calculatedImageSettings.x+margin,calculatedImageSettings.y+margin,calculatedImageSettings.w,calculatedImageSettings.h)}}},{key:"render",value:function(){var _this2=this,_this$props2=this.props,size=(_this$props2.value,_this$props2.size),style=(_this$props2.level,_this$props2.bgColor,_this$props2.fgColor,_this$props2.style),imageSettings=(_this$props2.includeMargin,_this$props2.imageSettings),otherProps=_objectWithoutProperties(_this$props2,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),canvasStyle=_objectSpread({height:size,width:size},style),img=null,imgSrc=imageSettings&&imageSettings.src;return null!=imageSettings&&null!=imgSrc&&(img=React.createElement("img",{src:imgSrc,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(_ref){return _this2._image=_ref}})),React.createElement(React.Fragment,null,React.createElement("canvas",_extends({style:canvasStyle,height:size,width:size,ref:function(_ref2){return _this2._canvas=_ref2}},otherProps)),img)}}]),QRCodeCanvas}(React.PureComponent);_defineProperty(QRCodeCanvas,"defaultProps",DEFAULT_PROPS);var QRCodeSVG=function(_React$PureComponent2){function QRCodeSVG(){return _classCallCheck(this,QRCodeSVG),_possibleConstructorReturn(this,_getPrototypeOf(QRCodeSVG).apply(this,arguments))}return _inherits(QRCodeSVG,_React$PureComponent2),_createClass(QRCodeSVG,[{key:"render",value:function(){var _this$props3=this.props,value=_this$props3.value,size=_this$props3.size,level=_this$props3.level,bgColor=_this$props3.bgColor,fgColor=_this$props3.fgColor,includeMargin=_this$props3.includeMargin,imageSettings=_this$props3.imageSettings,otherProps=_objectWithoutProperties(_this$props3,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),qrcode=new QRCodeImpl(-1,ErrorCorrectLevel[level]);qrcode.addData(convertStr(value)),qrcode.make();var cells=qrcode.modules;if(null===cells)return null;var margin=includeMargin?MARGIN_SIZE:0,numCells=cells.length+2*margin,calculatedImageSettings=getImageSettings(this.props,cells),image=null;null!=imageSettings&&null!=calculatedImageSettings&&(null!=calculatedImageSettings.excavation&&(cells=excavateModules(cells,calculatedImageSettings.excavation)),image=React.createElement("image",{xlinkHref:imageSettings.src,height:calculatedImageSettings.h,width:calculatedImageSettings.w,x:calculatedImageSettings.x+margin,y:calculatedImageSettings.y+margin,preserveAspectRatio:"none"}));var fgPath=generatePath(cells,margin);return React.createElement("svg",_extends({shapeRendering:"crispEdges",height:size,width:size,viewBox:"0 0 ".concat(numCells," ").concat(numCells)},otherProps),React.createElement("path",{fill:bgColor,d:"M0,0 h".concat(numCells,"v").concat(numCells,"H0z")}),React.createElement("path",{fill:fgColor,d:fgPath}),image)}}]),QRCodeSVG}(React.PureComponent);_defineProperty(QRCodeSVG,"defaultProps",DEFAULT_PROPS);var QRCode=function(props){var renderAs=props.renderAs,otherProps=_objectWithoutProperties(props,["renderAs"]),Component="svg"===renderAs?QRCodeSVG:QRCodeCanvas;return React.createElement(Component,otherProps)};QRCode.defaultProps=_objectSpread({renderAs:"canvas"},DEFAULT_PROPS),module.exports=QRCode}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/qrcode.react/lib/index.js","/../../../../node_modules/qrcode.react/lib")},{buffer:5,hXUCVB:4,"prop-types":358,"qr.js/lib/ErrorCorrectLevel":362,"qr.js/lib/QRCode":364,react:385}],370:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function shallowCompare(instance,nextProps,nextState){return!shallowEqual(instance.props,nextProps)||!shallowEqual(instance.state,nextState)}var shallowEqual=require("fbjs/lib/shallowEqual");module.exports=shallowCompare}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-addons-shallow-compare/index.js","/../../../../node_modules/react-addons-shallow-compare")},{buffer:5,"fbjs/lib/shallowEqual":349,hXUCVB:4}],371:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict"}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-dom/cjs/react-dom.development.js","/../../../../node_modules/react-dom/cjs")},{buffer:5,hXUCVB:4,"object-assign":354,"prop-types/checkPropTypes":355,react:385,scheduler:409,"scheduler/tracing":410}],372:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function t(a){for(var b=a.message,c="https://reactjs.org/docs/error-decoder.html?invariant="+b,d=1;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d]);return a.message="Minified React error #"+b+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",a}function da(){if(ba)for(var a in ca){var b=ca[a],c=ba.indexOf(a);if(!(c>-1))throw t(Error(96),a);if(!ea[c]){if(!b.extractEvents)throw t(Error(97),a);ea[c]=b,c=b.eventTypes;for(var d in c){var e=void 0,f=c[d],h=b,g=d;if(fa.hasOwnProperty(g))throw t(Error(99),g);fa[g]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ha(k[e],h,g);e=!0}else f.registrationName?(ha(f.registrationName,h,g),e=!0):e=!1;if(!e)throw t(Error(98),d,a)}}}}function ha(a,b,c){if(ia[a])throw t(Error(100),a);ia[a]=b,ja[a]=b.eventTypes[c].dependencies}function ka(a,b,c,d,e,f,h,g,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(n){this.onError(n)}}function qa(a,b,c,d,e,f,h,g,k){la=!1,ma=null,ka.apply(pa,arguments)}function ra(a,b,c,d,e,f,h,g,k){if(qa.apply(this,arguments),la){if(!la)throw t(Error(198));var l=ma;la=!1,ma=null,na||(na=!0,oa=l)}}function wa(a,b,c){var d=a.type||"unknown-event";a.currentTarget=va(c),ra(d,b,void 0,a),a.currentTarget=null}function xa(a,b){if(null==b)throw t(Error(30));return null==a?b:Array.isArray(a)?Array.isArray(b)?(a.push.apply(a,b),a):(a.push(b),a):Array.isArray(b)?[a].concat(b):[a,b]}function ya(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}function Aa(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)wa(a,b[d],c[d]);else b&&wa(a,b,c);a._dispatchListeners=null,a._dispatchInstances=null,a.isPersistent()||a.constructor.release(a)}}function Ba(a){if(null!==a&&(za=xa(za,a)),a=za,za=null,a){if(ya(a,Aa),za)throw t(Error(95));if(na)throw a=oa,na=!1,oa=null,a}}function Da(a,b){var c=a.stateNode;if(!c)return null;var d=sa(c);if(!d)return null;c=d[b];a:switch(b){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(d=!d.disabled)||(a=a.type,d=!("button"===a||"input"===a||"select"===a||"textarea"===a)),a=!d;break a;default:a=!1}if(a)return null;if(c&&"function"!=typeof c)throw t(Error(231),b,typeof c);return c}function Ha(a){if(a[Fa])return a[Fa];for(;!a[Fa];){if(!a.parentNode)return null;a=a.parentNode}return a=a[Fa],5===a.tag||6===a.tag?a:null}function Ia(a){return a=a[Fa],!a||5!==a.tag&&6!==a.tag?null:a}function Ja(a){if(5===a.tag||6===a.tag)return a.stateNode;throw t(Error(33))}function Ka(a){return a[Ga]||null}function La(a){do a=a["return"];while(a&&5!==a.tag);return a?a:null}function Ma(a,b,c){(b=Da(a,c.dispatchConfig.phasedRegistrationNames[b]))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Na(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=La(b);for(b=c.length;0<b--;)Ma(c[b],"captured",a);for(b=0;b<c.length;b++)Ma(c[b],"bubbled",a)}}function Oa(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Da(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Pa(a){a&&a.dispatchConfig.registrationName&&Oa(a._targetInst,null,a)}function Qa(a){ya(a,Na)}function Sa(a,b){var c={};return c[a.toLowerCase()]=b.toLowerCase(),c["Webkit"+a]="webkit"+b,c["Moz"+a]="moz"+b,c}function Wa(a){if(Ua[a])return Ua[a];if(!Ta[a])return a;var c,b=Ta[a];for(c in b)if(b.hasOwnProperty(c)&&c in Va)return Ua[a]=b[c];return a}function fb(){if(eb)return eb;var a,d,b=db,c=b.length,e="value"in cb?cb.value:cb.textContent,f=e.length;for(a=0;c>a&&b[a]===e[a];a++);var h=c-a;for(d=1;h>=d&&b[c-d]===e[f-d];d++);return eb=e.slice(a,d>1?1-d:void 0)}function gb(){return!0}function hb(){return!1}function y(a,b,c,d){this.dispatchConfig=a,this._targetInst=b,this.nativeEvent=c,a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):"target"===e?this.target=d:this[e]=c[e]);return this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?gb:hb,this.isPropagationStopped=hb,this}function jb(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();return this.call(e,a,b,c,d),e}return new this(a,b,c,d)}function kb(a){if(!(a instanceof this))throw t(Error(279));a.destructor(),10>this.eventPool.length&&this.eventPool.push(a)}function ib(a){a.eventPool=[],a.getPooled=jb,a.release=kb}function wb(a,b){switch(a){case"keyup":return-1!==nb.indexOf(b.keyCode);case"keydown":return 229!==b.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function xb(a){return a=a.detail,"object"==typeof a&&"data"in a?a.data:null}function Ab(a,b){switch(a){case"compositionend":return xb(b);case"keypress":return 32!==b.which?null:(vb=!0,tb);case"textInput":return a=b.data,a===tb&&vb?null:a;default:return null}}function Bb(a,b){if(yb)return"compositionend"===a||!ob&&wb(a,b)?(a=fb(),eb=db=cb=null,yb=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b["char"]&&1<b["char"].length)return b["char"];if(b.which)return String.fromCharCode(b.which)}return null;case"compositionend":
return sb&&"ko"!==b.locale?null:b.data;default:return null}}function Gb(a){if(a=ta(a)){if("function"!=typeof Db)throw t(Error(280));var b=sa(a.stateNode);Db(a.stateNode,a.type,b)}}function Hb(a){Eb?Fb?Fb.push(a):Fb=[a]:Eb=a}function Ib(){if(Eb){var a=Eb,b=Fb;if(Fb=Eb=null,Gb(a),b)for(a=0;a<b.length;a++)Gb(b[a])}}function Jb(a,b){return a(b)}function Kb(a,b,c,d){return a(b,c,d)}function Lb(){}function Ob(){(null!==Eb||null!==Fb)&&(Lb(),Ib())}function Qb(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return"input"===b?!!Pb[a.type]:"textarea"===b?!0:!1}function Rb(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),3===a.nodeType?a.parentNode:a}function Sb(a){if(!Ra)return!1;a="on"+a;var b=a in document;return b||(b=document.createElement("div"),b.setAttribute(a,"return;"),b="function"==typeof b[a]),b}function Tb(a){var b=a.type;return(a=a.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===b||"radio"===b)}function Ub(a){var b=Tb(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=""+a[b];if(!a.hasOwnProperty(b)&&"undefined"!=typeof c&&"function"==typeof c.get&&"function"==typeof c.set){var e=c.get,f=c.set;return Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=""+a,f.call(this,a)}}),Object.defineProperty(a,b,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(a){d=""+a},stopTracking:function(){a._valueTracker=null,delete a[b]}}}}function Vb(a){a._valueTracker||(a._valueTracker=Ub(a))}function Wb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue(),d="";return a&&(d=Tb(a)?a.checked?"true":"false":a.value),a=d,a!==c?(b.setValue(a),!0):!1}function mc(a){return null===a||"object"!=typeof a?null:(a=lc&&a[lc]||a["@@iterator"],"function"==typeof a?a:null)}function oc(a){if(null==a)return null;if("function"==typeof a)return a.displayName||a.name||null;if("string"==typeof a)return a;switch(a){case ac:return"Fragment";case $b:return"Portal";case cc:return"Profiler";case bc:return"StrictMode";case hc:return"Suspense";case ic:return"SuspenseList"}if("object"==typeof a)switch(a.$$typeof){case ec:return"Context.Consumer";case dc:return"Context.Provider";case gc:var b=a.render;return b=b.displayName||b.name||"",a.displayName||(""!==b?"ForwardRef("+b+")":"ForwardRef");case jc:return oc(a.type);case kc:if(a=1===a._status?a._result:null)return oc(a)}return null}function pc(a){var b="";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c="";break a;default:var d=a._debugOwner,e=a._debugSource,f=oc(a.type);c=null,d&&(c=oc(d.type)),d=f,f="",e?f=" (at "+e.fileName.replace(Yb,"")+":"+e.lineNumber+")":c&&(f=" (created by "+c+")"),c="\n    in "+(d||"Unknown")+f}b+=c,a=a["return"]}while(a);return b}function uc(a){return rc.call(tc,a)?!0:rc.call(sc,a)?!1:qc.test(a)?tc[a]=!0:(sc[a]=!0,!1)}function vc(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case"function":case"symbol":return!0;case"boolean":return d?!1:null!==c?!c.acceptsBooleans:(a=a.toLowerCase().slice(0,5),"data-"!==a&&"aria-"!==a);default:return!1}}function wc(a,b,c,d){if(null===b||"undefined"==typeof b||vc(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function D(a,b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b,this.attributeName=d,this.attributeNamespace=e,this.mustUseProperty=c,this.propertyName=a,this.type=b,this.sanitizeURL=f}function yc(a){return a[1].toUpperCase()}function zc(a,b,c,d){var e=F.hasOwnProperty(b)?F[b]:null,f=null!==e?0===e.type:d?!1:!(2<b.length)||"o"!==b[0]&&"O"!==b[0]||"n"!==b[1]&&"N"!==b[1]?!1:!0;f||(wc(b,c,e,d)&&(c=null),d||null===e?uc(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,""+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:"":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?"":""+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}function Ac(a){switch(typeof a){case"boolean":case"number":case"object":case"string":case"undefined":return a;default:return""}}function Bc(a,b){var c=b.checked;return m({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}function Cc(a,b){var c=null==b.defaultValue?"":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=Ac(null!=b.value?b.value:c),a._wrapperState={initialChecked:d,initialValue:c,controlled:"checkbox"===b.type||"radio"===b.type?null!=b.checked:null!=b.value}}function Dc(a,b){b=b.checked,null!=b&&zc(a,"checked",b,!1)}function Ec(a,b){Dc(a,b);var c=Ac(b.value),d=b.type;if(null!=c)"number"===d?(0===c&&""===a.value||a.value!=c)&&(a.value=""+c):a.value!==""+c&&(a.value=""+c);else if("submit"===d||"reset"===d)return void a.removeAttribute("value");b.hasOwnProperty("value")?Fc(a,b.type,c):b.hasOwnProperty("defaultValue")&&Fc(a,b.type,Ac(b.defaultValue)),null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}function Gc(a,b,c){if(b.hasOwnProperty("value")||b.hasOwnProperty("defaultValue")){var d=b.type;if(!("submit"!==d&&"reset"!==d||void 0!==b.value&&null!==b.value))return;b=""+a._wrapperState.initialValue,c||b===a.value||(a.value=b),a.defaultValue=b}c=a.name,""!==c&&(a.name=""),a.defaultChecked=!a.defaultChecked,a.defaultChecked=!!a._wrapperState.initialChecked,""!==c&&(a.name=c)}function Fc(a,b,c){("number"!==b||a.ownerDocument.activeElement!==a)&&(null==c?a.defaultValue=""+a._wrapperState.initialValue:a.defaultValue!==""+c&&(a.defaultValue=""+c))}function Ic(a,b,c){return a=y.getPooled(Hc.change,a,b,c),a.type="change",Hb(c),Qa(a),a}function Lc(a){Ba(a)}function Mc(a){var b=Ja(a);return Wb(b)?a:void 0}function Nc(a,b){return"change"===a?b:void 0}function Pc(){Jc&&(Jc.detachEvent("onpropertychange",Qc),Kc=Jc=null)}function Qc(a){if("value"===a.propertyName&&Mc(Kc))if(a=Ic(Kc,a,Rb(a)),Nb)Ba(a);else{Nb=!0;try{Jb(Lc,a)}finally{Nb=!1,Ob()}}}function Rc(a,b,c){"focus"===a?(Pc(),Jc=b,Kc=c,Jc.attachEvent("onpropertychange",Qc)):"blur"===a&&Pc()}function Sc(a){return"selectionchange"===a||"keyup"===a||"keydown"===a?Mc(Kc):void 0}function Tc(a,b){return"click"===a?Mc(b):void 0}function Uc(a,b){return"input"===a||"change"===a?Mc(b):void 0}function Yc(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=Xc[a])?!!b[a]:!1}function Zc(){return Yc}function hd(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}function jd(a,b){if(hd(a,b))return!0;if("object"!=typeof a||null===a||"object"!=typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!id.call(b,c[d])||!hd(a[c[d]],b[c[d]]))return!1;return!0}function kd(a,b){return{responder:a,props:b}}function ld(a){var b=a;if(a.alternate)for(;b["return"];)b=b["return"];else{if(0!==(2&b.effectTag))return 1;for(;b["return"];)if(b=b["return"],0!==(2&b.effectTag))return 1}return 3===b.tag?2:3}function od(a){if(2!==ld(a))throw t(Error(188))}function pd(a){var b=a.alternate;if(!b){if(b=ld(a),3===b)throw t(Error(188));return 1===b?null:a}for(var c=a,d=b;;){var e=c["return"];if(null===e)break;var f=e.alternate;if(null===f){if(d=e["return"],null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return od(e),a;if(f===d)return od(e),b;f=f.sibling}throw t(Error(188))}if(c["return"]!==d["return"])c=e,d=f;else{for(var h=!1,g=e.child;g;){if(g===c){h=!0,c=e,d=f;break}if(g===d){h=!0,d=e,c=f;break}g=g.sibling}if(!h){for(g=f.child;g;){if(g===c){h=!0,c=f,d=e;break}if(g===d){h=!0,d=f,c=e;break}g=g.sibling}if(!h)throw t(Error(189))}}if(c.alternate!==d)throw t(Error(190))}if(3!==c.tag)throw t(Error(188));return c.stateNode.current===c?a:b}function qd(a){if(a=pd(a),!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child["return"]=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"],b=b.sibling}}return null}function ud(a){var b=a.keyCode;return"charCode"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b,10===a&&(a=13),a>=32||13===a?a:0}function Pd(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d;for(d=c;d["return"];)d=d["return"];if(d=3!==d.tag?null:d.stateNode.containerInfo,!d)break;a.ancestors.push(c),c=Ha(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Rb(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,h=null,g=0;g<ea.length;g++){var k=ea[g];k&&(k=k.extractEvents(d,b,f,e))&&(h=xa(h,k))}Ba(h)}}function G(a,b){Rd(b,a,!1)}function Rd(a,b,c){switch(Nd(b)){case 0:var d=Sd.bind(null,b,1);break;case 1:d=Td.bind(null,b,1);break;default:d=Ud.bind(null,b,1)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function Sd(a,b,c){Nb||Lb();var d=Ud,e=Nb;Nb=!0;try{Kb(d,a,b,c)}finally{(Nb=e)||Ob()}}function Td(a,b,c){Ud(a,b,c)}function Ud(a,b,c){if(Qd){if(b=Rb(c),b=Ha(b),null===b||"number"!=typeof b.tag||2===ld(b)||(b=null),Od.length){var d=Od.pop();d.topLevelType=a,d.nativeEvent=c,d.targetInst=b,a=d}else a={topLevelType:a,nativeEvent:c,targetInst:b,ancestors:[]};try{if(c=a,Nb)Pd(c,void 0);else{Nb=!0;try{Mb(Pd,c,void 0)}finally{Nb=!1,Ob()}}}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,10>Od.length&&Od.push(a)}}}function Wd(a){var b=Vd.get(a);return void 0===b&&(b=new Set,Vd.set(a,b)),b}function Xd(a){if(a=a||("undefined"!=typeof document?document:void 0),"undefined"==typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function Yd(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Zd(a,b){var c=Yd(a);a=0;for(var d;c;){if(3===c.nodeType){if(d=a+c.textContent.length,b>=a&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=Yd(c)}}function $d(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?$d(a,b.parentNode):"contains"in a?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}function ae(){for(var a=window,b=Xd();b instanceof a.HTMLIFrameElement;){try{var c="string"==typeof b.contentWindow.location.href}catch(d){c=!1}if(!c)break;a=b.contentWindow,b=Xd(a.document)}return b}function be(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&("input"===b&&("text"===a.type||"search"===a.type||"tel"===a.type||"url"===a.type||"password"===a.type)||"textarea"===b||"true"===a.contentEditable)}function ie(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;return he||null==ee||ee!==Xd(c)?null:(c=ee,"selectionStart"in c&&be(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ge&&jd(ge,c)?null:(ge=c,a=y.getPooled(de.select,fe,a,b),a.type="select",a.target=ee,Qa(a),a))}function ke(a){var b="";return aa.Children.forEach(a,function(a){null!=a&&(b+=a)}),b}function le(a,b){return a=m({children:void 0},b),(b=ke(b.children))&&(a.children=b),a}function me(a,b,c,d){if(a=a.options,b){b={};for(var e=0;e<c.length;e++)b["$"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty("$"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{for(c=""+Ac(c),b=null,e=0;e<a.length;e++){if(a[e].value===c)return a[e].selected=!0,void(d&&(a[e].defaultSelected=!0));null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}function ne(a,b){if(null!=b.dangerouslySetInnerHTML)throw t(Error(91));return m({},b,{value:void 0,defaultValue:void 0,children:""+a._wrapperState.initialValue})}function oe(a,b){var c=b.value;if(null==c){if(c=b.defaultValue,b=b.children,null!=b){if(null!=c)throw t(Error(92));if(Array.isArray(b)){if(!(1>=b.length))throw t(Error(93));b=b[0]}c=b}null==c&&(c="")}a._wrapperState={initialValue:Ac(c)}}function pe(a,b){var c=Ac(b.value),d=Ac(b.defaultValue);null!=c&&(c=""+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c)),null!=d&&(a.defaultValue=""+d)}function qe(a){var b=a.textContent;b===a._wrapperState.initialValue&&(a.value=b)}function se(a){switch(a){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function te(a,b){return null==a||"http://www.w3.org/1999/xhtml"===a?se(b):"http://www.w3.org/2000/svg"===a&&"foreignObject"===b?"http://www.w3.org/1999/xhtml":a}function we(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType)return void(c.nodeValue=b)}a.textContent=b}function ze(a,b,c){return null==b||"boolean"==typeof b||""===b?"":c||"number"!=typeof b||0===b||xe.hasOwnProperty(a)&&xe[a]?(""+b).trim():b+"px"}function Ae(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf("--"),e=ze(c,b[c],d);"float"===c&&(c="cssFloat"),d?a.setProperty(c,e):a[c]=e}}function De(a,b){if(b){if(Ce[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw t(Error(137),a,"");if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw t(Error(60));if(!("object"==typeof b.dangerouslySetInnerHTML&&"__html"in b.dangerouslySetInnerHTML))throw t(Error(61))}if(null!=b.style&&"object"!=typeof b.style)throw t(Error(62),"")}}function Ee(a,b){if(-1===a.indexOf("-"))return"string"==typeof b.is;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fe(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=Wd(a);b=ja[b];for(var d=0;d<b.length;d++){var e=b[d];if(!c.has(e)){switch(e){case"scroll":Rd(a,"scroll",!0);break;case"focus":case"blur":Rd(a,"focus",!0),Rd(a,"blur",!0),c.add("blur"),c.add("focus");break;case"cancel":case"close":Sb(e)&&Rd(a,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===bb.indexOf(e)&&G(e,a)}c.add(e)}}}function Ge(){}function Je(a,b){switch(a){case"button":case"input":case"select":case"textarea":return!!b.autoFocus}return!1}function Ke(a,b){return"textarea"===a||"option"===a||"noscript"===a||"string"==typeof b.children||"number"==typeof b.children||"object"==typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}function Ne(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}function H(a){0>Pe||(a.current=Oe[Pe],Oe[Pe]=null,Pe--)}function J(a,b){Pe++,Oe[Pe]=a.current,a.current=b}function Se(a,b){var c=a.type.contextTypes;if(!c)return Qe;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var f,e={};for(f in c)e[f]=b[f];return d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e),e}function N(a){return a=a.childContextTypes,null!==a&&void 0!==a}function Te(a){H(M,a),H(L,a)}function Ue(a){H(M,a),H(L,a)}function Ve(a,b,c){if(L.current!==Qe)throw t(Error(168));J(L,b,a),J(M,c,a)}function We(a,b,c){var d=a.stateNode;if(a=b.childContextTypes,"function"!=typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw t(Error(108),oc(b)||"Unknown",e);return m({},c,d)}function Xe(a){var b=a.stateNode;return b=b&&b.__reactInternalMemoizedMergedChildContext||Qe,Re=L.current,J(L,b,a),J(M,M.current,a),!0}function Ye(a,b,c){var d=a.stateNode;if(!d)throw t(Error(169));c?(b=We(a,b,Re),d.__reactInternalMemoizedMergedChildContext=b,H(M,a),H(L,a),J(L,b,a)):H(M,a),J(M,c,a)}function tf(){switch(ef()){case ff:return 99;case hf:return 98;case jf:return 97;case kf:return 96;case lf:return 95;default:throw t(Error(332))}}function uf(a){switch(a){case 99:return ff;case 98:return hf;case 97:return jf;case 96:return kf;case 95:return lf;default:throw t(Error(332))}}function vf(a,b){return a=uf(a),Ze(a,b)}function wf(a,b,c){return a=uf(a),$e(a,b,c)}function xf(a){return null===of?(of=[a],pf=$e(ff,yf)):of.push(a),mf}function O(){null!==pf&&af(pf),yf()}function yf(){if(!qf&&null!==of){qf=!0;var a=0;try{var b=of;vf(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}}),of=null}catch(c){throw null!==of&&(of=of.slice(a+1)),$e(ff,O),c}finally{qf=!1}}}function zf(a,b){return 1073741823===b?99:1===b?95:(a=10*(1073741821-b)-10*(1073741821-a),0>=a?99:250>=a?98:5250>=a?97:95)}function Af(a,b){if(a&&a.defaultProps){b=m({},b),a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}function Bf(a){var b=a._result;switch(a._status){case 1:return b;case 2:throw b;case 0:throw b;default:switch(a._status=0,b=a._ctor,b=b(),b.then(function(b){0===a._status&&(b=b["default"],a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)}),a._status){case 1:return a._result;case 2:throw a._result}throw a._result=b,b}}function Gf(){Ff=Ef=Df=null}function Hf(a,b){var c=a.type._context;J(Cf,c._currentValue,a),c._currentValue=b}function If(a){var b=Cf.current;H(Cf,a),a.type._context._currentValue=b}function Jf(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else{if(!(null!==c&&c.childExpirationTime<b))break;c.childExpirationTime=b}a=a["return"]}}function Kf(a,b){Df=a,Ff=Ef=null,a=a.dependencies,null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(Lf=!0),a.firstContext=null)}function Mf(a,b){if(Ff!==a&&!1!==b&&0!==b)if(("number"!=typeof b||1073741823===b)&&(Ff=a,b=1073741823),b={context:a,observedBits:b,next:null},null===Ef){if(null===Df)throw t(Error(308));Ef=b,Df.dependencies={expirationTime:0,firstContext:b,responders:null}}else Ef=Ef.next=b;return a._currentValue}function Of(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Pf(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qf(a,b){return{expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Rf(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}function Sf(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue,e=null;null===d&&(d=a.updateQueue=Of(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=Of(a.memoizedState),e=c.updateQueue=Of(c.memoizedState)):d=a.updateQueue=Pf(e):null===e&&(e=c.updateQueue=Pf(d));null===e||d===e?Rf(d,b):null===d.lastUpdate||null===e.lastUpdate?(Rf(d,b),Rf(e,b)):(Rf(d,b),e.lastUpdate=b)}function Tf(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=Of(a.memoizedState):Uf(a,c),null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function Uf(a,b){var c=a.alternate;return null!==c&&b===c.updateQueue&&(b=a.updateQueue=Pf(b)),b}function Vf(a,b,c,d,e,f){switch(c.tag){case 1:return a=c.payload,"function"==typeof a?a.call(f,d,e):a;case 3:a.effectTag=-2049&a.effectTag|64;case 0:if(a=c.payload,e="function"==typeof a?a.call(f,d,e):a,null===e||void 0===e)break;return m({},d,e);case 2:Nf=!0}return d}function Wf(a,b,c,d,e){Nf=!1,b=Uf(a,b);for(var f=b.baseState,h=null,g=0,k=b.firstUpdate,l=f;null!==k;){var n=k.expirationTime;e>n?(null===h&&(h=k,f=l),n>g&&(g=n)):(Xf(n,k.suspenseConfig),l=Vf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=k:(b.lastEffect.nextEffect=k,b.lastEffect=k))),k=k.next}for(n=null,k=b.firstCapturedUpdate;null!==k;){var z=k.expirationTime;e>z?(null===n&&(n=k,null===h&&(f=l)),z>g&&(g=z)):(l=Vf(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=k:(b.lastCapturedEffect.nextEffect=k,b.lastCapturedEffect=k))),k=k.next}null===h&&(b.lastUpdate=null),null===n?b.lastCapturedUpdate=null:a.effectTag|=32,null===h&&null===n&&(f=l),b.baseState=f,b.firstUpdate=h,b.firstCapturedUpdate=n,a.expirationTime=g,a.memoizedState=l}function Yf(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null),Zf(b.firstEffect,c),b.firstEffect=b.lastEffect=null,Zf(b.firstCapturedEffect,c),b.firstCapturedEffect=b.lastCapturedEffect=null}function Zf(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;if("function"!=typeof c)throw t(Error(191),c);c.call(d)}a=a.nextEffect}}function bg(a,b,c,d){b=a.memoizedState,c=c(d,b),c=null===c||void 0===c?b:m({},b,c),a.memoizedState=c,d=a.updateQueue,null!==d&&0===a.expirationTime&&(d.baseState=c)}function gg(a,b,c,d,e,f,h){return a=a.stateNode,"function"==typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,h):b.prototype&&b.prototype.isPureReactComponent?!jd(c,d)||!jd(e,f):!0}function hg(a,b,c){var d=!1,e=Qe,f=b.contextType;return"object"==typeof f&&null!==f?f=Mf(f):(e=N(b)?Re:L.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Se(a,e):Qe),b=new b(c,f),a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null,b.updater=fg,a.stateNode=b,b._reactInternalFiber=a,d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f),b}function ig(a,b,c,d){a=b.state,"function"==typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d),"function"==typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d),b.state!==a&&fg.enqueueReplaceState(b,b.state,null)}function jg(a,b,c,d){var e=a.stateNode;e.props=c,e.state=a.memoizedState,e.refs=ag;var f=b.contextType;"object"==typeof f&&null!==f?e.context=Mf(f):(f=N(b)?Re:L.current,e.context=Se(a,f)),f=a.updateQueue,null!==f&&(Wf(a,f,c,e,d),e.state=a.memoizedState),f=b.getDerivedStateFromProps,"function"==typeof f&&(bg(a,b,f,c),e.state=a.memoizedState),"function"==typeof b.getDerivedStateFromProps||"function"==typeof e.getSnapshotBeforeUpdate||"function"!=typeof e.UNSAFE_componentWillMount&&"function"!=typeof e.componentWillMount||(b=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&fg.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(Wf(a,f,c,e,d),e.state=a.memoizedState)),"function"==typeof e.componentDidMount&&(a.effectTag|=4)}function lg(a,b,c){if(a=c.ref,null!==a&&"function"!=typeof a&&"object"!=typeof a){if(c._owner){c=c._owner;var d=void 0;if(c){if(1!==c.tag)throw t(Error(309));d=c.stateNode}if(!d)throw t(Error(147),a);var e=""+a;return null!==b&&null!==b.ref&&"function"==typeof b.ref&&b.ref._stringRef===e?b.ref:(b=function(a){var b=d.refs;b===ag&&(b=d.refs={}),null===a?delete b[e]:b[e]=a},b._stringRef=e,b)}if("string"!=typeof a)throw t(Error(284));if(!c._owner)throw t(Error(290),a)}return a}function mg(a,b){if("textarea"!==a.type)throw t(Error(31),"[object Object]"===Object.prototype.toString.call(b)?"object with keys {"+Object.keys(b).join(", ")+"}":b,"")}function ng(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c,c.nextEffect=null,c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){return a=og(a,b,c),a.index=0,a.sibling=null,a}function f(b,c,d){return b.index=d,a?(d=b.alternate,null!==d?(d=d.index,c>d?(b.effectTag=2,c):d):(b.effectTag=2,c)):c}function h(b){return a&&null===b.alternate&&(b.effectTag=2),b}function g(a,b,c,d){return null===b||6!==b.tag?(b=pg(c,a.mode,d),b["return"]=a,b):(b=e(b,c,d),b["return"]=a,b)}function k(a,b,c,d){return null!==b&&b.elementType===c.type?(d=e(b,c.props,d),d.ref=lg(a,b,c),d["return"]=a,d):(d=qg(c.type,c.key,c.props,null,a.mode,d),d.ref=lg(a,b,c),d["return"]=a,d)}function l(a,b,c,d){return null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==c.implementation?(b=rg(c,a.mode,d),b["return"]=a,b):(b=e(b,c.children||[],d),b["return"]=a,b)}function n(a,b,c,d,f){return null===b||7!==b.tag?(b=sg(c,a.mode,d,f),b["return"]=a,b):(b=e(b,c,d),b["return"]=a,b)}function z(a,b,c){if("string"==typeof b||"number"==typeof b)return b=pg(""+b,a.mode,c),b["return"]=a,b;if("object"==typeof b&&null!==b){switch(b.$$typeof){case Zb:return c=qg(b.type,b.key,b.props,null,a.mode,c),c.ref=lg(a,null,b),c["return"]=a,c;case $b:return b=rg(b,a.mode,c),b["return"]=a,b}if(kg(b)||mc(b))return b=sg(b,a.mode,c,null),b["return"]=a,b;mg(a,b)}return null}function x(a,b,c,d){var e=null!==b?b.key:null;if("string"==typeof c||"number"==typeof c)return null!==e?null:g(a,b,""+c,d);if("object"==typeof c&&null!==c){switch(c.$$typeof){case Zb:return c.key===e?c.type===ac?n(a,b,c.props.children,d,e):k(a,b,c,d):null;case $b:return c.key===e?l(a,b,c,d):null}if(kg(c)||mc(c))return null!==e?null:n(a,b,c,d,null);mg(a,c)}return null}function v(a,b,c,d,e){if("string"==typeof d||"number"==typeof d)return a=a.get(c)||null,g(b,a,""+d,e);if("object"==typeof d&&null!==d){switch(d.$$typeof){case Zb:return a=a.get(null===d.key?c:d.key)||null,d.type===ac?n(b,a,d.props.children,e,d.key):k(b,a,d,e);case $b:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(kg(d)||mc(d))return a=a.get(c)||null,n(b,a,d,e,null);mg(b,d)}return null}function rb(e,h,g,k){for(var l=null,u=null,n=h,w=h=0,C=null;null!==n&&w<g.length;w++){n.index>w?(C=n,n=null):C=n.sibling;var p=x(e,n,g[w],k);if(null===p){null===n&&(n=C);break}a&&n&&null===p.alternate&&b(e,n),h=f(p,h,w),null===u?l=p:u.sibling=p,u=p,n=C}if(w===g.length)return c(e,n),l;if(null===n){for(;w<g.length;w++)n=z(e,g[w],k),null!==n&&(h=f(n,h,w),null===u?l=n:u.sibling=n,u=n);return l}for(n=d(e,n);w<g.length;w++)C=v(n,e,w,g[w],k),null!==C&&(a&&null!==C.alternate&&n["delete"](null===C.key?w:C.key),h=f(C,h,w),null===u?l=C:u.sibling=C,u=C);return a&&n.forEach(function(a){return b(e,a)}),l}function Be(e,h,g,k){var l=mc(g);if("function"!=typeof l)throw t(Error(150));if(g=l.call(g),null==g)throw t(Error(151));for(var n=l=null,u=h,w=h=0,C=null,p=g.next();null!==u&&!p.done;w++,p=g.next()){u.index>w?(C=u,u=null):C=u.sibling;var r=x(e,u,p.value,k);if(null===r){null===u&&(u=C);break}a&&u&&null===r.alternate&&b(e,u),h=f(r,h,w),null===n?l=r:n.sibling=r,n=r,u=C}if(p.done)return c(e,u),l;if(null===u){for(;!p.done;w++,p=g.next())p=z(e,p.value,k),null!==p&&(h=f(p,h,w),null===n?l=p:n.sibling=p,n=p);return l}for(u=d(e,u);!p.done;w++,p=g.next())p=v(u,e,w,p.value,k),null!==p&&(a&&null!==p.alternate&&u["delete"](null===p.key?w:p.key),h=f(p,h,w),null===n?l=p:n.sibling=p,n=p);return a&&u.forEach(function(a){return b(e,a)}),l}return function(a,d,f,g){var k="object"==typeof f&&null!==f&&f.type===ac&&null===f.key;k&&(f=f.props.children);var l="object"==typeof f&&null!==f;if(l)switch(f.$$typeof){case Zb:a:{for(l=f.key,k=d;null!==k;){if(k.key===l){if(7===k.tag?f.type===ac:k.elementType===f.type){c(a,k.sibling),d=e(k,f.type===ac?f.props.children:f.props,g),d.ref=lg(a,k,f),d["return"]=a,a=d;break a}c(a,k);break}b(a,k),k=k.sibling}f.type===ac?(d=sg(f.props.children,a.mode,g,f.key),d["return"]=a,a=d):(g=qg(f.type,f.key,f.props,null,a.mode,g),g.ref=lg(a,d,f),g["return"]=a,a=g)}return h(a);case $b:a:{for(k=f.key;null!==d;){if(d.key===k){if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling),d=e(d,f.children||[],g),d["return"]=a,a=d;break a}c(a,d);break}b(a,d),d=d.sibling}d=rg(f,a.mode,g),d["return"]=a,a=d}return h(a)}if("string"==typeof f||"number"==typeof f)return f=""+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,g),d["return"]=a,a=d):(c(a,d),d=pg(f,a.mode,g),d["return"]=a,a=d),h(a);if(kg(f))return rb(a,d,f,g);if(mc(f))return Be(a,d,f,g);if(l&&mg(a,f),"undefined"==typeof f&&!k)switch(a.tag){case 1:case 0:throw a=a.type,t(Error(152),a.displayName||a.name||"Component")}return c(a,d)}}function zg(a){if(a===vg)throw t(Error(174));return a}function Ag(a,b){J(yg,b,a),J(xg,a,a),J(wg,vg,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:te(null,"");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=te(b,c)}H(wg,a),J(wg,b,a)}function Bg(a){H(wg,a),H(xg,a),H(yg,a)}function Cg(a){zg(yg.current);var b=zg(wg.current),c=te(b,a.type);b!==c&&(J(xg,a,a),J(wg,c,a))}function Dg(a){xg.current===a&&(H(wg,a),H(xg,a))}function Hg(a){for(var b=a;null!==b;){if(13===b.tag){if(null!==b.memoizedState)return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(64&b.effectTag))return b}else if(null!==b.child){b.child["return"]=b,b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b["return"]||b["return"]===a)return null;b=b["return"]}b.sibling["return"]=b["return"],b=b.sibling}return null}function bh(){throw t(Error(321))}function ch(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!hd(a[c],b[c]))return!1;return!0}function dh(a,b,c,d,e,f){if(Rg=f,Sg=b,Tg=null!==a?a.memoizedState:null,Qg.current=null===Tg?eh:fh,b=c(d,e),Zg){do Zg=!1,ah+=1,Tg=null!==a?a.memoizedState:null,Vg=Ug,Xg=R=Q=null,Qg.current=fh,b=c(d,e);while(Zg);$g=null,ah=0}if(Qg.current=hh,a=Sg,a.memoizedState=Ug,a.expirationTime=Wg,a.updateQueue=Xg,a.effectTag|=Yg,a=null!==Q&&null!==Q.next,Rg=0,Vg=R=Ug=Tg=Q=Sg=null,Wg=0,Xg=null,Yg=0,a)throw t(Error(300));return b}function ih(){Qg.current=hh,Rg=0,Vg=R=Ug=Tg=Q=Sg=null,Wg=0,Xg=null,Yg=0,Zg=!1,$g=null,ah=0}function jh(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===R?Ug=R=a:R=R.next=a,R}function kh(){if(null!==Vg)R=Vg,Vg=R.next,Q=Tg,Tg=null!==Q?Q.next:null;else{if(null===Tg)throw t(Error(310));Q=Tg;var a={memoizedState:Q.memoizedState,baseState:Q.baseState,queue:Q.queue,baseUpdate:Q.baseUpdate,next:null};R=null===R?Ug=a:R.next=a,Tg=Q.next}return R}function lh(a,b){return"function"==typeof b?b(a):b}function mh(a){var b=kh(),c=b.queue;if(null===c)throw t(Error(311));if(c.lastRenderedReducer=a,ah>0){var d=c.dispatch;if(null!==$g){var e=$g.get(c);if(void 0!==e){$g["delete"](c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);return hd(f,b.memoizedState)||(Lf=!0),b.memoizedState=f,b.baseUpdate===c.last&&(b.baseState=f),c.lastRenderedState=f,[f,d]}}return[b.memoizedState,d]}d=c.last;var h=b.baseUpdate;if(f=b.baseState,null!==h?(null!==d&&(d.next=null),d=h.next):d=null!==d?d.next:null,null!==d){var g=e=null,k=d,l=!1;do{var n=k.expirationTime;Rg>n?(l||(l=!0,g=h,e=f),n>Wg&&(Wg=n)):(Xf(n,k.suspenseConfig),f=k.eagerReducer===a?k.eagerState:a(f,k.action)),h=k,k=k.next}while(null!==k&&k!==d);l||(g=h,e=f),hd(f,b.memoizedState)||(Lf=!0),b.memoizedState=f,b.baseUpdate=g,b.baseState=e,c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}function nh(a,b,c,d){return a={tag:a,create:b,destroy:c,deps:d,next:null},null===Xg?(Xg={lastEffect:null},Xg.lastEffect=a.next=a):(b=Xg.lastEffect,null===b?Xg.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,Xg.lastEffect=a)),a}function oh(a,b,c,d){var e=jh();Yg|=a,e.memoizedState=nh(b,c,void 0,void 0===d?null:d)}function ph(a,b,c,d){var e=kh();d=void 0===d?null:d;var f=void 0;if(null!==Q){var h=Q.memoizedState;if(f=h.destroy,null!==d&&ch(d,h.deps))return void nh(Ig,c,f,d)}Yg|=a,e.memoizedState=nh(b,c,f,d)}function qh(a,b){return"function"==typeof b?(a=a(),b(a),function(){b(null)}):null!==b&&void 0!==b?(a=a(),b.current=a,function(){b.current=null}):void 0}function rh(){}function sh(a,b,c){if(!(25>ah))throw t(Error(301));var d=a.alternate;if(a===Sg||null!==d&&d===Sg)if(Zg=!0,a={expirationTime:Rg,suspenseConfig:null,action:c,eagerReducer:null,eagerState:null,next:null},null===$g&&($g=new Map),
c=$g.get(b),void 0===c)$g.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{var e=cg(),f=$f.suspense;e=dg(e,a,f),f={expirationTime:e,suspenseConfig:f,action:c,eagerReducer:null,eagerState:null,next:null};var h=b.last;if(null===h)f.next=f;else{var g=h.next;null!==g&&(f.next=g),h.next=f}if(b.last=f,0===a.expirationTime&&(null===d||0===d.expirationTime)&&(d=b.lastRenderedReducer,null!==d))try{var k=b.lastRenderedState,l=d(k,c);if(f.eagerReducer=d,f.eagerState=l,hd(l,k))return}catch(n){}finally{}eg(a,e)}}function wh(a,b){var c=xh(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=b,c["return"]=a,c.effectTag=8,null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}function yh(a,b){switch(a.tag){case 5:var c=a.type;return b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b,null!==b?(a.stateNode=b,!0):!1;case 6:return b=""===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}function zh(a){if(vh){var b=uh;if(b){var c=b;if(!yh(a,b)){if(b=Ne(c.nextSibling),!b||!yh(a,b))return a.effectTag|=2,vh=!1,void(th=a);wh(th,c)}th=a,uh=Ne(b.firstChild)}else a.effectTag|=2,vh=!1,th=a}}function Ah(a){for(a=a["return"];null!==a&&5!==a.tag&&3!==a.tag&&18!==a.tag;)a=a["return"];th=a}function Bh(a){if(a!==th)return!1;if(!vh)return Ah(a),vh=!0,!1;var b=a.type;if(5!==a.tag||"head"!==b&&"body"!==b&&!Ke(b,a.memoizedProps))for(b=uh;b;)wh(a,b),b=Ne(b.nextSibling);return Ah(a),uh=th?Ne(a.stateNode.nextSibling):null,!0}function Ch(){uh=th=null,vh=!1}function S(a,b,c,d){b.child=null===a?ug(b,null,c,d):tg(b,a.child,c,d)}function Eh(a,b,c,d,e){c=c.render;var f=b.ref;return Kf(b,e),d=dh(a,b,c,d,f,e),null===a||Lf?(b.effectTag|=1,S(a,b,d,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Fh(a,b,e))}function Gh(a,b,c,d,e,f){if(null===a){var h=c.type;return"function"!=typeof h||Hh(h)||void 0!==h.defaultProps||null!==c.compare||void 0!==c.defaultProps?(a=qg(c.type,null,d,null,b.mode,f),a.ref=b.ref,a["return"]=b,b.child=a):(b.tag=15,b.type=h,Ih(a,b,h,d,e,f))}return h=a.child,f>e&&(e=h.memoizedProps,c=c.compare,c=null!==c?c:jd,c(e,d)&&a.ref===b.ref)?Fh(a,b,f):(b.effectTag|=1,a=og(h,d,f),a.ref=b.ref,a["return"]=b,b.child=a)}function Ih(a,b,c,d,e,f){return null!==a&&jd(a.memoizedProps,d)&&a.ref===b.ref&&(Lf=!1,f>e)?Fh(a,b,f):Jh(a,b,c,d,f)}function Kh(a,b){var c=b.ref;(null===a&&null!==c||null!==a&&a.ref!==c)&&(b.effectTag|=128)}function Jh(a,b,c,d,e){var f=N(c)?Re:L.current;return f=Se(b,f),Kf(b,e),c=dh(a,b,c,d,f,e),null===a||Lf?(b.effectTag|=1,S(a,b,c,e),b.child):(b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),Fh(a,b,e))}function Lh(a,b,c,d,e){if(N(c)){var f=!0;Xe(b)}else f=!1;if(Kf(b,e),null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),hg(b,c,d,e),jg(b,c,d,e),d=!0;else if(null===a){var h=b.stateNode,g=b.memoizedProps;h.props=g;var k=h.context,l=c.contextType;"object"==typeof l&&null!==l?l=Mf(l):(l=N(c)?Re:L.current,l=Se(b,l));var n=c.getDerivedStateFromProps,z="function"==typeof n||"function"==typeof h.getSnapshotBeforeUpdate;z||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(g!==d||k!==l)&&ig(b,h,d,l),Nf=!1;var x=b.memoizedState;k=h.state=x;var v=b.updateQueue;null!==v&&(Wf(b,v,d,h,e),k=b.memoizedState),g!==d||x!==k||M.current||Nf?("function"==typeof n&&(bg(b,c,n,d),k=b.memoizedState),(g=Nf||gg(b,c,g,d,x,k,l))?(z||"function"!=typeof h.UNSAFE_componentWillMount&&"function"!=typeof h.componentWillMount||("function"==typeof h.componentWillMount&&h.componentWillMount(),"function"==typeof h.UNSAFE_componentWillMount&&h.UNSAFE_componentWillMount()),"function"==typeof h.componentDidMount&&(b.effectTag|=4)):("function"==typeof h.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=k),h.props=d,h.state=k,h.context=l,d=g):("function"==typeof h.componentDidMount&&(b.effectTag|=4),d=!1)}else h=b.stateNode,g=b.memoizedProps,h.props=b.type===b.elementType?g:Af(b.type,g),k=h.context,l=c.contextType,"object"==typeof l&&null!==l?l=Mf(l):(l=N(c)?Re:L.current,l=Se(b,l)),n=c.getDerivedStateFromProps,(z="function"==typeof n||"function"==typeof h.getSnapshotBeforeUpdate)||"function"!=typeof h.UNSAFE_componentWillReceiveProps&&"function"!=typeof h.componentWillReceiveProps||(g!==d||k!==l)&&ig(b,h,d,l),Nf=!1,k=b.memoizedState,x=h.state=k,v=b.updateQueue,null!==v&&(Wf(b,v,d,h,e),x=b.memoizedState),g!==d||k!==x||M.current||Nf?("function"==typeof n&&(bg(b,c,n,d),x=b.memoizedState),(n=Nf||gg(b,c,g,d,k,x,l))?(z||"function"!=typeof h.UNSAFE_componentWillUpdate&&"function"!=typeof h.componentWillUpdate||("function"==typeof h.componentWillUpdate&&h.componentWillUpdate(d,x,l),"function"==typeof h.UNSAFE_componentWillUpdate&&h.UNSAFE_componentWillUpdate(d,x,l)),"function"==typeof h.componentDidUpdate&&(b.effectTag|=4),"function"==typeof h.getSnapshotBeforeUpdate&&(b.effectTag|=256)):("function"!=typeof h.componentDidUpdate||g===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),"function"!=typeof h.getSnapshotBeforeUpdate||g===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),b.memoizedProps=d,b.memoizedState=x),h.props=d,h.state=x,h.context=l,d=n):("function"!=typeof h.componentDidUpdate||g===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),"function"!=typeof h.getSnapshotBeforeUpdate||g===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),d=!1);return Mh(a,b,c,d,f,e)}function Mh(a,b,c,d,e,f){Kh(a,b);var h=0!==(64&b.effectTag);if(!d&&!h)return e&&Ye(b,c,!1),Fh(a,b,f);d=b.stateNode,Dh.current=b;var g=h&&"function"!=typeof c.getDerivedStateFromError?null:d.render();return b.effectTag|=1,null!==a&&h?(b.child=tg(b,a.child,null,f),b.child=tg(b,null,g,f)):S(a,b,g,f),b.memoizedState=d.state,e&&Ye(b,c,!0),b.child}function Nh(a){var b=a.stateNode;b.pendingContext?Ve(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Ve(a,b.context,!1),Ag(a,b.containerInfo)}function Ph(a,b,c){var k,d=b.mode,e=b.pendingProps,f=P.current,h=null,g=!1;if((k=0!==(64&b.effectTag))||(k=0!==(f&Gg)&&(null===a||null!==a.memoizedState)),k?(h=Oh,g=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=Fg),f&=Eg,J(P,f,b),null===a)if(g){if(e=e.fallback,a=sg(null,d,0,null),a["return"]=b,0===(2&b.mode))for(g=null!==b.memoizedState?b.child.child:b.child,a.child=g;null!==g;)g["return"]=a,g=g.sibling;c=sg(e,d,c,null),c["return"]=b,a.sibling=c,d=a}else d=c=ug(b,null,e.children,c);else{if(null!==a.memoizedState)if(f=a.child,d=f.sibling,g){if(e=e.fallback,c=og(f,f.pendingProps,0),c["return"]=b,0===(2&b.mode)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==f.child))for(c.child=g;null!==g;)g["return"]=c,g=g.sibling;e=og(d,e,d.expirationTime),e["return"]=b,c.sibling=e,d=c,c.childExpirationTime=0,c=e}else d=c=tg(b,f.child,e.children,c);else if(f=a.child,g){if(g=e.fallback,e=sg(null,d,0,null),e["return"]=b,e.child=f,null!==f&&(f["return"]=e),0===(2&b.mode))for(f=null!==b.memoizedState?b.child.child:b.child,e.child=f;null!==f;)f["return"]=e,f=f.sibling;c=sg(g,d,c,null),c["return"]=b,e.sibling=c,c.effectTag|=2,d=e,e.childExpirationTime=0}else c=d=tg(b,f,e.children,c);b.stateNode=a.stateNode}return b.memoizedState=h,b.child=d,c}function Qh(a,b,c,d,e){var f=a.memoizedState;null===f?a.memoizedState={isBackwards:b,rendering:null,last:d,tail:c,tailExpiration:0,tailMode:e}:(f.isBackwards=b,f.rendering=null,f.last=d,f.tail=c,f.tailExpiration=0,f.tailMode=e)}function Rh(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;if(S(a,b,d.children,c),d=P.current,0!==(d&Gg))d=d&Eg|Gg,b.effectTag|=64;else{if(null!==a&&0!==(64&a.effectTag))a:for(a=b.child;null!==a;){if(13===a.tag){if(null!==a.memoizedState){a.expirationTime<c&&(a.expirationTime=c);var h=a.alternate;null!==h&&h.expirationTime<c&&(h.expirationTime=c),Jf(a["return"],c)}}else if(null!==a.child){a.child["return"]=a,a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a["return"]||a["return"]===b)break a;a=a["return"]}a.sibling["return"]=a["return"],a=a.sibling}d&=Eg}if(J(P,d,b),0===(2&b.mode))b.memoizedState=null;else switch(e){case"forwards":for(c=b.child,e=null;null!==c;)d=c.alternate,null!==d&&null===Hg(d)&&(e=c),c=c.sibling;c=e,null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null),Qh(b,!1,e,c,f);break;case"backwards":for(c=null,e=b.child,b.child=null;null!==e;){if(d=e.alternate,null!==d&&null===Hg(d)){b.child=e;break}d=e.sibling,e.sibling=c,c=e,e=d}Qh(b,!0,c,null,f);break;case"together":Qh(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Fh(a,b,c){if(null!==a&&(b.dependencies=a.dependencies),b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw t(Error(153));if(null!==b.child){for(a=b.child,c=og(a,a.pendingProps,a.expirationTime),b.child=c,c["return"]=b;null!==a.sibling;)a=a.sibling,c=c.sibling=og(a,a.pendingProps,a.expirationTime),c["return"]=b;c.sibling=null}return b.child}function Sh(a){a.effectTag|=4}function $h(a,b){switch(a.tailMode){case"hidden":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}function ai(a){switch(a.tag){case 1:N(a.type)&&Te(a);var b=a.effectTag;return 2048&b?(a.effectTag=-2049&b|64,a):null;case 3:if(Bg(a),Ue(a),b=a.effectTag,0!==(64&b))throw t(Error(285));return a.effectTag=-2049&b|64,a;case 5:return Dg(a),null;case 13:return H(P,a),b=a.effectTag,2048&b?(a.effectTag=-2049&b|64,a):null;case 18:return null;case 19:return H(P,a),null;case 4:return Bg(a),null;case 10:return If(a),null;default:return null}}function bi(a,b){return{value:a,source:b,stack:pc(b)}}function di(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=pc(c)),null!==c&&oc(c.type),b=b.value,null!==a&&1===a.tag&&oc(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e})}}function ei(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){fi(a,c)}}function gi(a){var b=a.ref;if(null!==b)if("function"==typeof b)try{b(null)}catch(c){fi(a,c)}else b.current=null}function hi(a,b,c){if(c=c.updateQueue,c=null!==c?c.lastEffect:null,null!==c){var d=c=c.next;do{if((d.tag&a)!==Ig){var e=d.destroy;d.destroy=void 0,void 0!==e&&e()}(d.tag&b)!==Ig&&(e=d.create,d.destroy=e()),d=d.next}while(d!==c)}}function ii(a,b){switch("function"==typeof ji&&ji(a),a.tag){case 0:case 11:case 14:case 15:var c=a.updateQueue;if(null!==c&&(c=c.lastEffect,null!==c)){var d=c.next;vf(b>97?97:b,function(){var b=d;do{var c=b.destroy;if(void 0!==c){var h=a;try{c()}catch(g){fi(h,g)}}b=b.next}while(b!==d)})}break;case 1:gi(a),b=a.stateNode,"function"==typeof b.componentWillUnmount&&ei(a,b);break;case 5:gi(a);break;case 4:ki(a,b)}}function li(a,b){for(var c=a;;)if(ii(c,b),null!==c.child&&4!==c.tag)c.child["return"]=c,c=c.child;else{if(c===a)break;for(;null===c.sibling;){if(null===c["return"]||c["return"]===a)return;c=c["return"]}c.sibling["return"]=c["return"],c=c.sibling}}function mi(a){return 5===a.tag||3===a.tag||4===a.tag}function ni(a){a:{for(var b=a["return"];null!==b;){if(mi(b)){var c=b;break a}b=b["return"]}throw t(Error(160))}switch(b=c.stateNode,c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo,d=!0;break;case 4:b=b.containerInfo,d=!0;break;default:throw t(Error(161))}16&c.effectTag&&(we(b,""),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c["return"]||mi(c["return"])){c=null;break a}c=c["return"]}for(c.sibling["return"]=c["return"],c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(2&c.effectTag)continue b;if(null===c.child||4===c.tag)continue b;c.child["return"]=c,c=c.child}if(!(2&c.effectTag)){c=c.stateNode;break a}}for(var e=a;;){var f=5===e.tag||6===e.tag;if(f||20===e.tag){var h=f?e.stateNode:e.stateNode.instance;if(c)if(d){f=b;var g=h;h=c,8===f.nodeType?f.parentNode.insertBefore(g,h):f.insertBefore(g,h)}else b.insertBefore(h,c);else d?(g=b,8===g.nodeType?(f=g.parentNode,f.insertBefore(h,g)):(f=g,f.appendChild(h)),g=g._reactRootContainer,null!==g&&void 0!==g||null!==f.onclick||(f.onclick=Ge)):b.appendChild(h)}else if(4!==e.tag&&null!==e.child){e.child["return"]=e,e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e["return"]||e["return"]===a)return;e=e["return"]}e.sibling["return"]=e["return"],e=e.sibling}}function ki(a,b){for(var c=a,d=!1,e=void 0,f=void 0;;){if(!d){d=c["return"];a:for(;;){if(null===d)throw t(Error(160));switch(e=d.stateNode,d.tag){case 5:f=!1;break a;case 3:e=e.containerInfo,f=!0;break a;case 4:e=e.containerInfo,f=!0;break a}d=d["return"]}d=!0}if(5===c.tag||6===c.tag)if(li(c,b),f){var h=e,g=c.stateNode;8===h.nodeType?h.parentNode.removeChild(g):h.removeChild(g)}else e.removeChild(c.stateNode);else if(20===c.tag)g=c.stateNode.instance,li(c,b),f?(h=e,8===h.nodeType?h.parentNode.removeChild(g):h.removeChild(g)):e.removeChild(g);else if(4===c.tag){if(null!==c.child){e=c.stateNode.containerInfo,f=!0,c.child["return"]=c,c=c.child;continue}}else if(ii(c,b),null!==c.child){c.child["return"]=c,c=c.child;continue}if(c===a)break;for(;null===c.sibling;){if(null===c["return"]||c["return"]===a)return;c=c["return"],4===c.tag&&(d=!1)}c.sibling["return"]=c["return"],c=c.sibling}}function oi(a,b){switch(b.tag){case 0:case 11:case 14:case 15:hi(Kg,Lg,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;if(b.updateQueue=null,null!==f){for(c[Ga]=d,"input"===a&&"radio"===d.type&&null!=d.name&&Dc(c,d),Ee(a,e),b=Ee(a,d),e=0;e<f.length;e+=2){var h=f[e],g=f[e+1];"style"===h?Ae(c,g):"dangerouslySetInnerHTML"===h?ve(c,g):"children"===h?we(c,g):zc(c,h,g,b)}switch(a){case"input":Ec(c,d);break;case"textarea":pe(c,d);break;case"select":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?me(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?me(c,!!d.multiple,d.defaultValue,!0):me(c,!!d.multiple,d.multiple?[]:"",!1))}}}break;case 6:if(null===b.stateNode)throw t(Error(162));b.stateNode.nodeValue=b.memoizedProps;break;case 3:break;case 12:break;case 13:if(c=b,null===b.memoizedState?d=!1:(d=!0,c=b.child,pi=sf()),null!==c)a:for(a=c;;){if(5===a.tag)f=a.stateNode,d?(f=f.style,"function"==typeof f.setProperty?f.setProperty("display","none","important"):f.display="none"):(f=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty("display")?e.display:null,f.style.display=ze("display",e));else if(6===a.tag)a.stateNode.nodeValue=d?"":a.memoizedProps;else{if(13===a.tag&&null!==a.memoizedState){f=a.child.sibling,f["return"]=a,a=f;continue}if(null!==a.child){a.child["return"]=a,a=a.child;continue}}if(a===c)break a;for(;null===a.sibling;){if(null===a["return"]||a["return"]===c)break a;a=a["return"]}a.sibling["return"]=a["return"],a=a.sibling}qi(b);break;case 19:qi(b);break;case 17:break;case 20:break;default:throw t(Error(163))}}function qi(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new ci),b.forEach(function(b){var d=ri.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}function ti(a,b,c){c=Qf(c,null),c.tag=3,c.payload={element:null};var d=b.value;return c.callback=function(){ui||(ui=!0,vi=d),di(a,b)},c}function wi(a,b,c){c=Qf(c,null),c.tag=3;var d=a.type.getDerivedStateFromError;if("function"==typeof d){var e=b.value;c.payload=function(){return di(a,b),d(e)}}var f=a.stateNode;return null!==f&&"function"==typeof f.componentDidCatch&&(c.callback=function(){"function"!=typeof d&&(null===xi?xi=new Set([this]):xi.add(this),di(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:""})}),c}function cg(){return(U&(Ci|Di))!==T?1073741821-(sf()/10|0):0!==Wi?Wi:Wi=1073741821-(sf()/10|0)}function dg(a,b,c){if(b=b.mode,0===(2&b))return 1073741823;var d=tf();if(0===(4&b))return 99===d?1073741823:1073741822;if((U&Ci)!==T)return W;if(null!==c)a=1073741821-25*(((1073741821-a+(0|c.timeoutMs||5e3)/10)/25|0)+1);else switch(d){case 99:a=1073741823;break;case 98:a=1073741821-10*(((1073741821-a+15)/10|0)+1);break;case 97:case 96:a=1073741821-25*(((1073741821-a+500)/25|0)+1);break;case 95:a=1;break;default:throw t(Error(326))}return null!==Ji&&a===W&&--a,a}function eg(a,b){if(Ui>50)throw Ui=0,Vi=null,t(Error(185));if(a=Yi(a,b),null!==a){a.pingTime=0;var c=tf();if(1073741823===b)if((U&Bi)!==T&&(U&(Ci|Di))===T)for(var d=Z(a,1073741823,!0);null!==d;)d=d(!0);else Zi(a,99,1073741823),U===T&&O();else Zi(a,c,b);(4&U)===T||98!==c&&99!==c||(null===Ti?Ti=new Map([[a,b]]):(c=Ti.get(a),(void 0===c||c>b)&&Ti.set(a,b)))}}function Yi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a["return"],e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){if(c=d.alternate,d.childExpirationTime<b&&(d.childExpirationTime=b),null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b),null===d["return"]&&3===d.tag){e=d.stateNode;break}d=d["return"]}return null!==e&&(b>e.firstPendingTime&&(e.firstPendingTime=b),a=e.lastPendingTime,0===a||a>b)&&(e.lastPendingTime=b),e}function Zi(a,b,c){if(a.callbackExpirationTime<c){var d=a.callbackNode;null!==d&&d!==mf&&af(d),a.callbackExpirationTime=c,1073741823===c?a.callbackNode=xf($i.bind(null,a,Z.bind(null,a,c))):(d=null,1!==c&&(d={timeout:10*(1073741821-c)-sf()}),a.callbackNode=wf(b,$i.bind(null,a,Z.bind(null,a,c)),d))}}function $i(a,b,c){var d=a.callbackNode,e=null;try{return e=b(c),null!==e?$i.bind(null,a,e):null}finally{null===e&&d===a.callbackNode&&(a.callbackNode=null,a.callbackExpirationTime=0)}}function aj(){(U&(1|Ci|Di))===T&&(bj(),cj())}function dj(a,b){var c=a.firstBatch;return null!==c&&c._defer&&c._expirationTime>=b?(wf(97,function(){return c._onComplete(),null}),!0):!1}function bj(){if(null!==Ti){var a=Ti;Ti=null,a.forEach(function(a,c){xf(Z.bind(null,c,a))}),O()}}function ej(a,b){var c=U;U|=1;try{return a(b)}finally{U=c,U===T&&O()}}function fj(a,b,c,d){var e=U;U|=4;try{return vf(98,a.bind(null,b,c,d))}finally{U=e,U===T&&O()}}function gj(a,b){var c=U;U&=-2,U|=Bi;try{return a(b)}finally{U=c,U===T&&O()}}function hj(a,b){a.finishedWork=null,a.finishedExpirationTime=0;var c=a.timeoutHandle;if(-1!==c&&(a.timeoutHandle=-1,Me(c)),null!==V)for(c=V["return"];null!==c;){var d=c;switch(d.tag){case 1:var e=d.type.childContextTypes;null!==e&&void 0!==e&&Te(d);break;case 3:Bg(d),Ue(d);break;case 5:Dg(d);break;case 4:Bg(d);break;case 13:H(P,d);break;case 19:H(P,d);break;case 10:If(d)}c=c["return"]}Ji=a,V=og(a.current,null,b),W=b,X=Ei,Li=Ki=1073741823,Mi=null,Ni=!1}function Z(a,b,c){if((U&(Ci|Di))!==T)throw t(Error(327));if(a.firstPendingTime<b)return null;if(c&&a.finishedExpirationTime===b)return ij.bind(null,a);if(cj(),a!==Ji||b!==W)hj(a,b);else if(X===Hi)if(Ni)hj(a,b);else{var d=a.lastPendingTime;if(b>d)return Z.bind(null,a,d)}if(null!==V){d=U,U|=Ci;var e=zi.current;if(null===e&&(e=hh),zi.current=hh,c){if(1073741823!==b){var f=cg();if(b>f)return U=d,Gf(),zi.current=e,Z.bind(null,a,f)}}else Wi=0;for(;;)try{if(c)for(;null!==V;)V=jj(V);else for(;null!==V&&!bf();)V=jj(V);break}catch(rb){if(Gf(),ih(),f=V,null===f||null===f["return"])throw hj(a,b),U=d,rb;a:{var h=a,g=f["return"],k=f,l=rb,n=W;if(k.effectTag|=1024,k.firstEffect=k.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var z=l,x=0!==(P.current&Fg);l=g;do{var v;if((v=13===l.tag)&&(null!==l.memoizedState?v=!1:(v=l.memoizedProps,v=void 0===v.fallback?!1:!0!==v.unstable_avoidThisFallback?!0:x?!1:!0)),v){if(g=l.updateQueue,null===g?(g=new Set,g.add(z),l.updateQueue=g):g.add(z),0===(2&l.mode)){l.effectTag|=64,k.effectTag&=-1957,1===k.tag&&(null===k.alternate?k.tag=17:(n=Qf(1073741823,null),n.tag=2,Sf(k,n))),k.expirationTime=1073741823;break a}k=h,h=n,x=k.pingCache,null===x?(x=k.pingCache=new si,g=new Set,x.set(z,g)):(g=x.get(z),void 0===g&&(g=new Set,x.set(z,g))),g.has(h)||(g.add(h),k=kj.bind(null,k,z,h),z.then(k,k)),l.effectTag|=2048,l.expirationTime=n;break a}l=l["return"]}while(null!==l);l=Error((oc(k.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+pc(k))}X!==Ii&&(X=Fi),l=bi(l,k),k=g;do{switch(k.tag){case 3:k.effectTag|=2048,k.expirationTime=n,n=ti(k,l,n),Tf(k,n);break a;case 1:if(z=l,h=k.type,g=k.stateNode,0===(64&k.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==g&&"function"==typeof g.componentDidCatch&&(null===xi||!xi.has(g)))){k.effectTag|=2048,k.expirationTime=n,n=wi(k,z,n),Tf(k,n);break a}}k=k["return"]}while(null!==k)}V=lj(f)}if(U=d,Gf(),zi.current=e,null!==V)return Z.bind(null,a,b)}if(a.finishedWork=a.current.alternate,a.finishedExpirationTime=b,dj(a,b))return null;switch(Ji=null,X){case Ei:throw t(Error(328));case Fi:return d=a.lastPendingTime,b>d?Z.bind(null,a,d):c?ij.bind(null,a):(hj(a,b),xf(Z.bind(null,a,b)),null);case Gi:return 1073741823===Ki&&!c&&(c=pi+Oi-sf(),c>10)?Ni?(hj(a,b),Z.bind(null,a,b)):(d=a.lastPendingTime,b>d?Z.bind(null,a,d):(a.timeoutHandle=Le(ij.bind(null,a),c),null)):ij.bind(null,a);case Hi:if(!c){if(Ni)return hj(a,b),Z.bind(null,a,b);if(c=a.lastPendingTime,b>c)return Z.bind(null,a,c);if(1073741823!==Li?c=10*(1073741821-Li)-sf():1073741823===Ki?c=0:(c=10*(1073741821-Ki)-5e3,d=sf(),b=10*(1073741821-b)-d,c=d-c,0>c&&(c=0),c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*yi(c/1960))-c,c>b&&(c=b)),c>10)return a.timeoutHandle=Le(ij.bind(null,a),c),null}return ij.bind(null,a);case Ii:return!c&&1073741823!==Ki&&null!==Mi&&(d=Ki,e=Mi,b=0|e.busyMinDurationMs,0>=b?b=0:(c=0|e.busyDelayMs,d=sf()-(10*(1073741821-d)-(0|e.timeoutMs||5e3)),b=c>=d?0:c+b-d),b>10)?(a.timeoutHandle=Le(ij.bind(null,a),b),null):ij.bind(null,a);default:throw t(Error(329))}}function Xf(a,b){Ki>a&&a>1&&(Ki=a),null!==b&&Li>a&&a>1&&(Li=a,Mi=b)}function jj(a){var b=mj(a.alternate,a,W);return a.memoizedProps=a.pendingProps,null===b&&(b=lj(a)),Ai.current=null,b}function lj(a){V=a;do{var b=V.alternate;if(a=V["return"],0===(1024&V.effectTag)){a:{var c=b;b=V;var d=W,e=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:N(b.type)&&Te(b);break;case 3:Bg(b),Ue(b),d=b.stateNode,d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(null===c||null===c.child)&&(Bh(b),b.effectTag&=-3),Uh(b);break;case 5:Dg(b),d=zg(yg.current);var f=b.type;if(null!==c&&null!=b.stateNode)Vh(c,b,f,e,d),c.ref!==b.ref&&(b.effectTag|=128);else if(e){var h=zg(wg.current);if(Bh(b)){c=b,e=void 0,f=c.stateNode;var g=c.type,k=c.memoizedProps;switch(f[Fa]=c,f[Ga]=k,g){case"iframe":case"object":case"embed":G("load",f);break;case"video":case"audio":for(var l=0;l<bb.length;l++)G(bb[l],f);break;case"source":G("error",f);break;case"img":case"image":case"link":G("error",f),G("load",f);break;case"form":G("reset",f),G("submit",f);break;case"details":G("toggle",f);break;case"input":Cc(f,k),G("invalid",f),Fe(d,"onChange");break;case"select":f._wrapperState={wasMultiple:!!k.multiple},G("invalid",f),Fe(d,"onChange");break;case"textarea":oe(f,k),G("invalid",f),Fe(d,"onChange")}De(g,k),l=null;for(e in k)k.hasOwnProperty(e)&&(h=k[e],"children"===e?"string"==typeof h?f.textContent!==h&&(l=["children",h]):"number"==typeof h&&f.textContent!==""+h&&(l=["children",""+h]):ia.hasOwnProperty(e)&&null!=h&&Fe(d,e));switch(g){case"input":Vb(f),Gc(f,k,!0);break;case"textarea":Vb(f),qe(f,k);break;case"select":case"option":break;default:"function"==typeof k.onClick&&(f.onclick=Ge)}d=l,c.updateQueue=d,null!==d&&Sh(b)}else{k=f,c=e,g=b,l=9===d.nodeType?d:d.ownerDocument,h===re.html&&(h=se(k)),h===re.html?"script"===k?(k=l.createElement("div"),k.innerHTML="<script></script>",l=k.removeChild(k.firstChild)):"string"==typeof c.is?l=l.createElement(k,{is:c.is}):(l=l.createElement(k),"select"===k&&(k=l,c.multiple?k.multiple=!0:c.size&&(k.size=c.size))):l=l.createElementNS(h,k),k=l,k[Fa]=g,k[Ga]=c,c=k,Th(c,b,!1,!1),g=c;var n=d,z=Ee(f,e);switch(f){case"iframe":case"object":case"embed":G("load",g),d=e;break;case"video":case"audio":for(d=0;d<bb.length;d++)G(bb[d],g);d=e;break;case"source":G("error",g),d=e;break;case"img":case"image":case"link":G("error",g),G("load",g),d=e;break;case"form":G("reset",g),G("submit",g),d=e;break;case"details":G("toggle",g),d=e;break;case"input":Cc(g,e),d=Bc(g,e),G("invalid",g),Fe(n,"onChange");break;case"option":d=le(g,e);break;case"select":g._wrapperState={wasMultiple:!!e.multiple},d=m({},e,{value:void 0}),G("invalid",g),Fe(n,"onChange");break;case"textarea":oe(g,e),d=ne(g,e),G("invalid",g),Fe(n,"onChange");break;default:d=e}De(f,d),k=void 0,l=f,h=g;var x=d;for(k in x)if(x.hasOwnProperty(k)){var v=x[k];"style"===k?Ae(h,v):"dangerouslySetInnerHTML"===k?(v=v?v.__html:void 0,null!=v&&ve(h,v)):"children"===k?"string"==typeof v?("textarea"!==l||""!==v)&&we(h,v):"number"==typeof v&&we(h,""+v):"suppressContentEditableWarning"!==k&&"suppressHydrationWarning"!==k&&"autoFocus"!==k&&(ia.hasOwnProperty(k)?null!=v&&Fe(n,k):null!=v&&zc(h,k,v,z))}switch(f){case"input":Vb(g),Gc(g,e,!1);break;case"textarea":Vb(g),qe(g,e);break;case"option":null!=e.value&&g.setAttribute("value",""+Ac(e.value));break;case"select":d=g,g=e,d.multiple=!!g.multiple,k=g.value,null!=k?me(d,!!g.multiple,k,!1):null!=g.defaultValue&&me(d,!!g.multiple,g.defaultValue,!0);break;default:"function"==typeof d.onClick&&(g.onclick=Ge)}Je(f,e)&&Sh(b),b.stateNode=c}null!==b.ref&&(b.effectTag|=128)}else if(null===b.stateNode)throw t(Error(166));break;case 6:if(c&&null!=b.stateNode)Wh(c,b,c.memoizedProps,e);else{if("string"!=typeof e&&null===b.stateNode)throw t(Error(166));c=zg(yg.current),zg(wg.current),Bh(b)?(d=b.stateNode,c=b.memoizedProps,d[Fa]=b,d.nodeValue!==c&&Sh(b)):(d=b,c=(9===c.nodeType?c:c.ownerDocument).createTextNode(e),c[Fa]=b,d.stateNode=c)}break;case 11:break;case 13:if(H(P,b),e=b.memoizedState,0!==(64&b.effectTag)){b.expirationTime=d;break a}d=null!==e,e=!1,null===c?Bh(b):(f=c.memoizedState,e=null!==f,d||null===f||(f=c.child.sibling,null!==f&&(g=b.firstEffect,null!==g?(b.firstEffect=f,f.nextEffect=g):(b.firstEffect=b.lastEffect=f,f.nextEffect=null),f.effectTag=8))),d&&!e&&0!==(2&b.mode)&&(null===c&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(P.current&Fg)?X===Ei&&(X=Gi):(X===Ei||X===Gi)&&(X=Hi)),(d||e)&&(b.effectTag|=4);break;case 7:break;case 8:break;case 12:break;case 4:Bg(b),Uh(b);break;case 10:If(b);break;case 9:break;case 14:break;case 17:N(b.type)&&Te(b);break;case 18:break;case 19:if(H(P,b),e=b.memoizedState,null===e)break;if(f=0!==(64&b.effectTag),g=e.rendering,null===g){if(f)$h(e,!1);else if(X!==Ei||null!==c&&0!==(64&c.effectTag))for(c=b.child;null!==c;){if(g=Hg(c),null!==g){for(b.effectTag|=64,$h(e,!1),c=g.updateQueue,null!==c&&(b.updateQueue=c,b.effectTag|=4),b.firstEffect=b.lastEffect=null,c=b.child;null!==c;)e=c,f=d,e.effectTag&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null,g=e.alternate,null===g?(e.childExpirationTime=0,e.expirationTime=f,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null):(e.childExpirationTime=g.childExpirationTime,e.expirationTime=g.expirationTime,e.child=g.child,e.memoizedProps=g.memoizedProps,e.memoizedState=g.memoizedState,e.updateQueue=g.updateQueue,f=g.dependencies,e.dependencies=null===f?null:{expirationTime:f.expirationTime,firstContext:f.firstContext,responders:f.responders}),c=c.sibling;J(P,P.current&Eg|Gg,b),b=b.child;break a}c=c.sibling}}else{if(!f)if(c=Hg(g),null!==c){if(b.effectTag|=64,f=!0,$h(e,!0),null===e.tail&&"hidden"===e.tailMode){d=c.updateQueue,null!==d&&(b.updateQueue=d,b.effectTag|=4),b=b.lastEffect=e.lastEffect,null!==b&&(b.nextEffect=null);break}}else sf()>e.tailExpiration&&d>1&&(b.effectTag|=64,f=!0,$h(e,!1),b.expirationTime=b.childExpirationTime=d-1);e.isBackwards?(g.sibling=b.child,b.child=g):(d=e.last,null!==d?d.sibling=g:b.child=g,e.last=g)}if(null!==e.tail){0===e.tailExpiration&&(e.tailExpiration=sf()+500),d=e.tail,e.rendering=d,e.tail=d.sibling,e.lastEffect=b.lastEffect,d.sibling=null,c=P.current,c=f?c&Eg|Gg:c&Eg,J(P,c,b),b=d;break a}break;case 20:break;default:throw t(Error(156))}b=null}if(d=V,1===W||1!==d.childExpirationTime){for(c=0,e=d.child;null!==e;)f=e.expirationTime,g=e.childExpirationTime,f>c&&(c=f),g>c&&(c=g),e=e.sibling;d.childExpirationTime=c}if(null!==b)return b;null!==a&&0===(1024&a.effectTag)&&(null===a.firstEffect&&(a.firstEffect=V.firstEffect),null!==V.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=V.firstEffect),a.lastEffect=V.lastEffect),1<V.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=V:a.firstEffect=V,a.lastEffect=V))}else{if(b=ai(V,W),null!==b)return b.effectTag&=1023,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=1024)}if(b=V.sibling,null!==b)return b;V=a}while(null!==V);return X===Ei&&(X=Ii),null}function ij(a){var b=tf();return vf(99,nj.bind(null,a,b)),null!==Qi&&wf(97,function(){return cj(),null}),null}function nj(a,b){if(cj(),(U&(Ci|Di))!==T)throw t(Error(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;if(a.finishedWork=null,a.finishedExpirationTime=0,c===a.current)throw t(Error(177));a.callbackNode=null,a.callbackExpirationTime=0;var e=c.expirationTime,f=c.childExpirationTime;if(e=f>e?f:e,a.firstPendingTime=e,e<a.lastPendingTime&&(a.lastPendingTime=e),a===Ji&&(V=Ji=null,W=0),1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect,null!==e){f=U,U|=Di,Ai.current=null,He=Qd;var h=ae();if(be(h)){if("selectionStart"in h)var g={start:h.selectionStart,end:h.selectionEnd};else a:{g=(g=h.ownerDocument)&&g.defaultView||window;var k=g.getSelection&&g.getSelection();if(k&&0!==k.rangeCount){g=k.anchorNode;var l=k.anchorOffset,n=k.focusNode;k=k.focusOffset;try{g.nodeType,n.nodeType}catch(zb){g=null;break a}var z=0,x=-1,v=-1,rb=0,Be=0,u=h,w=null;b:for(;;){for(var C;u!==g||0!==l&&3!==u.nodeType||(x=z+l),u!==n||0!==k&&3!==u.nodeType||(v=z+k),3===u.nodeType&&(z+=u.nodeValue.length),null!==(C=u.firstChild);)w=u,u=C;for(;;){if(u===h)break b;if(w===g&&++rb===l&&(x=z),w===n&&++Be===k&&(v=z),null!==(C=u.nextSibling))break;u=w,w=u.parentNode}u=C}g=-1===x||-1===v?null:{start:x,end:v}}else g=null}g=g||{start:0,end:0}}else g=null;Ie={focusedElem:h,selectionRange:g},Qd=!1,Y=e;do try{for(;null!==Y;){if(0!==(256&Y.effectTag)){var I=Y.alternate;switch(h=Y,h.tag){case 0:case 11:case 15:hi(Jg,Ig,h);break;case 1:if(256&h.effectTag&&null!==I){var E=I.memoizedProps,ua=I.memoizedState,gh=h.stateNode,oj=gh.getSnapshotBeforeUpdate(h.elementType===h.type?E:Af(h.type,E),ua);gh.__reactInternalSnapshotBeforeUpdate=oj}break;case 3:case 5:case 6:case 4:case 17:break;default:throw t(Error(163))}}Y=Y.nextEffect}}catch(zb){if(null===Y)throw t(Error(330));fi(Y,zb),Y=Y.nextEffect}while(null!==Y);Y=e;do try{for(I=b;null!==Y;){var A=Y.effectTag;if(16&A&&we(Y.stateNode,""),128&A){var p=Y.alternate;if(null!==p){var r=p.ref;null!==r&&("function"==typeof r?r(null):r.current=null)}}switch(14&A){case 2:ni(Y),Y.effectTag&=-3;break;case 6:ni(Y),Y.effectTag&=-3,oi(Y.alternate,Y);break;case 4:oi(Y.alternate,Y);break;case 8:E=Y,ki(E,I),E["return"]=null,E.child=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null;var K=E.alternate;null!==K&&(K["return"]=null,K.child=null,K.memoizedState=null,K.updateQueue=null,K.dependencies=null)}Y=Y.nextEffect}}catch(zb){if(null===Y)throw t(Error(330));fi(Y,zb),Y=Y.nextEffect}while(null!==Y);if(r=Ie,p=ae(),A=r.focusedElem,I=r.selectionRange,p!==A&&A&&A.ownerDocument&&$d(A.ownerDocument.documentElement,A)){null!==I&&be(A)&&(p=I.start,r=I.end,void 0===r&&(r=p),"selectionStart"in A?(A.selectionStart=p,A.selectionEnd=Math.min(r,A.value.length)):(r=(p=A.ownerDocument||document)&&p.defaultView||window,r.getSelection&&(r=r.getSelection(),E=A.textContent.length,K=Math.min(I.start,E),
I=void 0===I.end?K:Math.min(I.end,E),!r.extend&&K>I&&(E=I,I=K,K=E),E=Zd(A,K),ua=Zd(A,I),E&&ua&&(1!==r.rangeCount||r.anchorNode!==E.node||r.anchorOffset!==E.offset||r.focusNode!==ua.node||r.focusOffset!==ua.offset)&&(p=p.createRange(),p.setStart(E.node,E.offset),r.removeAllRanges(),K>I?(r.addRange(p),r.extend(ua.node,ua.offset)):(p.setEnd(ua.node,ua.offset),r.addRange(p)))))),p=[];for(r=A;r=r.parentNode;)1===r.nodeType&&p.push({element:r,left:r.scrollLeft,top:r.scrollTop});for("function"==typeof A.focus&&A.focus(),A=0;A<p.length;A++)r=p[A],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}Ie=null,Qd=!!He,He=null,a.current=c,Y=e;do try{for(A=d;null!==Y;){var $a=Y.effectTag;if(36&$a){var nc=Y.alternate;switch(p=Y,r=A,p.tag){case 0:case 11:case 15:hi(Mg,Ng,p);break;case 1:var md=p.stateNode;if(4&p.effectTag)if(null===nc)md.componentDidMount();else{var Fj=p.elementType===p.type?nc.memoizedProps:Af(p.type,nc.memoizedProps);md.componentDidUpdate(Fj,nc.memoizedState,md.__reactInternalSnapshotBeforeUpdate)}var Xh=p.updateQueue;null!==Xh&&Yf(p,Xh,md,r);break;case 3:var Yh=p.updateQueue;if(null!==Yh){if(K=null,null!==p.child)switch(p.child.tag){case 5:K=p.child.stateNode;break;case 1:K=p.child.stateNode}Yf(p,Yh,K,r)}break;case 5:var Gj=p.stateNode;null===nc&&4&p.effectTag&&(r=Gj,Je(p.type,p.memoizedProps)&&r.focus());break;case 6:break;case 4:break;case 12:break;case 13:case 19:case 17:case 20:break;default:throw t(Error(163))}}if(128&$a){var nd=Y.ref;if(null!==nd){var Zh=Y.stateNode;switch(Y.tag){case 5:var gf=Zh;break;default:gf=Zh}"function"==typeof nd?nd(gf):nd.current=gf}}512&$a&&(Pi=!0),Y=Y.nextEffect}}catch(zb){if(null===Y)throw t(Error(330));fi(Y,zb),Y=Y.nextEffect}while(null!==Y);Y=null,nf(),U=f}else a.current=c;if(Pi)Pi=!1,Qi=a,Si=d,Ri=b;else for(Y=e;null!==Y;)b=Y.nextEffect,Y.nextEffect=null,Y=b;if(b=a.firstPendingTime,0!==b?($a=cg(),$a=zf($a,b),Zi(a,$a,b)):xi=null,"function"==typeof pj&&pj(c.stateNode,d),1073741823===b?a===Vi?Ui++:(Ui=0,Vi=a):Ui=0,ui)throw ui=!1,a=vi,vi=null,a;return(U&Bi)!==T?null:(O(),null)}function cj(){if(null===Qi)return!1;var a=Qi,b=Si,c=Ri;return Qi=null,Si=0,Ri=90,vf(c>97?97:c,qj.bind(null,a,b))}function qj(a){if((U&(Ci|Di))!==T)throw t(Error(331));var b=U;for(U|=Di,a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(512&c.effectTag))switch(c.tag){case 0:case 11:case 15:hi(Pg,Ig,c),hi(Ig,Og,c)}}catch(d){if(null===a)throw t(Error(330));fi(a,d)}c=a.nextEffect,a.nextEffect=null,a=c}return U=b,O(),!0}function rj(a,b,c){b=bi(c,b),b=ti(a,b,1073741823),Sf(a,b),a=Yi(a,1073741823),null!==a&&Zi(a,99,1073741823)}function fi(a,b){if(3===a.tag)rj(a,a,b);else for(var c=a["return"];null!==c;){if(3===c.tag){rj(c,a,b);break}if(1===c.tag){var d=c.stateNode;if("function"==typeof c.type.getDerivedStateFromError||"function"==typeof d.componentDidCatch&&(null===xi||!xi.has(d))){a=bi(b,a),a=wi(c,a,1073741823),Sf(c,a),c=Yi(c,1073741823),null!==c&&Zi(c,99,1073741823);break}}c=c["return"]}}function kj(a,b,c){var d=a.pingCache;null!==d&&d["delete"](b),Ji===a&&W===c?X===Hi||X===Gi&&1073741823===Ki&&sf()-pi<Oi?hj(a,W):Ni=!0:a.lastPendingTime<c||(b=a.pingTime,0!==b&&c>b||(a.pingTime=c,a.finishedExpirationTime===c&&(a.finishedExpirationTime=0,a.finishedWork=null),b=cg(),b=zf(b,c),Zi(a,b,c)))}function ri(a,b){var c=a.stateNode;null!==c&&c["delete"](b),c=cg(),b=dg(c,a,null),c=zf(c,b),a=Yi(a,b),null!==a&&Zi(a,c,b)}function tj(a){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);pj=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(64&a.current.effectTag))}catch(e){}},ji=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}function uj(a,b,c,d){this.tag=a,this.key=c,this.sibling=this.child=this["return"]=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function xh(a,b,c,d){return new uj(a,b,c,d)}function Hh(a){return a=a.prototype,!(!a||!a.isReactComponent)}function sj(a){if("function"==typeof a)return Hh(a)?1:0;if(void 0!==a&&null!==a){if(a=a.$$typeof,a===gc)return 11;if(a===jc)return 14}return 2}function og(a,b){var c=a.alternate;return null===c?(c=xh(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childExpirationTime=a.childExpirationTime,c.expirationTime=a.expirationTime,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,b=a.dependencies,c.dependencies=null===b?null:{expirationTime:b.expirationTime,firstContext:b.firstContext,responders:b.responders},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c}function qg(a,b,c,d,e,f){var h=2;if(d=a,"function"==typeof a)Hh(a)&&(h=1);else if("string"==typeof a)h=5;else a:switch(a){case ac:return sg(c.children,e,f,b);case fc:h=8,e|=7;break;case bc:h=8,e|=1;break;case cc:return a=xh(12,c,b,8|e),a.elementType=cc,a.type=cc,a.expirationTime=f,a;case hc:return a=xh(13,c,b,e),a.type=hc,a.elementType=hc,a.expirationTime=f,a;case ic:return a=xh(19,c,b,e),a.elementType=ic,a.expirationTime=f,a;default:if("object"==typeof a&&null!==a)switch(a.$$typeof){case dc:h=10;break a;case ec:h=9;break a;case gc:h=11;break a;case jc:h=14;break a;case kc:h=16,d=null;break a}throw t(Error(130),null==a?a:typeof a,"")}return b=xh(h,c,b,e),b.elementType=a,b.type=d,b.expirationTime=f,b}function sg(a,b,c,d){return a=xh(7,a,d,b),a.expirationTime=c,a}function pg(a,b,c){return a=xh(6,a,null,b),a.expirationTime=c,a}function rg(a,b,c){return b=xh(4,null!==a.children?a.children:[],a.key,b),b.expirationTime=c,b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},b}function vj(a,b,c){this.tag=b,this.current=null,this.containerInfo=a,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=this.firstBatch=null,this.pingTime=this.lastPendingTime=this.firstPendingTime=this.callbackExpirationTime=0}function wj(a,b,c){return a=new vj(a,b,c),b=xh(3,null,null,2===b?7:1===b?3:0),a.current=b,b.stateNode=a}function xj(a,b,c,d,e,f){var h=b.current;a:if(c){c=c._reactInternalFiber;b:{if(2!==ld(c)||1!==c.tag)throw t(Error(170));var g=c;do{switch(g.tag){case 3:g=g.stateNode.context;break b;case 1:if(N(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break b}}g=g["return"]}while(null!==g);throw t(Error(171))}if(1===c.tag){var k=c.type;if(N(k)){c=We(c,k,g);break a}}c=g}else c=Qe;return null===b.context?b.context=c:b.pendingContext=c,b=f,e=Qf(d,e),e.payload={element:a},b=void 0===b?null:b,null!==b&&(e.callback=b),Sf(h,e),eg(h,d),d}function yj(a,b,c,d){var e=b.current,f=cg(),h=$f.suspense;return e=dg(f,e,h),xj(a,b,c,e,h,d)}function zj(a){if(a=a.current,!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function Aj(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:$b,key:null==d?null:""+d,children:a,containerInfo:b,implementation:c}}function Bj(a){var b=1073741821-25*(((1073741821-cg()+500)/25|0)+1);Xi>=b&&--b,this._expirationTime=Xi=b,this._root=a,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Cj(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Dj(a,b,c){this._internalRoot=wj(a,b,c)}function Ej(a,b){this._internalRoot=wj(a,2,b)}function Hj(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||" react-mount-point-unstable "!==a.nodeValue))}function Ij(a,b){if(b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute("data-reactroot"))),!b)for(var c;c=a.lastChild;)a.removeChild(c);return new Dj(a,0,b)}function Jj(a,b,c,d,e){var f=c._reactRootContainer,h=void 0;if(f){if(h=f._internalRoot,"function"==typeof e){var g=e;e=function(){var a=zj(h);g.call(a)}}yj(b,h,a,e)}else{if(f=c._reactRootContainer=Ij(c,d),h=f._internalRoot,"function"==typeof e){var k=e;e=function(){var a=zj(h);k.call(a)}}gj(function(){yj(b,h,a,e)})}return zj(h)}function Kj(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Hj(b))throw t(Error(200));return Aj(a,b,null,c)}function Lj(a,b){if(!Hj(a))throw t(Error(299),"unstable_createRoot");return new Ej(a,null!=b&&!0===b.hydrate)}function Mj(a,b){if(!Hj(a))throw t(Error(299),"unstable_createRoot");return new Dj(a,1,null!=b&&!0===b.hydrate)}var aa=require("react"),m=require("object-assign"),q=require("scheduler");if(!aa)throw t(Error(227));var ba=null,ca={},ea=[],fa={},ia={},ja={},la=!1,ma=null,na=!1,oa=null,pa={onError:function(a){la=!0,ma=a}},sa=null,ta=null,va=null,za=null,Ca={injectEventPluginOrder:function(a){if(ba)throw t(Error(101));ba=Array.prototype.slice.call(a),da()},injectEventPluginsByName:function(a){var c,b=!1;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!ca.hasOwnProperty(c)||ca[c]!==d){if(ca[c])throw t(Error(102),c);ca[c]=d,b=!0}}b&&da()}},Ea=Math.random().toString(36).slice(2),Fa="__reactInternalInstance$"+Ea,Ga="__reactEventHandlers$"+Ea,Ra=!("undefined"==typeof window||"undefined"==typeof window.document||"undefined"==typeof window.document.createElement),Ta={animationend:Sa("Animation","AnimationEnd"),animationiteration:Sa("Animation","AnimationIteration"),animationstart:Sa("Animation","AnimationStart"),transitionend:Sa("Transition","TransitionEnd")},Ua={},Va={};Ra&&(Va=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);var Xa=Wa("animationend"),Ya=Wa("animationiteration"),Za=Wa("animationstart"),ab=Wa("transitionend"),bb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cb=null,db=null,eb=null;m(y.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():"unknown"!=typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=gb)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():"unknown"!=typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=gb)},persist:function(){this.isPersistent=gb},isPersistent:hb,destructor:function(){var b,a=this.constructor.Interface;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=hb,this._dispatchInstances=this._dispatchListeners=null}}),y.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},y.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;return m(e,c.prototype),c.prototype=e,c.prototype.constructor=c,c.Interface=m({},d.Interface,a),c.extend=d.extend,ib(c),c},ib(y);var lb=y.extend({data:null}),mb=y.extend({data:null}),nb=[9,13,27,32],ob=Ra&&"CompositionEvent"in window,pb=null;Ra&&"documentMode"in document&&(pb=document.documentMode);var qb=Ra&&"TextEvent"in window&&!pb,sb=Ra&&(!ob||pb&&pb>8&&11>=pb),tb=String.fromCharCode(32),ub={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},vb=!1,yb=!1,Cb={eventTypes:ub,extractEvents:function(a,b,c,d){var e=void 0,f=void 0;if(ob)b:{switch(a){case"compositionstart":e=ub.compositionStart;break b;case"compositionend":e=ub.compositionEnd;break b;case"compositionupdate":e=ub.compositionUpdate;break b}e=void 0}else yb?wb(a,c)&&(e=ub.compositionEnd):"keydown"===a&&229===c.keyCode&&(e=ub.compositionStart);return e?(sb&&"ko"!==c.locale&&(yb||e!==ub.compositionStart?e===ub.compositionEnd&&yb&&(f=fb()):(cb=d,db="value"in cb?cb.value:cb.textContent,yb=!0)),e=lb.getPooled(e,b,c,d),f?e.data=f:(f=xb(c),null!==f&&(e.data=f)),Qa(e),f=e):f=null,(a=qb?Ab(a,c):Bb(a,c))?(b=mb.getPooled(ub.beforeInput,b,c,d),b.data=a,Qa(b)):b=null,null===f?b:null===b?f:[f,b]}},Db=null,Eb=null,Fb=null,Mb=Jb,Nb=!1,Pb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Xb=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Xb.hasOwnProperty("ReactCurrentDispatcher")||(Xb.ReactCurrentDispatcher={current:null}),Xb.hasOwnProperty("ReactCurrentBatchConfig")||(Xb.ReactCurrentBatchConfig={suspense:null});var Yb=/^(.*)[\\\/]/,B="function"==typeof Symbol&&Symbol["for"],Zb=B?Symbol["for"]("react.element"):60103,$b=B?Symbol["for"]("react.portal"):60106,ac=B?Symbol["for"]("react.fragment"):60107,bc=B?Symbol["for"]("react.strict_mode"):60108,cc=B?Symbol["for"]("react.profiler"):60114,dc=B?Symbol["for"]("react.provider"):60109,ec=B?Symbol["for"]("react.context"):60110,fc=B?Symbol["for"]("react.concurrent_mode"):60111,gc=B?Symbol["for"]("react.forward_ref"):60112,hc=B?Symbol["for"]("react.suspense"):60113,ic=B?Symbol["for"]("react.suspense_list"):60120,jc=B?Symbol["for"]("react.memo"):60115,kc=B?Symbol["for"]("react.lazy"):60116;B&&Symbol["for"]("react.fundamental"),B&&Symbol["for"]("react.responder");var lc="function"==typeof Symbol&&Symbol.iterator,qc=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rc=Object.prototype.hasOwnProperty,sc={},tc={},F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(a){F[a]=new D(a,0,!1,a,null,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(a){var b=a[0];F[b]=new D(b,1,!1,a[1],null,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(a){F[a]=new D(a,2,!1,a.toLowerCase(),null,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(a){F[a]=new D(a,2,!1,a,null,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(a){F[a]=new D(a,3,!1,a.toLowerCase(),null,!1)}),["checked","multiple","muted","selected"].forEach(function(a){F[a]=new D(a,3,!0,a,null,!1)}),["capture","download"].forEach(function(a){F[a]=new D(a,4,!1,a,null,!1)}),["cols","rows","size","span"].forEach(function(a){F[a]=new D(a,6,!1,a,null,!1)}),["rowSpan","start"].forEach(function(a){F[a]=new D(a,5,!1,a.toLowerCase(),null,!1)});var xc=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(a){var b=a.replace(xc,yc);F[b]=new D(b,1,!1,a,null,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(a){var b=a.replace(xc,yc);F[b]=new D(b,1,!1,a,"http://www.w3.org/1999/xlink",!1)}),["xml:base","xml:lang","xml:space"].forEach(function(a){var b=a.replace(xc,yc);F[b]=new D(b,1,!1,a,"http://www.w3.org/XML/1998/namespace",!1)}),["tabIndex","crossOrigin"].forEach(function(a){F[a]=new D(a,1,!1,a.toLowerCase(),null,!1)}),F.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach(function(a){F[a]=new D(a,1,!1,a.toLowerCase(),null,!0)});var Hc={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Jc=null,Kc=null,Oc=!1;Ra&&(Oc=Sb("input")&&(!document.documentMode||9<document.documentMode));var Vc={eventTypes:Hc,_isInputEventSupported:Oc,extractEvents:function(a,b,c,d){var e=b?Ja(b):window,f=void 0,h=void 0,g=e.nodeName&&e.nodeName.toLowerCase();return"select"===g||"input"===g&&"file"===e.type?f=Nc:Qb(e)?Oc?f=Uc:(f=Sc,h=Rc):(g=e.nodeName)&&"input"===g.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)&&(f=Tc),f&&(f=f(a,b))?Ic(f,c,d):(h&&h(a,e,b),void("blur"===a&&(a=e._wrapperState)&&a.controlled&&"number"===e.type&&Fc(e,"number",e.value)))}},Wc=y.extend({view:null,detail:null}),Xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},$c=0,ad=0,bd=!1,cd=!1,dd=Wc.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Zc,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if("movementX"in a)return a.movementX;var b=$c;return $c=a.screenX,bd?"mousemove"===a.type?a.screenX-b:0:(bd=!0,0)},movementY:function(a){if("movementY"in a)return a.movementY;var b=ad;return ad=a.screenY,cd?"mousemove"===a.type?a.screenY-b:0:(cd=!0,0)}}),ed=dd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),fd={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},gd={eventTypes:fd,extractEvents:function(a,b,c,d){var e="mouseover"===a||"pointerover"===a,f="mouseout"===a||"pointerout"===a;if(e&&(c.relatedTarget||c.fromElement)||!f&&!e)return null;if(e=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window,f?(f=b,b=(b=c.relatedTarget||c.toElement)?Ha(b):null):f=null,f===b)return null;var h=void 0,g=void 0,k=void 0,l=void 0;"mouseout"===a||"mouseover"===a?(h=dd,g=fd.mouseLeave,k=fd.mouseEnter,l="mouse"):("pointerout"===a||"pointerover"===a)&&(h=ed,g=fd.pointerLeave,k=fd.pointerEnter,l="pointer");var n=null==f?e:Ja(f);if(e=null==b?e:Ja(b),a=h.getPooled(g,f,c,d),a.type=l+"leave",a.target=n,a.relatedTarget=e,c=h.getPooled(k,b,c,d),c.type=l+"enter",c.target=e,c.relatedTarget=n,d=b,f&&d)a:{for(b=f,e=d,l=0,h=b;h;h=La(h))l++;for(h=0,k=e;k;k=La(k))h++;for(;l-h>0;)b=La(b),l--;for(;h-l>0;)e=La(e),h--;for(;l--;){if(b===e||b===e.alternate)break a;b=La(b),e=La(e)}b=null}else b=null;for(e=b,b=[];f&&f!==e&&(l=f.alternate,null===l||l!==e);)b.push(f),f=La(f);for(f=[];d&&d!==e&&(l=d.alternate,null===l||l!==e);)f.push(d),d=La(d);for(d=0;d<b.length;d++)Oa(b[d],"bubbled",a);for(d=f.length;0<d--;)Oa(f[d],"captured",c);return[a,c]}},id=Object.prototype.hasOwnProperty;new Map,new Map,new Set,new Map;for(var rd=y.extend({animationName:null,elapsedTime:null,pseudoElement:null}),sd=(y.extend({clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}})),td=Wc.extend({relatedTarget:null}),vd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xd=Wc.extend({key:function(a){if(a.key){var b=vd[a.key]||a.key;if("Unidentified"!==b)return b}return"keypress"===a.type?(a=ud(a),13===a?"Enter":String.fromCharCode(a)):"keydown"===a.type||"keyup"===a.type?wd[a.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Zc,charCode:function(a){return"keypress"===a.type?ud(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?ud(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}}),yd=dd.extend({dataTransfer:null}),zd=Wc.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Zc}),Ad=y.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Bd=(dd.extend({deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null})),Cd=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Xa,"animationEnd",2],[Ya,"animationIteration",2],[Za,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[ab,"transitionEnd",2],["waiting","waiting",2]],Dd={},Ed={},Fd=0;Fd<Cd.length;Fd++){var Gd=Cd[Fd],Hd=Gd[0],Id=Gd[1],Jd=Gd[2],Kd="on"+(Id[0].toUpperCase()+Id.slice(1)),Ld={phasedRegistrationNames:{bubbled:Kd,captured:Kd+"Capture"},dependencies:[Hd],eventPriority:Jd};Dd[Id]=Ld,Ed[Hd]=Ld}var Md={eventTypes:Dd,getEventPriority:function(a){return a=Ed[a],void 0!==a?a.eventPriority:2},extractEvents:function(a,b,c,d){var e=Ed[a];if(!e)return null;switch(a){case"keypress":if(0===ud(c))return null;case"keydown":case"keyup":a=xd;break;case"blur":case"focus":a=td;break;case"click":if(2===c.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=dd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=zd;break;case Xa:case Ya:case Za:a=rd;break;case ab:a=Ad;break;case"scroll":a=Wc;break;case"wheel":a=Bd;break;case"copy":case"cut":case"paste":a=sd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=ed;break;default:a=y}return b=a.getPooled(e,b,c,d),Qa(b),b}},Nd=Md.getEventPriority,Od=[],Qd=!0,Vd=new("function"==typeof WeakMap?WeakMap:Map),ce=Ra&&"documentMode"in document&&11>=document.documentMode,de={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},ee=null,fe=null,ge=null,he=!1,je={eventTypes:de,extractEvents:function(a,b,c,d){var f,e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument;if(!(f=!e)){a:{e=Wd(e),f=ja.onSelect;for(var h=0;h<f.length;h++)if(!e.has(f[h])){e=!1;break a}e=!0}f=!e}if(f)return null;switch(e=b?Ja(b):window,a){case"focus":(Qb(e)||"true"===e.contentEditable)&&(ee=e,fe=b,ge=null);break;case"blur":ge=fe=ee=null;break;case"mousedown":he=!0;break;case"contextmenu":case"mouseup":case"dragend":return he=!1,ie(c,d);case"selectionchange":if(ce)break;case"keydown":case"keyup":return ie(c,d)}return null}};Ca.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),sa=Ka,ta=Ia,va=Ja,Ca.injectEventPluginsByName({SimpleEventPlugin:Md,EnterLeaveEventPlugin:gd,ChangeEventPlugin:Vc,SelectEventPlugin:je,BeforeInputEventPlugin:Cb});var re={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},ue=void 0,ve=function(a){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==re.svg||"innerHTML"in a)a.innerHTML=b;else{for(ue=ue||document.createElement("div"),ue.innerHTML="<svg>"+b+"</svg>",b=ue.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}}),xe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];Object.keys(xe).forEach(function(a){ye.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1),xe[b]=xe[a]})});var Ce=m({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),He=null,Ie=null,Le="function"==typeof setTimeout?setTimeout:void 0,Me="function"==typeof clearTimeout?clearTimeout:void 0;new Set;var Oe=[],Pe=-1,Qe={},L={current:Qe},M={current:!1},Re=Qe,Ze=q.unstable_runWithPriority,$e=q.unstable_scheduleCallback,af=q.unstable_cancelCallback,bf=q.unstable_shouldYield,cf=q.unstable_requestPaint,df=q.unstable_now,ef=q.unstable_getCurrentPriorityLevel,ff=q.unstable_ImmediatePriority,hf=q.unstable_UserBlockingPriority,jf=q.unstable_NormalPriority,kf=q.unstable_LowPriority,lf=q.unstable_IdlePriority,mf={},nf=void 0!==cf?cf:function(){},of=null,pf=null,qf=!1,rf=df(),sf=1e4>rf?df:function(){return df()-rf},Cf={current:null},Df=null,Ef=null,Ff=null,Nf=!1,$f=Xb.ReactCurrentBatchConfig,ag=(new aa.Component).refs,fg={isMounted:function(a){return(a=a._reactInternalFiber)?2===ld(a):!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=cg(),e=$f.suspense;d=dg(d,a,e),e=Qf(d,e),e.payload=b,void 0!==c&&null!==c&&(e.callback=c),Sf(a,e),eg(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=cg(),e=$f.suspense;d=dg(d,a,e),e=Qf(d,e),e.tag=1,e.payload=b,void 0!==c&&null!==c&&(e.callback=c),Sf(a,e),eg(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=cg(),d=$f.suspense;c=dg(c,a,d),d=Qf(c,d),d.tag=2,void 0!==b&&null!==b&&(d.callback=b),Sf(a,d),eg(a,c)}},kg=Array.isArray,tg=ng(!0),ug=ng(!1),vg={},wg={current:vg},xg={current:vg},yg={current:vg},Eg=1,Fg=1,Gg=2,P={current:0},Ig=0,Jg=2,Kg=4,Lg=8,Mg=16,Ng=32,Og=64,Pg=128,Qg=Xb.ReactCurrentDispatcher,Rg=0,Sg=null,Q=null,Tg=null,Ug=null,R=null,Vg=null,Wg=0,Xg=null,Yg=0,Zg=!1,$g=null,ah=0,hh={readContext:Mf,useCallback:bh,useContext:bh,useEffect:bh,useImperativeHandle:bh,useLayoutEffect:bh,useMemo:bh,useReducer:bh,useRef:bh,useState:bh,useDebugValue:bh,useResponder:bh},eh={readContext:Mf,useCallback:function(a,b){return jh().memoizedState=[a,void 0===b?null:b],a},useContext:Mf,useEffect:function(a,b){return oh(516,Pg|Og,a,b)},useImperativeHandle:function(a,b,c){return c=null!==c&&void 0!==c?c.concat([a]):null,oh(4,Kg|Ng,qh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return oh(4,Kg|Ng,a,b)},useMemo:function(a,b){var c=jh();return b=void 0===b?null:b,a=a(),c.memoizedState=[a,b],a},useReducer:function(a,b,c){var d=jh();return b=void 0!==c?c(b):b,d.memoizedState=d.baseState=b,a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},a=a.dispatch=sh.bind(null,Sg,a),[d.memoizedState,a]},useRef:function(a){var b=jh();return a={current:a},b.memoizedState=a},useState:function(a){var b=jh();return"function"==typeof a&&(a=a()),b.memoizedState=b.baseState=a,a=b.queue={last:null,dispatch:null,lastRenderedReducer:lh,lastRenderedState:a},a=a.dispatch=sh.bind(null,Sg,a),[b.memoizedState,a]},useDebugValue:rh,useResponder:kd},fh={readContext:Mf,useCallback:function(a,b){var c=kh();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&ch(b,d[1])?d[0]:(c.memoizedState=[a,b],a)},useContext:Mf,useEffect:function(a,b){return ph(516,Pg|Og,a,b)},useImperativeHandle:function(a,b,c){return c=null!==c&&void 0!==c?c.concat([a]):null,
ph(4,Kg|Ng,qh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return ph(4,Kg|Ng,a,b)},useMemo:function(a,b){var c=kh();b=void 0===b?null:b;var d=c.memoizedState;return null!==d&&null!==b&&ch(b,d[1])?d[0]:(a=a(),c.memoizedState=[a,b],a)},useReducer:mh,useRef:function(){return kh().memoizedState},useState:function(a){return mh(lh,a)},useDebugValue:rh,useResponder:kd},th=null,uh=null,vh=!1,Dh=Xb.ReactCurrentOwner,Lf=!1,Oh={},Th=void 0,Uh=void 0,Vh=void 0,Wh=void 0;Th=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(20===c.tag)a.appendChild(c.stateNode.instance);else if(4!==c.tag&&null!==c.child){c.child["return"]=c,c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c["return"]||c["return"]===b)return;c=c["return"]}c.sibling["return"]=c["return"],c=c.sibling}},Uh=function(){},Vh=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var h=b.stateNode;switch(zg(wg.current),a=null,c){case"input":f=Bc(h,f),d=Bc(h,d),a=[];break;case"option":f=le(h,f),d=le(h,d),a=[];break;case"select":f=m({},f,{value:void 0}),d=m({},d,{value:void 0}),a=[];break;case"textarea":f=ne(h,f),d=ne(h,d),a=[];break;default:"function"!=typeof f.onClick&&"function"==typeof d.onClick&&(h.onclick=Ge)}De(c,d),h=c=void 0;var g=null;for(c in f)if(!d.hasOwnProperty(c)&&f.hasOwnProperty(c)&&null!=f[c])if("style"===c){var k=f[c];for(h in k)k.hasOwnProperty(h)&&(g||(g={}),g[h]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(ia.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in d){var l=d[c];if(k=null!=f?f[c]:void 0,d.hasOwnProperty(c)&&l!==k&&(null!=l||null!=k))if("style"===c)if(k){for(h in k)!k.hasOwnProperty(h)||l&&l.hasOwnProperty(h)||(g||(g={}),g[h]="");for(h in l)l.hasOwnProperty(h)&&k[h]!==l[h]&&(g||(g={}),g[h]=l[h])}else g||(a||(a=[]),a.push(c,g)),g=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,k=k?k.__html:void 0,null!=l&&k!==l&&(a=a||[]).push(c,""+l)):"children"===c?k===l||"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(ia.hasOwnProperty(c)?(null!=l&&Fe(e,c),a||k===l||(a=[])):(a=a||[]).push(c,l))}g&&(a=a||[]).push("style",g),e=a,(b.updateQueue=e)&&Sh(b)}},Wh=function(a,b,c,d){c!==d&&Sh(b)};var ci="function"==typeof WeakSet?WeakSet:Set,si="function"==typeof WeakMap?WeakMap:Map,yi=Math.ceil,zi=Xb.ReactCurrentDispatcher,Ai=Xb.ReactCurrentOwner,T=0,Bi=8,Ci=16,Di=32,Ei=0,Fi=1,Gi=2,Hi=3,Ii=4,U=T,Ji=null,V=null,W=0,X=Ei,Ki=1073741823,Li=1073741823,Mi=null,Ni=!1,pi=0,Oi=500,Y=null,ui=!1,vi=null,xi=null,Pi=!1,Qi=null,Ri=90,Si=0,Ti=null,Ui=0,Vi=null,Wi=0,Xi=0,mj=void 0;mj=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||M.current)Lf=!0;else if(c>d){switch(Lf=!1,b.tag){case 3:Nh(b),Ch();break;case 5:if(Cg(b),4&b.mode&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:N(b.type)&&Xe(b);break;case 4:Ag(b,b.stateNode.containerInfo);break;case 10:Hf(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState)return d=b.child.childExpirationTime,0!==d&&d>=c?Ph(a,b,c):(J(P,P.current&Eg,b),b=Fh(a,b,c),null!==b?b.sibling:null);J(P,P.current&Eg,b);break;case 19:if(d=b.childExpirationTime>=c,0!==(64&a.effectTag)){if(d)return Rh(a,b,c);b.effectTag|=64}if(e=b.memoizedState,null!==e&&(e.rendering=null,e.tail=null),J(P,P.current,b),!d)return null}return Fh(a,b,c)}}else Lf=!1;switch(b.expirationTime=0,b.tag){case 2:if(d=b.type,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps,e=Se(b,L.current),Kf(b,c),e=dh(null,b,d,a,e,c),b.effectTag|=1,"object"==typeof e&&null!==e&&"function"==typeof e.render&&void 0===e.$$typeof){if(b.tag=1,ih(),N(d)){var f=!0;Xe(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var h=d.getDerivedStateFromProps;"function"==typeof h&&bg(b,d,h,a),e.updater=fg,b.stateNode=e,e._reactInternalFiber=b,jg(b,d,a,c),b=Mh(null,b,d,!0,f,c)}else b.tag=0,S(null,b,e,c),b=b.child;return b;case 16:switch(e=b.elementType,null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),a=b.pendingProps,e=Bf(e),b.type=e,f=b.tag=sj(e),a=Af(e,a),f){case 0:b=Jh(null,b,e,a,c);break;case 1:b=Lh(null,b,e,a,c);break;case 11:b=Eh(null,b,e,a,c);break;case 14:b=Gh(null,b,e,Af(e.type,a),d,c);break;default:throw t(Error(306),e,"")}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Af(d,e),Jh(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Af(d,e),Lh(a,b,d,e,c);case 3:if(Nh(b),d=b.updateQueue,null===d)throw t(Error(282));return e=b.memoizedState,e=null!==e?e.element:null,Wf(b,d,b.pendingProps,null,c),d=b.memoizedState.element,d===e?(Ch(),b=Fh(a,b,c)):(e=b.stateNode,(e=(null===a||null===a.child)&&e.hydrate)&&(uh=Ne(b.stateNode.containerInfo.firstChild),th=b,e=vh=!0),e?(b.effectTag|=2,b.child=ug(b,null,d,c)):(S(a,b,d,c),Ch()),b=b.child),b;case 5:return Cg(b),null===a&&zh(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,h=e.children,Ke(d,e)?h=null:null!==f&&Ke(d,f)&&(b.effectTag|=16),Kh(a,b),4&b.mode&&1!==c&&e.hidden?(b.expirationTime=b.childExpirationTime=1,b=null):(S(a,b,h,c),b=b.child),b;case 6:return null===a&&zh(b),null;case 13:return Ph(a,b,c);case 4:return Ag(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=tg(b,null,d,c):S(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Af(d,e),Eh(a,b,d,e,c);case 7:return S(a,b,b.pendingProps,c),b.child;case 8:return S(a,b,b.pendingProps.children,c),b.child;case 12:return S(a,b,b.pendingProps.children,c),b.child;case 10:a:{if(d=b.type._context,e=b.pendingProps,h=b.memoizedProps,f=e.value,Hf(b,f),null!==h){var g=h.value;if(f=hd(g,f)?0:0|("function"==typeof d._calculateChangedBits?d._calculateChangedBits(g,f):1073741823),0===f){if(h.children===e.children&&!M.current){b=Fh(a,b,c);break a}}else for(g=b.child,null!==g&&(g["return"]=b);null!==g;){var k=g.dependencies;if(null!==k){h=g.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===g.tag&&(l=Qf(c,null),l.tag=2,Sf(g,l)),g.expirationTime<c&&(g.expirationTime=c),l=g.alternate,null!==l&&l.expirationTime<c&&(l.expirationTime=c),Jf(g["return"],c),k.expirationTime<c&&(k.expirationTime=c);break}l=l.next}}else h=10===g.tag&&g.type===b.type?null:g.child;if(null!==h)h["return"]=g;else for(h=g;null!==h;){if(h===b){h=null;break}if(g=h.sibling,null!==g){g["return"]=h["return"],h=g;break}h=h["return"]}g=h}}S(a,b,e.children,c),b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,Kf(b,c),e=Mf(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,S(a,b,d,c),b.child;case 14:return e=b.type,f=Af(e,b.pendingProps),f=Af(e.type,f),Gh(a,b,e,f,d,c);case 15:return Ih(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:Af(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,N(d)?(a=!0,Xe(b)):a=!1,Kf(b,c),hg(b,d,e,c),jg(b,d,e,c),Mh(null,b,d,!0,a,c);case 19:return Rh(a,b,c)}throw t(Error(156))};var pj=null,ji=null;Db=function(a,b,c){switch(b){case"input":if(Ec(a,c),b=c.name,"radio"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+b)+'][type="radio"]'),b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=Ka(d);if(!e)throw t(Error(90));Wb(d),Ec(d,e)}}}break;case"textarea":pe(a,c);break;case"select":b=c.value,null!=b&&me(a,!!c.multiple,b,!1)}},Bj.prototype.render=function(a){if(!this._defer)throw t(Error(250));this._hasChildren=!0,this._children=a;var b=this._root._internalRoot,c=this._expirationTime,d=new Cj;return xj(a,b,null,c,null,d._onCommit),d},Bj.prototype.then=function(a){if(this._didComplete)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Bj.prototype.commit=function(){var a=this._root._internalRoot,b=a.firstBatch;if(!this._defer||null===b)throw t(Error(251));if(this._hasChildren){var c=this._expirationTime;if(b!==this){this._hasChildren&&(c=this._expirationTime=b._expirationTime,this.render(this._children));for(var d=null,e=b;e!==this;)d=e,e=e._next;if(null===d)throw t(Error(251));d._next=e._next,this._next=b,a.firstBatch=this}if(this._defer=!1,b=c,(U&(Ci|Di))!==T)throw t(Error(253));xf(Z.bind(null,a,b)),O(),b=this._next,this._next=null,b=a.firstBatch=b,null!==b&&b._hasChildren&&b.render(b._children)}else this._next=null,this._defer=!1},Bj.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++)(0,a[b])()}},Cj.prototype.then=function(a){if(this._didCommit)a();else{var b=this._callbacks;null===b&&(b=this._callbacks=[]),b.push(a)}},Cj.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var a=this._callbacks;if(null!==a)for(var b=0;b<a.length;b++){var c=a[b];if("function"!=typeof c)throw t(Error(191),c);c()}}},Ej.prototype.render=Dj.prototype.render=function(a,b){var c=this._internalRoot,d=new Cj;return b=void 0===b?null:b,null!==b&&d.then(b),yj(a,c,null,d._onCommit),d},Ej.prototype.unmount=Dj.prototype.unmount=function(a){var b=this._internalRoot,c=new Cj;return a=void 0===a?null:a,null!==a&&c.then(a),yj(null,b,null,c._onCommit),c},Ej.prototype.createBatch=function(){var a=new Bj(this),b=a._expirationTime,c=this._internalRoot,d=c.firstBatch;if(null===d)c.firstBatch=a,a._next=null;else{for(c=null;null!==d&&d._expirationTime>=b;)c=d,d=d._next;a._next=d,null!==c&&(c._next=a)}return a},Jb=ej,Kb=fj,Lb=aj,Mb=function(a,b){var c=U;U|=2;try{return a(b)}finally{U=c,U===T&&O()}};var Nj={createPortal:Kj,findDOMNode:function(a){if(null==a)a=null;else if(1!==a.nodeType){var b=a._reactInternalFiber;if(void 0===b){if("function"==typeof a.render)throw t(Error(188));throw t(Error(268),Object.keys(a))}a=qd(b),a=null===a?null:a.stateNode}return a},hydrate:function(a,b,c){if(!Hj(b))throw t(Error(200));return Jj(null,a,b,!0,c)},render:function(a,b,c){if(!Hj(b))throw t(Error(200));return Jj(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){if(!Hj(c))throw t(Error(200));if(null==a||void 0===a._reactInternalFiber)throw t(Error(38));return Jj(a,b,c,!1,d)},unmountComponentAtNode:function(a){if(!Hj(a))throw t(Error(40));return a._reactRootContainer?(gj(function(){Jj(null,null,a,!1,function(){a._reactRootContainer=null})}),!0):!1},unstable_createPortal:function(){return Kj.apply(void 0,arguments)},unstable_batchedUpdates:ej,unstable_interactiveUpdates:function(a,b,c,d){return aj(),fj(a,b,c,d)},unstable_discreteUpdates:fj,unstable_flushDiscreteUpdates:aj,flushSync:function(a,b){if((U&(Ci|Di))!==T)throw t(Error(187));var c=U;U|=1;try{return vf(99,a.bind(null,b))}finally{U=c,O()}},unstable_createRoot:Lj,unstable_createSyncRoot:Mj,unstable_flushControlled:function(a){var b=U;U|=1;try{vf(99,a)}finally{U=b,U===T&&O()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Ia,Ja,Ka,Ca.injectEventPluginsByName,fa,Qa,function(a){ya(a,Pa)},Hb,Ib,Ud,Ba,cj,{current:!1}]}};!function(a){var b=a.findFiberByHostInstance;return tj(m({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xb.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){return a=qd(a),null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Ha,bundleType:0,version:"16.9.0",rendererPackageName:"react-dom"});var Oj={"default":Nj},Pj=Oj&&Nj||Oj;module.exports=Pj["default"]||Pj}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-dom/cjs/react-dom.production.min.js","/../../../../node_modules/react-dom/cjs")},{buffer:5,hXUCVB:4,"object-assign":354,react:385,scheduler:409}],373:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function checkDCE(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(err){console.error(err)}}checkDCE(),module.exports=require("./cjs/react-dom.production.min.js")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-dom/index.js","/../../../../node_modules/react-dom")},{"./cjs/react-dom.development.js":371,"./cjs/react-dom.production.min.js":372,buffer:5,hXUCVB:4}],374:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";"production"!==process.env.NODE_ENV&&!function(){function isValidElementType(type){return"string"==typeof type||"function"==typeof type||type===REACT_FRAGMENT_TYPE||type===REACT_CONCURRENT_MODE_TYPE||type===REACT_PROFILER_TYPE||type===REACT_STRICT_MODE_TYPE||type===REACT_SUSPENSE_TYPE||type===REACT_SUSPENSE_LIST_TYPE||"object"==typeof type&&null!==type&&(type.$$typeof===REACT_LAZY_TYPE||type.$$typeof===REACT_MEMO_TYPE||type.$$typeof===REACT_PROVIDER_TYPE||type.$$typeof===REACT_CONTEXT_TYPE||type.$$typeof===REACT_FORWARD_REF_TYPE||type.$$typeof===REACT_FUNDAMENTAL_TYPE||type.$$typeof===REACT_RESPONDER_TYPE||type.$$typeof===REACT_SCOPE_TYPE||type.$$typeof===REACT_BLOCK_TYPE)}function typeOf(object){if("object"==typeof object&&null!==object){var $$typeof=object.$$typeof;switch($$typeof){case REACT_ELEMENT_TYPE:var type=object.type;switch(type){case REACT_ASYNC_MODE_TYPE:case REACT_CONCURRENT_MODE_TYPE:case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:return type;default:var $$typeofType=type&&type.$$typeof;switch($$typeofType){case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:case REACT_PROVIDER_TYPE:return $$typeofType;default:return $$typeof}}case REACT_PORTAL_TYPE:return $$typeof}}}function isAsyncMode(object){return hasWarnedAboutDeprecatedIsAsyncMode||(hasWarnedAboutDeprecatedIsAsyncMode=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),isConcurrentMode(object)||typeOf(object)===REACT_ASYNC_MODE_TYPE}function isConcurrentMode(object){return typeOf(object)===REACT_CONCURRENT_MODE_TYPE}function isContextConsumer(object){return typeOf(object)===REACT_CONTEXT_TYPE}function isContextProvider(object){return typeOf(object)===REACT_PROVIDER_TYPE}function isElement(object){return"object"==typeof object&&null!==object&&object.$$typeof===REACT_ELEMENT_TYPE}function isForwardRef(object){return typeOf(object)===REACT_FORWARD_REF_TYPE}function isFragment(object){return typeOf(object)===REACT_FRAGMENT_TYPE}function isLazy(object){return typeOf(object)===REACT_LAZY_TYPE}function isMemo(object){return typeOf(object)===REACT_MEMO_TYPE}function isPortal(object){return typeOf(object)===REACT_PORTAL_TYPE}function isProfiler(object){return typeOf(object)===REACT_PROFILER_TYPE}function isStrictMode(object){return typeOf(object)===REACT_STRICT_MODE_TYPE}function isSuspense(object){return typeOf(object)===REACT_SUSPENSE_TYPE}var hasSymbol="function"==typeof Symbol&&Symbol["for"],REACT_ELEMENT_TYPE=hasSymbol?Symbol["for"]("react.element"):60103,REACT_PORTAL_TYPE=hasSymbol?Symbol["for"]("react.portal"):60106,REACT_FRAGMENT_TYPE=hasSymbol?Symbol["for"]("react.fragment"):60107,REACT_STRICT_MODE_TYPE=hasSymbol?Symbol["for"]("react.strict_mode"):60108,REACT_PROFILER_TYPE=hasSymbol?Symbol["for"]("react.profiler"):60114,REACT_PROVIDER_TYPE=hasSymbol?Symbol["for"]("react.provider"):60109,REACT_CONTEXT_TYPE=hasSymbol?Symbol["for"]("react.context"):60110,REACT_ASYNC_MODE_TYPE=hasSymbol?Symbol["for"]("react.async_mode"):60111,REACT_CONCURRENT_MODE_TYPE=hasSymbol?Symbol["for"]("react.concurrent_mode"):60111,REACT_FORWARD_REF_TYPE=hasSymbol?Symbol["for"]("react.forward_ref"):60112,REACT_SUSPENSE_TYPE=hasSymbol?Symbol["for"]("react.suspense"):60113,REACT_SUSPENSE_LIST_TYPE=hasSymbol?Symbol["for"]("react.suspense_list"):60120,REACT_MEMO_TYPE=hasSymbol?Symbol["for"]("react.memo"):60115,REACT_LAZY_TYPE=hasSymbol?Symbol["for"]("react.lazy"):60116,REACT_BLOCK_TYPE=hasSymbol?Symbol["for"]("react.block"):60121,REACT_FUNDAMENTAL_TYPE=hasSymbol?Symbol["for"]("react.fundamental"):60117,REACT_RESPONDER_TYPE=hasSymbol?Symbol["for"]("react.responder"):60118,REACT_SCOPE_TYPE=hasSymbol?Symbol["for"]("react.scope"):60119,AsyncMode=REACT_ASYNC_MODE_TYPE,ConcurrentMode=REACT_CONCURRENT_MODE_TYPE,ContextConsumer=REACT_CONTEXT_TYPE,ContextProvider=REACT_PROVIDER_TYPE,Element=REACT_ELEMENT_TYPE,ForwardRef=REACT_FORWARD_REF_TYPE,Fragment=REACT_FRAGMENT_TYPE,Lazy=REACT_LAZY_TYPE,Memo=REACT_MEMO_TYPE,Portal=REACT_PORTAL_TYPE,Profiler=REACT_PROFILER_TYPE,StrictMode=REACT_STRICT_MODE_TYPE,Suspense=REACT_SUSPENSE_TYPE,hasWarnedAboutDeprecatedIsAsyncMode=!1;exports.AsyncMode=AsyncMode,exports.ConcurrentMode=ConcurrentMode,exports.ContextConsumer=ContextConsumer,exports.ContextProvider=ContextProvider,exports.Element=Element,exports.ForwardRef=ForwardRef,exports.Fragment=Fragment,exports.Lazy=Lazy,exports.Memo=Memo,exports.Portal=Portal,exports.Profiler=Profiler,exports.StrictMode=StrictMode,exports.Suspense=Suspense,exports.isAsyncMode=isAsyncMode,exports.isConcurrentMode=isConcurrentMode,exports.isContextConsumer=isContextConsumer,exports.isContextProvider=isContextProvider,exports.isElement=isElement,exports.isForwardRef=isForwardRef,exports.isFragment=isFragment,exports.isLazy=isLazy,exports.isMemo=isMemo,exports.isPortal=isPortal,exports.isProfiler=isProfiler,exports.isStrictMode=isStrictMode,exports.isSuspense=isSuspense,exports.isValidElementType=isValidElementType,exports.typeOf=typeOf}()}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-is/cjs/react-is.development.js","/../../../../node_modules/react-is/cjs")},{buffer:5,hXUCVB:4}],375:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function z(a){if("object"==typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}var b="function"==typeof Symbol&&Symbol["for"],c=b?Symbol["for"]("react.element"):60103,d=b?Symbol["for"]("react.portal"):60106,e=b?Symbol["for"]("react.fragment"):60107,f=b?Symbol["for"]("react.strict_mode"):60108,g=b?Symbol["for"]("react.profiler"):60114,h=b?Symbol["for"]("react.provider"):60109,k=b?Symbol["for"]("react.context"):60110,l=b?Symbol["for"]("react.async_mode"):60111,m=b?Symbol["for"]("react.concurrent_mode"):60111,n=b?Symbol["for"]("react.forward_ref"):60112,p=b?Symbol["for"]("react.suspense"):60113,q=b?Symbol["for"]("react.suspense_list"):60120,r=b?Symbol["for"]("react.memo"):60115,t=b?Symbol["for"]("react.lazy"):60116,v=b?Symbol["for"]("react.block"):60121,w=b?Symbol["for"]("react.fundamental"):60117,x=b?Symbol["for"]("react.responder"):60118,y=b?Symbol["for"]("react.scope"):60119;exports.AsyncMode=l,exports.ConcurrentMode=m,exports.ContextConsumer=k,exports.ContextProvider=h,exports.Element=c,exports.ForwardRef=n,exports.Fragment=e,exports.Lazy=t,exports.Memo=r,exports.Portal=d,exports.Profiler=g,exports.StrictMode=f,exports.Suspense=p,exports.isAsyncMode=function(a){return A(a)||z(a)===l},exports.isConcurrentMode=A,exports.isContextConsumer=function(a){return z(a)===k},exports.isContextProvider=function(a){return z(a)===h},exports.isElement=function(a){return"object"==typeof a&&null!==a&&a.$$typeof===c},exports.isForwardRef=function(a){return z(a)===n},exports.isFragment=function(a){return z(a)===e},exports.isLazy=function(a){return z(a)===t},exports.isMemo=function(a){return z(a)===r},exports.isPortal=function(a){return z(a)===d},exports.isProfiler=function(a){return z(a)===g},exports.isStrictMode=function(a){return z(a)===f},exports.isSuspense=function(a){return z(a)===p},exports.isValidElementType=function(a){return"string"==typeof a||"function"==typeof a||a===e||a===m||a===g||a===f||a===p||a===q||"object"==typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)},exports.typeOf=z}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-is/cjs/react-is.production.min.js","/../../../../node_modules/react-is/cjs")},{buffer:5,hXUCVB:4}],376:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";"production"===process.env.NODE_ENV?module.exports=require("./cjs/react-is.production.min.js"):module.exports=require("./cjs/react-is.development.js")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-is/index.js","/../../../../node_modules/react-is")},{"./cjs/react-is.development.js":374,"./cjs/react-is.production.min.js":375,buffer:5,hXUCVB:4}],377:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_TransitionGroup=require("./TransitionGroup"),_TransitionGroup2=_interopRequireDefault(_TransitionGroup),_CSSTransitionGroupChild=require("./CSSTransitionGroupChild"),_CSSTransitionGroupChild2=_interopRequireDefault(_CSSTransitionGroupChild),_PropTypes=require("./utils/PropTypes"),defaultProps=({transitionName:_PropTypes.nameShape.isRequired,transitionAppear:_propTypes2["default"].bool,transitionEnter:_propTypes2["default"].bool,transitionLeave:_propTypes2["default"].bool,transitionAppearTimeout:(0,_PropTypes.transitionTimeout)("Appear"),transitionEnterTimeout:(0,_PropTypes.transitionTimeout)("Enter"),transitionLeaveTimeout:(0,_PropTypes.transitionTimeout)("Leave")},{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}),CSSTransitionGroup=function(_React$Component){function CSSTransitionGroup(){var _temp,_this,_ret;_classCallCheck(this,CSSTransitionGroup);for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this._wrapChild=function(child){return _react2["default"].createElement(_CSSTransitionGroupChild2["default"],{name:_this.props.transitionName,appear:_this.props.transitionAppear,enter:_this.props.transitionEnter,leave:_this.props.transitionLeave,appearTimeout:_this.props.transitionAppearTimeout,enterTimeout:_this.props.transitionEnterTimeout,leaveTimeout:_this.props.transitionLeaveTimeout},child)},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(CSSTransitionGroup,_React$Component),CSSTransitionGroup.prototype.render=function(){return _react2["default"].createElement(_TransitionGroup2["default"],_extends({},this.props,{childFactory:this._wrapChild}))},CSSTransitionGroup}(_react2["default"].Component);CSSTransitionGroup.displayName="CSSTransitionGroup",CSSTransitionGroup.propTypes={},CSSTransitionGroup.defaultProps=defaultProps,exports["default"]=CSSTransitionGroup,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/CSSTransitionGroup.js","/../../../../node_modules/react-transition-group")},{"./CSSTransitionGroupChild":378,"./TransitionGroup":379,"./utils/PropTypes":382,buffer:5,hXUCVB:4,"prop-types":358,react:385}],378:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function addEndListener(node,listener){return events.length?events.forEach(function(e){return node.addEventListener(e,listener,!1)}):setTimeout(listener,0),function(){events.length&&events.forEach(function(e){return node.removeEventListener(e,listener,!1)})}}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_addClass=require("dom-helpers/class/addClass"),_addClass2=_interopRequireDefault(_addClass),_removeClass=require("dom-helpers/class/removeClass"),_removeClass2=_interopRequireDefault(_removeClass),_requestAnimationFrame=require("dom-helpers/util/requestAnimationFrame"),_requestAnimationFrame2=_interopRequireDefault(_requestAnimationFrame),_properties=require("dom-helpers/transition/properties"),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_reactDom=require("react-dom"),_PropTypes=require("./utils/PropTypes"),events=[];_properties.transitionEnd&&events.push(_properties.transitionEnd),_properties.animationEnd&&events.push(_properties.animationEnd);var CSSTransitionGroupChild=({children:_propTypes2["default"].node,name:_PropTypes.nameShape.isRequired,appear:_propTypes2["default"].bool,enter:_propTypes2["default"].bool,leave:_propTypes2["default"].bool,appearTimeout:_propTypes2["default"].number,enterTimeout:_propTypes2["default"].number,leaveTimeout:_propTypes2["default"].number},function(_React$Component){function CSSTransitionGroupChild(){var _temp,_this,_ret;_classCallCheck(this,CSSTransitionGroupChild);for(var _len=arguments.length,args=Array(_len),_key=0;_len>_key;_key++)args[_key]=arguments[_key];return _temp=_this=_possibleConstructorReturn(this,_React$Component.call.apply(_React$Component,[this].concat(args))),_this.componentWillAppear=function(done){_this.props.appear?_this.transition("appear",done,_this.props.appearTimeout):done()},_this.componentWillEnter=function(done){_this.props.enter?_this.transition("enter",done,_this.props.enterTimeout):done()},_this.componentWillLeave=function(done){_this.props.leave?_this.transition("leave",done,_this.props.leaveTimeout):done()},_ret=_temp,_possibleConstructorReturn(_this,_ret)}return _inherits(CSSTransitionGroupChild,_React$Component),CSSTransitionGroupChild.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},CSSTransitionGroupChild.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(timeout){clearTimeout(timeout)}),this.classNameAndNodeQueue.length=0},CSSTransitionGroupChild.prototype.transition=function(animationType,finishCallback,timeout){var node=(0,_reactDom.findDOMNode)(this);if(!node)return void(finishCallback&&finishCallback());var className=this.props.name[animationType]||this.props.name+"-"+animationType,activeClassName=this.props.name[animationType+"Active"]||className+"-active",timer=null,removeListeners=void 0;(0,_addClass2["default"])(node,className),this.queueClassAndNode(activeClassName,node);var finish=function(e){e&&e.target!==node||(clearTimeout(timer),removeListeners&&removeListeners(),(0,_removeClass2["default"])(node,className),(0,_removeClass2["default"])(node,activeClassName),removeListeners&&removeListeners(),finishCallback&&finishCallback())};timeout?(timer=setTimeout(finish,timeout),this.transitionTimeouts.push(timer)):_properties.transitionEnd&&(removeListeners=addEndListener(node,finish))},CSSTransitionGroupChild.prototype.queueClassAndNode=function(className,node){var _this2=this;this.classNameAndNodeQueue.push({className:className,node:node}),this.rafHandle||(this.rafHandle=(0,_requestAnimationFrame2["default"])(function(){return _this2.flushClassNameAndNodeQueue()}))},CSSTransitionGroupChild.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(obj){obj.node.scrollTop,(0,_addClass2["default"])(obj.node,obj.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},CSSTransitionGroupChild.prototype.render=function(){var props=_extends({},this.props);return delete props.name,delete props.appear,delete props.enter,delete props.leave,delete props.appearTimeout,delete props.enterTimeout,delete props.leaveTimeout,delete props.children,_react2["default"].cloneElement(_react2["default"].Children.only(this.props.children),props)},CSSTransitionGroupChild}(_react2["default"].Component));CSSTransitionGroupChild.displayName="CSSTransitionGroupChild",CSSTransitionGroupChild.propTypes={},exports["default"]=CSSTransitionGroupChild,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/CSSTransitionGroupChild.js","/../../../../node_modules/react-transition-group")},{"./utils/PropTypes":382,buffer:5,"dom-helpers/class/addClass":339,"dom-helpers/class/removeClass":341,
"dom-helpers/transition/properties":342,"dom-helpers/util/requestAnimationFrame":344,hXUCVB:4,"prop-types":358,react:385,"react-dom":373}],379:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}exports.__esModule=!0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_chainFunction=require("chain-function"),_chainFunction2=_interopRequireDefault(_chainFunction),_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_warning=require("warning"),_ChildMapping=(_interopRequireDefault(_warning),require("./utils/ChildMapping")),defaultProps=({component:_propTypes2["default"].any,childFactory:_propTypes2["default"].func,children:_propTypes2["default"].node},{component:"span",childFactory:function(child){return child}}),TransitionGroup=function(_React$Component){function TransitionGroup(props,context){_classCallCheck(this,TransitionGroup);var _this=_possibleConstructorReturn(this,_React$Component.call(this,props,context));return _this.performAppear=function(key,component){_this.currentlyTransitioningKeys[key]=!0,component.componentWillAppear?component.componentWillAppear(_this._handleDoneAppearing.bind(_this,key,component)):_this._handleDoneAppearing(key,component)},_this._handleDoneAppearing=function(key,component){component.componentDidAppear&&component.componentDidAppear(),delete _this.currentlyTransitioningKeys[key];var currentChildMapping=(0,_ChildMapping.getChildMapping)(_this.props.children);currentChildMapping&&currentChildMapping.hasOwnProperty(key)||_this.performLeave(key,component)},_this.performEnter=function(key,component){_this.currentlyTransitioningKeys[key]=!0,component.componentWillEnter?component.componentWillEnter(_this._handleDoneEntering.bind(_this,key,component)):_this._handleDoneEntering(key,component)},_this._handleDoneEntering=function(key,component){component.componentDidEnter&&component.componentDidEnter(),delete _this.currentlyTransitioningKeys[key];var currentChildMapping=(0,_ChildMapping.getChildMapping)(_this.props.children);currentChildMapping&&currentChildMapping.hasOwnProperty(key)||_this.performLeave(key,component)},_this.performLeave=function(key,component){_this.currentlyTransitioningKeys[key]=!0,component.componentWillLeave?component.componentWillLeave(_this._handleDoneLeaving.bind(_this,key,component)):_this._handleDoneLeaving(key,component)},_this._handleDoneLeaving=function(key,component){component.componentDidLeave&&component.componentDidLeave(),delete _this.currentlyTransitioningKeys[key];var currentChildMapping=(0,_ChildMapping.getChildMapping)(_this.props.children);currentChildMapping&&currentChildMapping.hasOwnProperty(key)?_this.keysToEnter.push(key):_this.setState(function(state){var newChildren=_extends({},state.children);return delete newChildren[key],{children:newChildren}})},_this.childRefs=Object.create(null),_this.state={children:(0,_ChildMapping.getChildMapping)(props.children)},_this}return _inherits(TransitionGroup,_React$Component),TransitionGroup.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},TransitionGroup.prototype.componentDidMount=function(){var initialChildMapping=this.state.children;for(var key in initialChildMapping)initialChildMapping[key]&&this.performAppear(key,this.childRefs[key])},TransitionGroup.prototype.componentWillReceiveProps=function(nextProps){var nextChildMapping=(0,_ChildMapping.getChildMapping)(nextProps.children),prevChildMapping=this.state.children;this.setState({children:(0,_ChildMapping.mergeChildMappings)(prevChildMapping,nextChildMapping)});for(var key in nextChildMapping){var hasPrev=prevChildMapping&&prevChildMapping.hasOwnProperty(key);!nextChildMapping[key]||hasPrev||this.currentlyTransitioningKeys[key]||this.keysToEnter.push(key)}for(var _key in prevChildMapping){var hasNext=nextChildMapping&&nextChildMapping.hasOwnProperty(_key);!prevChildMapping[_key]||hasNext||this.currentlyTransitioningKeys[_key]||this.keysToLeave.push(_key)}},TransitionGroup.prototype.componentDidUpdate=function(){var _this2=this,keysToEnter=this.keysToEnter;this.keysToEnter=[],keysToEnter.forEach(function(key){return _this2.performEnter(key,_this2.childRefs[key])});var keysToLeave=this.keysToLeave;this.keysToLeave=[],keysToLeave.forEach(function(key){return _this2.performLeave(key,_this2.childRefs[key])})},TransitionGroup.prototype.render=function(){var _this3=this,childrenToRender=[],_loop=function(key){var child=_this3.state.children[key];if(child){var isCallbackRef="string"!=typeof child.ref,factoryChild=_this3.props.childFactory(child),ref=function(r){_this3.childRefs[key]=r};factoryChild===child&&isCallbackRef&&(ref=(0,_chainFunction2["default"])(child.ref,ref)),childrenToRender.push(_react2["default"].cloneElement(factoryChild,{key:key,ref:ref}))}};for(var key in this.state.children)_loop(key);var props=_extends({},this.props);return delete props.transitionLeave,delete props.transitionName,delete props.transitionAppear,delete props.transitionEnter,delete props.childFactory,delete props.transitionLeaveTimeout,delete props.transitionEnterTimeout,delete props.transitionAppearTimeout,delete props.component,_react2["default"].createElement(this.props.component,props,childrenToRender)},TransitionGroup}(_react2["default"].Component);TransitionGroup.displayName="TransitionGroup",TransitionGroup.propTypes={},TransitionGroup.defaultProps=defaultProps,exports["default"]=TransitionGroup,module.exports=exports["default"]}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/TransitionGroup.js","/../../../../node_modules/react-transition-group")},{"./utils/ChildMapping":381,buffer:5,"chain-function":6,hXUCVB:4,"prop-types":358,react:385,warning:380}],380:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var warning=function(){};module.exports=warning}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/node_modules/warning/browser.js","/../../../../node_modules/react-transition-group/node_modules/warning")},{buffer:5,hXUCVB:4}],381:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function getChildMapping(children){if(!children)return children;var result={};return _react.Children.map(children,function(child){return child}).forEach(function(child){result[child.key]=child}),result}function mergeChildMappings(prev,next){function getValueForKey(key){return next.hasOwnProperty(key)?next[key]:prev[key]}prev=prev||{},next=next||{};var nextKeysPending={},pendingKeys=[];for(var prevKey in prev)next.hasOwnProperty(prevKey)?pendingKeys.length&&(nextKeysPending[prevKey]=pendingKeys,pendingKeys=[]):pendingKeys.push(prevKey);var i=void 0,childMapping={};for(var nextKey in next){if(nextKeysPending.hasOwnProperty(nextKey))for(i=0;i<nextKeysPending[nextKey].length;i++){var pendingNextKey=nextKeysPending[nextKey][i];childMapping[nextKeysPending[nextKey][i]]=getValueForKey(pendingNextKey)}childMapping[nextKey]=getValueForKey(nextKey)}for(i=0;i<pendingKeys.length;i++)childMapping[pendingKeys[i]]=getValueForKey(pendingKeys[i]);return childMapping}exports.__esModule=!0,exports.getChildMapping=getChildMapping,exports.mergeChildMappings=mergeChildMappings;var _react=require("react")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/utils/ChildMapping.js","/../../../../node_modules/react-transition-group/utils")},{buffer:5,hXUCVB:4,react:385}],382:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function transitionTimeout(transitionType){var timeoutPropName="transition"+transitionType+"Timeout",enabledPropName="transition"+transitionType;return function(props){if(props[enabledPropName]){if(null==props[timeoutPropName])return new Error(timeoutPropName+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof props[timeoutPropName])return new Error(timeoutPropName+" must be a number (in milliseconds)")}return null}}exports.__esModule=!0,exports.nameShape=void 0,exports.transitionTimeout=transitionTimeout;var _react=require("react"),_propTypes=(_interopRequireDefault(_react),require("prop-types")),_propTypes2=_interopRequireDefault(_propTypes);exports.nameShape=_propTypes2["default"].oneOfType([_propTypes2["default"].string,_propTypes2["default"].shape({enter:_propTypes2["default"].string,leave:_propTypes2["default"].string,active:_propTypes2["default"].string}),_propTypes2["default"].shape({enter:_propTypes2["default"].string,enterActive:_propTypes2["default"].string,leave:_propTypes2["default"].string,leaveActive:_propTypes2["default"].string,appear:_propTypes2["default"].string,appearActive:_propTypes2["default"].string})])}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react-transition-group/utils/PropTypes.js","/../../../../node_modules/react-transition-group/utils")},{buffer:5,hXUCVB:4,"prop-types":358,react:385}],383:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict"}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react/cjs/react.development.js","/../../../../node_modules/react/cjs")},{buffer:5,hXUCVB:4,"object-assign":354,"prop-types/checkPropTypes":355}],384:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function A(a){for(var b=a.message,d="https://reactjs.org/docs/error-decoder.html?invariant="+b,c=1;c<arguments.length;c++)d+="&args[]="+encodeURIComponent(arguments[c]);return a.message="Minified React error #"+b+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",a}function D(a,b,d){this.props=a,this.context=b,this.refs=C,this.updater=d||B}function E(){}function F(a,b,d){this.props=a,this.context=b,this.refs=C,this.updater=d||B}function M(a,b,d){var c=void 0,e={},g=null,k=null;if(null!=b)for(c in void 0!==b.ref&&(k=b.ref),void 0!==b.key&&(g=""+b.key),b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=b[c]);var f=arguments.length-2;if(1===f)e.children=d;else if(f>1){for(var l=Array(f),m=0;f>m;m++)l[m]=arguments[m+2];e.children=l}if(a&&a.defaultProps)for(c in f=a.defaultProps)void 0===e[c]&&(e[c]=f[c]);return{$$typeof:p,type:a,key:g,ref:k,props:e,_owner:J.current}}function da(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return"object"==typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={"=":"=0",":":"=2"};return"$"+(""+a).replace(/[=:]/g,function(a){return b[a]})}function Q(a,b,d,c){if(P.length){var e=P.pop();return e.result=a,e.keyPrefix=b,e.func=d,e.context=c,e.count=0,e}return{result:a,keyPrefix:b,func:d,context:c,count:0}}function R(a){a.result=null,a.keyPrefix=null,a.func=null,a.context=null,a.count=0,10>P.length&&P.push(a)}function S(a,b,d,c){var e=typeof a;("undefined"===e||"boolean"===e)&&(a=null);var g=!1;if(null===a)g=!0;else switch(e){case"string":case"number":g=!0;break;case"object":switch(a.$$typeof){case p:case q:g=!0}}if(g)return d(c,a,""===b?"."+T(a,0):b),1;if(g=0,b=""===b?".":b+":",Array.isArray(a))for(var k=0;k<a.length;k++){e=a[k];var f=b+T(e,k);g+=S(e,f,d,c)}else if(null===a||"object"!=typeof a?f=null:(f=z&&a[z]||a["@@iterator"],f="function"==typeof f?f:null),"function"==typeof f)for(a=f.call(a),k=0;!(e=a.next()).done;)e=e.value,f=b+T(e,k++),g+=S(e,f,d,c);else if("object"===e)throw d=""+a,A(Error(31),"[object Object]"===d?"object with keys {"+Object.keys(a).join(", ")+"}":d,"");return g}function U(a,b,d){return null==a?0:S(a,"",b,d)}function T(a,b){return"object"==typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ea(a,b){a.func.call(a.context,b,a.count++)}function fa(a,b,d){var c=a.result,e=a.keyPrefix;a=a.func.call(a.context,b,a.count++),Array.isArray(a)?V(a,c,d,function(a){return a}):null!=a&&(N(a)&&(a=da(a,e+(!a.key||b&&b.key===a.key?"":(""+a.key).replace(O,"$&/")+"/")+d)),c.push(a))}function V(a,b,d,c,e){var g="";null!=d&&(g=(""+d).replace(O,"$&/")+"/"),b=Q(b,g,c,e),U(a,fa,b),R(b)}function W(){var a=H.current;if(null===a)throw A(Error(321));return a}var h=require("object-assign"),n="function"==typeof Symbol&&Symbol["for"],p=n?Symbol["for"]("react.element"):60103,q=n?Symbol["for"]("react.portal"):60106,r=n?Symbol["for"]("react.fragment"):60107,t=n?Symbol["for"]("react.strict_mode"):60108,u=n?Symbol["for"]("react.profiler"):60114,v=n?Symbol["for"]("react.provider"):60109,w=n?Symbol["for"]("react.context"):60110,x=n?Symbol["for"]("react.forward_ref"):60112,y=n?Symbol["for"]("react.suspense"):60113,aa=n?Symbol["for"]("react.suspense_list"):60120,ba=n?Symbol["for"]("react.memo"):60115,ca=n?Symbol["for"]("react.lazy"):60116;n&&Symbol["for"]("react.fundamental"),n&&Symbol["for"]("react.responder");var z="function"==typeof Symbol&&Symbol.iterator,B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C={};D.prototype.isReactComponent={},D.prototype.setState=function(a,b){if("object"!=typeof a&&"function"!=typeof a&&null!=a)throw A(Error(85));this.updater.enqueueSetState(this,a,b,"setState")},D.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,"forceUpdate")},E.prototype=D.prototype;var G=F.prototype=new E;G.constructor=F,h(G,D.prototype),G.isPureReactComponent=!0;var H={current:null},I={suspense:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0},O=/\/+/g,P=[],X={Children:{map:function(a,b,d){if(null==a)return a;var c=[];return V(a,c,null,b,d),c},forEach:function(a,b,d){return null==a?a:(b=Q(null,null,b,d),U(a,ea,b),void R(b))},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];return V(a,b,null,function(a){return a}),b},only:function(a){if(!N(a))throw A(Error(143));return a}},createRef:function(){return{current:null}},Component:D,PureComponent:F,createContext:function(a,b){return void 0===b&&(b=null),a={$$typeof:w,_calculateChangedBits:b,_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null},a.Provider={$$typeof:v,_context:a},a.Consumer=a},forwardRef:function(a){return{$$typeof:x,render:a}},lazy:function(a){return{$$typeof:ca,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:ba,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,b,d){return W().useImperativeHandle(a,b,d)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,d){return W().useReducer(a,b,d)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,Profiler:u,StrictMode:t,Suspense:y,unstable_SuspenseList:aa,createElement:M,cloneElement:function(a,b,d){if(null===a||void 0===a)throw A(Error(267),a);var c=void 0,e=h({},a.props),g=a.key,k=a.ref,f=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,f=J.current),void 0!==b.key&&(g=""+b.key);var l=void 0;a.type&&a.type.defaultProps&&(l=a.type.defaultProps);for(c in b)K.call(b,c)&&!L.hasOwnProperty(c)&&(e[c]=void 0===b[c]&&void 0!==l?l[c]:b[c])}if(c=arguments.length-2,1===c)e.children=d;else if(c>1){l=Array(c);for(var m=0;c>m;m++)l[m]=arguments[m+2];e.children=l}return{$$typeof:p,type:a.type,key:g,ref:k,props:e,_owner:f}},createFactory:function(a){var b=M.bind(null,a);return b.type=a,b},isValidElement:N,version:"16.9.0",unstable_withSuspenseConfig:function(a,b){var d=I.suspense;I.suspense=void 0===b?null:b;try{a()}finally{I.suspense=d}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:H,ReactCurrentBatchConfig:I,ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:h}},Y={"default":X},Z=Y&&X||Y;module.exports=Z["default"]||Z}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react/cjs/react.production.min.js","/../../../../node_modules/react/cjs")},{buffer:5,hXUCVB:4,"object-assign":354}],385:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports=require("./cjs/react.production.min.js")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/react/index.js","/../../../../node_modules/react")},{"./cjs/react.development.js":383,"./cjs/react.production.min.js":384,buffer:5,hXUCVB:4}],386:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=require("./src")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/index.js","/../../../../node_modules/reflux")},{"./src":398,buffer:5,hXUCVB:4}],387:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/ActionMethods.js","/../../../../node_modules/reflux/src")},{buffer:5,hXUCVB:4}],388:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.createdStores=[],exports.createdActions=[],exports.reset=function(){for(;exports.createdStores.length;)exports.createdStores.pop();for(;exports.createdActions.length;)exports.createdActions.pop()}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/Keep.js","/../../../../node_modules/reflux/src")},{buffer:5,hXUCVB:4}],389:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils"),maker=require("./joins").instanceJoinCreator,mapChildListenables=function(listenable){for(var childName,i=0,children={};i<(listenable.children||[]).length;++i)childName=listenable.children[i],listenable[childName]&&(children[childName]=listenable[childName]);return children},flattenListenables=function(listenables){var flattened={};for(var key in listenables){var listenable=listenables[key],childMap=mapChildListenables(listenable),children=flattenListenables(childMap);flattened[key]=listenable;for(var childKey in children){var childListenable=children[childKey];flattened[key+_.capitalize(childKey)]=childListenable}}return flattened};module.exports={hasListener:function(listenable){for(var j,listener,listenables,i=0;i<(this.subscriptions||[]).length;++i)for(listenables=[].concat(this.subscriptions[i].listenable),j=0;j<listenables.length;j++)if(listener=listenables[j],listener===listenable||listener.hasListener&&listener.hasListener(listenable))return!0;return!1},listenToMany:function(listenables){var allListenables=flattenListenables(listenables);for(var key in allListenables){var cbname=_.callbackName(key),localname=this[cbname]?cbname:this[key]?key:void 0;localname&&this.listenTo(allListenables[key],localname,this[cbname+"Default"]||this[localname+"Default"]||localname)}},validateListening:function(listenable){return listenable===this?"Listener is not able to listen to itself":_.isFunction(listenable.listen)?listenable.hasListener&&listenable.hasListener(this)?"Listener cannot listen to this listenable because of circular loop":void 0:listenable+" is missing a listen method"},listenTo:function(listenable,callback,defaultCallback){var desub,unsubscriber,subscriptionobj,subs=this.subscriptions=this.subscriptions||[];return _.throwIf(this.validateListening(listenable)),this.fetchInitialState(listenable,defaultCallback),desub=listenable.listen(this[callback]||callback,this),unsubscriber=function(){var index=subs.indexOf(subscriptionobj);_.throwIf(-1===index,"Tried to remove listen already gone from subscriptions list!"),subs.splice(index,1),desub()},subscriptionobj={stop:unsubscriber,listenable:listenable},subs.push(subscriptionobj),subscriptionobj},stopListeningTo:function(listenable){for(var sub,i=0,subs=this.subscriptions||[];i<subs.length;i++)if(sub=subs[i],sub.listenable===listenable)return sub.stop(),_.throwIf(-1!==subs.indexOf(sub),"Failed to remove listen from subscriptions list!"),!0;return!1},stopListeningToAll:function(){for(var remaining,subs=this.subscriptions||[];remaining=subs.length;)subs[0].stop(),_.throwIf(subs.length!==remaining-1,"Failed to remove listen from subscriptions list!")},fetchInitialState:function(listenable,defaultCallback){defaultCallback=defaultCallback&&this[defaultCallback]||defaultCallback;var me=this;if(_.isFunction(defaultCallback)&&_.isFunction(listenable.getInitialState)){var data=listenable.getInitialState();data&&_.isFunction(data.then)?data.then(function(){defaultCallback.apply(me,arguments)}):defaultCallback.call(this,data)}},joinTrailing:maker("last"),joinLeading:maker("first"),joinConcat:maker("all"),joinStrict:maker("strict")}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/ListenerMethods.js","/../../../../node_modules/reflux/src")},{"./joins":399,"./utils":403,buffer:5,hXUCVB:4}],390:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils"),ListenerMethods=require("./ListenerMethods");module.exports=_.extend({componentWillUnmount:ListenerMethods.stopListeningToAll},ListenerMethods)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/ListenerMixin.js","/../../../../node_modules/reflux/src")},{"./ListenerMethods":389,"./utils":403,buffer:5,hXUCVB:4}],391:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils");module.exports={preEmit:function(){},shouldEmit:function(){return!0},listen:function(callback,bindContext){bindContext=bindContext||this;var eventHandler=function(args){aborted||callback.apply(bindContext,args)},me=this,aborted=!1;return this.emitter.addListener(this.eventLabel,eventHandler),function(){aborted=!0,me.emitter.removeListener(me.eventLabel,eventHandler)}},promise:function(promise){var me=this,canHandlePromise=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0;if(!canHandlePromise)throw new Error('Publisher must have "completed" and "failed" child publishers');promise.then(function(response){return me.completed(response)},function(error){return me.failed(error)})},listenAndPromise:function(callback,bindContext){var me=this;bindContext=bindContext||this,this.willCallPromise=(this.willCallPromise||0)+1;var removeListen=this.listen(function(){if(!callback)throw new Error("Expected a function returning a promise but got "+callback);var args=arguments,promise=callback.apply(bindContext,args);return me.promise.call(me,promise)},bindContext);return function(){me.willCallPromise--,removeListen.call(me)}},trigger:function(){var args=arguments,pre=this.preEmit.apply(this,args);args=void 0===pre?args:_.isArguments(pre)?pre:[].concat(pre),this.shouldEmit.apply(this,args)&&this.emitter.emit(this.eventLabel,args)},triggerAsync:function(){var args=arguments,me=this;_.nextTick(function(){me.trigger.apply(me,args)})},triggerPromise:function(){var me=this,args=arguments,canHandlePromise=this.children.indexOf("completed")>=0&&this.children.indexOf("failed")>=0,promise=_.createPromise(function(resolve,reject){if(me.willCallPromise)return void _.nextTick(function(){var old_promise_method=me.promise;me.promise=function(promise){return promise.then(resolve,reject),me.promise=old_promise_method,me.promise.apply(me,arguments)},me.trigger.apply(me,args)});if(canHandlePromise)var removeSuccess=me.completed.listen(function(args){removeSuccess(),removeFailed(),resolve(args)}),removeFailed=me.failed.listen(function(args){removeSuccess(),removeFailed(),reject(args)});me.triggerAsync.apply(me,args),canHandlePromise||resolve()});return promise}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/PublisherMethods.js","/../../../../node_modules/reflux/src")},{"./utils":403,buffer:5,hXUCVB:4}],392:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports={}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/StoreMethods.js","/../../../../node_modules/reflux/src")},{buffer:5,hXUCVB:4}],393:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){module.exports=function(store,definition){for(var name in definition)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var propertyDescriptor=Object.getOwnPropertyDescriptor(definition,name);if(!propertyDescriptor.value||"function"!=typeof propertyDescriptor.value||!definition.hasOwnProperty(name))continue;store[name]=definition[name].bind(store)}else{var property=definition[name];if("function"!=typeof property||!definition.hasOwnProperty(name))continue;store[name]=property.bind(store)}return store}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/bindMethods.js","/../../../../node_modules/reflux/src")},{buffer:5,hXUCVB:4}],394:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Reflux=require("./index"),_=require("./utils");module.exports=function(listenable,key){return{getInitialState:function(){return _.isFunction(listenable.getInitialState)?void 0===key?listenable.getInitialState():_.object([key],[listenable.getInitialState()]):{}},componentDidMount:function(){_.extend(this,Reflux.ListenerMethods);var me=this,cb=void 0===key?this.setState:function(v){me.setState(_.object([key],[v]))};this.listenTo(listenable,cb)},componentWillUnmount:Reflux.ListenerMixin.componentWillUnmount}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/connect.js","/../../../../node_modules/reflux/src")},{"./index":398,"./utils":403,buffer:5,hXUCVB:4}],395:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Reflux=require("./index"),_=require("./utils");module.exports=function(listenable,key,filterFunc){return filterFunc=_.isFunction(key)?key:filterFunc,{getInitialState:function(){if(_.isFunction(listenable.getInitialState)){if(_.isFunction(key))return filterFunc.call(this,listenable.getInitialState());var result=filterFunc.call(this,listenable.getInitialState());return result?_.object([key],[result]):{}}return{}},componentDidMount:function(){_.extend(this,Reflux.ListenerMethods);var me=this,cb=function(value){if(_.isFunction(key))me.setState(filterFunc.call(me,value));else{var result=filterFunc.call(me,value);me.setState(_.object([key],[result]))}};this.listenTo(listenable,cb)},componentWillUnmount:Reflux.ListenerMixin.componentWillUnmount}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/connectFilter.js","/../../../../node_modules/reflux/src")},{"./index":398,"./utils":403,buffer:5,hXUCVB:4}],396:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils"),Reflux=require("./index"),Keep=require("./Keep"),allowed={preEmit:1,shouldEmit:1},createAction=function(definition){definition=definition||{},_.isObject(definition)||(definition={actionName:definition});for(var a in Reflux.ActionMethods)if(!allowed[a]&&Reflux.PublisherMethods[a])throw new Error("Cannot override API method "+a+" in Reflux.ActionMethods. Use another method name or override it on Reflux.PublisherMethods instead.");for(var d in definition)if(!allowed[d]&&Reflux.PublisherMethods[d])throw new Error("Cannot override API method "+d+" in action creation. Use another method name or override it on Reflux.PublisherMethods instead.");
definition.children=definition.children||[],definition.asyncResult&&(definition.children=definition.children.concat(["completed","failed"]));for(var i=0,childActions={};i<definition.children.length;i++){var name=definition.children[i];childActions[name]=createAction(name)}var context=_.extend({eventLabel:"action",emitter:new _.EventEmitter,_isAction:!0},Reflux.PublisherMethods,Reflux.ActionMethods,definition),functor=function(){return functor[functor.sync?"trigger":"triggerPromise"].apply(functor,arguments)};return _.extend(functor,childActions,context),Keep.createdActions.push(functor),functor};module.exports=createAction}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/createAction.js","/../../../../node_modules/reflux/src")},{"./Keep":388,"./index":398,"./utils":403,buffer:5,hXUCVB:4}],397:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils"),Reflux=require("./index"),Keep=require("./Keep"),mixer=require("./mixer"),allowed={preEmit:1,shouldEmit:1},bindMethods=require("./bindMethods");module.exports=function(definition){function Store(){var arr,i=0;if(this.subscriptions=[],this.emitter=new _.EventEmitter,this.eventLabel="change",bindMethods(this,definition),this.init&&_.isFunction(this.init)&&this.init(),this.listenables)for(arr=[].concat(this.listenables);i<arr.length;i++)this.listenToMany(arr[i])}definition=definition||{};for(var a in Reflux.StoreMethods)if(!allowed[a]&&(Reflux.PublisherMethods[a]||Reflux.ListenerMethods[a]))throw new Error("Cannot override API method "+a+" in Reflux.StoreMethods. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");for(var d in definition)if(!allowed[d]&&(Reflux.PublisherMethods[d]||Reflux.ListenerMethods[d]))throw new Error("Cannot override API method "+d+" in store creation. Use another method name or override it on Reflux.PublisherMethods / Reflux.ListenerMethods instead.");definition=mixer(definition),_.extend(Store.prototype,Reflux.ListenerMethods,Reflux.PublisherMethods,Reflux.StoreMethods,definition);var store=new Store;return Keep.createdStores.push(store),store}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/createStore.js","/../../../../node_modules/reflux/src")},{"./Keep":388,"./bindMethods":393,"./index":398,"./mixer":402,"./utils":403,buffer:5,hXUCVB:4}],398:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){exports.ActionMethods=require("./ActionMethods"),exports.ListenerMethods=require("./ListenerMethods"),exports.PublisherMethods=require("./PublisherMethods"),exports.StoreMethods=require("./StoreMethods"),exports.createAction=require("./createAction"),exports.createStore=require("./createStore"),exports.connect=require("./connect"),exports.connectFilter=require("./connectFilter"),exports.ListenerMixin=require("./ListenerMixin"),exports.listenTo=require("./listenTo"),exports.listenToMany=require("./listenToMany");var maker=require("./joins").staticJoinCreator;exports.joinTrailing=exports.all=maker("last"),exports.joinLeading=maker("first"),exports.joinStrict=maker("strict"),exports.joinConcat=maker("all");var _=require("./utils");exports.EventEmitter=_.EventEmitter,exports.Promise=_.Promise,exports.createActions=function(definitions){var actions={};for(var k in definitions)if(definitions.hasOwnProperty(k)){var val=definitions[k],actionName=_.isObject(val)?k:val;actions[actionName]=exports.createAction(val)}return actions},exports.setEventEmitter=function(ctx){var _=require("./utils");exports.EventEmitter=_.EventEmitter=ctx},exports.setPromise=function(ctx){var _=require("./utils");exports.Promise=_.Promise=ctx},exports.setPromiseFactory=function(factory){var _=require("./utils");_.createPromise=factory},exports.nextTick=function(nextTick){var _=require("./utils");_.nextTick=nextTick},exports.__keep=require("./Keep"),Function.prototype.bind||console.error("Function.prototype.bind not available. ES5 shim required. https://github.com/spoike/refluxjs#es5")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/index.js","/../../../../node_modules/reflux/src")},{"./ActionMethods":387,"./Keep":388,"./ListenerMethods":389,"./ListenerMixin":390,"./PublisherMethods":391,"./StoreMethods":392,"./connect":394,"./connectFilter":395,"./createAction":396,"./createStore":397,"./joins":399,"./listenTo":400,"./listenToMany":401,"./utils":403,buffer:5,hXUCVB:4}],399:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){function makeStopper(subobj,cancels,context){return function(){var i,subs=context.subscriptions,index=subs?subs.indexOf(subobj):-1;for(_.throwIf(-1===index,"Tried to remove join already gone from subscriptions list!"),i=0;i<cancels.length;i++)cancels[i]();subs.splice(index,1)}}function reset(join){join.listenablesEmitted=new Array(join.numberOfListenables),join.args=new Array(join.numberOfListenables)}function newListener(i,join){return function(){var callargs=slice.call(arguments);if(join.listenablesEmitted[i])switch(join.strategy){case"strict":throw new Error("Strict join failed because listener triggered twice.");case"last":join.args[i]=callargs;break;case"all":join.args[i].push(callargs)}else join.listenablesEmitted[i]=!0,join.args[i]="all"===join.strategy?[callargs]:callargs;emitIfAllListenablesEmitted(join)}}function emitIfAllListenablesEmitted(join){for(var i=0;i<join.numberOfListenables;i++)if(!join.listenablesEmitted[i])return;join.callback.apply(join.listener,join.args),reset(join)}var slice=Array.prototype.slice,_=require("./utils"),createStore=require("./createStore"),strategyMethodNames={strict:"joinStrict",first:"joinLeading",last:"joinTrailing",all:"joinConcat"};exports.staticJoinCreator=function(strategy){return function(){var listenables=slice.call(arguments);return createStore({init:function(){this[strategyMethodNames[strategy]].apply(this,listenables.concat("triggerAsync"))}})}},exports.instanceJoinCreator=function(strategy){return function(){_.throwIf(arguments.length<3,"Cannot create a join with less than 2 listenables!");var i,subobj,listenables=slice.call(arguments),callback=listenables.pop(),numberOfListenables=listenables.length,join={numberOfListenables:numberOfListenables,callback:this[callback]||callback,listener:this,strategy:strategy},cancels=[];for(i=0;numberOfListenables>i;i++)_.throwIf(this.validateListening(listenables[i]));for(i=0;numberOfListenables>i;i++)cancels.push(listenables[i].listen(newListener(i,join),this));return reset(join),subobj={listenable:listenables},subobj.stop=makeStopper(subobj,cancels,this),this.subscriptions=(this.subscriptions||[]).concat(subobj),subobj}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/joins.js","/../../../../node_modules/reflux/src")},{"./createStore":397,"./utils":403,buffer:5,hXUCVB:4}],400:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Reflux=require("./index");module.exports=function(listenable,callback,initial){return{componentDidMount:function(){for(var m in Reflux.ListenerMethods)if(this[m]!==Reflux.ListenerMethods[m]){if(this[m])throw"Can't have other property '"+m+"' when using Reflux.listenTo!";this[m]=Reflux.ListenerMethods[m]}this.listenTo(listenable,callback,initial)},componentWillUnmount:Reflux.ListenerMethods.stopListeningToAll}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/listenTo.js","/../../../../node_modules/reflux/src")},{"./index":398,buffer:5,hXUCVB:4}],401:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var Reflux=require("./index");module.exports=function(listenables){return{componentDidMount:function(){for(var m in Reflux.ListenerMethods)if(this[m]!==Reflux.ListenerMethods[m]){if(this[m])throw"Can't have other property '"+m+"' when using Reflux.listenToMany!";this[m]=Reflux.ListenerMethods[m]}this.listenToMany(listenables)},componentWillUnmount:Reflux.ListenerMethods.stopListeningToAll}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/listenToMany.js","/../../../../node_modules/reflux/src")},{"./index":398,buffer:5,hXUCVB:4}],402:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var _=require("./utils");module.exports=function(def){var composed={init:[],preEmit:[],shouldEmit:[]},updated=function mixDef(mixin){var mixed={};return mixin.mixins&&mixin.mixins.forEach(function(subMixin){_.extend(mixed,mixDef(subMixin))}),_.extend(mixed,mixin),Object.keys(composed).forEach(function(composable){mixin.hasOwnProperty(composable)&&composed[composable].push(mixin[composable])}),mixed}(def);return composed.init.length>1&&(updated.init=function(){var args=arguments;composed.init.forEach(function(init){init.apply(this,args)},this)}),composed.preEmit.length>1&&(updated.preEmit=function(){return composed.preEmit.reduce(function(args,preEmit){var newValue=preEmit.apply(this,args);return void 0===newValue?args:[newValue]}.bind(this),arguments)}),composed.shouldEmit.length>1&&(updated.shouldEmit=function(){var args=arguments;return!composed.shouldEmit.some(function(shouldEmit){return!shouldEmit.apply(this,args)},this)}),Object.keys(composed).forEach(function(composable){1===composed[composable].length&&(updated[composable]=composed[composable][0])}),updated}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/mixer.js","/../../../../node_modules/reflux/src")},{"./utils":403,buffer:5,hXUCVB:4}],403:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){var isObject=exports.isObject=function(obj){var type=typeof obj;return"function"===type||"object"===type&&!!obj};exports.extend=function(obj){if(!isObject(obj))return obj;for(var source,prop,i=1,length=arguments.length;length>i;i++){source=arguments[i];for(prop in source)if(Object.getOwnPropertyDescriptor&&Object.defineProperty){var propertyDescriptor=Object.getOwnPropertyDescriptor(source,prop);Object.defineProperty(obj,prop,propertyDescriptor)}else obj[prop]=source[prop]}return obj},exports.isFunction=function(value){return"function"==typeof value},exports.EventEmitter=require("eventemitter3"),exports.nextTick=function(callback){setTimeout(callback,0)},exports.capitalize=function(string){return string.charAt(0).toUpperCase()+string.slice(1)},exports.callbackName=function(string){return"on"+exports.capitalize(string)},exports.object=function(keys,vals){for(var o={},i=0;i<keys.length;i++)o[keys[i]]=vals[i];return o},exports.Promise=require("native-promise-only"),exports.createPromise=function(resolver){return new exports.Promise(resolver)},exports.isArguments=function(value){return"object"==typeof value&&"callee"in value&&"number"==typeof value.length},exports.throwIf=function(val,msg){if(val)throw Error(msg||val)}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/reflux/src/utils.js","/../../../../node_modules/reflux/src")},{buffer:5,eventemitter3:345,hXUCVB:4,"native-promise-only":353}],404:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){!function(global){"use strict";function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return generator._invoke=makeInvokeMethod(innerFn,self,context),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}function defineIteratorMethods(prototype){["next","throw","return"].forEach(function(method){prototype[method]=function(arg){return this._invoke(method,arg)}})}function AsyncIterator(generator){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?Promise.resolve(value.__await).then(function(value){invoke("next",value,resolve,reject)},function(err){invoke("throw",err,resolve,reject)}):Promise.resolve(value).then(function(unwrapped){result.value=unwrapped,resolve(result)},reject)}reject(record.arg)}function enqueue(method,arg){function callInvokeWithMethodAndArg(){return new Promise(function(resolve,reject){invoke(method,arg,resolve,reject)})}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}"object"==typeof global.process&&global.process.domain&&(invoke=global.process.domain.bind(invoke));var previousPromise;this._invoke=enqueue}function makeInvokeMethod(innerFn,self,context){var state=GenStateSuspendedStart;return function(method,arg){if(state===GenStateExecuting)throw new Error("Generator is already running");if(state===GenStateCompleted){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if(state===GenStateSuspendedStart)throw state=GenStateCompleted,context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state=GenStateExecuting;var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?GenStateCompleted:GenStateSuspendedYield,record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state=GenStateCompleted,context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var method=delegate.iterator[context.method];if(method===undefined){if(context.delegate=null,"throw"===context.method){if(delegate.iterator["return"]&&(context.method="return",context.arg=undefined,maybeInvokeDelegate(delegate,context),"throw"===context.method))return ContinueSentinel;context.method="throw",context.arg=new TypeError("The iterator does not provide a 'throw' method")}return ContinueSentinel}var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=undefined),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=undefined,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:undefined,done:!0}}var undefined,Op=Object.prototype,hasOwn=Op.hasOwnProperty,$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag",inModule="object"==typeof module,runtime=global.regeneratorRuntime;if(runtime)return void(inModule&&(module.exports=runtime));runtime=global.regeneratorRuntime=inModule?module.exports:{},runtime.wrap=wrap;var GenStateSuspendedStart="suspendedStart",GenStateSuspendedYield="suspendedYield",GenStateExecuting="executing",GenStateCompleted="completed",ContinueSentinel={},IteratorPrototype={};IteratorPrototype[iteratorSymbol]=function(){return this};var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);GeneratorFunction.prototype=Gp.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[toStringTagSymbol]=GeneratorFunction.displayName="GeneratorFunction",runtime.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return ctor?ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name):!1},runtime.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,toStringTagSymbol in genFun||(genFun[toStringTagSymbol]="GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},runtime.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[asyncIteratorSymbol]=function(){return this},runtime.AsyncIterator=AsyncIterator,runtime.async=function(innerFn,outerFn,self,tryLocsList){var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList));return runtime.isGeneratorFunction(outerFn)?iter:iter.next().then(function(result){return result.done?result.value:iter.next()})},defineIteratorMethods(Gp),Gp[toStringTagSymbol]="Generator",Gp[iteratorSymbol]=function(){return this},Gp.toString=function(){return"[object Generator]"},runtime.keys=function(object){var keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},runtime.values=values,Context.prototype={constructor:Context,reset:function(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=undefined,this.done=!1,this.delegate=null,this.method="next",this.arg=undefined,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=undefined)},stop:function(){this.done=!0;var rootEntry=this.tryEntries[0],rootRecord=rootEntry.completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function(exception){function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=undefined),!!caught}if(this.done)throw exception;for(var context=this,i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},"catch":function(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=undefined),ContinueSentinel}}}("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/regenerator-runtime/runtime.js","/../../../../node_modules/regenerator-runtime")},{buffer:5,hXUCVB:4}],405:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict"}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/cjs/scheduler-tracing.development.js","/../../../../node_modules/scheduler/cjs")},{buffer:5,hXUCVB:4}],406:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var b=0;exports.__interactionsRef=null,exports.__subscriberRef=null,exports.unstable_clear=function(a){return a()},exports.unstable_getCurrent=function(){return null},exports.unstable_getThreadID=function(){return++b},exports.unstable_trace=function(a,d,c){return c()},exports.unstable_wrap=function(a){return a},exports.unstable_subscribe=function(){},exports.unstable_unsubscribe=function(){}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/cjs/scheduler-tracing.production.min.js","/../../../../node_modules/scheduler/cjs")},{buffer:5,hXUCVB:4}],407:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict"}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/cjs/scheduler.development.js","/../../../../node_modules/scheduler/cjs")},{buffer:5,hXUCVB:4}],408:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function T(a,b){var c=a.next;if(c===a)M=null;else{a===M&&(M=c);var f=a.previous;f.next=c,c.previous=f}a.next=a.previous=null,c=a.callback,f=P;var l=O;P=a.priorityLevel,O=a;try{var h=a.expirationTime<=b;switch(P){case 1:var k=c(h);break;case 2:k=c(h);break;case 3:k=c(h);break;case 4:k=c(h);break;case 5:k=c(h)}}catch(Z){throw Z}finally{P=f,O=l}if("function"==typeof k)if(b=a.expirationTime,a.callback=k,null===M)M=a.next=a.previous=a;else{k=null,h=M;do{if(b<=h.expirationTime){k=h;break}h=h.next}while(h!==M);null===k?k=M:k===M&&(M=a),b=k.previous,b.next=k.previous=a,a.next=k,a.previous=b}}function U(a){if(null!==N&&N.startTime<=a)do{var b=N,c=b.next;if(b===c)N=null;else{N=c;var f=b.previous;f.next=c,c.previous=f}b.next=b.previous=null,V(b,b.expirationTime)}while(null!==N&&N.startTime<=a)}function W(a){S=!1,U(a),R||(null!==M?(R=!0,d(X)):null!==N&&e(W,N.startTime-a))}function X(a,b){R=!1,S&&(S=!1,g()),U(b),Q=!0;try{if(a){if(null!==M)do T(M,b),b=exports.unstable_now(),U(b);while(null!==M&&!m())}else for(;null!==M&&M.expirationTime<=b;)T(M,b),b=exports.unstable_now(),U(b);return null!==M?!0:(null!==N&&e(W,N.startTime-b),!1)}finally{Q=!1}}function Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}function V(a,b){if(null===M)M=a.next=a.previous=a;else{var c=null,f=M;do{if(b<f.expirationTime){c=f;break}f=f.next}while(f!==M);null===c?c=M:c===M&&(M=a),b=c.previous,b.next=c.previous=a,a.next=c,a.previous=b}}Object.defineProperty(exports,"__esModule",{value:!0});var d=void 0,e=void 0,g=void 0,m=void 0,n=void 0;if(exports.unstable_now=void 0,exports.unstable_forceFrameRate=void 0,"undefined"==typeof window||"function"!=typeof MessageChannel){var p=null,q=null,r=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a),p=null}catch(b){throw setTimeout(r,0),b}};exports.unstable_now=function(){return Date.now()},d=function(a){null!==p?setTimeout(d,0,a):(p=a,setTimeout(r,0))},e=function(a,b){q=setTimeout(a,b)},g=function(){clearTimeout(q)},m=function(){return!1},n=exports.unstable_forceFrameRate=function(){}}else{var t=window.performance,u=window.Date,v=window.setTimeout,w=window.clearTimeout,x=window.requestAnimationFrame,y=window.cancelAnimationFrame;"undefined"!=typeof console&&("function"!=typeof x&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")),exports.unstable_now="object"==typeof t&&"function"==typeof t.now?function(){return t.now()}:function(){return u.now()};var z=!1,A=null,B=-1,C=-1,D=33.33,E=-1,F=-1,G=0,H=!1;m=function(){return exports.unstable_now()>=G},n=function(){},exports.unstable_forceFrameRate=function(a){0>a||a>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):a>0?(D=Math.floor(1e3/a),H=!0):(D=33.33,H=!1)};var J=function(){if(null!==A){var a=exports.unstable_now(),b=G-a>0;try{A(b,a)||(A=null)}catch(c){throw I.postMessage(null),c}}},K=new MessageChannel,I=K.port2;K.port1.onmessage=J;var L=function(a){if(null===A)F=E=-1,z=!1;else{z=!0,x(function(a){w(B),L(a)});var b=function(){G=exports.unstable_now()+D/2,J(),B=v(b,3*D)};if(B=v(b,3*D),-1!==E&&a-E>.1){var c=a-E;!H&&-1!==F&&D>c&&D>F&&(D=F>c?F:c,8.33>D&&(D=8.33)),F=c}E=a,G=a+D,I.postMessage(null)}};d=function(a){A=a,z||(z=!0,x(function(a){L(a)}))},e=function(a,b){C=v(function(){a(exports.unstable_now())},b)},g=function(){w(C),C=-1}}var M=null,N=null,O=null,P=3,Q=!1,R=!1,S=!1,aa=n;exports.unstable_ImmediatePriority=1,exports.unstable_UserBlockingPriority=2,exports.unstable_NormalPriority=3,exports.unstable_IdlePriority=5,exports.unstable_LowPriority=4,exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=P;P=a;try{return b()}finally{P=c}},exports.unstable_next=function(a){switch(P){case 1:case 2:case 3:var b=3;break;default:b=P}var c=P;P=b;try{return a()}finally{P=c}},exports.unstable_scheduleCallback=function(a,b,c){var f=exports.unstable_now();if("object"==typeof c&&null!==c){var l=c.delay;l="number"==typeof l&&l>0?f+l:f,c="number"==typeof c.timeout?c.timeout:Y(a)}else c=Y(a),l=f;if(c=l+c,a={callback:b,priorityLevel:a,startTime:l,expirationTime:c,next:null,previous:null},l>f){if(c=l,null===N)N=a.next=a.previous=a;else{b=null;var h=N;do{if(c<h.startTime){b=h;break}h=h.next}while(h!==N);null===b?b=N:b===N&&(N=a),c=b.previous,c.next=b.previous=a,a.next=b,a.previous=c}null===M&&N===a&&(S?g():S=!0,e(W,l-f))}else V(a,c),R||Q||(R=!0,d(X));return a},exports.unstable_cancelCallback=function(a){var b=a.next;if(null!==b){if(a===b)a===M?M=null:a===N&&(N=null);else{a===M?M=b:a===N&&(N=b);var c=a.previous;c.next=b,b.previous=c}a.next=a.previous=null}},exports.unstable_wrapCallback=function(a){var b=P;return function(){var c=P;P=b;try{return a.apply(this,arguments)}finally{P=c}}},exports.unstable_getCurrentPriorityLevel=function(){return P},exports.unstable_shouldYield=function(){var a=exports.unstable_now();return U(a),null!==O&&null!==M&&M.startTime<=a&&M.expirationTime<O.expirationTime||m()},exports.unstable_requestPaint=aa,exports.unstable_continueExecution=function(){R||Q||(R=!0,d(X))},exports.unstable_pauseExecution=function(){},exports.unstable_getFirstCallbackNode=function(){return M}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/cjs/scheduler.production.min.js","/../../../../node_modules/scheduler/cjs")},{buffer:5,hXUCVB:4}],409:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports=require("./cjs/scheduler.production.min.js")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/index.js","/../../../../node_modules/scheduler")},{"./cjs/scheduler.development.js":407,"./cjs/scheduler.production.min.js":408,buffer:5,hXUCVB:4}],410:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports=require("./cjs/scheduler-tracing.production.min.js")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../../../../node_modules/scheduler/tracing.js","/../../../../node_modules/scheduler");
},{"./cjs/scheduler-tracing.development.js":405,"./cjs/scheduler-tracing.production.min.js":406,buffer:5,hXUCVB:4}],411:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var Reflux=require("reflux"),ScreenViewerActions=Reflux.createActions(["handleHotspotClick","handleHotspotMouseEnter","handleHotspotMouseLeave","activateHotspot","handleCloseOverlay","maintainScrollPosition","setMobileScreenViewport","setCurrentScroll","triggerComplexOverlay","updateSimpleOverlay","setScreenViewerPosition","handleTourPointClick","handleTourPointMouseEnter","handleTourPointMouseLeave","angularLocationChange","angularToggleConfigMenu","angularDoTransition","angularNavigateFromScreensViewerNav"]);module.exports=ScreenViewerActions}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/actions/screen-viewer-actions.js","/../common/react-components/screen-viewer/actions")},{buffer:5,hXUCVB:4,reflux:386}],412:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var Reflux=require("reflux"),TourPointsActions=Reflux.createActions(["setSelectedTourPoint","disableTourPoints"]);module.exports=TourPointsActions}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/actions/tour-points-actions.js","/../common/react-components/screen-viewer/actions")},{buffer:5,hXUCVB:4,reflux:386}],413:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),classNames=require("classnames"),MobileMixin=require("../mixins/mobile-mixin.js"),Hotspots=require("./Hotspots.jsx"),TourPoints=require("./TourPoints.jsx"),FixedElement=createReactClass({mixins:[MobileMixin],getInitialState:function(){return{isBrowserTooSmall:!1}},componentDidMount:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.handleScroll),this.init()},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.handleScroll)},componentDidUpdate:function(prevProps,prevState){this.syncAlignment()},render:function(){var isMobile=this.props.isMobile,screen=this.props.screen,displayScale=this.props.displayScale,isOverlayOpen=this.props.isOverlayOpen,type=this.props.type,isOverlayScreen=this.props.isOverlayScreen,overlayMeta=this.props.overlayMeta,height="header"===type?screen.fixedHeaderHeight:screen.fixedFooterHeight,heightWithoutDisplayScale=height;height=this.formatWithDisplayScale(height);var width=this.formatWithDisplayScale(screen.width),screenHeight=this.formatWithDisplayScale(screen.height),classes=classNames("fixed-element",type),styles={height:height,width:width,backgroundImage:'url("'+screen.imageUrl+'")',backgroundSize:"cover",backgroundRepeat:"no-repeat"},innerStyles={height:screenHeight,width:width};return React.createElement("div",{className:classes,style:styles},React.createElement("div",{className:"fixed-element-inner",ref:"fixedElementInner",style:innerStyles},React.createElement(Hotspots,{isMobile:isMobile,hotspots:screen.hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,disableHotspotFlash:this.props.disableHotspotFlash,height:heightWithoutDisplayScale,width:screen.width,isOverlayScreen:isOverlayScreen,overlayMeta:overlayMeta,style:{},isInFixedElement:!0}),React.createElement(TourPoints,{tourPoints:this.props.tourPoints,screen:screen,displayScale:displayScale,isInFixedHeader:"header"===type,isInFixedFooter:"footer"===type})))},_isBrowserTooSmall:function(){return window.innerWidth<this.formatWithDisplayScale(this.props.screen.width)},handleResize:function(){!this.state.isBrowserTooSmall&&this._isBrowserTooSmall()&&this.setState({isBrowserTooSmall:!0}),this.state.isBrowserTooSmall&&!this._isBrowserTooSmall()&&this.setState({isBrowserTooSmall:!1}),this.syncAlignment()},handleScroll:function(){this.syncAlignment()},syncAlignment:function(){if(this.props.isMobile!==!0){var $view=ReactDOM.findDOMNode(this),$parent=$view.parentNode,position=$parent.getBoundingClientRect();$view.style.left=position.left+"px"}},init:function(){this.handleResize(),this.handleScroll()}});module.exports=FixedElement}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/FixedElement.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,"./Hotspots.jsx":415,"./TourPoints.jsx":427,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],414:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),_=require("lodash"),classNames=require("classnames"),ReactAddonsShallowCompare=require("react-addons-shallow-compare"),HotspotConstants=require("../constants/hotspot.js"),HotspotHelper=require("../helpers/hotspot-helper.js"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),Hotspot=createReactClass({mixins:[MobileMixin],shouldComponentUpdate:function(nextProps,nextState){return ReactAddonsShallowCompare(this,nextProps,nextState)},getDefaultProps:function(){return{overlayOffsets:null}},_shouldIgnoreHoverEvent:function(event){var fromElement=event.relatedTarget||event.fromElement,toElement=event.relatedTarget||event.toElement;return $(fromElement).hasClass("hotspot")&&$(toElement).hasClass("hotspot")&&$(fromElement).attr("screenID")!==$(toElement).attr("screenID")||void 0!==$(fromElement).attr("hotspotID")&&$(fromElement).attr("hotspotID")===$(toElement).attr("hotspotID")?!0:"simple"===this.props.overlayType?!1:!1},_setupHoverEvents:function(){var hotspot=ReactDOM.findDOMNode(this);hotspot.addEventListener("mouseenter",this.handleMouseEnter),hotspot.addEventListener("mouseleave",this.handleMouseLeave)},_removeHoverEvents:function(){var hotspot=ReactDOM.findDOMNode(this);hotspot.removeEventListener("mouseenter",this.handleMouseEnter),hotspot.removeEventListener("mouseleave",this.handleMouseLeave)},handleClick:function(){return"simple"===this.props.overlayType&&this.props.hotspot.targetTypeID!==HotspotConstants.TARGET_TYPES.externalUrl&&this.props.hotspot.targetTypeID!==HotspotConstants.TARGET_TYPES.positionOnScreen&&this.props.hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover?void ScreenViewerActions.updateSimpleOverlay({hotspot:this.props.hotspot}):void(this.props.hotspot.eventTypeID!==HotspotConstants.EVENT_TYPES.hover&&ScreenViewerActions.handleHotspotClick({hotspot:this.props.hotspot,tracking:{hotspotClicked:!0}}))},handleMouseEnter:function(event){this.props.isOverlayOpen===!0&&"simple"===this.props.overlayType||this._shouldIgnoreHoverEvent(event)||(this.props.hotspot.metaData.stayOnScreen?ScreenViewerActions.handleHotspotClick({hotspot:this.props.hotspot,fromHover:!0,isInFixedElement:this.props.isInFixedElement,tracking:{hotspotClicked:!1}}):ScreenViewerActions.handleHotspotMouseEnter({hotspot:this.props.hotspot,isInFixedElement:this.props.isInFixedElement}))},handleMouseLeave:function(event){this._shouldIgnoreHoverEvent(event)||ScreenViewerActions.handleHotspotMouseLeave({hotspot:this.props.hotspot})},componentDidMount:function(){var hotspot=ReactDOM.findDOMNode(this);this.props.hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover&&this._setupHoverEvents(),"simple"===this.props.overlayType&&hotspot.addEventListener("mouseleave",this.handleMouseLeave)},componentWillUnmount:function(){this._removeHoverEvents()},componentDidUpdate:function(prevProps,prevState){this.props.hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover&&prevProps.hotspot.eventTypeID!==HotspotConstants.EVENT_TYPES.hover&&(this._removeHoverEvents(),this._setupHoverEvents()),this.props.hotspot.eventTypeID!==HotspotConstants.EVENT_TYPES.hover&&prevProps.hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover&&this._removeHoverEvents()},render:function(){var hotspot=this.props.hotspot,isFixed=this.props.isInFixedElement&&this.props.fixedOffset,styles={top:this.formatWithDisplayScale(hotspot.y),left:this.formatWithDisplayScale(hotspot.x+this.props.fixedOffset),width:this.formatWithDisplayScale(hotspot.width),height:this.formatWithDisplayScale(hotspot.height),position:isFixed?"fixed":!1};if(hotspot.forceCloseOnMouseLeave&&this.props.overlayOffsets){var fixedElementOffsetsStyles=HotspotHelper.getFixedElementOffsets(hotspot,this.props);_.merge(styles,fixedElementOffsetsStyles)}_.merge(styles,this.props.style);var classes=classNames("hotspot",{template:hotspot.includeHotspotInTemplate,hover:hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover,parent:hotspot.isParent===!0,"is-force-close":hotspot.forceCloseOnMouseLeave===!0});return React.createElement("a",{className:classes,style:styles,onClick:this.handleClick,screenid:this.props.hotspot.screenID,hotspotid:this.props.hotspot.id},hotspot.id)}});module.exports=Hotspot}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Hotspot.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../constants/hotspot.js":429,"../helpers/hotspot-helper.js":430,"../mixins/mobile-mixin.js":431,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4,lodash:352,"react-addons-shallow-compare":370}],415:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),_=require("lodash"),classNames=require("classnames"),MobileMixin=require("../mixins/mobile-mixin.js"),Hotspot=require("./Hotspot.jsx"),Hotspots=createReactClass({mixins:[MobileMixin],areHotspotsFlashed:!1,getInitialState:function(){return{fixedOffset:0}},_shouldHotspotDisplay:function(hotspot){var shouldDisplay=!0;if(_.isUndefined(this.props.screen))return shouldDisplay;var screen=this.props.screen;return this.props.isInFixedElement!==!0&&hotspot.y<screen.fixedHeaderHeight&&(shouldDisplay=!1),this.props.isMobile&&this.props.isOverlayOpen&&!this.props.isOverlayScreen&&this.props.overlayMeta&&!this.props.overlayMeta.closeOnOutsideClick&&(shouldDisplay=!1),shouldDisplay},_getHotspotsToFlash:function(){return this.props.isOverlayOpen?"#screen_viewer_overlay .hotspot":".hotspot"},_showHotspots:function(){var element=this._getHotspotsToFlash();$(element).stop(!0).fadeTo(100,1),this.areHotspotsFlashed=!0},_hideHotspots:function(){var element=this._getHotspotsToFlash();$(element).stop(!0).fadeTo(200,0),this.areHotspotsFlashed=!1},flashHotspots:function(event){if(!this.props.disableHotspotFlash&&!$(event.target).hasClass("hotspot")){var _self=this;this._showHotspots();var hide=setTimeout(function(){_self._hideHotspots(),clearTimeout(hide)},300)}},handleKeyDown:function(event){this.props.disableHotspotFlash||event.shiftKey===!1||this._showHotspots()},handleKeyUp:function(event){this.areHotspotsFlashed===!0&&this._hideHotspots()},componentDidMount:function(){this.props.forceCloseOnMouseLeave&&this.props.isInFixedElement&&this.props.isOverlayOpen&&this.setState({fixedOffset:$(this.refs.hotspots).offset().left}),window.addEventListener("keydown",this.handleKeyDown),window.addEventListener("keyup",this.handleKeyUp)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("keyup",this.handleKeyUp)},render:function(){var _self=this,hotspots=this.props.hotspots,_hotspots=_.map(hotspots,function(hotspot){var shouldHotspotDisplay=_self._shouldHotspotDisplay(hotspot);return shouldHotspotDisplay?React.createElement(Hotspot,{hotspot:hotspot,key:hotspot.id,displayScale:_self.props.displayScale,style:_self.props.style,overlayType:_self.props.overlayType,isInFixedElement:_self.props.isInFixedElement,fixedOffset:_self.state.fixedOffset,overlayOffsets:_self.props.overlayOffsets,isOverlayOpen:_self.props.isOverlayOpen}):null}),classes=classNames("hotspots",{"is-force-close":this.props.forceCloseOnMouseLeave}),hotspotsContainerStyles={height:this.formatWithDisplayScale(this.props.height)};return React.createElement("div",{className:classes,onClick:this.flashHotspots,ref:"hotspots",style:hotspotsContainerStyles},_hotspots)}});module.exports=Hotspots}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Hotspots.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,"./Hotspot.jsx":414,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4,lodash:352}],416:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function isGif(url){return/\.gif\?/i.test(url)}function browserSupportsGifPreloading(){var agent="object"===("undefined"==typeof navigator?"undefined":_typeof(navigator))&&navigator.userAgent;return!/msie (9|10)/i.test(agent)}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},ReactAddonsShallowCompare=require("react-addons-shallow-compare"),createReactClass=require("create-react-class"),MobileMixin=require("../mixins/mobile-mixin.js"),AutoImagePreloader=require("../../../utilities/auto-image-preloader.js"),Image=createReactClass({mixins:[MobileMixin],shouldComponentUpdate:function(nextProps,nextState){return ReactAddonsShallowCompare(this,nextProps,nextState)},resetSrc:function(){var _self=this;setTimeout(function(){_self.refs.image&&(_self.refs.image.src=_self._src)},0)},updateSrc:function(src){if(isGif(src)){var usePreloader=browserSupportsGifPreloading();src=usePreloader?AutoImagePreloader.next(src):[src,+new Date].join("&")}this._src=src},UNSAFE_componentWillMount:function(){this.updateSrc(this.props.src)},componentDidMount:function(){if(this.refs.image){var element=ReactDOM.findDOMNode(this.refs.image);element.setAttribute("decoding","sync")}this.resetSrc()},UNSAFE_componentWillUpdate:function(nextProps){this.updateSrc(nextProps.src)},render:function(){var height=this.formatWithDisplayScale(this.props.height),width=this.formatWithDisplayScale(this.props.width);return React.createElement("img",{ref:"image",alt:this.props.alt,src:this._src,height:height,width:width,style:this.props.style})}});module.exports=Image}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Image.jsx","/../common/react-components/screen-viewer/components")},{"../../../utilities/auto-image-preloader.js":434,"../mixins/mobile-mixin.js":431,buffer:5,"create-react-class":338,hXUCVB:4,"react-addons-shallow-compare":370}],417:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classNames=require("classnames"),createReactClass=require("create-react-class"),MobileMixin=require("../mixins/mobile-mixin.js"),Image=require("./Image.jsx"),MobileLoadingScreen=createReactClass({mixins:[MobileMixin],getInitialState:function(){return{isLoaded:!1,isComplete:!1}},componentDidMount:function(){var _self=this,initalWait=2e3,animationDuration=450;this.fadeTimer=setTimeout(function(){_self.setState({isLoaded:!0})},initalWait),this.removeTimer=setTimeout(function(){_self.setState({isComplete:!0}),InvScreenViewer.store.hasShownLoadingScreen=!0},initalWait+animationDuration)},componentWillUnmount:function(){clearTimeout(this.fadeTimer),clearTimeout(this.removeTimer)},render:function(){if(this.state.isComplete===!0||InvScreenViewer.store.hasShownLoadingScreen===!0)return null;var screen=this.props.screen,classes=classNames("mobile-loading-screen",{loaded:this.state.isLoaded});return React.createElement("div",{className:classes},React.createElement(Image,{src:screen.imageUrl,alt:screen.name,height:this.formatWithDisplayScale(screen.height),width:this.formatWithDisplayScale(screen.width),displayScale:this.props.displayScale}))}});module.exports=MobileLoadingScreen}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/MobileLoadingScreen.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,"./Image.jsx":416,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],418:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classNames=require("classnames"),createReactClass=require("create-react-class"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),ScreenViewerStore=require("../stores/screen-viewer-store.js"),FixedElement=require("./FixedElement.jsx"),Hotspots=require("./Hotspots.jsx"),Image=require("./Image.jsx"),MobileTransparencyHelper=require("./MobileTransparencyHelper.jsx"),TourPoints=require("./TourPoints.jsx"),scroller=!1,MobileScreen=createReactClass({mixins:[MobileMixin],_getFixedElementRailPadding:function(fixedElementSize){return fixedElementSize?this.formatWithDisplayScale(fixedElementSize)+5:0},_setupScrollbars:function(){var screen=this.props.screen,template=this.props.project.mobileTemplate;if(!(this.formatWithDisplayScale(screen.height)-3<=parseInt(template.viewportHeight))){var $scrollWrap=$(this.refs.scrollWrap),defaultMobileScrollPosition=($(this.refs.mobileScreen),ScreenViewerStore.getDefaultMobileScrollPosition());$scrollWrap.niceScroll({cursordragontouch:!0,touchbehavior:!0,enablekeyboard:!1,hide:"leave",cursoropacitymax:".5",cursorborder:0,railpadding:{top:this._getFixedElementRailPadding(screen.fixedHeaderHeight),bottom:this._getFixedElementRailPadding(screen.fixedFooterHeight),right:3}}),scroller=$scrollWrap.getNiceScroll(0),scroller.scrollTop(defaultMobileScrollPosition),scroller.scrollend(function(scroll){ScreenViewerActions.setCurrentScroll(scroll.end.x,scroll.end.y),ScreenViewerStore.setScrollEnd({x:scroll.end.x,y:scroll.end.y})});var $rail=$(scroller.rail);$rail.addClass("mobile-scroll"),$rail.css("cursor",""),$scrollWrap.css("cursor",""),ScreenViewerActions.setMobileScreenViewport(scroller)}},componentDidMount:function(){var scroll=ScreenViewerStore.transitionScroll||{x:0,y:0};ScreenViewerActions.setCurrentScroll(scroll.x,scroll.y),this._setupScrollbars()},componentDidUpdate:function(){scroller||this._setupScrollbars()},componentWillUnmount:function(){scroller&&(scroller.remove(),scroller=null,ScreenViewerActions.setMobileScreenViewport(scroller))},render:function(){var project=this.props.project,screen=this.props.screen,hotspots=this.props.hotspots,displayScale=this.props.displayScale,isOverlayOpen=this.props.isOverlayOpen,overlayType=(this.props.isOverlayScreen,this.props.overlayType),overlayMeta=this.props.overlayMeta,disableHotspotFlash=this.props.disableHotspotFlash,tourPoints=this.props.tourPoints,heightWithFooter=this.formatWithDisplayScale(screen.height-screen.fixedFooterHeight),wrapperStyles={height:heightWithFooter,overflowY:screen.fixedFooterHeight>0?"hidden":null},screenClasses=classNames({"mobile-hover-chrome":this.isChrome46()}),screenStyles={background:"#"+screen.backgroundColor},scrollWrapStyles={width:project.mobileTemplate.viewportWidth+" px",overflow:"hidden"};return React.createElement("div",{id:"mobile_screen",style:screenStyles,className:screenClasses,ref:"mobileScreen"},screen.fixedHeaderHeight>0?React.createElement(FixedElement,{type:"header",screen:screen,hotspots:hotspots,displayScale:displayScale,disableHotspotFlash:disableHotspotFlash,isOverlayOpen:isOverlayOpen,isOverlayScreen:!1,overlayMeta:overlayMeta,tourPoints:tourPoints,isMobile:!0}):null,screen.fixedFooterHeight>0?React.createElement(FixedElement,{type:"footer",screen:screen,hotspots:hotspots,displayScale:displayScale,disableHotspotFlash:disableHotspotFlash,isOverlayOpen:isOverlayOpen,isOverlayScreen:!1,overlayMeta:overlayMeta,tourPoints:tourPoints,isMobile:!0}):null,React.createElement("div",{className:"scroll-wrap",ref:"scrollWrap",style:scrollWrapStyles},React.createElement(MobileTransparencyHelper,{type:"header",height:screen.fixedHeaderHeight,backgroundColor:screen.extended.fixedHeaderBackground,displayScale:displayScale}),React.createElement(MobileTransparencyHelper,{type:"footer",height:screen.fixedFooterHeight,backgroundColor:screen.extended.fixedFooterBackground,parentScreenHeight:screen.height,displayScale:displayScale}),React.createElement(Hotspots,{isMobile:!0,hotspots:hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,isOverlayScreen:!1,overlayMeta:overlayMeta,overlayType:overlayType,disableHotspotFlash:disableHotspotFlash,screen:screen,height:screen.height,width:screen.width}),React.createElement(TourPoints,{tourPoints:tourPoints,screen:screen,displayScale:displayScale}),React.createElement("div",{style:wrapperStyles},React.createElement(Image,{src:screen.imageUrl,alt:screen.name,height:screen.height,width:screen.width,displayScale:displayScale}))))},isChrome46:function(){var version=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),platform=navigator.platform;return"MacIntel"===platform&&!!version&&46===parseInt(version[2],10)}});module.exports=MobileScreen}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/MobileScreen.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../mixins/mobile-mixin.js":431,"../stores/screen-viewer-store.js":432,"./FixedElement.jsx":413,"./Hotspots.jsx":415,"./Image.jsx":416,"./MobileTransparencyHelper.jsx":421,"./TourPoints.jsx":427,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],419:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classNames=require("classnames"),createReactClass=require("create-react-class"),MobileSkin=createReactClass({_getSkinMargin:function(){if(!this.props.config.isMobile||!this.props.config.isEmbed){var topOffset=this.props.template.deviceHeight,windowHeight=window.innerHeight,totalOffset=(windowHeight-topOffset)/2,bottomOffset=this.props.config.isShare?0:42,margin=totalOffset>=0?totalOffset-bottomOffset:100;return margin}},_getSkinSize:function(){var deviceWidth=this.props.template.deviceWidth,deviceHeight=this.props.template.deviceHeight;return{width:deviceWidth,height:deviceHeight}},render:function(){var template=this.props.template,classes=classNames("mobile-skin",template.className,template.mobileSkinColor,template.orientation,{"opaque-status-bar":this.props.isStatusBarOpaque&&this.props.isStatusBarVisible}),size=this._getSkinSize(),verticalMargin=this._getSkinMargin(),styles={width:size.width+"px",height:size.height+"px",marginTop:verticalMargin+"px",marginBottom:verticalMargin+"px"};return React.createElement("div",{className:classes,style:styles},this.props.children)}});module.exports=MobileSkin}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/MobileSkin.jsx","/../common/react-components/screen-viewer/components")},{buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],420:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var classNames=require("classnames"),createReactClass=require("create-react-class"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),MobileStatusBar=createReactClass({handleClick:function(){ScreenViewerActions.angularToggleConfigMenu()},render:function(){var classes=classNames("mobile-status-bar",this.props.fontColor),styles={backgroundColor:this.props.isTransparent?null:this.props.backgroundColor};return React.createElement("div",{className:classes,style:styles,onClick:this.handleClick})}});module.exports=MobileStatusBar}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/MobileStatusBar.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],421:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),classNames=require("classnames"),MobileMixin=require("../mixins/mobile-mixin.js"),MobileTransparencyHelper=createReactClass({mixins:[MobileMixin],render:function(){var classes=classNames("mobile-transparency-helper",this.props.type),styles={height:this.formatWithDisplayScale(this.props.height),backgroundColor:this.props.backgroundColor,top:this.props.parentScreenHeight?this.formatWithDisplayScale(this.props.parentScreenHeight-this.props.height):null};return this.props.height>0?React.createElement("div",{className:classes,style:styles}):null}});module.exports=MobileTransparencyHelper}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/MobileTransparencyHelper.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],422:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var $scrollWrap,$niceScroll,$window,createReactClass=require("create-react-class"),classNames=require("classnames"),HotspotConstants=require("../constants/hotspot.js"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),ScreenViewerStore=require("../stores/screen-viewer-store.js"),Hotspots=require("./Hotspots.jsx"),Screen=require("./Screen.jsx"),initialScrollOffset=0,Overlay=createReactClass({mixins:[MobileMixin],UNSAFE_componentWillMount:function(){this.props.project.isMobile&&this._setupMobileScrollWatch()},componentDidMount:function(){this._setupStickyUpOffset()},componentDidUpdate:function(prevProps,prevState){this._destroyStickyUpOffset(),this.props.isBrowserTooSmall===!0&&this._setupStickyUpOffset(),prevProps.config.isPresenter!==this.props.config.isPresenter&&this.props.isOverlayOpen&&this.props.forceCloseOnMouseLeave&&!this.props.isInFixedElement&&ScreenViewerActions.handleCloseOverlay()},componentWillUnmount:function(){$scrollWrap&&$scrollWrap.off("scroll.Overlay"),this._destroyStickyUpOffset()},render:function(){var backdrop=null,disableHotspotFlash=this.props.disableHotspotFlash,displayScale=this.props.displayScale,hotspots=this.props.hotspots,isOverlayOpen=this.props.isOverlayOpen,meta=_.isUndefined(this.props.metaData)?{}:this.props.metaData.overlay,parentScreen=this.props.parentScreen,project=this.props.project,screen=_.cloneDeep(this.props.screen),template=this.props.template,overlayType=this.props.type,isInFixedElement=this.props.isInFixedElement,isHoverOverlay=this.props.isHoverOverlay,forceCloseOnMouseLeave=this.props.forceCloseOnMouseLeave&&!isInFixedElement,backdropClasses=classNames("backdrop"),screenHeight=this.formatWithDisplayScale(screen.height),screenWidth=this.formatWithDisplayScale(screen.width),parentScreenHeight=this.formatWithDisplayScale(parentScreen.height),parentScreenWidth=this.formatWithDisplayScale(parentScreen.width),screenStyles={height:screenHeight,width:screenWidth,overflow:isInFixedElement?"visible":"hidden"},backdropStyles={background:"#"+screen.backgroundColor,opacity:100};screen.config={},screen.fixedHeaderHeight=0,screen.fixedFooterHeight=0;var overlayClasses=classNames(overlayType,HotspotConstants.OVERLAY_TRANSITION_TYPES[meta.transitionID],{"no-reverse":meta.reverseTransitionOnClose===!1,"is-in-fixed-element":isInFixedElement===!0,"should-scroll":project.isMobile&&!meta.closeOnOutsideClick}),overlayStyles={};switch(overlayType){case"simple":overlayStyles={textAlign:"left",pointerEvents:"none",zIndex:isInFixedElement?null:3},screenStyles.pointerEvents="auto",isInFixedElement&&_.merge(overlayStyles,{position:"fixed",marginLeft:"-"+window.scrollX+"px",width:parentScreen.width});break;case"complex":var screenClasses=classNames("overlay-screen",HotspotConstants.OVERLAY_POSITION_TYPES[meta.positionID],HotspotConstants.OVERLAY_TRANSITION_TYPES[meta.transitionID],{fixed:meta.isFixedPosition&&!project.isMobile,"is-mobile":project.isMobile});backdropClasses=classNames("backdrop",{"can-close":meta.closeOnOutsideClick});var offsetY=meta.positionOffset.y,offsetX=meta.positionOffset.x;if(project.isMobile&&1===meta.positionID){var scrollEnd=ScreenViewerStore.getScrollEnd();offsetY=meta.positionOffset.y-scrollEnd.y}else 3===parseInt(this.props.config.zoomScrollBehavior)&&(offsetY=this.formatWithDisplayScale(meta.positionOffset.y),offsetX=this.formatWithDisplayScale(meta.positionOffset.x));backdropStyles={background:"#"+screen.backgroundColor,opacity:meta.bgOpacity/100};var overlayScreenWrapStyles={height:parentScreenHeight,width:parentScreenWidth},overlayScreenWrapClasses=classNames("overlay-screen-wrap",{"has-hover-hotspot":forceCloseOnMouseLeave});if(template&&(overlayScreenWrapStyles={height:template.viewportHeight,width:template.viewportWidth}),isInFixedElement&&isHoverOverlay&&(overlayStyles.pointerEvents="none",screenStyles.pointerEvents="none"),backdrop=React.createElement("div",{className:backdropClasses,style:backdropStyles,onClick:this.handleBackdropClick}),"centered"===HotspotConstants.OVERLAY_POSITION_TYPES[meta.positionID])screenStyles.margin="-"+screenHeight/2+"px 0 0 -"+screenWidth/2+"px";else{switch(meta.positionID){case 1:screenStyles.margin=offsetY+"px 0 0 "+offsetX+"px";break;case 3:case 4:case 5:screenStyles.marginTop=offsetY+"px";break;case 6:case 7:case 8:screenStyles.marginBottom=offsetY+"px"}switch(meta.positionID){case 2:case 3:case 6:var centerOffset=screenWidth/2*-1;screenStyles.marginLeft=centerOffset+offsetX+"px";break;case 4:case 7:screenStyles.marginRight=offsetX+"px";break;case 5:case 8:screenStyles.marginLeft=offsetX+"px"}}if(!meta.isFixedPosition&&project.isMobile&&$niceScroll){var topOffset,scrollOffset=$niceScroll.scrollTop();switch(initialScrollOffset=scrollOffset,meta.positionID){case 2:topOffset=parentScreenHeight/2-screenHeight/2-scrollOffset,
screenStyles.top=0,screenStyles.marginTop=topOffset+"px";break;case 6:case 7:case 8:topOffset=parentScreenHeight-screenHeight-scrollOffset-offsetY,screenStyles.marginTop=topOffset+"px",screenStyles.bottom="auto"}}}return React.createElement("div",{id:"screen_viewer_overlay",className:overlayClasses,style:overlayStyles},React.createElement("div",{className:overlayScreenWrapClasses,style:overlayScreenWrapStyles},React.createElement("div",{className:screenClasses,style:screenStyles,ref:"overlayScreen"},React.createElement(Screen,{screen:screen,hotspots:hotspots,key:screen.id,displayScale:displayScale,isOverlayScreen:!0,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,forceCloseOnMouseLeave:forceCloseOnMouseLeave,overlayType:overlayType,overlayOffsets:meta.positionOffset})),forceCloseOnMouseLeave?React.createElement(Hotspots,{hotspots:hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,isOverlayScreen:!0,disableHotspotFlash:disableHotspotFlash,height:parentScreenHeight,width:parentScreenWidth,forceCloseOnMouseLeave:forceCloseOnMouseLeave,isInFixedElement:this.props.isInFixedElement}):null,backdrop))},handleBackdropClick:function(){this.props.metaData.overlay.closeOnOutsideClick===!0&&ScreenViewerActions.handleCloseOverlay()},_setupMobileScrollWatch:function(){if(!this.props.metaData.overlay.isFixedPosition){var _self=this;$scrollWrap=$(".scroll-wrap"),$niceScroll=$scrollWrap.getNiceScroll()[0],$scrollWrap.on("scroll.Overlay",function(){var offset=initialScrollOffset-$niceScroll.scrollTop(),transform="translateY("+offset+"px)";$(_self.refs.overlayScreen).css({WebkitTransform:transform,MozTransform:transform,msTransform:transform,transform:transform})})}},_setupStickyUpOffset:function(){_.isEmpty(this.props.metaData)||_.isUndefined(this.props.metaData)||this.props.isBrowserTooSmall===!0&&7===this.props.metaData.overlay.transitionID&&1===this.props.metaData.overlay.positionID&&($window=$(window),$window.on("scroll.Overlay",this._moveStickyUp),$window.on("resize.Overlay",this._moveStickyUp),this._moveStickyUp())},_destroyStickyUpOffset:function(){$window&&($window.off("scroll.Overlay",this._moveStickyUp),$window.off("resize.Overlay",this._moveStickyUp))},_moveStickyUp:function(){var offset=-1*$window.scrollLeft(),transform="translateX("+offset+"px)";$(this.refs.overlayScreen).css({WebkitTransform:transform,MozTransform:transform,msTransform:transform,transform:transform})}});module.exports=Overlay}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Overlay.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../constants/hotspot.js":429,"../mixins/mobile-mixin.js":431,"../stores/screen-viewer-store.js":432,"./Hotspots.jsx":415,"./Screen.jsx":423,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],423:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),MobileMixin=(require("lodash"),require("../mixins/mobile-mixin.js")),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),FixedElement=require("./FixedElement.jsx"),Hotspots=require("./Hotspots.jsx"),Image=require("./Image.jsx"),TourPoints=require("./TourPoints.jsx"),Screen=createReactClass({mixins:[MobileMixin],handleMouseLeave:function(){ScreenViewerActions.handleCloseOverlay()},componentDidMount:function(){ScreenViewerActions.maintainScrollPosition(),this.props.forceCloseOnMouseLeave&&ReactDOM.findDOMNode(this).addEventListener("mouseleave",this.handleMouseLeave)},componentWillUnmount:function(){ReactDOM.findDOMNode(this).removeEventListener("mouseleave",this.handleMouseLeave)},render:function(){var fixedElementOffsetStyles,screen=this.props.screen,hotspots=this.props.hotspots,displayScale=this.props.displayScale,isOverlayOpen=this.props.isOverlayOpen,disableHotspotFlash=this.props.disableHotspotFlash,tourPoints=this.props.tourPoints,screenID="screen_"+screen.id,fullWindowHeight=window.innerHeight,bottomToolbarHeight=$("#bottom_bar:not(.hidden)").size()?$("#bottom_bar").height():0,styles={height:this.formatWithDisplayScale(screen.height),width:this.formatWithDisplayScale(screen.width),marginTop:0,marginBottom:0};if(screen.fixedHeaderHeight){var fixedElementHeight=this.formatWithDisplayScale(screen.fixedHeaderHeight);styles.height-=fixedElementHeight,styles.marginTop=fixedElementHeight,styles.overflow="hidden",fixedElementOffsetStyles={marginTop:-fixedElementHeight}}if(screen.fixedFooterHeight){var fixedElementHeight=this.formatWithDisplayScale(screen.fixedFooterHeight);styles.height-=fixedElementHeight,styles.marginBottom=fixedElementHeight,styles.overflow="hidden"}return bottomToolbarHeight&&screen.height>=fullWindowHeight-bottomToolbarHeight&&(styles.marginBottom+=bottomToolbarHeight),React.createElement("div",{className:"screen",id:screenID,style:styles},screen.fixedHeaderHeight>0?React.createElement(FixedElement,{type:"header",screen:screen,hotspots:hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,tourPoints:tourPoints}):null,screen.fixedFooterHeight>0?React.createElement(FixedElement,{type:"footer",screen:screen,hotspots:hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,tourPoints:tourPoints}):null,React.createElement(Hotspots,{isMobile:!1,hotspots:hotspots,displayScale:displayScale,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,height:screen.height,width:screen.width,style:fixedElementOffsetStyles,overlayType:this.props.overlayType,overlayOffsets:this.props.overlayOffsets,screen:screen}),React.createElement(TourPoints,{tourPoints:tourPoints,screen:screen,displayScale:displayScale,hasFixedOffset:!0}),React.createElement(Image,{src:screen.imageUrl,alt:screen.name,height:screen.height,width:screen.width,displayScale:displayScale,style:fixedElementOffsetStyles}))}});module.exports=Screen}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Screen.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../mixins/mobile-mixin.js":431,"./FixedElement.jsx":413,"./Hotspots.jsx":415,"./Image.jsx":416,"./TourPoints.jsx":427,buffer:5,"create-react-class":338,hXUCVB:4,lodash:352}],424:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),classNames=require("classnames"),Reflux=require("reflux"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),ScreenViewerStore=require("../stores/screen-viewer-store.js"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerNav=require("./ScreenViewerNav.jsx"),MobileSkin=require("./MobileSkin.jsx"),MobileStatusBar=require("./MobileStatusBar.jsx"),Viewport=require("./Viewport.jsx"),ScreenViewer=createReactClass({mixins:[Reflux.connect(ScreenViewerStore),MobileMixin],getInitialState:function(){return{currentOverlay:{},isBrowserTooSmall:!1}},componentDidMount:function(){window.addEventListener("resize",this.handleResize),window.addEventListener("scroll",this.setViewportPosition),this.handleResize()},componentDidUpdate:function(prevProps,prevState){if(this.state.alignment){var newAlign=this.state.alignment,oldOffset=prevState.alignment?prevState.alignment.offset:0,newOffset=newAlign.offset||0;(oldOffset!==newOffset||this.state.alignment.usingScroll!==newAlign.usingScroll)&&this.handleSyncScreenAlignment(newAlign),prevState.screen.id!==this.state.screen.id&&this.setViewportPosition()}},componentWillUnmount:function(){window.removeEventListener("resize",this.handleResize),window.removeEventListener("scroll",this.setViewportPosition)},render:function(){var screen=this.state.screen,project=this.state.project,config=this.state.config,screenCount=this.state.screenCount,isOverlayOpen=this.state.isOverlayOpen,disableHotspotFlash=this.state.disableHotspotFlash,isBrowserTooSmall=this.state.isBrowserTooSmall,tourPoints=this.state.tourPoints,isNavigationDisabled=!!this.state.isNavigationDisabled,displayScale=screen.displayScale,headerHeight=this.applyDisplayScale(screen.fixedHeaderHeight,displayScale),footerHeight=this.applyDisplayScale(screen.fixedFooterHeight,displayScale),width=this.applyDisplayScale(screen.width,displayScale),height=this.applyDisplayScale(screen.height,displayScale),shouldShowNav=screenCount>=1;this.state.currentOverlay;(isNavigationDisabled||config.isShare===!0&&!config.isLoadAllScreens)&&(shouldShowNav=!1);var hasShownLoadingScreen=ScreenViewerStore.hasShownLoadingScreen,styles={textAlign:config.alignment},autostretchContainerStyles={height:headerHeight,width:$(window).width()},autostretchContainerFooterStyles={height:footerHeight,width:$(window).width()},fillWidth=width/displayScale,autostretchHeaderStyles={borderImageSource:'url("'+screen.imageUrl+'")',borderImageSlice:"0 0 0 "+(fillWidth-1)+" fill",height:height},autostretchFooterStyles={borderImageSource:'url("'+screen.imageUrl+'")',borderImageSlice:"0 0 0 "+(fillWidth-1)+" fill",height:height},classes=classNames({mobile:project.isMobile,"browser-is-too-small":isBrowserTooSmall});return React.createElement("div",{id:"screen_viewer",style:styles,className:classes},!project.isMobile&&screen.fixedHeaderHeight>0&&screen.backgroundAutostretch?React.createElement("div",{className:"autostretch-container",style:autostretchContainerStyles},React.createElement("div",{className:"autostretch-header",style:autostretchHeaderStyles})):null,!project.isMobile&&screen.fixedFooterHeight>0&&screen.backgroundAutostretch?React.createElement("div",{className:"autostretch-container-footer",style:autostretchContainerFooterStyles},React.createElement("div",{className:"autostretch-footer",style:autostretchFooterStyles})):null,project.isMobile?React.createElement(MobileSkin,{template:project.mobileTemplate,config:config,isStatusBarOpaque:config.mobileStatusbarIsOpaque,isStatusBarVisible:config.mobileStatusbarIsVisible},config.mobileStatusbarIsVisible?React.createElement(MobileStatusBar,{backgroundColor:config.mobileStatusbarBackgroundColor,fontColor:config.mobileStatusbarFontColor,isTransparent:config.mobileStatusbarBackgroundIsTransparent}):null,React.createElement("div",{className:"skin-overlay"}),React.createElement(Viewport,{config:config,project:project,screen:screen,hotspots:screen.hotspots,currentOverlay:this.state.currentOverlay,template:project.mobileTemplate,displayScale:screen.displayScale,isOverlayOpen:isOverlayOpen,isStatusBarOpaque:config.mobileStatusbarIsOpaque,disableHotspotFlash:disableHotspotFlash,tourPoints:tourPoints,hasShownLoadingScreen:hasShownLoadingScreen}),React.createElement(ScreenViewerNav,{project:project,shouldShowNav:shouldShowNav})):null,project.isMobile?null:React.createElement(Viewport,{ref:"desktopViewport",project:project,screen:screen,config:config,hotspots:screen.hotspots,currentOverlay:this.state.currentOverlay,displayScale:screen.displayScale,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,isBrowserTooSmall:isBrowserTooSmall,isStatusBarOpaque:!1,tourPoints:tourPoints}),project.isMobile?null:React.createElement(ScreenViewerNav,{project:project,shouldShowNav:shouldShowNav}))},setViewportPosition:function(){if(!this.state.project.isMobile){var $viewport=$(ReactDOM.findDOMNode(this.refs.desktopViewport)),viewportOffset=$viewport.offset();ScreenViewerActions.setScreenViewerPosition({x:viewportOffset.left-window.scrollX,y:window.scrollY,width:this.state.isBrowserTooSmall?window.innerWidth:$viewport.innerWidth()})}},handleResize:function(){var isBrowserTooSmall=this._isBrowserTooSmall();isBrowserTooSmall!==this.state.isBrowserTooSmall&&this.setState({isBrowserTooSmall:isBrowserTooSmall}),this.setViewportPosition(),this.state.alignment&&this.handleSyncScreenAlignment(this.state.alignment)},handleSyncScreenAlignment:function(alignment){var $el=ReactDOM.findDOMNode(this);alignment.usingScroll?($el.style.marginLeft=null,$("html, body").animate({scrollLeft:alignment.offset},300)):$el.style.marginLeft=Math.min(-Math.abs(alignment.offset),0)+"px"},_isBrowserTooSmall:function(){return this.state.project.isMobile?!1:window.innerWidth<this.state.screen.width}});module.exports=ScreenViewer}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/ScreenViewer.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../mixins/mobile-mixin.js":431,"../stores/screen-viewer-store.js":432,"./MobileSkin.jsx":419,"./MobileStatusBar.jsx":420,"./ScreenViewerNav.jsx":425,"./Viewport.jsx":428,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4,reflux:386}],425:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),classNames=require("classnames"),HotspotConstants=require("../constants/hotspot.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),ScreenViewerNav=(require("../stores/screen-viewer-store.js"),createReactClass({render:function(){if(this.props.shouldShowNav===!1)return null;var classes=classNames(this.props.project.isMobile?"preview-nav":"slideshow-nav");return React.createElement("div",{id:"screens_viewer_nav"},React.createElement("div",{className:classes},React.createElement("a",{className:"prev nav-left",onClick:this.handlePreviousScreenClick},React.createElement("span",{className:"hide-text"},"Previous")),React.createElement("a",{className:"next nav-right",onClick:this.handleNextScreenClick},React.createElement("span",{className:"hide-text"},"Next"))))},handlePreviousScreenClick:function(){var hotspot={targetTypeID:HotspotConstants.TARGET_TYPES.previousScreenInSort,isScrollTo:!1};ScreenViewerActions.handleHotspotClick({hotspot:hotspot,tracking:{hotspotClicked:!1,pagingArrowClicked:"previous"}}),ScreenViewerActions.angularNavigateFromScreensViewerNav()},handleNextScreenClick:function(){var hotspot={targetTypeID:HotspotConstants.TARGET_TYPES.nextScreenInSort,isScrollTo:!1};ScreenViewerActions.handleHotspotClick({hotspot:hotspot,tracking:{hotspotClicked:!1,pagingArrowClicked:"next"}}),ScreenViewerActions.angularNavigateFromScreensViewerNav()}}));module.exports=ScreenViewerNav}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/ScreenViewerNav.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../constants/hotspot.js":429,"../stores/screen-viewer-store.js":432,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],426:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),classNames=require("classnames"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),TourPoint=createReactClass({mixins:[MobileMixin],handleClick:function(){ScreenViewerActions.handleTourPointClick(this.props.tourPoint)},handleMouseEnter:function(){ScreenViewerActions.handleTourPointMouseEnter(this.props.tourPoint)},handleMouseLeave:function(){ScreenViewerActions.handleTourPointMouseLeave()},render:function(){var tourPoint=this.props.tourPoint,screen=this.props.screen,tourPointTop=this.formatWithDisplayScale(tourPoint.y),tourPointAnimationHeight=120,isWithinHeaderBounds=screen.fixedHeaderHeight>0&&tourPointTop+tourPointAnimationHeight<screen.fixedHeaderHeight,isWithinFooterBounds=screen.fixedFooterHeight>0&&tourPointTop+tourPointAnimationHeight>this.formatWithDisplayScale(screen.height)-screen.fixedFooterHeight;if(tourPoint.screenID!==screen.id)return null;if(this.props.isInFixedHeader&&!isWithinHeaderBounds)return null;if(this.props.isInFixedFooter&&!isWithinFooterBounds)return null;if(!this.props.isInFixedHeader&&!this.props.isInFixedFooter&&(isWithinHeaderBounds||isWithinFooterBounds))return null;var classes=classNames("marker","preview-tour-point",{complete:tourPoint.isComplete,development:tourPoint.isForDevelopment,active:tourPoint.id===this.props.selectedTourPoint.id,"active-private":tourPoint.isPrivate,read:!tourPoint.isUnread}),styles={left:this.formatWithDisplayScale(tourPoint.x),top:tourPointTop};return React.createElement("div",{className:classes,style:styles,id:"tour-point-"+tourPoint.id,"data-tour-point-id":tourPoint.id,unselectable:"on",onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},React.createElement("div",{className:"point"}))}});module.exports=TourPoint}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/TourPoint.jsx","/../common/react-components/screen-viewer/components")},{"../actions/screen-viewer-actions.js":411,"../mixins/mobile-mixin.js":431,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4}],427:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),Reflux=require("reflux"),_=require("lodash"),MobileMixin=require("../mixins/mobile-mixin.js"),TourPointsStore=require("../stores/tour-points-store.js"),TourPoint=require("./TourPoint.jsx"),TourPoints=createReactClass({mixins:[MobileMixin,Reflux.connect(TourPointsStore)],render:function(){if(_.isEmpty(this.props.tourPoints)||this.state.areTourPointsEnabled===!1)return null;var _self=this,screen=this.props.screen,tourPoints=_.map(this.props.tourPoints,function(tourPoint){return React.createElement(TourPoint,{tourPoint:tourPoint,displayScale:_self.props.displayScale,screen:screen,selectedTourPoint:_self.state.selectedTourPoint,isInFixedHeader:_self.props.isInFixedHeader||!1,isInFixedFooter:_self.props.isInFixedFooter||!1,key:tourPoint.id})}),headerHeight=this.formatWithDisplayScale(screen.fixedHeaderHeight),styles={height:this.formatWithDisplayScale(screen.height),width:this.formatWithDisplayScale(screen.width),marginTop:this.props.hasFixedOffset?"-"+headerHeight+"px":null};return React.createElement("div",{className:"tour-points",style:styles},tourPoints)}});module.exports=TourPoints}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/TourPoints.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,"../stores/tour-points-store.js":433,"./TourPoint.jsx":426,buffer:5,"create-react-class":338,hXUCVB:4,lodash:352,reflux:386}],428:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var createReactClass=require("create-react-class"),_=require("lodash"),classNames=require("classnames"),ReactCSSTransitionGroup=require("react-transition-group/CSSTransitionGroup"),MobileMixin=require("../mixins/mobile-mixin.js"),MobileLoadingScreen=require("./MobileLoadingScreen.jsx"),MobileScreen=require("./MobileScreen.jsx"),Overlay=require("./Overlay.jsx"),Screen=require("./Screen.jsx"),Viewport=createReactClass({mixins:[MobileMixin],render:function(){var screen=this.props.screen,project=this.props.project,currentOverlay=this.props.currentOverlay,displayScale=this.props.displayScale||1,template=this.props.template||{},isOverlayOpen=this.props.isOverlayOpen,disableHotspotFlash=this.props.disableHotspotFlash,tourPoints=this.props.tourPoints,shouldOverlayAnimate=!0;_.isEmpty(currentOverlay)||"simple"!==currentOverlay.type||(shouldOverlayAnimate=!1);var classes=classNames({"mobile-viewport":project.isMobile}),viewportStyles={height:this.formatWithDisplayScale(screen.height)+" px",width:this.formatWithDisplayScale(screen.width)+" px"},screenTemplate=React.createElement(Screen,{screen:screen,hotspots:screen.hotspots,displayScale:displayScale,key:screen.id,isOverlayOpen:isOverlayOpen,disableHotspotFlash:disableHotspotFlash,tourPoints:tourPoints});return project.isMobile&&(viewportStyles={width:template.viewportWidth+" px"},screenTemplate=React.createElement(MobileScreen,{project:project,screen:screen,hotspots:screen.hotspots,displayScale:displayScale,key:screen.id,isOverlayOpen:isOverlayOpen,isOverlayScreen:!1,overlayMeta:currentOverlay.metaData?currentOverlay.metaData.overlay:{},overlayType:currentOverlay.type,disableHotspotFlash:disableHotspotFlash,tourPoints:tourPoints})),React.createElement("div",{id:"viewport",className:classes,style:viewportStyles},this.renderOverlay(shouldOverlayAnimate),project.loadingScreen?React.createElement(MobileLoadingScreen,{screen:project.loadingScreen,displayScale:displayScale}):null,screenTemplate)},renderOverlay:function(isAnimated){var currentOverlay=this.props.currentOverlay,screen=this.props.screen,template=this.props.template||{},overlay=_.isEmpty(currentOverlay)?null:React.createElement(Overlay,{type:currentOverlay.type,parentScreen:screen,screen:currentOverlay.screen,config:this.props.config,hotspots:currentOverlay.hotspots,metaData:currentOverlay.metaData,displayScale:screen.displayScale,template:template,project:this.props.project,isOverlayOpen:this.props.isOverlayOpen,disableHotspotFlash:this.props.disableHotspotFlash,forceCloseOnMouseLeave:currentOverlay.forceCloseOnMouseLeave,isBrowserTooSmall:this.props.isBrowserTooSmall,isInFixedElement:currentOverlay.isInFixedElement,isHoverOverlay:currentOverlay.isHoverOverlay});return isAnimated?React.createElement(ReactCSSTransitionGroup,{transitionName:"overlay",component:"div",transitionEnter:!0,transitionLeave:!0,transitionEnterTimeout:300,transitionLeaveTimeout:300},overlay):overlay}});module.exports=Viewport}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/components/Viewport.jsx","/../common/react-components/screen-viewer/components")},{"../mixins/mobile-mixin.js":431,"./MobileLoadingScreen.jsx":417,"./MobileScreen.jsx":418,"./Overlay.jsx":422,"./Screen.jsx":423,buffer:5,classnames:7,"create-react-class":338,hXUCVB:4,lodash:352,"react-transition-group/CSSTransitionGroup":377}],429:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports={EVENT_TYPES:{click:1,doubleTap:2,pressHold:3,swipeRight:4,swipeLeft:5,swipeUp:6,swipeDown:7,hover:8},TARGET_TYPES:{screen:1,lastScreenVisited:2,previousScreenInSort:3,nextScreenInSort:4,externalUrl:5,positionOnScreen:6,overlay:7},TRANSITION_TYPES:{none:1,pushRight:2,pushLeft:3,slideUp:4,slideDown:5,flipRight:6,flipLeft:7,dissolve:8},OVERLAY_TRANSITION_TYPES:{1:"fade-in-scale",2:"slide-in-right",3:"slide-in-bottom",4:"fade-in",5:"fall",6:"side-fall",7:"sticky-up",8:"flip-horizontal",9:"flip-vertical",10:"sign",11:"super-scaled",12:"instant",13:"rotate-in-bottom",14:"rotate-in-left",15:"rotate-in-top",16:"rotate-in-right",17:"slide-in-top",18:"slide-in-left"},OVERLAY_POSITION_TYPES:{1:"custom",2:"centered",3:"top center",4:"top right",5:"top left",6:"bottom center",7:"bottom right",8:"bottom left"}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/constants/hotspot.js","/../common/react-components/screen-viewer/constants")},{buffer:5,hXUCVB:4}],430:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var _=require("lodash"),ScreenViewerStore=require("../stores/screen-viewer-store.js"),MobileMixin=require("../mixins/mobile-mixin.js");module.exports={getFixedElementOffsets:function(hotspot,props){var screenViewerPosition=ScreenViewerStore.getScreenViewerPosition(),styles={},overlay=hotspot.metaData.overlay,fixedPositionCheck=overlay.isFixedPosition===!0,screen=hotspot.metaData.overlayScreen,parentScreen=hotspot.metaData.parentScreen,overlayWidthOffset=fixedPositionCheck?screenViewerPosition.document.width-screen.width:screenViewerPosition.width-screen.width,centerWidthOffset=fixedPositionCheck?screenViewerPosition.document.width/2-screen.width/2-screenViewerPosition.x:screenViewerPosition.width/2-screen.width/2,centerTopOffset=fixedPositionCheck?screenViewerPosition.document.height/2-screen.height/2:parentScreen.height/2-screen.height/2,topOffset=fixedPositionCheck?screenViewerPosition.document.height-screen.height:parentScreen.height-screen.height,rightOffset=overlayWidthOffset-screenViewerPosition.x;switch(styles.marginTop=props.overlayOffsets.y,styles.marginLeft=-props.overlayOffsets.x,overlay.positionID){case 1:styles.marginTop=-props.overlayOffsets.y;break;case 2:styles.marginLeft-=centerWidthOffset,styles.marginTop-=centerTopOffset;break;case 6:styles.marginLeft-=centerWidthOffset,styles.marginTop-=topOffset;break;case 3:styles.marginLeft-=centerWidthOffset,styles.marginTop=-props.overlayOffsets.y;break;case 4:styles.marginTop=-props.overlayOffsets.y,overlay.isFixedPosition===!0?styles.marginLeft=-rightOffset+props.overlayOffsets.x:styles.marginLeft=-overlayWidthOffset+props.overlayOffsets.x;break;case 7:styles.marginTop-=topOffset,overlay.isFixedPosition===!0?styles.marginLeft=-rightOffset+props.overlayOffsets.x:styles.marginLeft=-overlayWidthOffset+props.overlayOffsets.x;break;case 5:styles.marginTop=-props.overlayOffsets.y,overlay.isFixedPosition===!0&&(styles.marginLeft+=screenViewerPosition.x);break;case 8:styles.marginTop-=topOffset,overlay.isFixedPosition===!0&&(styles.marginLeft+=screenViewerPosition.x)}return _.forEach(styles,function(value,key,object){styles[key]=MobileMixin.applyDisplayScale(value,props.displayScale)}),styles}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/helpers/hotspot-helper.js","/../common/react-components/screen-viewer/helpers")},{"../mixins/mobile-mixin.js":431,"../stores/screen-viewer-store.js":432,buffer:5,hXUCVB:4,lodash:352}],431:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";module.exports={formatWithDisplayScale:function(number){if(!this.props.displayScale)throw new Error("formatWithDisplayScale: No props.displayScale");return this.applyDisplayScale(number,this.props.displayScale)},applyDisplayScale:function(a,b){return Math.round(parseInt(a,10)*b)}}}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/mixins/mobile-mixin.js","/../common/react-components/screen-viewer/mixins")},{buffer:5,hXUCVB:4}],432:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var _=require("lodash"),Reflux=require("reflux"),HotspotConstants=require("../constants/hotspot.js"),MobileMixin=require("../mixins/mobile-mixin.js"),ScreenViewerActions=require("../actions/screen-viewer-actions.js"),ScreenViewerStore=Reflux.createStore({listenables:[ScreenViewerActions],currentScroll:{x:0,y:0},transitionScroll:{x:0,y:0},config:null,currentScreenID:null,disableHotspotFlash:!1,history:[],shouldMaintainScroll:!0,shouldTriggerInitialAlignment:!1,isOverlayOpen:!1,maintainScrollPosition:!1,mobileScreenViewport:void 0,hasShownLoadingScreen:!1,project:null,screen:null,screenCount:0,scrollEnd:{x:0,y:0},screens:null,tourPoints:{},isNavigationDisabled:!1,getInitialState:function(){return{config:this.config,currentScreenID:this.currentScreenID,disableHotspotFlash:this.disableHotspotFlash,isOverlayOpen:this.isOverlayOpen,project:this.project,screen:this.screen,screenCount:0,tourPoints:this.tourPoints,isNavigationDisabled:!1}},getDefaultData:function(data){this.config=data.config,this.currentScreenID=data.screen.id,this.project=data.project,this.screen=data.screen,this.screenCount=data.screenCount,this.screens=data.screens,this.tourPoints=data.tourPoints,this.isNavigationDisabled=data.isNavigationDisabled,this.allHotspots=data.allHotspots||this.allHotspots,this.setCurrentScreen({screenID:this.currentScreenID})},pushNewData:function(data){this.allHotspots=data.allHotspots||this.allHotspots,this.currentScreenID=data.currentScreenID||this.currentScreenID,this.disableHotspotFlash=data.disableHotspotFlash||this.disableHotspotFlash,this.screenCount=data.screenCount||this.screenCount,this.screen=data.screen||this.screen,this.screens=data.screens||this.screens,this.tourPoints=data.tourPoints||this.tourPoints,this.isNavigationDisabled=data.isNavigationDisabled||this.isNavigationDisabled,this.trigger(data)},_getTargetScreen:function(hotspot){var targetScreenID=hotspot.targetScreenID;switch(hotspot.targetTypeID){case HotspotConstants.TARGET_TYPES.lastScreenVisited:targetScreenID=this.getLastScreenVisited();break;case HotspotConstants.TARGET_TYPES.previousScreenInSort:targetScreenID=this.getPreviousScreenInSort();break;case HotspotConstants.TARGET_TYPES.nextScreenInSort:targetScreenID=this.getNextScreenInSort()}return targetScreenID},addToHistory:function(newScreenID,oldScreenID){newScreenID!==_.last(this.history)&&newScreenID!==oldScreenID&&this.history.push(newScreenID)},getNextScreenInSort:function(){var nextIndex=parseInt(_.findKey(this.screens,{id:this.currentScreenID}),10)+1;return nextIndex=nextIndex>=_.size(this.screens)?0:nextIndex,this.screens[nextIndex].id},getPreviousScreenInSort:function(){var previousIndex=parseInt(_.findKey(this.screens,{id:this.currentScreenID}),10)-1;return previousIndex=0>previousIndex?_.size(this.screens)-1:previousIndex,this.screens[previousIndex].id},getLastScreenVisited:function(){var lastScreenID=_.last(this.history);return this.history.length-1>=1&&(this.history=_.dropRight(this.history)),lastScreenID},setAlignment:function(alignment){this.trigger({alignment:alignment})},setCurrentScreen:function(data){_.defaults(data,{hotspot:!1,skipHistory:!1});var hotspot=data.hotspot,screenID=data.screenID;if(data.skipHistory||this.addToHistory(this.currentScreenID,screenID),screenID!==this.currentScreenID){this.closeOverlay();var oldScreenID=this.currentScreenID,newCurrentScreen=_.findWhere(this.screens,{id:screenID});this.currentScreenID=screenID,this.screen=newCurrentScreen,this.project.isMobile&&hotspot&&1!==hotspot.transitionTypeID?ScreenViewerActions.angularDoTransition(hotspot,{hotspot:hotspot,transitionTypeID:hotspot.transitionTypeID,currentScreen:_.findWhere(this.screens,{id:oldScreenID}),targetScreen:newCurrentScreen,currentScreenPosition:hotspot.currentScreenPosition,scrollPosition:this.currentScroll.y}):ScreenViewerActions.angularLocationChange(screenID),
this.maintainScrollPosition=hotspot.isScrollTo,oldScreenID=null}},getScrollEnd:function(){return this.scrollEnd},setScrollEnd:function(scrollEnd){this.scrollEnd=scrollEnd},scrollToPosition:function(metaData){var duration=metaData.isSmoothScroll?450:0,scrollScale="scrollScale"in this.screen?this.screen.scrollScale:this.screen.displayScale,scrollOffset=MobileMixin.applyDisplayScale(metaData.scrollOffset-this.screen.fixedHeaderHeight,scrollScale);this.project.isMobile?this.mobileScreenViewport.doScrollTop(scrollOffset,duration):$("html, body").animate({scrollTop:scrollOffset},duration)},triggerInitialSyncScreen:function(value){this.trigger({shouldTriggerInitialAlignment:value})},_shouldRouteUrlThroughRedirect:function(){return"file:"===window.location.protocol?!1:-1===window.location.host.search(/\.(invisionapp|invisionbeta)\.com$/i)?!1:!0},openExternalUrl:function(metaData){var url=this._shouldRouteUrlThroughRedirect()?"/redirect?url="+encodeURIComponent(metaData.url):metaData.url,useNewWindow=metaData.isOpenInNewWindow,target=this.config.isShare&&!useNewWindow?"_self":"_blank",ua=window.navigator.userAgent,isIE=/(msie|trident)/i.test(ua);if(isIE){var link=document.createElement("a");_.assign(link,{target:target,href:url}),useNewWindow&&window.setTimeout(function(){document.body.removeChild(link)}),document.body.appendChild(link),link.click()}else window.open(url,target)},openSimpleOverlay:function(data){_.defaults(data,{isFromLegacyClick:!1,isInFixedElement:!1});var hotspot=_.cloneDeep(data.hotspot);hotspot.isParent=!0;var targetScreenID=this._getTargetScreen(hotspot),hotspots=_.where(this.allHotspots,{screenID:targetScreenID});hotspots.push(hotspot),this.isOverlayOpen=!0,this.trigger({isOverlayOpen:!0,currentOverlay:{type:"simple",screen:data.screen,hotspots:hotspots,isInFixedElement:data.isInFixedElement,metaData:{overlay:{}}}})},onUpdateSimpleOverlay:function(data){var hotspot=data.hotspot,screen=_.find(this.screens,{id:hotspot.targetScreenID}),hotspots=_.where(this.allHotspots,{screenID:hotspot.targetScreenID});this.openSimpleOverlay({hotspot:hotspot,hotspots:hotspots,screen:screen,isFromLegacyClick:!0})},openComplexOverlay:function(data){_.defaults(data,{isInFixedElement:!1});var hotspot=data.hotspot,targetScreenID=this._getTargetScreen(hotspot),parentScreen=_.find(this.screens,{id:hotspot.screenID}),screen=_.find(this.screens,{id:targetScreenID}),hotspots=_.where(this.allHotspots,{screenID:targetScreenID});if(!screen)return void console.error("No screen set for overlay");hotspot.metaData.stayOnScreen!==!1&&!_.isUndefined(hotspot.metaData.stayOnScreen)||hotspot.eventTypeID!==HotspotConstants.EVENT_TYPES.hover||this.isOverlayOpen!==!1||(hotspot.forceCloseOnMouseLeave=!0,hotspots=[],hotspots.push(hotspot));var metaData=hotspot.metaData;metaData.overlayScreen={id:screen.id,width:screen.width,height:screen.height},metaData.parentScreen={id:parentScreen?parentScreen.id:0,width:parentScreen?parentScreen.width:0,height:parentScreen?parentScreen.height:0};var forceClose=hotspot.forceCloseOnMouseLeave,isInFixed=data.isInFixedElement,instantCheck=this.isOverlayOpen&&12!==metaData.overlay.transitionID,isHoverOverlay=hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover,timer=instantCheck?500:0;instantCheck&&this.closeOverlay(),this.isOverlayOpen=!0,setTimeout(function(){ScreenViewerActions.triggerComplexOverlay({screen:screen,hotspots:hotspots,metaData:metaData,forceClose:forceClose,isInFixed:isInFixed,isHoverOverlay:isHoverOverlay})},timer)},closeOverlay:function(){this.isOverlayOpen===!0&&(this.isOverlayOpen=!1,this.trigger({isOverlayOpen:!1,currentOverlay:{}}))},clearHistory:function(){this.history=[]},getDefaultMobileScrollPosition:function(){return this.maintainScrollPosition===!0?this.currentScroll.y:0},onActivateHotspot:function(hotspot){ScreenViewerActions.handleHotspotClick({hotspot:hotspot})},onHandleHotspotClick:function(data){_.defaults(data,{fromHover:!1,isInFixedElement:!1});var hotspot=data.hotspot;switch(data.fromHover&&(hotspot.isScrollTo=!0),hotspot.isOverlayOpen=this.isOverlayOpen,hotspot.targetTypeID){case HotspotConstants.TARGET_TYPES.screen:this.isOverlayOpen&&this.currentScreenID===hotspot.targetScreenID?this.closeOverlay():this.setCurrentScreen({screenID:hotspot.targetScreenID,hotspot:hotspot});break;case HotspotConstants.TARGET_TYPES.lastScreenVisited:if(this.isOverlayOpen)this.closeOverlay();else{var targetScreenID=this.getLastScreenVisited();targetScreenID&&this.setCurrentScreen({screenID:targetScreenID,hotspot:hotspot,skipHistory:!0})}break;case HotspotConstants.TARGET_TYPES.previousScreenInSort:var targetScreenID=this.getPreviousScreenInSort();this.setCurrentScreen({screenID:targetScreenID,hotspot:hotspot});break;case HotspotConstants.TARGET_TYPES.nextScreenInSort:var targetScreenID=this.getNextScreenInSort();this.setCurrentScreen({screenID:targetScreenID,hotspot:hotspot});break;case HotspotConstants.TARGET_TYPES.externalUrl:this.openExternalUrl(hotspot.metaData);break;case HotspotConstants.TARGET_TYPES.positionOnScreen:this.scrollToPosition(hotspot.metaData);break;case HotspotConstants.TARGET_TYPES.overlay:this.maintainScrollPosition=!0,this.openComplexOverlay({hotspot:hotspot,isInFixedElement:data.isInFixedElement})}this.transitionScroll=_.assign(hotspot.isScrollTo?this.currentScroll:{x:0,y:0}),this.currentScroll=_.clone(this.transitionScroll)},onHandleHotspotMouseEnter:function(data){_.defaults(data,{isInFixedElement:!1});var hotspot=data.hotspot;if(this.maintainScrollPosition=!0,hotspot.targetTypeID===HotspotConstants.TARGET_TYPES.overlay&&hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover)this.openComplexOverlay({hotspot:hotspot,isInFixedElement:data.isInFixedElement});else{var targetScreenID=hotspot.targetScreenID;switch(hotspot.targetTypeID){case HotspotConstants.TARGET_TYPES.lastScreenVisited:targetScreenID=this.getLastScreenVisited();break;case HotspotConstants.TARGET_TYPES.previousScreenInSort:targetScreenID=this.getPreviousScreenInSort();break;case HotspotConstants.TARGET_TYPES.nextScreenInSort:targetScreenID=this.getNextScreenInSort();break;case HotspotConstants.TARGET_TYPES.externalUrl:this.openExternalUrl(hotspot.metaData);break;case HotspotConstants.TARGET_TYPES.positionOnScreen:this.scrollToPosition(hotspot.metaData)}var targetScreen=_.find(this.screens,{id:targetScreenID});this.openSimpleOverlay({hotspot:hotspot,screen:targetScreen,isInFixedElement:data.isInFixedElement})}},onHandleHotspotMouseLeave:function(data){var hotspot=data.hotspot;hotspot.targetTypeID===HotspotConstants.TARGET_TYPES.overlay&&hotspot.eventTypeID===HotspotConstants.EVENT_TYPES.hover&&hotspot.forceCloseOnMouseLeave!==!0||this.closeOverlay()},onHandleCloseOverlay:function(){this.closeOverlay()},onMaintainScrollPosition:function(){this.shouldMaintainScroll!==!1&&this.maintainScrollPosition===!1&&($("body,html").scrollTop(0),this.currentScroll.x=0,this.currentScroll.y=0)},onSetMobileScreenViewport:function(element){this.mobileScreenViewport=element},onSetCurrentScroll:function(x,y){this.currentScroll.x=x,this.currentScroll.y=y},onTriggerComplexOverlay:function(data){this.trigger({isOverlayOpen:!0,currentOverlay:{type:"complex",screen:data.screen,hotspots:data.hotspots,metaData:data.metaData,forceCloseOnMouseLeave:data.forceClose||!1,isInFixedElement:data.isInFixed,isHoverOverlay:data.isHoverOverlay}})},onSetScreenViewerPosition:function(position){this.screenViewerPosition={x:position.x,y:position.y,width:position.width,document:{width:document.documentElement.clientWidth,height:window.innerHeight}}},getScreenViewerPosition:function(){return this.screenViewerPosition}});module.exports=ScreenViewerStore}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/stores/screen-viewer-store.js","/../common/react-components/screen-viewer/stores")},{"../actions/screen-viewer-actions.js":411,"../constants/hotspot.js":429,"../mixins/mobile-mixin.js":431,buffer:5,hXUCVB:4,lodash:352,reflux:386}],433:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";var Reflux=(require("lodash"),require("reflux")),TourPointsActions=require("../actions/tour-points-actions.js"),ScreenViewerStore=Reflux.createStore({listenables:[TourPointsActions],areTourPointsEnabled:!0,emptyTourPoint:{id:0},getInitialState:function(){return{selectedTourPoint:this.emptyTourPoint,areTourPointsEnabled:this.areTourPointsEnabled}},onSetSelectedTourPoint:function(selectedTourPoint){selectedTourPoint=selectedTourPoint||this.emptyTourPoint,this.trigger({selectedTourPoint:selectedTourPoint})},onDisableTourPoints:function(){this.areTourPointsEnabled=!1,this.trigger({areTourPointsEnabled:!1})}});module.exports=ScreenViewerStore}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/react-components/screen-viewer/stores/tour-points-store.js","/../common/react-components/screen-viewer/stores")},{"../actions/tour-points-actions.js":412,buffer:5,hXUCVB:4,lodash:352,reflux:386}],434:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";function nextImage(url){var current=AutoImagePreloader.peek(url);previousImages[url]=current;var img=document.createElement("img");return img.src=[url,+new Date].join("&"),img}var previousImages={},preloadedImages={},AutoImagePreloader=module.exports={images:preloadedImages,clear:function(){previousImages={},preloadedImages={},this.images=preloadedImages},peek:function(url){var image=preloadedImages[url];return image?image.src:null},previous:function(url){return previousImages[url]||null},next:function(url){var existing=preloadedImages[url];return preloadedImages[url]=nextImage(url),existing?existing.src:url}};angular.module("InVision").factory("autoImagePreloader",function(){return AutoImagePreloader})}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/../common/utilities/auto-image-preloader.js","/../common/utilities")},{buffer:5,hXUCVB:4}],435:[function(require,module,exports){(function(process,global,Buffer,__argument0,__argument1,__argument2,__argument3,__filename,__dirname){"use strict";require("babel-polyfill");var ScreenViewerApp={component:require("../common/react-components/screen-viewer/components/ScreenViewer.jsx"),actions:require("../common/react-components/screen-viewer/actions/screen-viewer-actions.js"),store:require("../common/react-components/screen-viewer/stores/screen-viewer-store.js"),tourPointsStore:require("../common/react-components/screen-viewer/stores/tour-points-store.js")};global.InvScreenViewer=module.exports=ScreenViewerApp,global.React=require("react"),global.ReactDOM=require("react-dom"),global.QRCode=require("qrcode.react")}).call(this,require("hXUCVB"),"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],"/fake_61bf047e.js","/")},{"../common/react-components/screen-viewer/actions/screen-viewer-actions.js":411,"../common/react-components/screen-viewer/components/ScreenViewer.jsx":424,"../common/react-components/screen-viewer/stores/screen-viewer-store.js":432,"../common/react-components/screen-viewer/stores/tour-points-store.js":433,"babel-polyfill":2,buffer:5,hXUCVB:4,"qrcode.react":369,react:385,"react-dom":373}]},{},[435]);